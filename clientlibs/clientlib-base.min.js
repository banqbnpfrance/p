/*! jQuery UI - v1.12.2-pre - 2020-05-28
 * http://jqueryui.com
 * Includes: core.js, widget.js, mouse.js, draggable.js, droppable.js, resizable.js, selectable.js, sortable.js, effect.js, data.js, disable-selection.js, effect-blind.js, effect-bounce.js, effect-clip.js, effect-drop.js, effect-explode.js, effect-fade.js, effect-fold.js, effect-highlight.js, effect-puff.js, effect-pulsate.js, effect-scale.js, effect-shake.js, effect-size.js, effect-slide.js, effect-transfer.js, escape-selector.js, focusable.js, form-reset-mixin.js, form.js, datepicker-af.js, datepicker-ar-DZ.js, datepicker-ar.js, datepicker-az.js, datepicker-be.js, datepicker-bg.js, datepicker-bs.js, datepicker-ca.js, datepicker-cs.js, datepicker-cy-GB.js, datepicker-da.js, datepicker-de-AT.js, datepicker-de.js, datepicker-el.js, datepicker-en-AU.js, datepicker-en-GB.js, datepicker-en-NZ.js, datepicker-eo.js, datepicker-es.js, datepicker-et.js, datepicker-eu.js, datepicker-fa.js, datepicker-fi.js, datepicker-fo.js, datepicker-fr-CA.js, datepicker-fr-CH.js, datepicker-fr.js, datepicker-gl.js, datepicker-he.js, datepicker-hi.js, datepicker-hr.js, datepicker-hu.js, datepicker-hy.js, datepicker-id.js, datepicker-is.js, datepicker-it-CH.js, datepicker-it.js, datepicker-ja.js, datepicker-ka.js, datepicker-kk.js, datepicker-km.js, datepicker-ko.js, datepicker-ky.js, datepicker-lb.js, datepicker-lt.js, datepicker-lv.js, datepicker-mk.js, datepicker-ml.js, datepicker-ms.js, datepicker-nb.js, datepicker-nl-BE.js, datepicker-nl.js, datepicker-nn.js, datepicker-no.js, datepicker-pl.js, datepicker-pt-BR.js, datepicker-pt.js, datepicker-rm.js, datepicker-ro.js, datepicker-ru.js, datepicker-sk.js, datepicker-sl.js, datepicker-sq.js, datepicker-sr-SR.js, datepicker-sr.js, datepicker-sv.js, datepicker-ta.js, datepicker-th.js, datepicker-tj.js, datepicker-tr.js, datepicker-uk.js, datepicker-vi.js, datepicker-zh-CN.js, datepicker-zh-HK.js, datepicker-zh-TW.js, ie.js, jquery-patch.js, keycode.js, labels.js, plugin.js, position.js, safe-active-element.js, safe-blur.js, safe-offset.js, scroll-parent.js, tabbable.js, unique-id.js, jquery.color.js, version.js, accordion.js, autocomplete.js, button.js, checkboxradio.js, controlgroup.js, datepicker.js, dialog.js, menu.js, progressbar.js, selectmenu.js, slider.js, spinner.js, tabs.js, tooltip.js
 * Copyright jQuery Foundation and other contributors; Licensed  */
!(function(a) {
  a(jQuery);
})(function(a) {
  return (a.ui = a.ui || {}), (a.ui.version = "@VERSION");
}),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return a.extend(a.expr.pseudos, {
      data: a.expr.createPseudo
        ? a.expr.createPseudo(function(b) {
            return function(c) {
              return !!a.data(c, b);
            };
          })
        : function(b, c, d) {
            return !!a.data(b, d[3]);
          }
    });
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return a.fn.extend({
      disableSelection: (function() {
        var a =
          "onselectstart" in document.createElement("div")
            ? "selectstart"
            : "mousedown";
        return function() {
          return this.on(a + ".ui-disableSelection", function(a) {
            a.preventDefault();
          });
        };
      })(),
      enableSelection: function() {
        return this.off(".ui-disableSelection");
      }
    });
  }),
  (function(a, b) {
    "function" == typeof define && define.amd
      ? define("ui/vendor/jquery-color/jquery.color.js", ["jquery"], b)
      : "object" == typeof exports
      ? (module.exports = b(require("jquery")))
      : b(a.jQuery);
  })(this, function(a, b) {
    function c(a) {
      return null == a
        ? a + ""
        : "object" == typeof a
        ? i[j.call(a)] || "object"
        : typeof a;
    }
    function d(a, b, c) {
      var d = o[b.type] || {};
      return null == a
        ? c || !b.def
          ? null
          : b.def
        : ((a = d.floor ? ~~a : parseFloat(a)),
          isNaN(a)
            ? b.def
            : d.mod
            ? (a + d.mod) % d.mod
            : Math.min(d.max, Math.max(0, a)));
    }
    function e(b) {
      var c = m(),
        d = (c._rgba = []);
      return (
        (b = b.toLowerCase()),
        r(l, function(a, e) {
          var f,
            g = e.re.exec(b),
            h = g && e.parse(g),
            i = e.space || "rgba";
          if (h)
            return (
              (f = c[i](h)),
              (c[n[i].cache] = f[n[i].cache]),
              (d = c._rgba = f._rgba),
              !1
            );
        }),
        d.length
          ? ("0,0,0,0" === d.join() && a.extend(d, g.transparent), c)
          : g[b]
      );
    }
    function f(a, b, c) {
      return (
        (c = (c + 1) % 1),
        6 * c < 1
          ? a + (b - a) * c * 6
          : 2 * c < 1
          ? b
          : 3 * c < 2
          ? a + (b - a) * (2 / 3 - c) * 6
          : a
      );
    }
    var g,
      h =
        "backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",
      i = {},
      j = i.toString,
      k = /^([\-+])=\s*(\d+\.?\d*)/,
      l = [
        {
          re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
          parse: function(a) {
            return [a[1], a[2], a[3], a[4]];
          }
        },
        {
          re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
          parse: function(a) {
            return [2.55 * a[1], 2.55 * a[2], 2.55 * a[3], a[4]];
          }
        },
        {
          re: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?/,
          parse: function(a) {
            return [
              parseInt(a[1], 16),
              parseInt(a[2], 16),
              parseInt(a[3], 16),
              a[4] ? (parseInt(a[4], 16) / 255).toFixed(2) : 1
            ];
          }
        },
        {
          re: /#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?/,
          parse: function(a) {
            return [
              parseInt(a[1] + a[1], 16),
              parseInt(a[2] + a[2], 16),
              parseInt(a[3] + a[3], 16),
              a[4] ? (parseInt(a[4] + a[4], 16) / 255).toFixed(2) : 1
            ];
          }
        },
        {
          re: /hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
          space: "hsla",
          parse: function(a) {
            return [a[1], a[2] / 100, a[3] / 100, a[4]];
          }
        }
      ],
      m = (a.Color = function(b, c, d, e) {
        return new a.Color.fn.parse(b, c, d, e);
      }),
      n = {
        rgba: {
          props: {
            red: { idx: 0, type: "byte" },
            green: { idx: 1, type: "byte" },
            blue: { idx: 2, type: "byte" }
          }
        },
        hsla: {
          props: {
            hue: { idx: 0, type: "degrees" },
            saturation: { idx: 1, type: "percent" },
            lightness: { idx: 2, type: "percent" }
          }
        }
      },
      o = {
        byte: { floor: !0, max: 255 },
        percent: { max: 1 },
        degrees: { mod: 360, floor: !0 }
      },
      p = (m.support = {}),
      q = a("<p>")[0],
      r = a.each;
    (q.style.cssText = "background-color:rgba(1,1,1,.5)"),
      (p.rgba = q.style.backgroundColor.indexOf("rgba") > -1),
      r(n, function(a, b) {
        (b.cache = "_" + a),
          (b.props.alpha = { idx: 3, type: "percent", def: 1 });
      }),
      a.each(
        "Boolean Number String Function Array Date RegExp Object Error Symbol".split(
          " "
        ),
        function(a, b) {
          i["[object " + b + "]"] = b.toLowerCase();
        }
      ),
      (m.fn = a.extend(m.prototype, {
        parse: function(f, h, i, j) {
          if (f === b) return (this._rgba = [null, null, null, null]), this;
          (f.jquery || f.nodeType) && ((f = a(f).css(h)), (h = b));
          var k = this,
            l = c(f),
            o = (this._rgba = []);
          return (
            h !== b && ((f = [f, h, i, j]), (l = "array")),
            "string" === l
              ? this.parse(e(f) || g._default)
              : "array" === l
              ? (r(n.rgba.props, function(a, b) {
                  o[b.idx] = d(f[b.idx], b);
                }),
                this)
              : "object" === l
              ? (f instanceof m
                  ? r(n, function(a, b) {
                      f[b.cache] && (k[b.cache] = f[b.cache].slice());
                    })
                  : r(n, function(b, c) {
                      var e = c.cache;
                      r(c.props, function(a, b) {
                        if (!k[e] && c.to) {
                          if ("alpha" === a || null == f[a]) return;
                          k[e] = c.to(k._rgba);
                        }
                        k[e][b.idx] = d(f[a], b, !0);
                      }),
                        k[e] &&
                          a.inArray(null, k[e].slice(0, 3)) < 0 &&
                          (null == k[e][3] && (k[e][3] = 1),
                          c.from && (k._rgba = c.from(k[e])));
                    }),
                this)
              : void 0
          );
        },
        is: function(a) {
          var b = m(a),
            c = !0,
            d = this;
          return (
            r(n, function(a, e) {
              var f,
                g = b[e.cache];
              return (
                g &&
                  ((f = d[e.cache] || (e.to && e.to(d._rgba)) || []),
                  r(e.props, function(a, b) {
                    if (null != g[b.idx]) return (c = g[b.idx] === f[b.idx]);
                  })),
                c
              );
            }),
            c
          );
        },
        _space: function() {
          var a = [],
            b = this;
          return (
            r(n, function(c, d) {
              b[d.cache] && a.push(c);
            }),
            a.pop()
          );
        },
        transition: function(a, b) {
          var c = m(a),
            e = c._space(),
            f = n[e],
            g = 0 === this.alpha() ? m("transparent") : this,
            h = g[f.cache] || f.to(g._rgba),
            i = h.slice();
          return (
            (c = c[f.cache]),
            r(f.props, function(a, e) {
              var f = e.idx,
                g = h[f],
                j = c[f],
                k = o[e.type] || {};
              null !== j &&
                (null === g
                  ? (i[f] = j)
                  : (k.mod &&
                      (j - g > k.mod / 2
                        ? (g += k.mod)
                        : g - j > k.mod / 2 && (g -= k.mod)),
                    (i[f] = d((j - g) * b + g, e))));
            }),
            this[e](i)
          );
        },
        blend: function(b) {
          if (1 === this._rgba[3]) return this;
          var c = this._rgba.slice(),
            d = c.pop(),
            e = m(b)._rgba;
          return m(
            a.map(c, function(a, b) {
              return (1 - d) * e[b] + d * a;
            })
          );
        },
        toRgbaString: function() {
          var b = "rgba(",
            c = a.map(this._rgba, function(a, b) {
              return null != a ? a : b > 2 ? 1 : 0;
            });
          return 1 === c[3] && (c.pop(), (b = "rgb(")), b + c.join() + ")";
        },
        toHslaString: function() {
          var b = "hsla(",
            c = a.map(this.hsla(), function(a, b) {
              return (
                null == a && (a = b > 2 ? 1 : 0),
                b && b < 3 && (a = Math.round(100 * a) + "%"),
                a
              );
            });
          return 1 === c[3] && (c.pop(), (b = "hsl(")), b + c.join() + ")";
        },
        toHexString: function(b) {
          var c = this._rgba.slice(),
            d = c.pop();
          return (
            b && c.push(~~(255 * d)),
            "#" +
              a
                .map(c, function(a) {
                  return (
                    (a = (a || 0).toString(16)), 1 === a.length ? "0" + a : a
                  );
                })
                .join("")
          );
        },
        toString: function() {
          return 0 === this._rgba[3] ? "transparent" : this.toRgbaString();
        }
      })),
      (m.fn.parse.prototype = m.fn),
      (n.hsla.to = function(a) {
        if (null == a[0] || null == a[1] || null == a[2])
          return [null, null, null, a[3]];
        var b,
          c,
          d = a[0] / 255,
          e = a[1] / 255,
          f = a[2] / 255,
          g = a[3],
          h = Math.max(d, e, f),
          i = Math.min(d, e, f),
          j = h - i,
          k = h + i,
          l = 0.5 * k;
        return (
          (b =
            i === h
              ? 0
              : d === h
              ? (60 * (e - f)) / j + 360
              : e === h
              ? (60 * (f - d)) / j + 120
              : (60 * (d - e)) / j + 240),
          (c = 0 === j ? 0 : l <= 0.5 ? j / k : j / (2 - k)),
          [Math.round(b) % 360, c, l, null == g ? 1 : g]
        );
      }),
      (n.hsla.from = function(a) {
        if (null == a[0] || null == a[1] || null == a[2])
          return [null, null, null, a[3]];
        var b = a[0] / 360,
          c = a[1],
          d = a[2],
          e = a[3],
          g = d <= 0.5 ? d * (1 + c) : d + c - d * c,
          h = 2 * d - g;
        return [
          Math.round(255 * f(h, g, b + 1 / 3)),
          Math.round(255 * f(h, g, b)),
          Math.round(255 * f(h, g, b - 1 / 3)),
          e
        ];
      }),
      r(n, function(a, e) {
        var f = e.props,
          g = e.cache,
          h = e.to,
          i = e.from;
        (m.fn[a] = function(a) {
          if ((h && !this[g] && (this[g] = h(this._rgba)), a === b))
            return this[g].slice();
          var e,
            j = c(a),
            k = "array" === j || "object" === j ? a : arguments,
            l = this[g].slice();
          return (
            r(f, function(a, b) {
              var c = k["object" === j ? a : b.idx];
              null == c && (c = l[b.idx]), (l[b.idx] = d(c, b));
            }),
            i ? ((e = m(i(l))), (e[g] = l), e) : m(l)
          );
        }),
          r(f, function(b, d) {
            m.fn[b] ||
              (m.fn[b] = function(e) {
                var f,
                  g,
                  h,
                  i,
                  j = c(e);
                return (
                  (i = "alpha" === b ? (this._hsla ? "hsla" : "rgba") : a),
                  (f = this[i]()),
                  (g = f[d.idx]),
                  "undefined" === j
                    ? g
                    : ("function" === j && ((e = e.call(this, g)), (j = c(e))),
                      null == e && d.empty
                        ? this
                        : ("string" === j &&
                            ((h = k.exec(e)),
                            h &&
                              (e =
                                g +
                                parseFloat(h[2]) * ("+" === h[1] ? 1 : -1))),
                          (f[d.idx] = e),
                          this[i](f)))
                );
              });
          });
      }),
      (m.hook = function(b) {
        var d = b.split(" ");
        r(d, function(b, d) {
          (a.cssHooks[d] = {
            set: function(b, f) {
              var g,
                h,
                i = "";
              if ("transparent" !== f && ("string" !== c(f) || (g = e(f)))) {
                if (((f = m(g || f)), !p.rgba && 1 !== f._rgba[3])) {
                  for (
                    h = "backgroundColor" === d ? b.parentNode : b;
                    ("" === i || "transparent" === i) && h && h.style;

                  )
                    try {
                      (i = a.css(h, "backgroundColor")), (h = h.parentNode);
                    } catch (j) {}
                  f = f.blend(i && "transparent" !== i ? i : "_default");
                }
                f = f.toRgbaString();
              }
              try {
                b.style[d] = f;
              } catch (j) {}
            }
          }),
            (a.fx.step[d] = function(b) {
              b.colorInit ||
                ((b.start = m(b.elem, d)),
                (b.end = m(b.end)),
                (b.colorInit = !0)),
                a.cssHooks[d].set(b.elem, b.start.transition(b.end, b.pos));
            });
        });
      }),
      m.hook(h),
      (a.cssHooks.borderColor = {
        expand: function(a) {
          var b = {};
          return (
            r(["Top", "Right", "Bottom", "Left"], function(c, d) {
              b["border" + d + "Color"] = a;
            }),
            b
          );
        }
      }),
      (g = a.Color.names = {
        aqua: "#00ffff",
        black: "#000000",
        blue: "#0000ff",
        fuchsia: "#ff00ff",
        gray: "#808080",
        green: "#008000",
        lime: "#00ff00",
        maroon: "#800000",
        navy: "#000080",
        olive: "#808000",
        purple: "#800080",
        red: "#ff0000",
        silver: "#c0c0c0",
        teal: "#008080",
        white: "#ffffff",
        yellow: "#ffff00",
        transparent: [null, null, null, 0],
        _default: "#ffffff"
      });
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    var b = "ui-effects-",
      c = "ui-effects-style",
      d = "ui-effects-animated",
      e = a;
    return (
      (a.effects = { effect: {} }),
      (function() {
        function b(a) {
          return a.replace(/-([\da-z])/gi, function(a, b) {
            return b.toUpperCase();
          });
        }
        function c(a) {
          var c,
            d,
            e = a.ownerDocument.defaultView
              ? a.ownerDocument.defaultView.getComputedStyle(a, null)
              : a.currentStyle,
            f = {};
          if (e && e.length && e[0] && e[e[0]])
            for (d = e.length; d--; )
              (c = e[d]), "string" == typeof e[c] && (f[b(c)] = e[c]);
          else for (c in e) "string" == typeof e[c] && (f[c] = e[c]);
          return f;
        }
        function d(b, c) {
          var d,
            e,
            f = {};
          for (d in c)
            (e = c[d]),
              b[d] !== e &&
                (g[d] || (!a.fx.step[d] && isNaN(parseFloat(e))) || (f[d] = e));
          return f;
        }
        var f = ["add", "remove", "toggle"],
          g = {
            border: 1,
            borderBottom: 1,
            borderColor: 1,
            borderLeft: 1,
            borderRight: 1,
            borderTop: 1,
            borderWidth: 1,
            margin: 1,
            padding: 1
          };
        a.each(
          [
            "borderLeftStyle",
            "borderRightStyle",
            "borderBottomStyle",
            "borderTopStyle"
          ],
          function(b, c) {
            a.fx.step[c] = function(a) {
              (("none" !== a.end && !a.setAttr) ||
                (1 === a.pos && !a.setAttr)) &&
                (e.style(a.elem, c, a.end), (a.setAttr = !0));
            };
          }
        ),
          a.fn.addBack ||
            (a.fn.addBack = function(a) {
              return this.add(
                null == a ? this.prevObject : this.prevObject.filter(a)
              );
            }),
          (a.effects.animateClass = function(b, e, g, h) {
            var i = a.speed(e, g, h);
            return this.queue(function() {
              var e,
                g = a(this),
                h = g.attr("class") || "",
                j = i.children ? g.find("*").addBack() : g;
              (j = j.map(function() {
                var b = a(this);
                return { el: b, start: c(this) };
              })),
                (e = function() {
                  a.each(f, function(a, c) {
                    b[c] && g[c + "Class"](b[c]);
                  });
                }),
                e(),
                (j = j.map(function() {
                  return (
                    (this.end = c(this.el[0])),
                    (this.diff = d(this.start, this.end)),
                    this
                  );
                })),
                g.attr("class", h),
                (j = j.map(function() {
                  var b = this,
                    c = a.Deferred(),
                    d = a.extend({}, i, {
                      queue: !1,
                      complete: function() {
                        c.resolve(b);
                      }
                    });
                  return this.el.animate(this.diff, d), c.promise();
                })),
                a.when.apply(a, j.get()).done(function() {
                  e(),
                    a.each(arguments, function() {
                      var b = this.el;
                      a.each(this.diff, function(a) {
                        b.css(a, "");
                      });
                    }),
                    i.complete.call(g[0]);
                });
            });
          }),
          a.fn.extend({
            addClass: (function(b) {
              return function(c, d, e, f) {
                return d
                  ? a.effects.animateClass.call(this, { add: c }, d, e, f)
                  : b.apply(this, arguments);
              };
            })(a.fn.addClass),
            removeClass: (function(b) {
              return function(c, d, e, f) {
                return arguments.length > 1
                  ? a.effects.animateClass.call(this, { remove: c }, d, e, f)
                  : b.apply(this, arguments);
              };
            })(a.fn.removeClass),
            toggleClass: (function(b) {
              return function(c, d, e, f, g) {
                return "boolean" == typeof d || void 0 === d
                  ? e
                    ? a.effects.animateClass.call(
                        this,
                        d ? { add: c } : { remove: c },
                        e,
                        f,
                        g
                      )
                    : b.apply(this, arguments)
                  : a.effects.animateClass.call(this, { toggle: c }, d, e, f);
              };
            })(a.fn.toggleClass),
            switchClass: function(b, c, d, e, f) {
              return a.effects.animateClass.call(
                this,
                { add: c, remove: b },
                d,
                e,
                f
              );
            }
          });
      })(),
      (function() {
        function e(b, c, d, e) {
          return (
            a.isPlainObject(b) && ((c = b), (b = b.effect)),
            (b = { effect: b }),
            null == c && (c = {}),
            "function" == typeof c && ((e = c), (d = null), (c = {})),
            ("number" == typeof c || a.fx.speeds[c]) &&
              ((e = d), (d = c), (c = {})),
            "function" == typeof d && ((e = d), (d = null)),
            c && a.extend(b, c),
            (d = d || c.duration),
            (b.duration = a.fx.off
              ? 0
              : "number" == typeof d
              ? d
              : d in a.fx.speeds
              ? a.fx.speeds[d]
              : a.fx.speeds._default),
            (b.complete = e || c.complete),
            b
          );
        }
        function f(b) {
          return (
            !(b && "number" != typeof b && !a.fx.speeds[b]) ||
            ("string" == typeof b && !a.effects.effect[b]) ||
            "function" == typeof b ||
            ("object" == typeof b && !b.effect)
          );
        }
        function g(a, b) {
          var c = b.outerWidth(),
            d = b.outerHeight(),
            e = /^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,
            f = e.exec(a) || ["", 0, c, d, 0];
          return {
            top: parseFloat(f[1]) || 0,
            right: "auto" === f[2] ? c : parseFloat(f[2]),
            bottom: "auto" === f[3] ? d : parseFloat(f[3]),
            left: parseFloat(f[4]) || 0
          };
        }
        a.expr &&
          a.expr.pseudos &&
          a.expr.pseudos.animated &&
          (a.expr.pseudos.animated = (function(b) {
            return function(c) {
              return !!a(c).data(d) || b(c);
            };
          })(a.expr.pseudos.animated)),
          a.uiBackCompat !== !1 &&
            a.extend(a.effects, {
              save: function(a, c) {
                for (var d = 0, e = c.length; d < e; d++)
                  null !== c[d] && a.data(b + c[d], a[0].style[c[d]]);
              },
              restore: function(a, c) {
                for (var d, e = 0, f = c.length; e < f; e++)
                  null !== c[e] && ((d = a.data(b + c[e])), a.css(c[e], d));
              },
              setMode: function(a, b) {
                return (
                  "toggle" === b && (b = a.is(":hidden") ? "show" : "hide"), b
                );
              },
              createWrapper: function(b) {
                if (b.parent().is(".ui-effects-wrapper")) return b.parent();
                var c = {
                    width: b.outerWidth(!0),
                    height: b.outerHeight(!0),
                    float: b.css("float")
                  },
                  d = a("<div></div>")
                    .addClass("ui-effects-wrapper")
                    .css({
                      fontSize: "100%",
                      background: "transparent",
                      border: "none",
                      margin: 0,
                      padding: 0
                    }),
                  e = { width: b.width(), height: b.height() },
                  f = document.activeElement;
                try {
                  f.id;
                } catch (g) {
                  f = document.body;
                }
                return (
                  b.wrap(d),
                  (b[0] === f || a.contains(b[0], f)) && a(f).trigger("focus"),
                  (d = b.parent()),
                  "static" === b.css("position")
                    ? (d.css({ position: "relative" }),
                      b.css({ position: "relative" }))
                    : (a.extend(c, {
                        position: b.css("position"),
                        zIndex: b.css("z-index")
                      }),
                      a.each(["top", "left", "bottom", "right"], function(
                        a,
                        d
                      ) {
                        (c[d] = b.css(d)),
                          isNaN(parseInt(c[d], 10)) && (c[d] = "auto");
                      }),
                      b.css({
                        position: "relative",
                        top: 0,
                        left: 0,
                        right: "auto",
                        bottom: "auto"
                      })),
                  b.css(e),
                  d.css(c).show()
                );
              },
              removeWrapper: function(b) {
                var c = document.activeElement;
                return (
                  b.parent().is(".ui-effects-wrapper") &&
                    (b.parent().replaceWith(b),
                    (b[0] === c || a.contains(b[0], c)) &&
                      a(c).trigger("focus")),
                  b
                );
              }
            }),
          a.extend(a.effects, {
            version: "@VERSION",
            define: function(b, c, d) {
              return (
                d || ((d = c), (c = "effect")),
                (a.effects.effect[b] = d),
                (a.effects.effect[b].mode = c),
                d
              );
            },
            scaledDimensions: function(a, b, c) {
              if (0 === b)
                return { height: 0, width: 0, outerHeight: 0, outerWidth: 0 };
              var d = "horizontal" !== c ? (b || 100) / 100 : 1,
                e = "vertical" !== c ? (b || 100) / 100 : 1;
              return {
                height: a.height() * e,
                width: a.width() * d,
                outerHeight: a.outerHeight() * e,
                outerWidth: a.outerWidth() * d
              };
            },
            clipToBox: function(a) {
              return {
                width: a.clip.right - a.clip.left,
                height: a.clip.bottom - a.clip.top,
                left: a.clip.left,
                top: a.clip.top
              };
            },
            unshift: function(a, b, c) {
              var d = a.queue();
              b > 1 && d.splice.apply(d, [1, 0].concat(d.splice(b, c))),
                a.dequeue();
            },
            saveStyle: function(a) {
              a.data(c, a[0].style.cssText);
            },
            restoreStyle: function(a) {
              (a[0].style.cssText = a.data(c) || ""), a.removeData(c);
            },
            mode: function(a, b) {
              var c = a.is(":hidden");
              return (
                "toggle" === b && (b = c ? "show" : "hide"),
                (c ? "hide" === b : "show" === b) && (b = "none"),
                b
              );
            },
            getBaseline: function(a, b) {
              var c, d;
              switch (a[0]) {
                case "top":
                  c = 0;
                  break;
                case "middle":
                  c = 0.5;
                  break;
                case "bottom":
                  c = 1;
                  break;
                default:
                  c = a[0] / b.height;
              }
              switch (a[1]) {
                case "left":
                  d = 0;
                  break;
                case "center":
                  d = 0.5;
                  break;
                case "right":
                  d = 1;
                  break;
                default:
                  d = a[1] / b.width;
              }
              return { x: d, y: c };
            },
            createPlaceholder: function(c) {
              var d,
                e = c.css("position"),
                f = c.position();
              return (
                c
                  .css({
                    marginTop: c.css("marginTop"),
                    marginBottom: c.css("marginBottom"),
                    marginLeft: c.css("marginLeft"),
                    marginRight: c.css("marginRight")
                  })
                  .outerWidth(c.outerWidth())
                  .outerHeight(c.outerHeight()),
                /^(static|relative)/.test(e) &&
                  ((e = "absolute"),
                  (d = a("<" + c[0].nodeName + ">")
                    .insertAfter(c)
                    .css({
                      display: /^(inline|ruby)/.test(c.css("display"))
                        ? "inline-block"
                        : "block",
                      visibility: "hidden",
                      marginTop: c.css("marginTop"),
                      marginBottom: c.css("marginBottom"),
                      marginLeft: c.css("marginLeft"),
                      marginRight: c.css("marginRight"),
                      float: c.css("float")
                    })
                    .outerWidth(c.outerWidth())
                    .outerHeight(c.outerHeight())
                    .addClass("ui-effects-placeholder")),
                  c.data(b + "placeholder", d)),
                c.css({ position: e, left: f.left, top: f.top }),
                d
              );
            },
            removePlaceholder: function(a) {
              var c = b + "placeholder",
                d = a.data(c);
              d && (d.remove(), a.removeData(c));
            },
            cleanUp: function(b) {
              a.effects.restoreStyle(b), a.effects.removePlaceholder(b);
            },
            setTransition: function(b, c, d, e) {
              return (
                (e = e || {}),
                a.each(c, function(a, c) {
                  var f = b.cssUnit(c);
                  f[0] > 0 && (e[c] = f[0] * d + f[1]);
                }),
                e
              );
            }
          }),
          a.fn.extend({
            effect: function() {
              function b(b) {
                function e() {
                  i.removeData(d),
                    a.effects.cleanUp(i),
                    "hide" === c.mode && i.hide(),
                    h();
                }
                function h() {
                  "function" == typeof j && j.call(i[0]),
                    "function" == typeof b && b();
                }
                var i = a(this);
                (c.mode = l.shift()),
                  a.uiBackCompat === !1 || g
                    ? "none" === c.mode
                      ? (i[k](), h())
                      : f.call(i[0], c, e)
                    : (i.is(":hidden")
                      ? "hide" === k
                      : "show" === k)
                    ? (i[k](), h())
                    : f.call(i[0], c, h);
              }
              var c = e.apply(this, arguments),
                f = a.effects.effect[c.effect],
                g = f.mode,
                h = c.queue,
                i = h || "fx",
                j = c.complete,
                k = c.mode,
                l = [],
                m = function(b) {
                  var c = a(this),
                    e = a.effects.mode(c, k) || g;
                  c.data(d, !0),
                    l.push(e),
                    g &&
                      ("show" === e || (e === g && "hide" === e)) &&
                      c.show(),
                    (g && "none" === e) || a.effects.saveStyle(c),
                    "function" == typeof b && b();
                };
              return a.fx.off || !f
                ? k
                  ? this[k](c.duration, j)
                  : this.each(function() {
                      j && j.call(this);
                    })
                : h === !1
                ? this.each(m).each(b)
                : this.queue(i, m).queue(i, b);
            },
            show: (function(a) {
              return function(b) {
                if (f(b)) return a.apply(this, arguments);
                var c = e.apply(this, arguments);
                return (c.mode = "show"), this.effect.call(this, c);
              };
            })(a.fn.show),
            hide: (function(a) {
              return function(b) {
                if (f(b)) return a.apply(this, arguments);
                var c = e.apply(this, arguments);
                return (c.mode = "hide"), this.effect.call(this, c);
              };
            })(a.fn.hide),
            toggle: (function(a) {
              return function(b) {
                if (f(b) || "boolean" == typeof b)
                  return a.apply(this, arguments);
                var c = e.apply(this, arguments);
                return (c.mode = "toggle"), this.effect.call(this, c);
              };
            })(a.fn.toggle),
            cssUnit: function(b) {
              var c = this.css(b),
                d = [];
              return (
                a.each(["em", "px", "%", "pt"], function(a, b) {
                  c.indexOf(b) > 0 && (d = [parseFloat(c), b]);
                }),
                d
              );
            },
            cssClip: function(a) {
              return a
                ? this.css(
                    "clip",
                    "rect(" +
                      a.top +
                      "px " +
                      a.right +
                      "px " +
                      a.bottom +
                      "px " +
                      a.left +
                      "px)"
                  )
                : g(this.css("clip"), this);
            },
            transfer: function(b, c) {
              var d = a(this),
                e = a(b.to),
                f = "fixed" === e.css("position"),
                g = a("body"),
                h = f ? g.scrollTop() : 0,
                i = f ? g.scrollLeft() : 0,
                j = e.offset(),
                k = {
                  top: j.top - h,
                  left: j.left - i,
                  height: e.innerHeight(),
                  width: e.innerWidth()
                },
                l = d.offset(),
                m = a("<div class='ui-effects-transfer'></div>");
              m.appendTo("body")
                .addClass(b.className)
                .css({
                  top: l.top - h,
                  left: l.left - i,
                  height: d.innerHeight(),
                  width: d.innerWidth(),
                  position: f ? "fixed" : "absolute"
                })
                .animate(k, b.duration, b.easing, function() {
                  m.remove(), "function" == typeof c && c();
                });
            }
          }),
          (a.fx.step.clip = function(b) {
            b.clipInit ||
              ((b.start = a(b.elem).cssClip()),
              "string" == typeof b.end && (b.end = g(b.end, b.elem)),
              (b.clipInit = !0)),
              a(b.elem).cssClip({
                top: b.pos * (b.end.top - b.start.top) + b.start.top,
                right: b.pos * (b.end.right - b.start.right) + b.start.right,
                bottom:
                  b.pos * (b.end.bottom - b.start.bottom) + b.start.bottom,
                left: b.pos * (b.end.left - b.start.left) + b.start.left
              });
          });
      })(),
      (function() {
        var b = {};
        a.each(["Quad", "Cubic", "Quart", "Quint", "Expo"], function(a, c) {
          b[c] = function(b) {
            return Math.pow(b, a + 2);
          };
        }),
          a.extend(b, {
            Sine: function(a) {
              return 1 - Math.cos((a * Math.PI) / 2);
            },
            Circ: function(a) {
              return 1 - Math.sqrt(1 - a * a);
            },
            Elastic: function(a) {
              return 0 === a || 1 === a
                ? a
                : -Math.pow(2, 8 * (a - 1)) *
                    Math.sin(((80 * (a - 1) - 7.5) * Math.PI) / 15);
            },
            Back: function(a) {
              return a * a * (3 * a - 2);
            },
            Bounce: function(a) {
              for (var b, c = 4; a < ((b = Math.pow(2, --c)) - 1) / 11; );
              return (
                1 / Math.pow(4, 3 - c) -
                7.5625 * Math.pow((3 * b - 2) / 22 - a, 2)
              );
            }
          }),
          a.each(b, function(b, c) {
            (a.easing["easeIn" + b] = c),
              (a.easing["easeOut" + b] = function(a) {
                return 1 - c(1 - a);
              }),
              (a.easing["easeInOut" + b] = function(a) {
                return a < 0.5 ? c(2 * a) / 2 : 1 - c(a * -2 + 2) / 2;
              });
          });
      })(),
      a.effects
    );
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return a.effects.define("blind", "hide", function(b, c) {
      var d = {
          up: ["bottom", "top"],
          vertical: ["bottom", "top"],
          down: ["top", "bottom"],
          left: ["right", "left"],
          horizontal: ["right", "left"],
          right: ["left", "right"]
        },
        e = a(this),
        f = b.direction || "up",
        g = e.cssClip(),
        h = { clip: a.extend({}, g) },
        i = a.effects.createPlaceholder(e);
      (h.clip[d[f][0]] = h.clip[d[f][1]]),
        "show" === b.mode &&
          (e.cssClip(h.clip), i && i.css(a.effects.clipToBox(h)), (h.clip = g)),
        i && i.animate(a.effects.clipToBox(h), b.duration, b.easing),
        e.animate(h, {
          queue: !1,
          duration: b.duration,
          easing: b.easing,
          complete: c
        });
    });
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return a.effects.define("bounce", function(b, c) {
      var d,
        e,
        f,
        g = a(this),
        h = b.mode,
        i = "hide" === h,
        j = "show" === h,
        k = b.direction || "up",
        l = b.distance,
        m = b.times || 5,
        n = 2 * m + (j || i ? 1 : 0),
        o = b.duration / n,
        p = b.easing,
        q = "up" === k || "down" === k ? "top" : "left",
        r = "up" === k || "left" === k,
        s = 0,
        t = g.queue().length;
      for (
        a.effects.createPlaceholder(g),
          f = g.css(q),
          l || (l = g["top" === q ? "outerHeight" : "outerWidth"]() / 3),
          j &&
            ((e = { opacity: 1 }),
            (e[q] = f),
            g
              .css("opacity", 0)
              .css(q, r ? 2 * -l : 2 * l)
              .animate(e, o, p)),
          i && (l /= Math.pow(2, m - 1)),
          e = {},
          e[q] = f;
        s < m;
        s++
      )
        (d = {}),
          (d[q] = (r ? "-=" : "+=") + l),
          g.animate(d, o, p).animate(e, o, p),
          (l = i ? 2 * l : l / 2);
      i &&
        ((d = { opacity: 0 }),
        (d[q] = (r ? "-=" : "+=") + l),
        g.animate(d, o, p)),
        g.queue(c),
        a.effects.unshift(g, t, n + 1);
    });
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return a.effects.define("clip", "hide", function(b, c) {
      var d,
        e = {},
        f = a(this),
        g = b.direction || "vertical",
        h = "both" === g,
        i = h || "horizontal" === g,
        j = h || "vertical" === g;
      (d = f.cssClip()),
        (e.clip = {
          top: j ? (d.bottom - d.top) / 2 : d.top,
          right: i ? (d.right - d.left) / 2 : d.right,
          bottom: j ? (d.bottom - d.top) / 2 : d.bottom,
          left: i ? (d.right - d.left) / 2 : d.left
        }),
        a.effects.createPlaceholder(f),
        "show" === b.mode && (f.cssClip(e.clip), (e.clip = d)),
        f.animate(e, {
          queue: !1,
          duration: b.duration,
          easing: b.easing,
          complete: c
        });
    });
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return a.effects.define("drop", "hide", function(b, c) {
      var d,
        e = a(this),
        f = b.mode,
        g = "show" === f,
        h = b.direction || "left",
        i = "up" === h || "down" === h ? "top" : "left",
        j = "up" === h || "left" === h ? "-=" : "+=",
        k = "+=" === j ? "-=" : "+=",
        l = { opacity: 0 };
      a.effects.createPlaceholder(e),
        (d =
          b.distance || e["top" === i ? "outerHeight" : "outerWidth"](!0) / 2),
        (l[i] = j + d),
        g && (e.css(l), (l[i] = k + d), (l.opacity = 1)),
        e.animate(l, {
          queue: !1,
          duration: b.duration,
          easing: b.easing,
          complete: c
        });
    });
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return a.effects.define("explode", "hide", function(b, c) {
      function d() {
        t.push(this), t.length === l * m && e();
      }
      function e() {
        n.css({ visibility: "visible" }), a(t).remove(), c();
      }
      var f,
        g,
        h,
        i,
        j,
        k,
        l = b.pieces ? Math.round(Math.sqrt(b.pieces)) : 3,
        m = l,
        n = a(this),
        o = b.mode,
        p = "show" === o,
        q = n
          .show()
          .css("visibility", "hidden")
          .offset(),
        r = Math.ceil(n.outerWidth() / m),
        s = Math.ceil(n.outerHeight() / l),
        t = [];
      for (f = 0; f < l; f++)
        for (i = q.top + f * s, k = f - (l - 1) / 2, g = 0; g < m; g++)
          (h = q.left + g * r),
            (j = g - (m - 1) / 2),
            n
              .clone()
              .appendTo("body")
              .wrap("<div></div>")
              .css({
                position: "absolute",
                visibility: "visible",
                left: -g * r,
                top: -f * s
              })
              .parent()
              .addClass("ui-effects-explode")
              .css({
                position: "absolute",
                overflow: "hidden",
                width: r,
                height: s,
                left: h + (p ? j * r : 0),
                top: i + (p ? k * s : 0),
                opacity: p ? 0 : 1
              })
              .animate(
                {
                  left: h + (p ? 0 : j * r),
                  top: i + (p ? 0 : k * s),
                  opacity: p ? 1 : 0
                },
                b.duration || 500,
                b.easing,
                d
              );
    });
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return a.effects.define("fade", "toggle", function(b, c) {
      var d = "show" === b.mode;
      a(this)
        .css("opacity", d ? 0 : 1)
        .animate(
          { opacity: d ? 1 : 0 },
          { queue: !1, duration: b.duration, easing: b.easing, complete: c }
        );
    });
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return a.effects.define("fold", "hide", function(b, c) {
      var d = a(this),
        e = b.mode,
        f = "show" === e,
        g = "hide" === e,
        h = b.size || 15,
        i = /([0-9]+)%/.exec(h),
        j = !!b.horizFirst,
        k = j ? ["right", "bottom"] : ["bottom", "right"],
        l = b.duration / 2,
        m = a.effects.createPlaceholder(d),
        n = d.cssClip(),
        o = { clip: a.extend({}, n) },
        p = { clip: a.extend({}, n) },
        q = [n[k[0]], n[k[1]]],
        r = d.queue().length;
      i && (h = (parseInt(i[1], 10) / 100) * q[g ? 0 : 1]),
        (o.clip[k[0]] = h),
        (p.clip[k[0]] = h),
        (p.clip[k[1]] = 0),
        f &&
          (d.cssClip(p.clip), m && m.css(a.effects.clipToBox(p)), (p.clip = n)),
        d
          .queue(function(c) {
            m &&
              m
                .animate(a.effects.clipToBox(o), l, b.easing)
                .animate(a.effects.clipToBox(p), l, b.easing),
              c();
          })
          .animate(o, l, b.easing)
          .animate(p, l, b.easing)
          .queue(c),
        a.effects.unshift(d, r, 4);
    });
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return a.effects.define("highlight", "show", function(b, c) {
      var d = a(this),
        e = { backgroundColor: d.css("backgroundColor") };
      "hide" === b.mode && (e.opacity = 0),
        a.effects.saveStyle(d),
        d
          .css({
            backgroundImage: "none",
            backgroundColor: b.color || "#ffff99"
          })
          .animate(e, {
            queue: !1,
            duration: b.duration,
            easing: b.easing,
            complete: c
          });
    });
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return a.effects.define("size", function(b, c) {
      var d,
        e,
        f,
        g = a(this),
        h = ["fontSize"],
        i = [
          "borderTopWidth",
          "borderBottomWidth",
          "paddingTop",
          "paddingBottom"
        ],
        j = [
          "borderLeftWidth",
          "borderRightWidth",
          "paddingLeft",
          "paddingRight"
        ],
        k = b.mode,
        l = "effect" !== k,
        m = b.scale || "both",
        n = b.origin || ["middle", "center"],
        o = g.css("position"),
        p = g.position(),
        q = a.effects.scaledDimensions(g),
        r = b.from || q,
        s = b.to || a.effects.scaledDimensions(g, 0);
      a.effects.createPlaceholder(g),
        "show" === k && ((f = r), (r = s), (s = f)),
        (e = {
          from: { y: r.height / q.height, x: r.width / q.width },
          to: { y: s.height / q.height, x: s.width / q.width }
        }),
        ("box" !== m && "both" !== m) ||
          (e.from.y !== e.to.y &&
            ((r = a.effects.setTransition(g, i, e.from.y, r)),
            (s = a.effects.setTransition(g, i, e.to.y, s))),
          e.from.x !== e.to.x &&
            ((r = a.effects.setTransition(g, j, e.from.x, r)),
            (s = a.effects.setTransition(g, j, e.to.x, s)))),
        ("content" !== m && "both" !== m) ||
          (e.from.y !== e.to.y &&
            ((r = a.effects.setTransition(g, h, e.from.y, r)),
            (s = a.effects.setTransition(g, h, e.to.y, s)))),
        n &&
          ((d = a.effects.getBaseline(n, q)),
          (r.top = (q.outerHeight - r.outerHeight) * d.y + p.top),
          (r.left = (q.outerWidth - r.outerWidth) * d.x + p.left),
          (s.top = (q.outerHeight - s.outerHeight) * d.y + p.top),
          (s.left = (q.outerWidth - s.outerWidth) * d.x + p.left)),
        delete r.outerHeight,
        delete r.outerWidth,
        g.css(r),
        ("content" !== m && "both" !== m) ||
          ((i = i.concat(["marginTop", "marginBottom"]).concat(h)),
          (j = j.concat(["marginLeft", "marginRight"])),
          g.find("*[width]").each(function() {
            var c = a(this),
              d = a.effects.scaledDimensions(c),
              f = {
                height: d.height * e.from.y,
                width: d.width * e.from.x,
                outerHeight: d.outerHeight * e.from.y,
                outerWidth: d.outerWidth * e.from.x
              },
              g = {
                height: d.height * e.to.y,
                width: d.width * e.to.x,
                outerHeight: d.height * e.to.y,
                outerWidth: d.width * e.to.x
              };
            e.from.y !== e.to.y &&
              ((f = a.effects.setTransition(c, i, e.from.y, f)),
              (g = a.effects.setTransition(c, i, e.to.y, g))),
              e.from.x !== e.to.x &&
                ((f = a.effects.setTransition(c, j, e.from.x, f)),
                (g = a.effects.setTransition(c, j, e.to.x, g))),
              l && a.effects.saveStyle(c),
              c.css(f),
              c.animate(g, b.duration, b.easing, function() {
                l && a.effects.restoreStyle(c);
              });
          })),
        g.animate(s, {
          queue: !1,
          duration: b.duration,
          easing: b.easing,
          complete: function() {
            var b = g.offset();
            0 === s.opacity && g.css("opacity", r.opacity),
              l ||
                (g.css("position", "static" === o ? "relative" : o).offset(b),
                a.effects.saveStyle(g)),
              c();
          }
        });
    });
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return a.effects.define("scale", function(b, c) {
      var d = a(this),
        e = b.mode,
        f =
          parseInt(b.percent, 10) ||
          (0 === parseInt(b.percent, 10) ? 0 : "effect" !== e ? 0 : 100),
        g = a.extend(
          !0,
          {
            from: a.effects.scaledDimensions(d),
            to: a.effects.scaledDimensions(d, f, b.direction || "both"),
            origin: b.origin || ["middle", "center"]
          },
          b
        );
      b.fade && ((g.from.opacity = 1), (g.to.opacity = 0)),
        a.effects.effect.size.call(this, g, c);
    });
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return a.effects.define("puff", "hide", function(b, c) {
      var d = a.extend(!0, {}, b, {
        fade: !0,
        percent: parseInt(b.percent, 10) || 150
      });
      a.effects.effect.scale.call(this, d, c);
    });
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return a.effects.define("pulsate", "show", function(b, c) {
      var d = a(this),
        e = b.mode,
        f = "show" === e,
        g = "hide" === e,
        h = f || g,
        i = 2 * (b.times || 5) + (h ? 1 : 0),
        j = b.duration / i,
        k = 0,
        l = 1,
        m = d.queue().length;
      for (
        (!f && d.is(":visible")) || (d.css("opacity", 0).show(), (k = 1));
        l < i;
        l++
      )
        d.animate({ opacity: k }, j, b.easing), (k = 1 - k);
      d.animate({ opacity: k }, j, b.easing),
        d.queue(c),
        a.effects.unshift(d, m, i + 1);
    });
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return a.effects.define("shake", function(b, c) {
      var d = 1,
        e = a(this),
        f = b.direction || "left",
        g = b.distance || 20,
        h = b.times || 3,
        i = 2 * h + 1,
        j = Math.round(b.duration / i),
        k = "up" === f || "down" === f ? "top" : "left",
        l = "up" === f || "left" === f,
        m = {},
        n = {},
        o = {},
        p = e.queue().length;
      for (
        a.effects.createPlaceholder(e),
          m[k] = (l ? "-=" : "+=") + g,
          n[k] = (l ? "+=" : "-=") + 2 * g,
          o[k] = (l ? "-=" : "+=") + 2 * g,
          e.animate(m, j, b.easing);
        d < h;
        d++
      )
        e.animate(n, j, b.easing).animate(o, j, b.easing);
      e
        .animate(n, j, b.easing)
        .animate(m, j / 2, b.easing)
        .queue(c),
        a.effects.unshift(e, p, i + 1);
    });
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return a.effects.define("slide", "show", function(b, c) {
      var d,
        e,
        f = a(this),
        g = {
          up: ["bottom", "top"],
          down: ["top", "bottom"],
          left: ["right", "left"],
          right: ["left", "right"]
        },
        h = b.mode,
        i = b.direction || "left",
        j = "up" === i || "down" === i ? "top" : "left",
        k = "up" === i || "left" === i,
        l = b.distance || f["top" === j ? "outerHeight" : "outerWidth"](!0),
        m = {};
      a.effects.createPlaceholder(f),
        (d = f.cssClip()),
        (e = f.position()[j]),
        (m[j] = (k ? -1 : 1) * l + e),
        (m.clip = f.cssClip()),
        (m.clip[g[i][1]] = m.clip[g[i][0]]),
        "show" === h &&
          (f.cssClip(m.clip), f.css(j, m[j]), (m.clip = d), (m[j] = e)),
        f.animate(m, {
          queue: !1,
          duration: b.duration,
          easing: b.easing,
          complete: c
        });
    });
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    var b;
    return (
      a.uiBackCompat !== !1 &&
        (b = a.effects.define("transfer", function(b, c) {
          a(this).transfer(b, c);
        })),
      b
    );
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return (a.ui.escapeSelector = (function() {
      var a = /([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g;
      return function(b) {
        return b.replace(a, "\\$1");
      };
    })());
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    function b(a) {
      for (var b = a.css("visibility"); "inherit" === b; )
        (a = a.parent()), (b = a.css("visibility"));
      return "hidden" !== b;
    }
    return (
      (a.ui.focusable = function(c, d) {
        var e,
          f,
          g,
          h,
          i,
          j = c.nodeName.toLowerCase();
        return "area" === j
          ? ((e = c.parentNode),
            (f = e.name),
            !(!c.href || !f || "map" !== e.nodeName.toLowerCase()) &&
              ((g = a("img[usemap='#" + f + "']")),
              g.length > 0 && g.is(":visible")))
          : (/^(input|select|textarea|button|object)$/.test(j)
              ? ((h = !c.disabled),
                h &&
                  ((i = a(c).closest("fieldset")[0]), i && (h = !i.disabled)))
              : (h = "a" === j ? c.href || d : d),
            h && a(c).is(":visible") && b(a(c)));
      }),
      a.extend(a.expr.pseudos, {
        focusable: function(b) {
          return a.ui.focusable(b, null != a.attr(b, "tabindex"));
        }
      }),
      a.ui.focusable
    );
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return (a.fn._form = function() {
      return "string" == typeof this[0].form
        ? this.closest("form")
        : a(this[0].form);
    });
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return (a.ui.formResetMixin = {
      _formResetHandler: function() {
        var b = a(this);
        setTimeout(function() {
          var c = b.data("ui-form-reset-instances");
          a.each(c, function() {
            this.refresh();
          });
        });
      },
      _bindFormResetHandler: function() {
        if (((this.form = this.element._form()), this.form.length)) {
          var a = this.form.data("ui-form-reset-instances") || [];
          a.length ||
            this.form.on("reset.ui-form-reset", this._formResetHandler),
            a.push(this),
            this.form.data("ui-form-reset-instances", a);
        }
      },
      _unbindFormResetHandler: function() {
        if (this.form.length) {
          var b = this.form.data("ui-form-reset-instances");
          b.splice(a.inArray(this, b), 1),
            b.length
              ? this.form.data("ui-form-reset-instances", b)
              : this.form
                  .removeData("ui-form-reset-instances")
                  .off("reset.ui-form-reset");
        }
      }
    });
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return (a.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()));
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    "1.7" === a.fn.jquery.substring(0, 3) &&
      (a.each(["Width", "Height"], function(b, c) {
        function d(b, c, d, f) {
          return (
            a.each(e, function() {
              (c -= parseFloat(a.css(b, "padding" + this)) || 0),
                d &&
                  (c -= parseFloat(a.css(b, "border" + this + "Width")) || 0),
                f && (c -= parseFloat(a.css(b, "margin" + this)) || 0);
            }),
            c
          );
        }
        var e = "Width" === c ? ["Left", "Right"] : ["Top", "Bottom"],
          f = c.toLowerCase(),
          g = {
            innerWidth: a.fn.innerWidth,
            innerHeight: a.fn.innerHeight,
            outerWidth: a.fn.outerWidth,
            outerHeight: a.fn.outerHeight
          };
        (a.fn["inner" + c] = function(b) {
          return void 0 === b
            ? g["inner" + c].call(this)
            : this.each(function() {
                a(this).css(f, d(this, b) + "px");
              });
        }),
          (a.fn["outer" + c] = function(b, e) {
            return "number" != typeof b
              ? g["outer" + c].call(this, b)
              : this.each(function() {
                  a(this).css(f, d(this, b, !0, e) + "px");
                });
          });
      }),
      (a.fn.addBack = function(a) {
        return this.add(
          null == a ? this.prevObject : this.prevObject.filter(a)
        );
      })),
      a.expr.pseudos || (a.expr.pseudos = a.expr[":"]),
      a.uniqueSort || (a.uniqueSort = a.unique),
      (a.fn.even && a.fn.odd) ||
        a.fn.extend({
          even: function() {
            return this.filter(function(a) {
              return a % 2 === 0;
            });
          },
          odd: function() {
            return this.filter(function(a) {
              return a % 2 === 1;
            });
          }
        });
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return (a.ui.keyCode = {
      BACKSPACE: 8,
      COMMA: 188,
      DELETE: 46,
      DOWN: 40,
      END: 35,
      ENTER: 13,
      ESCAPE: 27,
      HOME: 36,
      LEFT: 37,
      PAGE_DOWN: 34,
      PAGE_UP: 33,
      PERIOD: 190,
      RIGHT: 39,
      SPACE: 32,
      TAB: 9,
      UP: 38
    });
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return (a.fn.labels = function() {
      var b, c, d, e, f;
      return this.length
        ? this[0].labels && this[0].labels.length
          ? this.pushStack(this[0].labels)
          : ((e = this.eq(0).parents("label")),
            (d = this.attr("id")),
            d &&
              ((b = this.eq(0)
                .parents()
                .last()),
              (f = b.add(b.length ? b.siblings() : this.siblings())),
              (c = "label[for='" + a.ui.escapeSelector(d) + "']"),
              (e = e.add(f.find(c).addBack(c)))),
            this.pushStack(e))
        : this.pushStack([]);
    });
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return (a.ui.plugin = {
      add: function(b, c, d) {
        var e,
          f = a.ui[b].prototype;
        for (e in d)
          (f.plugins[e] = f.plugins[e] || []), f.plugins[e].push([c, d[e]]);
      },
      call: function(a, b, c, d) {
        var e,
          f = a.plugins[b];
        if (
          f &&
          (d ||
            (a.element[0].parentNode &&
              11 !== a.element[0].parentNode.nodeType))
        )
          for (e = 0; e < f.length; e++)
            a.options[f[e][0]] && f[e][1].apply(a.element, c);
      }
    });
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return (
      (function() {
        function b(a, b, c) {
          return [
            parseFloat(a[0]) * (m.test(a[0]) ? b / 100 : 1),
            parseFloat(a[1]) * (m.test(a[1]) ? c / 100 : 1)
          ];
        }
        function c(b, c) {
          return parseInt(a.css(b, c), 10) || 0;
        }
        function d(a) {
          return null != a && a === a.window;
        }
        function e(a) {
          var b = a[0];
          return 9 === b.nodeType
            ? {
                width: a.width(),
                height: a.height(),
                offset: { top: 0, left: 0 }
              }
            : d(b)
            ? {
                width: a.width(),
                height: a.height(),
                offset: { top: a.scrollTop(), left: a.scrollLeft() }
              }
            : b.preventDefault
            ? { width: 0, height: 0, offset: { top: b.pageY, left: b.pageX } }
            : {
                width: a.outerWidth(),
                height: a.outerHeight(),
                offset: a.offset()
              };
        }
        var f,
          g = Math.max,
          h = Math.abs,
          i = /left|center|right/,
          j = /top|center|bottom/,
          k = /[\+\-]\d+(\.[\d]+)?%?/,
          l = /^\w+/,
          m = /%$/,
          n = a.fn.position;
        (a.position = {
          scrollbarWidth: function() {
            if (void 0 !== f) return f;
            var b,
              c,
              d = a(
                "<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>"
              ),
              e = d.children()[0];
            return (
              a("body").append(d),
              (b = e.offsetWidth),
              d.css("overflow", "scroll"),
              (c = e.offsetWidth),
              b === c && (c = d[0].clientWidth),
              d.remove(),
              (f = b - c)
            );
          },
          getScrollInfo: function(b) {
            var c =
                b.isWindow || b.isDocument ? "" : b.element.css("overflow-x"),
              d = b.isWindow || b.isDocument ? "" : b.element.css("overflow-y"),
              e =
                "scroll" === c ||
                ("auto" === c && b.width < b.element[0].scrollWidth),
              f =
                "scroll" === d ||
                ("auto" === d && b.height < b.element[0].scrollHeight);
            return {
              width: f ? a.position.scrollbarWidth() : 0,
              height: e ? a.position.scrollbarWidth() : 0
            };
          },
          getWithinInfo: function(b) {
            var c = a(b || window),
              e = d(c[0]),
              f = !!c[0] && 9 === c[0].nodeType,
              g = !e && !f;
            return {
              element: c,
              isWindow: e,
              isDocument: f,
              offset: g ? a(b).offset() : { left: 0, top: 0 },
              scrollLeft: c.scrollLeft(),
              scrollTop: c.scrollTop(),
              width: c.outerWidth(),
              height: c.outerHeight()
            };
          }
        }),
          (a.fn.position = function(d) {
            if (!d || !d.of) return n.apply(this, arguments);
            d = a.extend({}, d);
            var f,
              m,
              o,
              p,
              q,
              r,
              s = a(d.of),
              t = a.position.getWithinInfo(d.within),
              u = a.position.getScrollInfo(t),
              v = (d.collision || "flip").split(" "),
              w = {};
            return (
              (r = e(s)),
              s[0].preventDefault && (d.at = "left top"),
              (m = r.width),
              (o = r.height),
              (p = r.offset),
              (q = a.extend({}, p)),
              a.each(["my", "at"], function() {
                var a,
                  b,
                  c = (d[this] || "").split(" ");
                1 === c.length &&
                  (c = i.test(c[0])
                    ? c.concat(["center"])
                    : j.test(c[0])
                    ? ["center"].concat(c)
                    : ["center", "center"]),
                  (c[0] = i.test(c[0]) ? c[0] : "center"),
                  (c[1] = j.test(c[1]) ? c[1] : "center"),
                  (a = k.exec(c[0])),
                  (b = k.exec(c[1])),
                  (w[this] = [a ? a[0] : 0, b ? b[0] : 0]),
                  (d[this] = [l.exec(c[0])[0], l.exec(c[1])[0]]);
              }),
              1 === v.length && (v[1] = v[0]),
              "right" === d.at[0]
                ? (q.left += m)
                : "center" === d.at[0] && (q.left += m / 2),
              "bottom" === d.at[1]
                ? (q.top += o)
                : "center" === d.at[1] && (q.top += o / 2),
              (f = b(w.at, m, o)),
              (q.left += f[0]),
              (q.top += f[1]),
              this.each(function() {
                var e,
                  i,
                  j = a(this),
                  k = j.outerWidth(),
                  l = j.outerHeight(),
                  n = c(this, "marginLeft"),
                  r = c(this, "marginTop"),
                  x = k + n + c(this, "marginRight") + u.width,
                  y = l + r + c(this, "marginBottom") + u.height,
                  z = a.extend({}, q),
                  A = b(w.my, j.outerWidth(), j.outerHeight());
                "right" === d.my[0]
                  ? (z.left -= k)
                  : "center" === d.my[0] && (z.left -= k / 2),
                  "bottom" === d.my[1]
                    ? (z.top -= l)
                    : "center" === d.my[1] && (z.top -= l / 2),
                  (z.left += A[0]),
                  (z.top += A[1]),
                  (e = { marginLeft: n, marginTop: r }),
                  a.each(["left", "top"], function(b, c) {
                    a.ui.position[v[b]] &&
                      a.ui.position[v[b]][c](z, {
                        targetWidth: m,
                        targetHeight: o,
                        elemWidth: k,
                        elemHeight: l,
                        collisionPosition: e,
                        collisionWidth: x,
                        collisionHeight: y,
                        offset: [f[0] + A[0], f[1] + A[1]],
                        my: d.my,
                        at: d.at,
                        within: t,
                        elem: j
                      });
                  }),
                  d.using &&
                    (i = function(a) {
                      var b = p.left - z.left,
                        c = b + m - k,
                        e = p.top - z.top,
                        f = e + o - l,
                        i = {
                          target: {
                            element: s,
                            left: p.left,
                            top: p.top,
                            width: m,
                            height: o
                          },
                          element: {
                            element: j,
                            left: z.left,
                            top: z.top,
                            width: k,
                            height: l
                          },
                          horizontal:
                            c < 0 ? "left" : b > 0 ? "right" : "center",
                          vertical: f < 0 ? "top" : e > 0 ? "bottom" : "middle"
                        };
                      m < k && h(b + c) < m && (i.horizontal = "center"),
                        o < l && h(e + f) < o && (i.vertical = "middle"),
                        g(h(b), h(c)) > g(h(e), h(f))
                          ? (i.important = "horizontal")
                          : (i.important = "vertical"),
                        d.using.call(this, a, i);
                    }),
                  j.offset(a.extend(z, { using: i }));
              })
            );
          }),
          (a.ui.position = {
            fit: {
              left: function(a, b) {
                var c,
                  d = b.within,
                  e = d.isWindow ? d.scrollLeft : d.offset.left,
                  f = d.width,
                  h = a.left - b.collisionPosition.marginLeft,
                  i = e - h,
                  j = h + b.collisionWidth - f - e;
                b.collisionWidth > f
                  ? i > 0 && j <= 0
                    ? ((c = a.left + i + b.collisionWidth - f - e),
                      (a.left += i - c))
                    : j > 0 && i <= 0
                    ? (a.left = e)
                    : i > j
                    ? (a.left = e + f - b.collisionWidth)
                    : (a.left = e)
                  : i > 0
                  ? (a.left += i)
                  : j > 0
                  ? (a.left -= j)
                  : (a.left = g(a.left - h, a.left));
              },
              top: function(a, b) {
                var c,
                  d = b.within,
                  e = d.isWindow ? d.scrollTop : d.offset.top,
                  f = b.within.height,
                  h = a.top - b.collisionPosition.marginTop,
                  i = e - h,
                  j = h + b.collisionHeight - f - e;
                b.collisionHeight > f
                  ? i > 0 && j <= 0
                    ? ((c = a.top + i + b.collisionHeight - f - e),
                      (a.top += i - c))
                    : j > 0 && i <= 0
                    ? (a.top = e)
                    : i > j
                    ? (a.top = e + f - b.collisionHeight)
                    : (a.top = e)
                  : i > 0
                  ? (a.top += i)
                  : j > 0
                  ? (a.top -= j)
                  : (a.top = g(a.top - h, a.top));
              }
            },
            flip: {
              left: function(a, b) {
                var c,
                  d,
                  e = b.within,
                  f = e.offset.left + e.scrollLeft,
                  g = e.width,
                  i = e.isWindow ? e.scrollLeft : e.offset.left,
                  j = a.left - b.collisionPosition.marginLeft,
                  k = j - i,
                  l = j + b.collisionWidth - g - i,
                  m =
                    "left" === b.my[0]
                      ? -b.elemWidth
                      : "right" === b.my[0]
                      ? b.elemWidth
                      : 0,
                  n =
                    "left" === b.at[0]
                      ? b.targetWidth
                      : "right" === b.at[0]
                      ? -b.targetWidth
                      : 0,
                  o = -2 * b.offset[0];
                k < 0
                  ? ((c = a.left + m + n + o + b.collisionWidth - g - f),
                    (c < 0 || c < h(k)) && (a.left += m + n + o))
                  : l > 0 &&
                    ((d =
                      a.left - b.collisionPosition.marginLeft + m + n + o - i),
                    (d > 0 || h(d) < l) && (a.left += m + n + o));
              },
              top: function(a, b) {
                var c,
                  d,
                  e = b.within,
                  f = e.offset.top + e.scrollTop,
                  g = e.height,
                  i = e.isWindow ? e.scrollTop : e.offset.top,
                  j = a.top - b.collisionPosition.marginTop,
                  k = j - i,
                  l = j + b.collisionHeight - g - i,
                  m = "top" === b.my[1],
                  n = m
                    ? -b.elemHeight
                    : "bottom" === b.my[1]
                    ? b.elemHeight
                    : 0,
                  o =
                    "top" === b.at[1]
                      ? b.targetHeight
                      : "bottom" === b.at[1]
                      ? -b.targetHeight
                      : 0,
                  p = -2 * b.offset[1];
                k < 0
                  ? ((d = a.top + n + o + p + b.collisionHeight - g - f),
                    (d < 0 || d < h(k)) && (a.top += n + o + p))
                  : l > 0 &&
                    ((c =
                      a.top - b.collisionPosition.marginTop + n + o + p - i),
                    (c > 0 || h(c) < l) && (a.top += n + o + p));
              }
            },
            flipfit: {
              left: function() {
                a.ui.position.flip.left.apply(this, arguments),
                  a.ui.position.fit.left.apply(this, arguments);
              },
              top: function() {
                a.ui.position.flip.top.apply(this, arguments),
                  a.ui.position.fit.top.apply(this, arguments);
              }
            }
          });
      })(),
      a.ui.position
    );
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return (a.ui.safeActiveElement = function(a) {
      var b;
      try {
        b = a.activeElement;
      } catch (c) {
        b = a.body;
      }
      return b || (b = a.body), b.nodeName || (b = a.body), b;
    });
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return (a.ui.safeBlur = function(b) {
      b && "body" !== b.nodeName.toLowerCase() && a(b).trigger("blur");
    });
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return (a.fn.scrollParent = function(b) {
      var c = this.css("position"),
        d = "absolute" === c,
        e = b ? /(auto|scroll|hidden)/ : /(auto|scroll)/,
        f = this.parents()
          .filter(function() {
            var b = a(this);
            return (
              (!d || "static" !== b.css("position")) &&
              e.test(
                b.css("overflow") + b.css("overflow-y") + b.css("overflow-x")
              )
            );
          })
          .eq(0);
      return "fixed" !== c && f.length
        ? f
        : a(this[0].ownerDocument || document);
    });
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return a.extend(a.expr.pseudos, {
      tabbable: function(b) {
        var c = a.attr(b, "tabindex"),
          d = null != c;
        return (!d || c >= 0) && a.ui.focusable(b, d);
      }
    });
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return a.fn.extend({
      uniqueId: (function() {
        var a = 0;
        return function() {
          return this.each(function() {
            this.id || (this.id = "ui-id-" + ++a);
          });
        };
      })(),
      removeUniqueId: function() {
        return this.each(function() {
          /^ui-id-\d+$/.test(this.id) && a(this).removeAttr("id");
        });
      }
    });
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    var b = 0,
      c = Array.prototype.hasOwnProperty,
      d = Array.prototype.slice;
    return (
      (a.cleanData = (function(b) {
        return function(c) {
          var d, e, f;
          for (f = 0; null != (e = c[f]); f++)
            (d = a._data(e, "events")),
              d && d.remove && a(e).triggerHandler("remove");
          b(c);
        };
      })(a.cleanData)),
      (a.widget = function(b, c, d) {
        var e,
          f,
          g,
          h = {},
          i = b.split(".")[0];
        b = b.split(".")[1];
        var j = i + "-" + b;
        return (
          d || ((d = c), (c = a.Widget)),
          Array.isArray(d) && (d = a.extend.apply(null, [{}].concat(d))),
          (a.expr.pseudos[j.toLowerCase()] = function(b) {
            return !!a.data(b, j);
          }),
          (a[i] = a[i] || {}),
          (e = a[i][b]),
          (f = a[i][b] = function(a, b) {
            return this._createWidget
              ? void (arguments.length && this._createWidget(a, b))
              : new f(a, b);
          }),
          a.extend(f, e, {
            version: d.version,
            _proto: a.extend({}, d),
            _childConstructors: []
          }),
          (g = new c()),
          (g.options = a.widget.extend({}, g.options)),
          a.each(d, function(a, b) {
            return "function" != typeof b
              ? void (h[a] = b)
              : void (h[a] = (function() {
                  function d() {
                    return c.prototype[a].apply(this, arguments);
                  }
                  function e(b) {
                    return c.prototype[a].apply(this, b);
                  }
                  return function() {
                    var a,
                      c = this._super,
                      f = this._superApply;
                    return (
                      (this._super = d),
                      (this._superApply = e),
                      (a = b.apply(this, arguments)),
                      (this._super = c),
                      (this._superApply = f),
                      a
                    );
                  };
                })());
          }),
          (f.prototype = a.widget.extend(
            g,
            { widgetEventPrefix: e ? g.widgetEventPrefix || b : b },
            h,
            { constructor: f, namespace: i, widgetName: b, widgetFullName: j }
          )),
          e
            ? (a.each(e._childConstructors, function(b, c) {
                var d = c.prototype;
                a.widget(d.namespace + "." + d.widgetName, f, c._proto);
              }),
              delete e._childConstructors)
            : c._childConstructors.push(f),
          a.widget.bridge(b, f),
          f
        );
      }),
      (a.widget.extend = function(b) {
        for (
          var e, f, g = d.call(arguments, 1), h = 0, i = g.length;
          h < i;
          h++
        )
          for (e in g[h])
            (f = g[h][e]),
              c.call(g[h], e) &&
                void 0 !== f &&
                (a.isPlainObject(f)
                  ? (b[e] = a.isPlainObject(b[e])
                      ? a.widget.extend({}, b[e], f)
                      : a.widget.extend({}, f))
                  : (b[e] = f));
        return b;
      }),
      (a.widget.bridge = function(b, c) {
        var e = c.prototype.widgetFullName || b;
        a.fn[b] = function(f) {
          var g = "string" == typeof f,
            h = d.call(arguments, 1),
            i = this;
          return (
            g
              ? this.length || "instance" !== f
                ? this.each(function() {
                    var c,
                      d = a.data(this, e);
                    return "instance" === f
                      ? ((i = d), !1)
                      : d
                      ? "function" != typeof d[f] || "_" === f.charAt(0)
                        ? a.error(
                            "no such method '" +
                              f +
                              "' for " +
                              b +
                              " widget instance"
                          )
                        : ((c = d[f].apply(d, h)),
                          c !== d && void 0 !== c
                            ? ((i = c && c.jquery ? i.pushStack(c.get()) : c),
                              !1)
                            : void 0)
                      : a.error(
                          "cannot call methods on " +
                            b +
                            " prior to initialization; attempted to call method '" +
                            f +
                            "'"
                        );
                  })
                : (i = void 0)
              : (h.length && (f = a.widget.extend.apply(null, [f].concat(h))),
                this.each(function() {
                  var b = a.data(this, e);
                  b
                    ? (b.option(f || {}), b._init && b._init())
                    : a.data(this, e, new c(f, this));
                })),
            i
          );
        };
      }),
      (a.Widget = function() {}),
      (a.Widget._childConstructors = []),
      (a.Widget.prototype = {
        widgetName: "widget",
        widgetEventPrefix: "",
        defaultElement: "<div>",
        options: { classes: {}, disabled: !1, create: null },
        _createWidget: function(c, d) {
          (d = a(d || this.defaultElement || this)[0]),
            (this.element = a(d)),
            (this.uuid = b++),
            (this.eventNamespace = "." + this.widgetName + this.uuid),
            (this.bindings = a()),
            (this.hoverable = a()),
            (this.focusable = a()),
            (this.classesElementLookup = {}),
            d !== this &&
              (a.data(d, this.widgetFullName, this),
              this._on(!0, this.element, {
                remove: function(a) {
                  a.target === d && this.destroy();
                }
              }),
              (this.document = a(d.style ? d.ownerDocument : d.document || d)),
              (this.window = a(
                this.document[0].defaultView || this.document[0].parentWindow
              ))),
            (this.options = a.widget.extend(
              {},
              this.options,
              this._getCreateOptions(),
              c
            )),
            this._create(),
            this.options.disabled &&
              this._setOptionDisabled(this.options.disabled),
            this._trigger("create", null, this._getCreateEventData()),
            this._init();
        },
        _getCreateOptions: function() {
          return {};
        },
        _getCreateEventData: a.noop,
        _create: a.noop,
        _init: a.noop,
        destroy: function() {
          var b = this;
          this._destroy(),
            a.each(this.classesElementLookup, function(a, c) {
              b._removeClass(c, a);
            }),
            this.element
              .off(this.eventNamespace)
              .removeData(this.widgetFullName),
            this.widget()
              .off(this.eventNamespace)
              .removeAttr("aria-disabled"),
            this.bindings.off(this.eventNamespace);
        },
        _destroy: a.noop,
        widget: function() {
          return this.element;
        },
        option: function(b, c) {
          var d,
            e,
            f,
            g = b;
          if (0 === arguments.length) return a.widget.extend({}, this.options);
          if ("string" == typeof b)
            if (((g = {}), (d = b.split(".")), (b = d.shift()), d.length)) {
              for (
                e = g[b] = a.widget.extend({}, this.options[b]), f = 0;
                f < d.length - 1;
                f++
              )
                (e[d[f]] = e[d[f]] || {}), (e = e[d[f]]);
              if (((b = d.pop()), 1 === arguments.length))
                return void 0 === e[b] ? null : e[b];
              e[b] = c;
            } else {
              if (1 === arguments.length)
                return void 0 === this.options[b] ? null : this.options[b];
              g[b] = c;
            }
          return this._setOptions(g), this;
        },
        _setOptions: function(a) {
          var b;
          for (b in a) this._setOption(b, a[b]);
          return this;
        },
        _setOption: function(a, b) {
          return (
            "classes" === a && this._setOptionClasses(b),
            (this.options[a] = b),
            "disabled" === a && this._setOptionDisabled(b),
            this
          );
        },
        _setOptionClasses: function(b) {
          var c, d, e;
          for (c in b)
            (e = this.classesElementLookup[c]),
              b[c] !== this.options.classes[c] &&
                e &&
                e.length &&
                ((d = a(e.get())),
                this._removeClass(e, c),
                d.addClass(
                  this._classes({ element: d, keys: c, classes: b, add: !0 })
                ));
        },
        _setOptionDisabled: function(a) {
          this._toggleClass(
            this.widget(),
            this.widgetFullName + "-disabled",
            null,
            !!a
          ),
            a &&
              (this._removeClass(this.hoverable, null, "ui-state-hover"),
              this._removeClass(this.focusable, null, "ui-state-focus"));
        },
        enable: function() {
          return this._setOptions({ disabled: !1 });
        },
        disable: function() {
          return this._setOptions({ disabled: !0 });
        },
        _classes: function(b) {
          function c() {
            b.element.each(function(b, c) {
              var d = a
                .map(f.classesElementLookup, function(a) {
                  return a;
                })
                .some(function(a) {
                  return a.is(c);
                });
              d || f._on(a(c), { remove: "_untrackClassesElement" });
            });
          }
          function d(d, g) {
            var h, i;
            for (i = 0; i < d.length; i++)
              (h = f.classesElementLookup[d[i]] || a()),
                b.add
                  ? (c(),
                    (h = a(a.uniqueSort(h.get().concat(b.element.get())))))
                  : (h = a(h.not(b.element).get())),
                (f.classesElementLookup[d[i]] = h),
                e.push(d[i]),
                g && b.classes[d[i]] && e.push(b.classes[d[i]]);
          }
          var e = [],
            f = this;
          return (
            (b = a.extend(
              { element: this.element, classes: this.options.classes || {} },
              b
            )),
            b.keys && d(b.keys.match(/\S+/g) || [], !0),
            b.extra && d(b.extra.match(/\S+/g) || []),
            e.join(" ")
          );
        },
        _untrackClassesElement: function(b) {
          var c = this;
          a.each(c.classesElementLookup, function(d, e) {
            a.inArray(b.target, e) !== -1 &&
              (c.classesElementLookup[d] = a(e.not(b.target).get()));
          }),
            this._off(a(b.target));
        },
        _removeClass: function(a, b, c) {
          return this._toggleClass(a, b, c, !1);
        },
        _addClass: function(a, b, c) {
          return this._toggleClass(a, b, c, !0);
        },
        _toggleClass: function(a, b, c, d) {
          d = "boolean" == typeof d ? d : c;
          var e = "string" == typeof a || null === a,
            f = {
              extra: e ? b : c,
              keys: e ? a : b,
              element: e ? this.element : a,
              add: d
            };
          return f.element.toggleClass(this._classes(f), d), this;
        },
        _on: function(b, c, d) {
          var e,
            f = this;
          "boolean" != typeof b && ((d = c), (c = b), (b = !1)),
            d
              ? ((c = e = a(c)), (this.bindings = this.bindings.add(c)))
              : ((d = c), (c = this.element), (e = this.widget())),
            a.each(d, function(d, g) {
              function h() {
                if (
                  b ||
                  (f.options.disabled !== !0 &&
                    !a(this).hasClass("ui-state-disabled"))
                )
                  return ("string" == typeof g ? f[g] : g).apply(f, arguments);
              }
              "string" != typeof g &&
                (h.guid = g.guid = g.guid || h.guid || a.guid++);
              var i = d.match(/^([\w:-]*)\s*(.*)$/),
                j = i[1] + f.eventNamespace,
                k = i[2];
              k ? e.on(j, k, h) : c.on(j, h);
            });
        },
        _off: function(b, c) {
          (c =
            (c || "").split(" ").join(this.eventNamespace + " ") +
            this.eventNamespace),
            b.off(c),
            (this.bindings = a(this.bindings.not(b).get())),
            (this.focusable = a(this.focusable.not(b).get())),
            (this.hoverable = a(this.hoverable.not(b).get()));
        },
        _delay: function(a, b) {
          function c() {
            return ("string" == typeof a ? d[a] : a).apply(d, arguments);
          }
          var d = this;
          return setTimeout(c, b || 0);
        },
        _hoverable: function(b) {
          (this.hoverable = this.hoverable.add(b)),
            this._on(b, {
              mouseenter: function(b) {
                this._addClass(a(b.currentTarget), null, "ui-state-hover");
              },
              mouseleave: function(b) {
                this._removeClass(a(b.currentTarget), null, "ui-state-hover");
              }
            });
        },
        _focusable: function(b) {
          (this.focusable = this.focusable.add(b)),
            this._on(b, {
              focusin: function(b) {
                this._addClass(a(b.currentTarget), null, "ui-state-focus");
              },
              focusout: function(b) {
                this._removeClass(a(b.currentTarget), null, "ui-state-focus");
              }
            });
        },
        _trigger: function(b, c, d) {
          var e,
            f,
            g = this.options[b];
          if (
            ((d = d || {}),
            (c = a.Event(c)),
            (c.type = (b === this.widgetEventPrefix
              ? b
              : this.widgetEventPrefix + b
            ).toLowerCase()),
            (c.target = this.element[0]),
            (f = c.originalEvent))
          )
            for (e in f) e in c || (c[e] = f[e]);
          return (
            this.element.trigger(c, d),
            !(
              ("function" == typeof g &&
                g.apply(this.element[0], [c].concat(d)) === !1) ||
              c.isDefaultPrevented()
            )
          );
        }
      }),
      a.each({ show: "fadeIn", hide: "fadeOut" }, function(b, c) {
        a.Widget.prototype["_" + b] = function(d, e, f) {
          "string" == typeof e && (e = { effect: e });
          var g,
            h = e ? (e === !0 || "number" == typeof e ? c : e.effect || c) : b;
          (e = e || {}),
            "number" == typeof e && (e = { duration: e }),
            (g = !a.isEmptyObject(e)),
            (e.complete = f),
            e.delay && d.delay(e.delay),
            g && a.effects && a.effects.effect[h]
              ? d[b](e)
              : h !== b && d[h]
              ? d[h](e.duration, e.easing, f)
              : d.queue(function(c) {
                  a(this)[b](), f && f.call(d[0]), c();
                });
        };
      }),
      a.widget
    );
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return a.widget("ui.accordion", {
      version: "@VERSION",
      options: {
        active: 0,
        animate: {},
        classes: {
          "ui-accordion-header": "ui-corner-top",
          "ui-accordion-header-collapsed": "ui-corner-all",
          "ui-accordion-content": "ui-corner-bottom"
        },
        collapsible: !1,
        event: "click",
        header: function(a) {
          return a.find("> li > :first-child").add(a.find("> :not(li)").even());
        },
        heightStyle: "auto",
        icons: {
          activeHeader: "ui-icon-triangle-1-s",
          header: "ui-icon-triangle-1-e"
        },
        activate: null,
        beforeActivate: null
      },
      hideProps: {
        borderTopWidth: "hide",
        borderBottomWidth: "hide",
        paddingTop: "hide",
        paddingBottom: "hide",
        height: "hide"
      },
      showProps: {
        borderTopWidth: "show",
        borderBottomWidth: "show",
        paddingTop: "show",
        paddingBottom: "show",
        height: "show"
      },
      _create: function() {
        var b = this.options;
        (this.prevShow = this.prevHide = a()),
          this._addClass("ui-accordion", "ui-widget ui-helper-reset"),
          this.element.attr("role", "tablist"),
          b.collapsible ||
            (b.active !== !1 && null != b.active) ||
            (b.active = 0),
          this._processPanels(),
          b.active < 0 && (b.active += this.headers.length),
          this._refresh();
      },
      _getCreateEventData: function() {
        return {
          header: this.active,
          panel: this.active.length ? this.active.next() : a()
        };
      },
      _createIcons: function() {
        var b,
          c,
          d = this.options.icons;
        d &&
          ((b = a("<span>")),
          this._addClass(b, "ui-accordion-header-icon", "ui-icon " + d.header),
          b.prependTo(this.headers),
          (c = this.active.children(".ui-accordion-header-icon")),
          this._removeClass(c, d.header)
            ._addClass(c, null, d.activeHeader)
            ._addClass(this.headers, "ui-accordion-icons"));
      },
      _destroyIcons: function() {
        this._removeClass(this.headers, "ui-accordion-icons"),
          this.headers.children(".ui-accordion-header-icon").remove();
      },
      _destroy: function() {
        var a;
        this.element.removeAttr("role"),
          this.headers
            .removeAttr(
              "role aria-expanded aria-selected aria-controls tabIndex"
            )
            .removeUniqueId(),
          this._destroyIcons(),
          (a = this.headers
            .next()
            .css("display", "")
            .removeAttr("role aria-hidden aria-labelledby")
            .removeUniqueId()),
          "content" !== this.options.heightStyle && a.css("height", "");
      },
      _setOption: function(a, b) {
        return "active" === a
          ? void this._activate(b)
          : ("event" === a &&
              (this.options.event &&
                this._off(this.headers, this.options.event),
              this._setupEvents(b)),
            this._super(a, b),
            "collapsible" !== a ||
              b ||
              this.options.active !== !1 ||
              this._activate(0),
            void (
              "icons" === a && (this._destroyIcons(), b && this._createIcons())
            ));
      },
      _setOptionDisabled: function(a) {
        this._super(a),
          this.element.attr("aria-disabled", a),
          this._toggleClass(null, "ui-state-disabled", !!a),
          this._toggleClass(
            this.headers.add(this.headers.next()),
            null,
            "ui-state-disabled",
            !!a
          );
      },
      _keydown: function(b) {
        if (!b.altKey && !b.ctrlKey) {
          var c = a.ui.keyCode,
            d = this.headers.length,
            e = this.headers.index(b.target),
            f = !1;
          switch (b.keyCode) {
            case c.RIGHT:
            case c.DOWN:
              f = this.headers[(e + 1) % d];
              break;
            case c.LEFT:
            case c.UP:
              f = this.headers[(e - 1 + d) % d];
              break;
            case c.SPACE:
            case c.ENTER:
              this._eventHandler(b);
              break;
            case c.HOME:
              f = this.headers[0];
              break;
            case c.END:
              f = this.headers[d - 1];
          }
          f &&
            (a(b.target).attr("tabIndex", -1),
            a(f).attr("tabIndex", 0),
            a(f).trigger("focus"),
            b.preventDefault());
        }
      },
      _panelKeyDown: function(b) {
        b.keyCode === a.ui.keyCode.UP &&
          b.ctrlKey &&
          a(b.currentTarget)
            .prev()
            .trigger("focus");
      },
      refresh: function() {
        var b = this.options;
        this._processPanels(),
          (b.active === !1 && b.collapsible === !0) || !this.headers.length
            ? ((b.active = !1), (this.active = a()))
            : b.active === !1
            ? this._activate(0)
            : this.active.length && !a.contains(this.element[0], this.active[0])
            ? this.headers.length ===
              this.headers.find(".ui-state-disabled").length
              ? ((b.active = !1), (this.active = a()))
              : this._activate(Math.max(0, b.active - 1))
            : (b.active = this.headers.index(this.active)),
          this._destroyIcons(),
          this._refresh();
      },
      _processPanels: function() {
        var a = this.headers,
          b = this.panels;
        "function" == typeof this.options.header
          ? (this.headers = this.options.header(this.element))
          : (this.headers = this.element.find(this.options.header)),
          this._addClass(
            this.headers,
            "ui-accordion-header ui-accordion-header-collapsed",
            "ui-state-default"
          ),
          (this.panels = this.headers
            .next()
            .filter(":not(.ui-accordion-content-active)")
            .hide()),
          this._addClass(
            this.panels,
            "ui-accordion-content",
            "ui-helper-reset ui-widget-content"
          ),
          b && (this._off(a.not(this.headers)), this._off(b.not(this.panels)));
      },
      _refresh: function() {
        var b,
          c = this.options,
          d = c.heightStyle,
          e = this.element.parent();
        (this.active = this._findActive(c.active)),
          this._addClass(
            this.active,
            "ui-accordion-header-active",
            "ui-state-active"
          )._removeClass(this.active, "ui-accordion-header-collapsed"),
          this._addClass(this.active.next(), "ui-accordion-content-active"),
          this.active.next().show(),
          this.headers
            .attr("role", "tab")
            .each(function() {
              var b = a(this),
                c = b.uniqueId().attr("id"),
                d = b.next(),
                e = d.uniqueId().attr("id");
              b.attr("aria-controls", e), d.attr("aria-labelledby", c);
            })
            .next()
            .attr("role", "tabpanel"),
          this.headers
            .not(this.active)
            .attr({
              "aria-selected": "false",
              "aria-expanded": "false",
              tabIndex: -1
            })
            .next()
            .attr({ "aria-hidden": "true" })
            .hide(),
          this.active.length
            ? this.active
                .attr({
                  "aria-selected": "true",
                  "aria-expanded": "true",
                  tabIndex: 0
                })
                .next()
                .attr({ "aria-hidden": "false" })
            : this.headers.eq(0).attr("tabIndex", 0),
          this._createIcons(),
          this._setupEvents(c.event),
          "fill" === d
            ? ((b = e.height()),
              this.element.siblings(":visible").each(function() {
                var c = a(this),
                  d = c.css("position");
                "absolute" !== d && "fixed" !== d && (b -= c.outerHeight(!0));
              }),
              this.headers.each(function() {
                b -= a(this).outerHeight(!0);
              }),
              this.headers
                .next()
                .each(function() {
                  a(this).height(
                    Math.max(0, b - a(this).innerHeight() + a(this).height())
                  );
                })
                .css("overflow", "auto"))
            : "auto" === d &&
              ((b = 0),
              this.headers
                .next()
                .each(function() {
                  var c = a(this).is(":visible");
                  c || a(this).show(),
                    (b = Math.max(
                      b,
                      a(this)
                        .css("height", "")
                        .height()
                    )),
                    c || a(this).hide();
                })
                .height(b));
      },
      _activate: function(b) {
        var c = this._findActive(b)[0];
        c !== this.active[0] &&
          ((c = c || this.active[0]),
          this._eventHandler({
            target: c,
            currentTarget: c,
            preventDefault: a.noop
          }));
      },
      _findActive: function(b) {
        return "number" == typeof b ? this.headers.eq(b) : a();
      },
      _setupEvents: function(b) {
        var c = { keydown: "_keydown" };
        b &&
          a.each(b.split(" "), function(a, b) {
            c[b] = "_eventHandler";
          }),
          this._off(this.headers.add(this.headers.next())),
          this._on(this.headers, c),
          this._on(this.headers.next(), { keydown: "_panelKeyDown" }),
          this._hoverable(this.headers),
          this._focusable(this.headers);
      },
      _eventHandler: function(b) {
        var c,
          d,
          e = this.options,
          f = this.active,
          g = a(b.currentTarget),
          h = g[0] === f[0],
          i = h && e.collapsible,
          j = i ? a() : g.next(),
          k = f.next(),
          l = {
            oldHeader: f,
            oldPanel: k,
            newHeader: i ? a() : g,
            newPanel: j
          };
        b.preventDefault(),
          (h && !e.collapsible) ||
            this._trigger("beforeActivate", b, l) === !1 ||
            ((e.active = !i && this.headers.index(g)),
            (this.active = h ? a() : g),
            this._toggle(l),
            this._removeClass(
              f,
              "ui-accordion-header-active",
              "ui-state-active"
            ),
            e.icons &&
              ((c = f.children(".ui-accordion-header-icon")),
              this._removeClass(c, null, e.icons.activeHeader)._addClass(
                c,
                null,
                e.icons.header
              )),
            h ||
              (this._removeClass(g, "ui-accordion-header-collapsed")._addClass(
                g,
                "ui-accordion-header-active",
                "ui-state-active"
              ),
              e.icons &&
                ((d = g.children(".ui-accordion-header-icon")),
                this._removeClass(d, null, e.icons.header)._addClass(
                  d,
                  null,
                  e.icons.activeHeader
                )),
              this._addClass(g.next(), "ui-accordion-content-active")));
      },
      _toggle: function(b) {
        var c = b.newPanel,
          d = this.prevShow.length ? this.prevShow : b.oldPanel;
        this.prevShow.add(this.prevHide).stop(!0, !0),
          (this.prevShow = c),
          (this.prevHide = d),
          this.options.animate
            ? this._animate(c, d, b)
            : (d.hide(), c.show(), this._toggleComplete(b)),
          d.attr({ "aria-hidden": "true" }),
          d.prev().attr({ "aria-selected": "false", "aria-expanded": "false" }),
          c.length && d.length
            ? d.prev().attr({ tabIndex: -1, "aria-expanded": "false" })
            : c.length &&
              this.headers
                .filter(function() {
                  return 0 === parseInt(a(this).attr("tabIndex"), 10);
                })
                .attr("tabIndex", -1),
          c
            .attr("aria-hidden", "false")
            .prev()
            .attr({
              "aria-selected": "true",
              "aria-expanded": "true",
              tabIndex: 0
            });
      },
      _animate: function(a, b, c) {
        var d,
          e,
          f,
          g = this,
          h = 0,
          i = a.css("box-sizing"),
          j = a.length && (!b.length || a.index() < b.index()),
          k = this.options.animate || {},
          l = (j && k.down) || k,
          m = function() {
            g._toggleComplete(c);
          };
        return (
          "number" == typeof l && (f = l),
          "string" == typeof l && (e = l),
          (e = e || l.easing || k.easing),
          (f = f || l.duration || k.duration),
          b.length
            ? a.length
              ? ((d = a.show().outerHeight()),
                b.animate(this.hideProps, {
                  duration: f,
                  easing: e,
                  step: function(a, b) {
                    b.now = Math.round(a);
                  }
                }),
                void a.hide().animate(this.showProps, {
                  duration: f,
                  easing: e,
                  complete: m,
                  step: function(a, c) {
                    (c.now = Math.round(a)),
                      "height" !== c.prop
                        ? "content-box" === i && (h += c.now)
                        : "content" !== g.options.heightStyle &&
                          ((c.now = Math.round(d - b.outerHeight() - h)),
                          (h = 0));
                  }
                }))
              : b.animate(this.hideProps, f, e, m)
            : a.animate(this.showProps, f, e, m)
        );
      },
      _toggleComplete: function(a) {
        var b = a.oldPanel,
          c = b.prev();
        this._removeClass(b, "ui-accordion-content-active"),
          this._removeClass(c, "ui-accordion-header-active")._addClass(
            c,
            "ui-accordion-header-collapsed"
          ),
          b.length && (b.parent()[0].className = b.parent()[0].className),
          this._trigger("activate", null, a);
      }
    });
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return a.widget("ui.menu", {
      version: "@VERSION",
      defaultElement: "<ul>",
      delay: 300,
      options: {
        icons: { submenu: "ui-icon-caret-1-e" },
        items: "> *",
        menus: "ul",
        position: { my: "left top", at: "right top" },
        role: "menu",
        blur: null,
        focus: null,
        select: null
      },
      _create: function() {
        (this.activeMenu = this.element),
          (this.mouseHandled = !1),
          (this.lastMousePosition = { x: null, y: null }),
          this.element
            .uniqueId()
            .attr({ role: this.options.role, tabIndex: 0 }),
          this._addClass("ui-menu", "ui-widget ui-widget-content"),
          this._on({
            "mousedown .ui-menu-item": function(a) {
              a.preventDefault(), this._activateItem(a);
            },
            "click .ui-menu-item": function(b) {
              var c = a(b.target),
                d = a(a.ui.safeActiveElement(this.document[0]));
              !this.mouseHandled &&
                c.not(".ui-state-disabled").length &&
                (this.select(b),
                b.isPropagationStopped() || (this.mouseHandled = !0),
                c.has(".ui-menu").length
                  ? this.expand(b)
                  : !this.element.is(":focus") &&
                    d.closest(".ui-menu").length &&
                    (this.element.trigger("focus", [!0]),
                    this.active &&
                      1 === this.active.parents(".ui-menu").length &&
                      clearTimeout(this.timer)));
            },
            "mouseenter .ui-menu-item": "_activateItem",
            "mousemove .ui-menu-item": "_activateItem",
            mouseleave: "collapseAll",
            "mouseleave .ui-menu": "collapseAll",
            focus: function(a, b) {
              var c = this.active || this._menuItems().first();
              b || this.focus(a, c);
            },
            blur: function(b) {
              this._delay(function() {
                var c = !a.contains(
                  this.element[0],
                  a.ui.safeActiveElement(this.document[0])
                );
                c && this.collapseAll(b);
              });
            },
            keydown: "_keydown"
          }),
          this.refresh(),
          this._on(this.document, {
            click: function(a) {
              this._closeOnDocumentClick(a) && this.collapseAll(a, !0),
                (this.mouseHandled = !1);
            }
          });
      },
      _activateItem: function(b) {
        if (
          !this.previousFilter &&
          (b.clientX !== this.lastMousePosition.x ||
            b.clientY !== this.lastMousePosition.y)
        ) {
          this.lastMousePosition = { x: b.clientX, y: b.clientY };
          var c = a(b.target).closest(".ui-menu-item"),
            d = a(b.currentTarget);
          c[0] === d[0] &&
            (d.is(".ui-state-active") ||
              (this._removeClass(
                d.siblings().children(".ui-state-active"),
                null,
                "ui-state-active"
              ),
              this.focus(b, d)));
        }
      },
      _destroy: function() {
        var b = this.element
            .find(".ui-menu-item")
            .removeAttr("role aria-disabled"),
          c = b
            .children(".ui-menu-item-wrapper")
            .removeUniqueId()
            .removeAttr("tabIndex role aria-haspopup");
        this.element
          .removeAttr("aria-activedescendant")
          .find(".ui-menu")
          .addBack()
          .removeAttr(
            "role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex"
          )
          .removeUniqueId()
          .show(),
          c.children().each(function() {
            var b = a(this);
            b.data("ui-menu-submenu-caret") && b.remove();
          });
      },
      _keydown: function(b) {
        var c,
          d,
          e,
          f,
          g = !0;
        switch (b.keyCode) {
          case a.ui.keyCode.PAGE_UP:
            this.previousPage(b);
            break;
          case a.ui.keyCode.PAGE_DOWN:
            this.nextPage(b);
            break;
          case a.ui.keyCode.HOME:
            this._move("first", "first", b);
            break;
          case a.ui.keyCode.END:
            this._move("last", "last", b);
            break;
          case a.ui.keyCode.UP:
            this.previous(b);
            break;
          case a.ui.keyCode.DOWN:
            this.next(b);
            break;
          case a.ui.keyCode.LEFT:
            this.collapse(b);
            break;
          case a.ui.keyCode.RIGHT:
            this.active &&
              !this.active.is(".ui-state-disabled") &&
              this.expand(b);
            break;
          case a.ui.keyCode.ENTER:
          case a.ui.keyCode.SPACE:
            this._activate(b);
            break;
          case a.ui.keyCode.ESCAPE:
            this.collapse(b);
            break;
          default:
            (g = !1),
              (d = this.previousFilter || ""),
              (f = !1),
              (e =
                b.keyCode >= 96 && b.keyCode <= 105
                  ? (b.keyCode - 96).toString()
                  : String.fromCharCode(b.keyCode)),
              clearTimeout(this.filterTimer),
              e === d ? (f = !0) : (e = d + e),
              (c = this._filterMenuItems(e)),
              (c =
                f && c.index(this.active.next()) !== -1
                  ? this.active.nextAll(".ui-menu-item")
                  : c),
              c.length ||
                ((e = String.fromCharCode(b.keyCode)),
                (c = this._filterMenuItems(e))),
              c.length
                ? (this.focus(b, c),
                  (this.previousFilter = e),
                  (this.filterTimer = this._delay(function() {
                    delete this.previousFilter;
                  }, 1e3)))
                : delete this.previousFilter;
        }
        g && b.preventDefault();
      },
      _activate: function(a) {
        this.active &&
          !this.active.is(".ui-state-disabled") &&
          (this.active.children("[aria-haspopup='true']").length
            ? this.expand(a)
            : this.select(a));
      },
      refresh: function() {
        var b,
          c,
          d,
          e,
          f,
          g = this,
          h = this.options.icons.submenu,
          i = this.element.find(this.options.menus);
        this._toggleClass(
          "ui-menu-icons",
          null,
          !!this.element.find(".ui-icon").length
        ),
          (d = i
            .filter(":not(.ui-menu)")
            .hide()
            .attr({
              role: this.options.role,
              "aria-hidden": "true",
              "aria-expanded": "false"
            })
            .each(function() {
              var b = a(this),
                c = b.prev(),
                d = a("<span>").data("ui-menu-submenu-caret", !0);
              g._addClass(d, "ui-menu-icon", "ui-icon " + h),
                c.attr("aria-haspopup", "true").prepend(d),
                b.attr("aria-labelledby", c.attr("id"));
            })),
          this._addClass(d, "ui-menu", "ui-widget ui-widget-content ui-front"),
          (b = i.add(this.element)),
          (c = b.find(this.options.items)),
          c.not(".ui-menu-item").each(function() {
            var b = a(this);
            g._isDivider(b) &&
              g._addClass(b, "ui-menu-divider", "ui-widget-content");
          }),
          (e = c.not(".ui-menu-item, .ui-menu-divider")),
          (f = e
            .children()
            .not(".ui-menu")
            .uniqueId()
            .attr({ tabIndex: -1, role: this._itemRole() })),
          this._addClass(e, "ui-menu-item")._addClass(
            f,
            "ui-menu-item-wrapper"
          ),
          c.filter(".ui-state-disabled").attr("aria-disabled", "true"),
          this.active &&
            !a.contains(this.element[0], this.active[0]) &&
            this.blur();
      },
      _itemRole: function() {
        return { menu: "menuitem", listbox: "option" }[this.options.role];
      },
      _setOption: function(a, b) {
        if ("icons" === a) {
          var c = this.element.find(".ui-menu-icon");
          this._removeClass(c, null, this.options.icons.submenu)._addClass(
            c,
            null,
            b.submenu
          );
        }
        this._super(a, b);
      },
      _setOptionDisabled: function(a) {
        this._super(a),
          this.element.attr("aria-disabled", String(a)),
          this._toggleClass(null, "ui-state-disabled", !!a);
      },
      focus: function(a, b) {
        var c, d, e;
        this.blur(a, a && "focus" === a.type),
          this._scrollIntoView(b),
          (this.active = b.first()),
          (d = this.active.children(".ui-menu-item-wrapper")),
          this._addClass(d, null, "ui-state-active"),
          this.options.role &&
            this.element.attr("aria-activedescendant", d.attr("id")),
          (e = this.active
            .parent()
            .closest(".ui-menu-item")
            .children(".ui-menu-item-wrapper")),
          this._addClass(e, null, "ui-state-active"),
          a && "keydown" === a.type
            ? this._close()
            : (this.timer = this._delay(function() {
                this._close();
              }, this.delay)),
          (c = b.children(".ui-menu")),
          c.length && a && /^mouse/.test(a.type) && this._startOpening(c),
          (this.activeMenu = b.parent()),
          this._trigger("focus", a, { item: b });
      },
      _scrollIntoView: function(b) {
        var c, d, e, f, g, h;
        this._hasScroll() &&
          ((c = parseFloat(a.css(this.activeMenu[0], "borderTopWidth")) || 0),
          (d = parseFloat(a.css(this.activeMenu[0], "paddingTop")) || 0),
          (e = b.offset().top - this.activeMenu.offset().top - c - d),
          (f = this.activeMenu.scrollTop()),
          (g = this.activeMenu.height()),
          (h = b.outerHeight()),
          e < 0
            ? this.activeMenu.scrollTop(f + e)
            : e + h > g && this.activeMenu.scrollTop(f + e - g + h));
      },
      blur: function(a, b) {
        b || clearTimeout(this.timer),
          this.active &&
            (this._removeClass(
              this.active.children(".ui-menu-item-wrapper"),
              null,
              "ui-state-active"
            ),
            this._trigger("blur", a, { item: this.active }),
            (this.active = null));
      },
      _startOpening: function(a) {
        clearTimeout(this.timer),
          "true" === a.attr("aria-hidden") &&
            (this.timer = this._delay(function() {
              this._close(), this._open(a);
            }, this.delay));
      },
      _open: function(b) {
        var c = a.extend({ of: this.active }, this.options.position);
        clearTimeout(this.timer),
          this.element
            .find(".ui-menu")
            .not(b.parents(".ui-menu"))
            .hide()
            .attr("aria-hidden", "true"),
          b
            .show()
            .removeAttr("aria-hidden")
            .attr("aria-expanded", "true")
            .position(c);
      },
      collapseAll: function(b, c) {
        clearTimeout(this.timer),
          (this.timer = this._delay(
            function() {
              var d = c
                ? this.element
                : a(b && b.target).closest(this.element.find(".ui-menu"));
              d.length || (d = this.element),
                this._close(d),
                this.blur(b),
                this._removeClass(
                  d.find(".ui-state-active"),
                  null,
                  "ui-state-active"
                ),
                (this.activeMenu = d);
            },
            c ? 0 : this.delay
          ));
      },
      _close: function(a) {
        a || (a = this.active ? this.active.parent() : this.element),
          a
            .find(".ui-menu")
            .hide()
            .attr("aria-hidden", "true")
            .attr("aria-expanded", "false");
      },
      _closeOnDocumentClick: function(b) {
        return !a(b.target).closest(".ui-menu").length;
      },
      _isDivider: function(a) {
        return !/[^\-\u2014\u2013\s]/.test(a.text());
      },
      collapse: function(a) {
        var b =
          this.active &&
          this.active.parent().closest(".ui-menu-item", this.element);
        b && b.length && (this._close(), this.focus(a, b));
      },
      expand: function(a) {
        var b =
          this.active &&
          this._menuItems(this.active.children(".ui-menu")).first();
        b &&
          b.length &&
          (this._open(b.parent()),
          this._delay(function() {
            this.focus(a, b);
          }));
      },
      next: function(a) {
        this._move("next", "first", a);
      },
      previous: function(a) {
        this._move("prev", "last", a);
      },
      isFirstItem: function() {
        return this.active && !this.active.prevAll(".ui-menu-item").length;
      },
      isLastItem: function() {
        return this.active && !this.active.nextAll(".ui-menu-item").length;
      },
      _menuItems: function(a) {
        return (a || this.element)
          .find(this.options.items)
          .filter(".ui-menu-item");
      },
      _move: function(a, b, c) {
        var d;
        this.active &&
          (d =
            "first" === a || "last" === a
              ? this.active["first" === a ? "prevAll" : "nextAll"](
                  ".ui-menu-item"
                ).last()
              : this.active[a + "All"](".ui-menu-item").first()),
          (d && d.length && this.active) ||
            (d = this._menuItems(this.activeMenu)[b]()),
          this.focus(c, d);
      },
      nextPage: function(b) {
        var c, d, e;
        return this.active
          ? void (
              this.isLastItem() ||
              (this._hasScroll()
                ? ((d = this.active.offset().top),
                  (e = this.element.height()),
                  this.active.nextAll(".ui-menu-item").each(function() {
                    return (c = a(this)), c.offset().top - d - e < 0;
                  }),
                  this.focus(b, c))
                : this.focus(
                    b,
                    this._menuItems(this.activeMenu)[
                      this.active ? "last" : "first"
                    ]()
                  ))
            )
          : void this.next(b);
      },
      previousPage: function(b) {
        var c, d, e;
        return this.active
          ? void (
              this.isFirstItem() ||
              (this._hasScroll()
                ? ((d = this.active.offset().top),
                  (e = this.element.height()),
                  this.active.prevAll(".ui-menu-item").each(function() {
                    return (c = a(this)), c.offset().top - d + e > 0;
                  }),
                  this.focus(b, c))
                : this.focus(b, this._menuItems(this.activeMenu).first()))
            )
          : void this.next(b);
      },
      _hasScroll: function() {
        return this.element.outerHeight() < this.element.prop("scrollHeight");
      },
      select: function(b) {
        this.active = this.active || a(b.target).closest(".ui-menu-item");
        var c = { item: this.active };
        this.active.has(".ui-menu").length || this.collapseAll(b, !0),
          this._trigger("select", b, c);
      },
      _filterMenuItems: function(b) {
        var c = b.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&"),
          d = new RegExp("^" + c, "i");
        return this.activeMenu
          .find(this.options.items)
          .filter(".ui-menu-item")
          .filter(function() {
            return d.test(
              String.prototype.trim.call(
                a(this)
                  .children(".ui-menu-item-wrapper")
                  .text()
              )
            );
          });
      }
    });
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return (
      a.widget("ui.autocomplete", {
        version: "@VERSION",
        defaultElement: "<input>",
        options: {
          appendTo: null,
          autoFocus: !1,
          delay: 300,
          minLength: 1,
          position: { my: "left top", at: "left bottom", collision: "none" },
          source: null,
          change: null,
          close: null,
          focus: null,
          open: null,
          response: null,
          search: null,
          select: null
        },
        requestIndex: 0,
        pending: 0,
        _create: function() {
          var b,
            c,
            d,
            e = this.element[0].nodeName.toLowerCase(),
            f = "textarea" === e,
            g = "input" === e;
          (this.isMultiLine =
            f || (!g && this._isContentEditable(this.element))),
            (this.valueMethod = this.element[f || g ? "val" : "text"]),
            (this.isNewMenu = !0),
            this._addClass("ui-autocomplete-input"),
            this.element.attr("autocomplete", "off"),
            this._on(this.element, {
              keydown: function(e) {
                if (this.element.prop("readOnly"))
                  return (b = !0), (d = !0), void (c = !0);
                (b = !1), (d = !1), (c = !1);
                var f = a.ui.keyCode;
                switch (e.keyCode) {
                  case f.PAGE_UP:
                    (b = !0), this._move("previousPage", e);
                    break;
                  case f.PAGE_DOWN:
                    (b = !0), this._move("nextPage", e);
                    break;
                  case f.UP:
                    (b = !0), this._keyEvent("previous", e);
                    break;
                  case f.DOWN:
                    (b = !0), this._keyEvent("next", e);
                    break;
                  case f.ENTER:
                    this.menu.active &&
                      ((b = !0), e.preventDefault(), this.menu.select(e));
                    break;
                  case f.TAB:
                    this.menu.active && this.menu.select(e);
                    break;
                  case f.ESCAPE:
                    this.menu.element.is(":visible") &&
                      (this.isMultiLine || this._value(this.term),
                      this.close(e),
                      e.preventDefault());
                    break;
                  default:
                    (c = !0), this._searchTimeout(e);
                }
              },
              keypress: function(d) {
                if (b)
                  return (
                    (b = !1),
                    void (
                      (this.isMultiLine && !this.menu.element.is(":visible")) ||
                      d.preventDefault()
                    )
                  );
                if (!c) {
                  var e = a.ui.keyCode;
                  switch (d.keyCode) {
                    case e.PAGE_UP:
                      this._move("previousPage", d);
                      break;
                    case e.PAGE_DOWN:
                      this._move("nextPage", d);
                      break;
                    case e.UP:
                      this._keyEvent("previous", d);
                      break;
                    case e.DOWN:
                      this._keyEvent("next", d);
                  }
                }
              },
              input: function(a) {
                return d
                  ? ((d = !1), void a.preventDefault())
                  : void this._searchTimeout(a);
              },
              focus: function() {
                (this.selectedItem = null), (this.previous = this._value());
              },
              blur: function(a) {
                clearTimeout(this.searching), this.close(a), this._change(a);
              }
            }),
            this._initSource(),
            (this.menu = a("<ul>")
              .appendTo(this._appendTo())
              .menu({ role: null })
              .hide()
              .attr({ unselectable: "on" })
              .menu("instance")),
            this._addClass(this.menu.element, "ui-autocomplete", "ui-front"),
            this._on(this.menu.element, {
              mousedown: function(a) {
                a.preventDefault();
              },
              menufocus: function(b, c) {
                var d, e;
                return this.isNewMenu &&
                  ((this.isNewMenu = !1),
                  b.originalEvent && /^mouse/.test(b.originalEvent.type))
                  ? (this.menu.blur(),
                    void this.document.one("mousemove", function() {
                      a(b.target).trigger(b.originalEvent);
                    }))
                  : ((e = c.item.data("ui-autocomplete-item")),
                    !1 !== this._trigger("focus", b, { item: e }) &&
                      b.originalEvent &&
                      /^key/.test(b.originalEvent.type) &&
                      this._value(e.value),
                    (d = c.item.attr("aria-label") || e.value),
                    void (
                      d &&
                      String.prototype.trim.call(d).length &&
                      (this.liveRegion.children().hide(),
                      a("<div>")
                        .text(d)
                        .appendTo(this.liveRegion))
                    ));
              },
              menuselect: function(b, c) {
                var d = c.item.data("ui-autocomplete-item"),
                  e = this.previous;
                this.element[0] !== a.ui.safeActiveElement(this.document[0]) &&
                  (this.element.trigger("focus"),
                  (this.previous = e),
                  this._delay(function() {
                    (this.previous = e), (this.selectedItem = d);
                  })),
                  !1 !== this._trigger("select", b, { item: d }) &&
                    this._value(d.value),
                  (this.term = this._value()),
                  this.close(b),
                  (this.selectedItem = d);
              }
            }),
            (this.liveRegion = a("<div>", {
              role: "status",
              "aria-live": "assertive",
              "aria-relevant": "additions"
            }).appendTo(this.document[0].body)),
            this._addClass(
              this.liveRegion,
              null,
              "ui-helper-hidden-accessible"
            ),
            this._on(this.window, {
              beforeunload: function() {
                this.element.removeAttr("autocomplete");
              }
            });
        },
        _destroy: function() {
          clearTimeout(this.searching),
            this.element.removeAttr("autocomplete"),
            this.menu.element.remove(),
            this.liveRegion.remove();
        },
        _setOption: function(a, b) {
          this._super(a, b),
            "source" === a && this._initSource(),
            "appendTo" === a && this.menu.element.appendTo(this._appendTo()),
            "disabled" === a && b && this.xhr && this.xhr.abort();
        },
        _isEventTargetInWidget: function(b) {
          var c = this.menu.element[0];
          return (
            b.target === this.element[0] ||
            b.target === c ||
            a.contains(c, b.target)
          );
        },
        _closeOnClickOutside: function(a) {
          this._isEventTargetInWidget(a) || this.close();
        },
        _appendTo: function() {
          var b = this.options.appendTo;
          return (
            b &&
              (b = b.jquery || b.nodeType ? a(b) : this.document.find(b).eq(0)),
            (b && b[0]) || (b = this.element.closest(".ui-front, dialog")),
            b.length || (b = this.document[0].body),
            b
          );
        },
        _initSource: function() {
          var b,
            c,
            d = this;
          Array.isArray(this.options.source)
            ? ((b = this.options.source),
              (this.source = function(c, d) {
                d(a.ui.autocomplete.filter(b, c.term));
              }))
            : "string" == typeof this.options.source
            ? ((c = this.options.source),
              (this.source = function(b, e) {
                d.xhr && d.xhr.abort(),
                  (d.xhr = a.ajax({
                    url: c,
                    data: b,
                    dataType: "json",
                    success: function(a) {
                      e(a);
                    },
                    error: function() {
                      e([]);
                    }
                  }));
              }))
            : (this.source = this.options.source);
        },
        _searchTimeout: function(a) {
          clearTimeout(this.searching),
            (this.searching = this._delay(function() {
              var b = this.term === this._value(),
                c = this.menu.element.is(":visible"),
                d = a.altKey || a.ctrlKey || a.metaKey || a.shiftKey;
              (b && (!b || c || d)) ||
                ((this.selectedItem = null), this.search(null, a));
            }, this.options.delay));
        },
        search: function(a, b) {
          return (
            (a = null != a ? a : this._value()),
            (this.term = this._value()),
            a.length < this.options.minLength
              ? this.close(b)
              : this._trigger("search", b) !== !1
              ? this._search(a)
              : void 0
          );
        },
        _search: function(a) {
          this.pending++,
            this._addClass("ui-autocomplete-loading"),
            (this.cancelSearch = !1),
            this.source({ term: a }, this._response());
        },
        _response: function() {
          var a = ++this.requestIndex;
          return function(b) {
            a === this.requestIndex && this.__response(b),
              this.pending--,
              this.pending || this._removeClass("ui-autocomplete-loading");
          }.bind(this);
        },
        __response: function(a) {
          a && (a = this._normalize(a)),
            this._trigger("response", null, { content: a }),
            !this.options.disabled && a && a.length && !this.cancelSearch
              ? (this._suggest(a), this._trigger("open"))
              : this._close();
        },
        close: function(a) {
          (this.cancelSearch = !0), this._close(a);
        },
        _close: function(a) {
          this._off(this.document, "mousedown"),
            this.menu.element.is(":visible") &&
              (this.menu.element.hide(),
              this.menu.blur(),
              (this.isNewMenu = !0),
              this._trigger("close", a));
        },
        _change: function(a) {
          this.previous !== this._value() &&
            this._trigger("change", a, { item: this.selectedItem });
        },
        _normalize: function(b) {
          return b.length && b[0].label && b[0].value
            ? b
            : a.map(b, function(b) {
                return "string" == typeof b
                  ? { label: b, value: b }
                  : a.extend({}, b, {
                      label: b.label || b.value,
                      value: b.value || b.label
                    });
              });
        },
        _suggest: function(b) {
          var c = this.menu.element.empty();
          this._renderMenu(c, b),
            (this.isNewMenu = !0),
            this.menu.refresh(),
            c.show(),
            this._resizeMenu(),
            c.position(a.extend({ of: this.element }, this.options.position)),
            this.options.autoFocus && this.menu.next(),
            this._on(this.document, { mousedown: "_closeOnClickOutside" });
        },
        _resizeMenu: function() {
          var a = this.menu.element;
          a.outerWidth(
            Math.max(a.width("").outerWidth() + 1, this.element.outerWidth())
          );
        },
        _renderMenu: function(b, c) {
          var d = this;
          a.each(c, function(a, c) {
            d._renderItemData(b, c);
          });
        },
        _renderItemData: function(a, b) {
          return this._renderItem(a, b).data("ui-autocomplete-item", b);
        },
        _renderItem: function(b, c) {
          return a("<li>")
            .append(a("<div>").text(c.label))
            .appendTo(b);
        },
        _move: function(a, b) {
          return this.menu.element.is(":visible")
            ? (this.menu.isFirstItem() && /^previous/.test(a)) ||
              (this.menu.isLastItem() && /^next/.test(a))
              ? (this.isMultiLine || this._value(this.term),
                void this.menu.blur())
              : void this.menu[a](b)
            : void this.search(null, b);
        },
        widget: function() {
          return this.menu.element;
        },
        _value: function() {
          return this.valueMethod.apply(this.element, arguments);
        },
        _keyEvent: function(a, b) {
          (this.isMultiLine && !this.menu.element.is(":visible")) ||
            (this._move(a, b), b.preventDefault());
        },
        _isContentEditable: function(a) {
          if (!a.length) return !1;
          var b = a.prop("contentEditable");
          return "inherit" === b
            ? this._isContentEditable(a.parent())
            : "true" === b;
        }
      }),
      a.extend(a.ui.autocomplete, {
        escapeRegex: function(a) {
          return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&");
        },
        filter: function(b, c) {
          var d = new RegExp(a.ui.autocomplete.escapeRegex(c), "i");
          return a.grep(b, function(a) {
            return d.test(a.label || a.value || a);
          });
        }
      }),
      a.widget("ui.autocomplete", a.ui.autocomplete, {
        options: {
          messages: {
            noResults: "No search results.",
            results: function(a) {
              return (
                a +
                (a > 1 ? " results are" : " result is") +
                " available, use up and down arrow keys to navigate."
              );
            }
          }
        },
        __response: function(b) {
          var c;
          this._superApply(arguments),
            this.options.disabled ||
              this.cancelSearch ||
              ((c =
                b && b.length
                  ? this.options.messages.results(b.length)
                  : this.options.messages.noResults),
              this.liveRegion.children().hide(),
              a("<div>")
                .text(c)
                .appendTo(this.liveRegion));
        }
      }),
      a.ui.autocomplete
    );
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    var b = /ui-corner-([a-z]){2,6}/g;
    return a.widget("ui.controlgroup", {
      version: "@VERSION",
      defaultElement: "<div>",
      options: {
        direction: "horizontal",
        disabled: null,
        onlyVisible: !0,
        items: {
          button:
            "input[type=button], input[type=submit], input[type=reset], button, a",
          controlgroupLabel: ".ui-controlgroup-label",
          checkboxradio: "input[type='checkbox'], input[type='radio']",
          selectmenu: "select",
          spinner: ".ui-spinner-input"
        }
      },
      _create: function() {
        this._enhance();
      },
      _enhance: function() {
        this.element.attr("role", "toolbar"), this.refresh();
      },
      _destroy: function() {
        this._callChildMethod("destroy"),
          this.childWidgets.removeData("ui-controlgroup-data"),
          this.element.removeAttr("role"),
          this.options.items.controlgroupLabel &&
            this.element
              .find(this.options.items.controlgroupLabel)
              .find(".ui-controlgroup-label-contents")
              .contents()
              .unwrap();
      },
      _initWidgets: function() {
        var b = this,
          c = [];
        a.each(this.options.items, function(d, e) {
          var f,
            g = {};
          if (e)
            return "controlgroupLabel" === d
              ? ((f = b.element.find(e)),
                f.each(function() {
                  var b = a(this);
                  b.children(".ui-controlgroup-label-contents").length ||
                    b
                      .contents()
                      .wrapAll(
                        "<span class='ui-controlgroup-label-contents'></span>"
                      );
                }),
                b._addClass(
                  f,
                  null,
                  "ui-widget ui-widget-content ui-state-default"
                ),
                void (c = c.concat(f.get())))
              : void (
                  a.fn[d] &&
                  ((g = b["_" + d + "Options"]
                    ? b["_" + d + "Options"]("middle")
                    : { classes: {} }),
                  b.element.find(e).each(function() {
                    var e = a(this),
                      f = e[d]("instance"),
                      h = a.widget.extend({}, g);
                    if ("button" !== d || !e.parent(".ui-spinner").length) {
                      f || (f = e[d]()[d]("instance")),
                        f &&
                          (h.classes = b._resolveClassesValues(h.classes, f)),
                        e[d](h);
                      var i = e[d]("widget");
                      a.data(
                        i[0],
                        "ui-controlgroup-data",
                        f ? f : e[d]("instance")
                      ),
                        c.push(i[0]);
                    }
                  }))
                );
        }),
          (this.childWidgets = a(a.uniqueSort(c))),
          this._addClass(this.childWidgets, "ui-controlgroup-item");
      },
      _callChildMethod: function(b) {
        this.childWidgets.each(function() {
          var c = a(this),
            d = c.data("ui-controlgroup-data");
          d && d[b] && d[b]();
        });
      },
      _updateCornerClass: function(a, b) {
        var c =
            "ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",
          d = this._buildSimpleOptions(b, "label").classes.label;
        this._removeClass(a, null, c), this._addClass(a, null, d);
      },
      _buildSimpleOptions: function(a, b) {
        var c = "vertical" === this.options.direction,
          d = { classes: {} };
        return (
          (d.classes[b] = {
            middle: "",
            first: "ui-corner-" + (c ? "top" : "left"),
            last: "ui-corner-" + (c ? "bottom" : "right"),
            only: "ui-corner-all"
          }[a]),
          d
        );
      },
      _spinnerOptions: function(a) {
        var b = this._buildSimpleOptions(a, "ui-spinner");
        return (
          (b.classes["ui-spinner-up"] = ""),
          (b.classes["ui-spinner-down"] = ""),
          b
        );
      },
      _buttonOptions: function(a) {
        return this._buildSimpleOptions(a, "ui-button");
      },
      _checkboxradioOptions: function(a) {
        return this._buildSimpleOptions(a, "ui-checkboxradio-label");
      },
      _selectmenuOptions: function(a) {
        var b = "vertical" === this.options.direction;
        return {
          width: !!b && "auto",
          classes: {
            middle: {
              "ui-selectmenu-button-open": "",
              "ui-selectmenu-button-closed": ""
            },
            first: {
              "ui-selectmenu-button-open": "ui-corner-" + (b ? "top" : "tl"),
              "ui-selectmenu-button-closed": "ui-corner-" + (b ? "top" : "left")
            },
            last: {
              "ui-selectmenu-button-open": b ? "" : "ui-corner-tr",
              "ui-selectmenu-button-closed":
                "ui-corner-" + (b ? "bottom" : "right")
            },
            only: {
              "ui-selectmenu-button-open": "ui-corner-top",
              "ui-selectmenu-button-closed": "ui-corner-all"
            }
          }[a]
        };
      },
      _resolveClassesValues: function(c, d) {
        var e = {};
        return (
          a.each(c, function(a) {
            var f = d.options.classes[a] || "";
            (f = String.prototype.trim.call(f.replace(b, ""))),
              (e[a] = (f + " " + c[a]).replace(/\s+/g, " "));
          }),
          e
        );
      },
      _setOption: function(a, b) {
        return (
          "direction" === a &&
            this._removeClass("ui-controlgroup-" + this.options.direction),
          this._super(a, b),
          "disabled" === a
            ? void this._callChildMethod(b ? "disable" : "enable")
            : void this.refresh()
        );
      },
      refresh: function() {
        var b,
          c = this;
        this._addClass(
          "ui-controlgroup ui-controlgroup-" + this.options.direction
        ),
          "horizontal" === this.options.direction &&
            this._addClass(null, "ui-helper-clearfix"),
          this._initWidgets(),
          (b = this.childWidgets),
          this.options.onlyVisible && (b = b.filter(":visible")),
          b.length &&
            (a.each(["first", "last"], function(a, d) {
              var e = b[d]().data("ui-controlgroup-data");
              if (e && c["_" + e.widgetName + "Options"]) {
                var f = c["_" + e.widgetName + "Options"](
                  1 === b.length ? "only" : d
                );
                (f.classes = c._resolveClassesValues(f.classes, e)),
                  e.element[e.widgetName](f);
              } else c._updateCornerClass(b[d](), d);
            }),
            this._callChildMethod("refresh"));
      }
    });
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return (
      a.widget("ui.checkboxradio", [
        a.ui.formResetMixin,
        {
          version: "@VERSION",
          options: {
            disabled: null,
            label: null,
            icon: !0,
            classes: {
              "ui-checkboxradio-label": "ui-corner-all",
              "ui-checkboxradio-icon": "ui-corner-all"
            }
          },
          _getCreateOptions: function() {
            var b,
              c,
              d = this,
              e = this._super() || {};
            return (
              this._readType(),
              (c = this.element.labels()),
              (this.label = a(c[c.length - 1])),
              this.label.length ||
                a.error("No label found for checkboxradio widget"),
              (this.originalLabel = ""),
              this.label
                .contents()
                .not(this.element[0])
                .each(function() {
                  d.originalLabel +=
                    3 === this.nodeType ? a(this).text() : this.outerHTML;
                }),
              this.originalLabel && (e.label = this.originalLabel),
              (b = this.element[0].disabled),
              null != b && (e.disabled = b),
              e
            );
          },
          _create: function() {
            var a = this.element[0].checked;
            this._bindFormResetHandler(),
              null == this.options.disabled &&
                (this.options.disabled = this.element[0].disabled),
              this._setOption("disabled", this.options.disabled),
              this._addClass("ui-checkboxradio", "ui-helper-hidden-accessible"),
              this._addClass(
                this.label,
                "ui-checkboxradio-label",
                "ui-button ui-widget"
              ),
              "radio" === this.type &&
                this._addClass(this.label, "ui-checkboxradio-radio-label"),
              this.options.label && this.options.label !== this.originalLabel
                ? this._updateLabel()
                : this.originalLabel &&
                  (this.options.label = this.originalLabel),
              this._enhance(),
              a &&
                this._addClass(
                  this.label,
                  "ui-checkboxradio-checked",
                  "ui-state-active"
                ),
              this._on({
                change: "_toggleClasses",
                focus: function() {
                  this._addClass(
                    this.label,
                    null,
                    "ui-state-focus ui-visual-focus"
                  );
                },
                blur: function() {
                  this._removeClass(
                    this.label,
                    null,
                    "ui-state-focus ui-visual-focus"
                  );
                }
              });
          },
          _readType: function() {
            var b = this.element[0].nodeName.toLowerCase();
            (this.type = this.element[0].type),
              ("input" === b && /radio|checkbox/.test(this.type)) ||
                a.error(
                  "Can't create checkboxradio on element.nodeName=" +
                    b +
                    " and element.type=" +
                    this.type
                );
          },
          _enhance: function() {
            this._updateIcon(this.element[0].checked);
          },
          widget: function() {
            return this.label;
          },
          _getRadioGroup: function() {
            var b,
              c = this.element[0].name,
              d = "input[name='" + a.ui.escapeSelector(c) + "']";
            return c
              ? ((b = this.form.length
                  ? a(this.form[0].elements).filter(d)
                  : a(d).filter(function() {
                      return 0 === a(this)._form().length;
                    })),
                b.not(this.element))
              : a([]);
          },
          _toggleClasses: function() {
            var b = this.element[0].checked;
            this._toggleClass(
              this.label,
              "ui-checkboxradio-checked",
              "ui-state-active",
              b
            ),
              this.options.icon &&
                "checkbox" === this.type &&
                this._toggleClass(
                  this.icon,
                  null,
                  "ui-icon-check ui-state-checked",
                  b
                )._toggleClass(this.icon, null, "ui-icon-blank", !b),
              "radio" === this.type &&
                this._getRadioGroup().each(function() {
                  var b = a(this).checkboxradio("instance");
                  b &&
                    b._removeClass(
                      b.label,
                      "ui-checkboxradio-checked",
                      "ui-state-active"
                    );
                });
          },
          _destroy: function() {
            this._unbindFormResetHandler(),
              this.icon && (this.icon.remove(), this.iconSpace.remove());
          },
          _setOption: function(a, b) {
            if ("label" !== a || b)
              return (
                this._super(a, b),
                "disabled" === a
                  ? (this._toggleClass(
                      this.label,
                      null,
                      "ui-state-disabled",
                      b
                    ),
                    void (this.element[0].disabled = b))
                  : void this.refresh()
              );
          },
          _updateIcon: function(b) {
            var c = "ui-icon ui-icon-background ";
            this.options.icon
              ? (this.icon ||
                  ((this.icon = a("<span>")),
                  (this.iconSpace = a("<span> </span>")),
                  this._addClass(
                    this.iconSpace,
                    "ui-checkboxradio-icon-space"
                  )),
                "checkbox" === this.type
                  ? ((c += b
                      ? "ui-icon-check ui-state-checked"
                      : "ui-icon-blank"),
                    this._removeClass(
                      this.icon,
                      null,
                      b ? "ui-icon-blank" : "ui-icon-check"
                    ))
                  : (c += "ui-icon-blank"),
                this._addClass(this.icon, "ui-checkboxradio-icon", c),
                b ||
                  this._removeClass(
                    this.icon,
                    null,
                    "ui-icon-check ui-state-checked"
                  ),
                this.icon.prependTo(this.label).after(this.iconSpace))
              : void 0 !== this.icon &&
                (this.icon.remove(), this.iconSpace.remove(), delete this.icon);
          },
          _updateLabel: function() {
            var a = this.label.contents().not(this.element[0]);
            this.icon && (a = a.not(this.icon[0])),
              this.iconSpace && (a = a.not(this.iconSpace[0])),
              a.remove(),
              this.label.append(this.options.label);
          },
          refresh: function() {
            var a = this.element[0].checked,
              b = this.element[0].disabled;
            this._updateIcon(a),
              this._toggleClass(
                this.label,
                "ui-checkboxradio-checked",
                "ui-state-active",
                a
              ),
              null !== this.options.label && this._updateLabel(),
              b !== this.options.disabled && this._setOptions({ disabled: b });
          }
        }
      ]),
      a.ui.checkboxradio
    );
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return (
      a.widget("ui.button", {
        version: "@VERSION",
        defaultElement: "<button>",
        options: {
          classes: { "ui-button": "ui-corner-all" },
          disabled: null,
          icon: null,
          iconPosition: "beginning",
          label: null,
          showLabel: !0
        },
        _getCreateOptions: function() {
          var a,
            b = this._super() || {};
          return (
            (this.isInput = this.element.is("input")),
            (a = this.element[0].disabled),
            null != a && (b.disabled = a),
            (this.originalLabel = this.isInput
              ? this.element.val()
              : this.element.html()),
            this.originalLabel && (b.label = this.originalLabel),
            b
          );
        },
        _create: function() {
          !this.option.showLabel & !this.options.icon &&
            (this.options.showLabel = !0),
            null == this.options.disabled &&
              (this.options.disabled = this.element[0].disabled || !1),
            (this.hasTitle = !!this.element.attr("title")),
            this.options.label &&
              this.options.label !== this.originalLabel &&
              (this.isInput
                ? this.element.val(this.options.label)
                : this.element.html(this.options.label)),
            this._addClass("ui-button", "ui-widget"),
            this._setOption("disabled", this.options.disabled),
            this._enhance(),
            this.element.is("a") &&
              this._on({
                keyup: function(b) {
                  b.keyCode === a.ui.keyCode.SPACE &&
                    (b.preventDefault(),
                    this.element[0].click
                      ? this.element[0].click()
                      : this.element.trigger("click"));
                }
              });
        },
        _enhance: function() {
          this.element.is("button") || this.element.attr("role", "button"),
            this.options.icon &&
              (this._updateIcon("icon", this.options.icon),
              this._updateTooltip());
        },
        _updateTooltip: function() {
          (this.title = this.element.attr("title")),
            this.options.showLabel ||
              this.title ||
              this.element.attr("title", this.options.label);
        },
        _updateIcon: function(b, c) {
          var d = "iconPosition" !== b,
            e = d ? this.options.iconPosition : c,
            f = "top" === e || "bottom" === e;
          this.icon
            ? d && this._removeClass(this.icon, null, this.options.icon)
            : ((this.icon = a("<span>")),
              this._addClass(this.icon, "ui-button-icon", "ui-icon"),
              this.options.showLabel || this._addClass("ui-button-icon-only")),
            d && this._addClass(this.icon, null, c),
            this._attachIcon(e),
            f
              ? (this._addClass(this.icon, null, "ui-widget-icon-block"),
                this.iconSpace && this.iconSpace.remove())
              : (this.iconSpace ||
                  ((this.iconSpace = a("<span> </span>")),
                  this._addClass(this.iconSpace, "ui-button-icon-space")),
                this._removeClass(this.icon, null, "ui-wiget-icon-block"),
                this._attachIconSpace(e));
        },
        _destroy: function() {
          this.element.removeAttr("role"),
            this.icon && this.icon.remove(),
            this.iconSpace && this.iconSpace.remove(),
            this.hasTitle || this.element.removeAttr("title");
        },
        _attachIconSpace: function(a) {
          this.icon[/^(?:end|bottom)/.test(a) ? "before" : "after"](
            this.iconSpace
          );
        },
        _attachIcon: function(a) {
          this.element[/^(?:end|bottom)/.test(a) ? "append" : "prepend"](
            this.icon
          );
        },
        _setOptions: function(a) {
          var b = void 0 === a.showLabel ? this.options.showLabel : a.showLabel,
            c = void 0 === a.icon ? this.options.icon : a.icon;
          b || c || (a.showLabel = !0), this._super(a);
        },
        _setOption: function(a, b) {
          "icon" === a &&
            (b
              ? this._updateIcon(a, b)
              : this.icon &&
                (this.icon.remove(),
                this.iconSpace && this.iconSpace.remove())),
            "iconPosition" === a && this._updateIcon(a, b),
            "showLabel" === a &&
              (this._toggleClass("ui-button-icon-only", null, !b),
              this._updateTooltip()),
            "label" === a &&
              (this.isInput
                ? this.element.val(b)
                : (this.element.html(b),
                  this.icon &&
                    (this._attachIcon(this.options.iconPosition),
                    this._attachIconSpace(this.options.iconPosition)))),
            this._super(a, b),
            "disabled" === a &&
              (this._toggleClass(null, "ui-state-disabled", b),
              (this.element[0].disabled = b),
              b && this.element.trigger("blur"));
        },
        refresh: function() {
          var a = this.element.is("input, button")
            ? this.element[0].disabled
            : this.element.hasClass("ui-button-disabled");
          a !== this.options.disabled && this._setOptions({ disabled: a }),
            this._updateTooltip();
        }
      }),
      a.uiBackCompat !== !1 &&
        (a.widget("ui.button", a.ui.button, {
          options: { text: !0, icons: { primary: null, secondary: null } },
          _create: function() {
            this.options.showLabel &&
              !this.options.text &&
              (this.options.showLabel = this.options.text),
              !this.options.showLabel &&
                this.options.text &&
                (this.options.text = this.options.showLabel),
              this.options.icon ||
              (!this.options.icons.primary && !this.options.icons.secondary)
                ? this.options.icon &&
                  (this.options.icons.primary = this.options.icon)
                : this.options.icons.primary
                ? (this.options.icon = this.options.icons.primary)
                : ((this.options.icon = this.options.icons.secondary),
                  (this.options.iconPosition = "end")),
              this._super();
          },
          _setOption: function(a, b) {
            return "text" === a
              ? void this._super("showLabel", b)
              : ("showLabel" === a && (this.options.text = b),
                "icon" === a && (this.options.icons.primary = b),
                "icons" === a &&
                  (b.primary
                    ? (this._super("icon", b.primary),
                      this._super("iconPosition", "beginning"))
                    : b.secondary &&
                      (this._super("icon", b.secondary),
                      this._super("iconPosition", "end"))),
                void this._superApply(arguments));
          }
        }),
        (a.fn.button = (function(b) {
          return function(c) {
            var d = "string" == typeof c,
              e = Array.prototype.slice.call(arguments, 1),
              f = this;
            return (
              d
                ? this.length || "instance" !== c
                  ? this.each(function() {
                      var b,
                        d = a(this).attr("type"),
                        g =
                          "checkbox" !== d && "radio" !== d
                            ? "button"
                            : "checkboxradio",
                        h = a.data(this, "ui-" + g);
                      return "instance" === c
                        ? ((f = h), !1)
                        : h
                        ? "function" != typeof h[c] || "_" === c.charAt(0)
                          ? a.error(
                              "no such method '" +
                                c +
                                "' for button widget instance"
                            )
                          : ((b = h[c].apply(h, e)),
                            b !== h && void 0 !== b
                              ? ((f = b && b.jquery ? f.pushStack(b.get()) : b),
                                !1)
                              : void 0)
                        : a.error(
                            "cannot call methods on button prior to initialization; attempted to call method '" +
                              c +
                              "'"
                          );
                    })
                  : (f = void 0)
                : (e.length && (c = a.widget.extend.apply(null, [c].concat(e))),
                  this.each(function() {
                    var d = a(this).attr("type"),
                      e =
                        "checkbox" !== d && "radio" !== d
                          ? "button"
                          : "checkboxradio",
                      f = a.data(this, "ui-" + e);
                    if (f) f.option(c || {}), f._init && f._init();
                    else {
                      if ("button" === e) return void b.call(a(this), c);
                      a(this).checkboxradio(a.extend({ icon: !1 }, c));
                    }
                  })),
              f
            );
          };
        })(a.fn.button)),
        (a.fn.buttonset = function() {
          return (
            a.ui.controlgroup || a.error("Controlgroup widget missing"),
            "option" === arguments[0] &&
            "items" === arguments[1] &&
            arguments[2]
              ? this.controlgroup.apply(this, [
                  arguments[0],
                  "items.button",
                  arguments[2]
                ])
              : "option" === arguments[0] && "items" === arguments[1]
              ? this.controlgroup.apply(this, [arguments[0], "items.button"])
              : ("object" == typeof arguments[0] &&
                  arguments[0].items &&
                  (arguments[0].items = { button: arguments[0].items }),
                this.controlgroup.apply(this, arguments))
          );
        })),
      a.ui.button
    );
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    function b(a) {
      for (var b, c; a.length && a[0] !== document; ) {
        if (
          ((b = a.css("position")),
          ("absolute" === b || "relative" === b || "fixed" === b) &&
            ((c = parseInt(a.css("zIndex"), 10)), !isNaN(c) && 0 !== c))
        )
          return c;
        a = a.parent();
      }
      return 0;
    }
    function c() {
      (this._curInst = null),
        (this._keyEvent = !1),
        (this._disabledInputs = []),
        (this._datepickerShowing = !1),
        (this._inDialog = !1),
        (this._mainDivId = "ui-datepicker-div"),
        (this._inlineClass = "ui-datepicker-inline"),
        (this._appendClass = "ui-datepicker-append"),
        (this._triggerClass = "ui-datepicker-trigger"),
        (this._dialogClass = "ui-datepicker-dialog"),
        (this._disableClass = "ui-datepicker-disabled"),
        (this._unselectableClass = "ui-datepicker-unselectable"),
        (this._currentClass = "ui-datepicker-current-day"),
        (this._dayOverClass = "ui-datepicker-days-cell-over"),
        (this.regional = []),
        (this.regional[""] = {
          closeText: "Done",
          prevText: "Prev",
          nextText: "Next",
          currentText: "Today",
          monthNames: [
            "January",
            "February",
            "March",
            "April",
            "May",
            "June",
            "July",
            "August",
            "September",
            "October",
            "November",
            "December"
          ],
          monthNamesShort: [
            "Jan",
            "Feb",
            "Mar",
            "Apr",
            "May",
            "Jun",
            "Jul",
            "Aug",
            "Sep",
            "Oct",
            "Nov",
            "Dec"
          ],
          dayNames: [
            "Sunday",
            "Monday",
            "Tuesday",
            "Wednesday",
            "Thursday",
            "Friday",
            "Saturday"
          ],
          dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
          dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
          weekHeader: "Wk",
          dateFormat: "mm/dd/yy",
          firstDay: 0,
          isRTL: !1,
          showMonthAfterYear: !1,
          yearSuffix: ""
        }),
        (this._defaults = {
          showOn: "focus",
          showAnim: "fadeIn",
          showOptions: {},
          defaultDate: null,
          appendText: "",
          buttonText: "...",
          buttonImage: "",
          buttonImageOnly: !1,
          hideIfNoPrevNext: !1,
          navigationAsDateFormat: !1,
          gotoCurrent: !1,
          changeMonth: !1,
          changeYear: !1,
          yearRange: "c-10:c+10",
          showOtherMonths: !1,
          selectOtherMonths: !1,
          showWeek: !1,
          calculateWeek: this.iso8601Week,
          shortYearCutoff: "+10",
          minDate: null,
          maxDate: null,
          duration: "fast",
          beforeShowDay: null,
          beforeShow: null,
          onSelect: null,
          onChangeMonthYear: null,
          onClose: null,
          numberOfMonths: 1,
          showCurrentAtPos: 0,
          stepMonths: 1,
          stepBigMonths: 12,
          altField: "",
          altFormat: "",
          constrainInput: !0,
          showButtonPanel: !1,
          autoSize: !1,
          disabled: !1
        }),
        a.extend(this._defaults, this.regional[""]),
        (this.regional.en = a.extend(!0, {}, this.regional[""])),
        (this.regional["en-US"] = a.extend(!0, {}, this.regional.en)),
        (this.dpDiv = d(
          a(
            "<div id='" +
              this._mainDivId +
              "' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"
          )
        ));
    }
    function d(b) {
      var c =
        "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";
      return b
        .on("mouseout", c, function() {
          a(this).removeClass("ui-state-hover"),
            this.className.indexOf("ui-datepicker-prev") !== -1 &&
              a(this).removeClass("ui-datepicker-prev-hover"),
            this.className.indexOf("ui-datepicker-next") !== -1 &&
              a(this).removeClass("ui-datepicker-next-hover");
        })
        .on("mouseover", c, e);
    }
    function e() {
      a.datepicker._isDisabledDatepicker(
        g.inline ? g.dpDiv.parent()[0] : g.input[0]
      ) ||
        (a(this)
          .parents(".ui-datepicker-calendar")
          .find("a")
          .removeClass("ui-state-hover"),
        a(this).addClass("ui-state-hover"),
        this.className.indexOf("ui-datepicker-prev") !== -1 &&
          a(this).addClass("ui-datepicker-prev-hover"),
        this.className.indexOf("ui-datepicker-next") !== -1 &&
          a(this).addClass("ui-datepicker-next-hover"));
    }
    function f(b, c) {
      a.extend(b, c);
      for (var d in c) null == c[d] && (b[d] = c[d]);
      return b;
    }
    a.extend(a.ui, { datepicker: { version: "@VERSION" } });
    var g;
    return (
      a.extend(c.prototype, {
        markerClassName: "hasDatepicker",
        maxRows: 4,
        _widgetDatepicker: function() {
          return this.dpDiv;
        },
        setDefaults: function(a) {
          return f(this._defaults, a || {}), this;
        },
        _attachDatepicker: function(b, c) {
          var d, e, f;
          (d = b.nodeName.toLowerCase()),
            (e = "div" === d || "span" === d),
            b.id || ((this.uuid += 1), (b.id = "dp" + this.uuid)),
            (f = this._newInst(a(b), e)),
            (f.settings = a.extend({}, c || {})),
            "input" === d
              ? this._connectDatepicker(b, f)
              : e && this._inlineDatepicker(b, f);
        },
        _newInst: function(b, c) {
          var e = b[0].id.replace(/([^A-Za-z0-9_\-])/g, "\\\\$1");
          return {
            id: e,
            input: b,
            selectedDay: 0,
            selectedMonth: 0,
            selectedYear: 0,
            drawMonth: 0,
            drawYear: 0,
            inline: c,
            dpDiv: c
              ? d(
                  a(
                    "<div class='" +
                      this._inlineClass +
                      " ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"
                  )
                )
              : this.dpDiv
          };
        },
        _connectDatepicker: function(b, c) {
          var d = a(b);
          (c.append = a([])),
            (c.trigger = a([])),
            d.hasClass(this.markerClassName) ||
              (this._attachments(d, c),
              d
                .addClass(this.markerClassName)
                .on("keydown", this._doKeyDown)
                .on("keypress", this._doKeyPress)
                .on("keyup", this._doKeyUp),
              this._autoSize(c),
              a.data(b, "datepicker", c),
              c.settings.disabled && this._disableDatepicker(b));
        },
        _attachments: function(b, c) {
          var d,
            e,
            f,
            g = this._get(c, "appendText"),
            h = this._get(c, "isRTL");
          c.append && c.append.remove(),
            g &&
              ((c.append = a(
                "<span class='" + this._appendClass + "'>" + g + "</span>"
              )),
              b[h ? "before" : "after"](c.append)),
            b.off("focus", this._showDatepicker),
            c.trigger && c.trigger.remove(),
            (d = this._get(c, "showOn")),
            ("focus" !== d && "both" !== d) ||
              b.on("focus", this._showDatepicker),
            ("button" !== d && "both" !== d) ||
              ((e = this._get(c, "buttonText")),
              (f = this._get(c, "buttonImage")),
              (c.trigger = a(
                this._get(c, "buttonImageOnly")
                  ? a("<img/>")
                      .addClass(this._triggerClass)
                      .attr({ src: f, alt: e, title: e })
                  : a("<button type='button'></button>")
                      .addClass(this._triggerClass)
                      .html(
                        f ? a("<img/>").attr({ src: f, alt: e, title: e }) : e
                      )
              )),
              b[h ? "before" : "after"](c.trigger),
              c.trigger.on("click", function() {
                return (
                  a.datepicker._datepickerShowing &&
                  a.datepicker._lastInput === b[0]
                    ? a.datepicker._hideDatepicker()
                    : a.datepicker._datepickerShowing &&
                      a.datepicker._lastInput !== b[0]
                    ? (a.datepicker._hideDatepicker(),
                      a.datepicker._showDatepicker(b[0]))
                    : a.datepicker._showDatepicker(b[0]),
                  !1
                );
              }));
        },
        _autoSize: function(a) {
          if (this._get(a, "autoSize") && !a.inline) {
            var b,
              c,
              d,
              e,
              f = new Date(2009, 11, 20),
              g = this._get(a, "dateFormat");
            g.match(/[DM]/) &&
              ((b = function(a) {
                for (c = 0, d = 0, e = 0; e < a.length; e++)
                  a[e].length > c && ((c = a[e].length), (d = e));
                return d;
              }),
              f.setMonth(
                b(
                  this._get(a, g.match(/MM/) ? "monthNames" : "monthNamesShort")
                )
              ),
              f.setDate(
                b(this._get(a, g.match(/DD/) ? "dayNames" : "dayNamesShort")) +
                  20 -
                  f.getDay()
              )),
              a.input.attr("size", this._formatDate(a, f).length);
          }
        },
        _inlineDatepicker: function(b, c) {
          var d = a(b);
          d.hasClass(this.markerClassName) ||
            (d.addClass(this.markerClassName).append(c.dpDiv),
            a.data(b, "datepicker", c),
            this._setDate(c, this._getDefaultDate(c), !0),
            this._updateDatepicker(c),
            this._updateAlternate(c),
            c.settings.disabled && this._disableDatepicker(b),
            c.dpDiv.css("display", "block"));
        },
        _dialogDatepicker: function(b, c, d, e, g) {
          var h,
            i,
            j,
            k,
            l,
            m = this._dialogInst;
          return (
            m ||
              ((this.uuid += 1),
              (h = "dp" + this.uuid),
              (this._dialogInput = a(
                "<input type='text' id='" +
                  h +
                  "' style='position: absolute; top: -100px; width: 0px;'/>"
              )),
              this._dialogInput.on("keydown", this._doKeyDown),
              a("body").append(this._dialogInput),
              (m = this._dialogInst = this._newInst(this._dialogInput, !1)),
              (m.settings = {}),
              a.data(this._dialogInput[0], "datepicker", m)),
            f(m.settings, e || {}),
            (c = c && c.constructor === Date ? this._formatDate(m, c) : c),
            this._dialogInput.val(c),
            (this._pos = g ? (g.length ? g : [g.pageX, g.pageY]) : null),
            this._pos ||
              ((i = document.documentElement.clientWidth),
              (j = document.documentElement.clientHeight),
              (k =
                document.documentElement.scrollLeft ||
                document.body.scrollLeft),
              (l =
                document.documentElement.scrollTop || document.body.scrollTop),
              (this._pos = [i / 2 - 100 + k, j / 2 - 150 + l])),
            this._dialogInput
              .css("left", this._pos[0] + 20 + "px")
              .css("top", this._pos[1] + "px"),
            (m.settings.onSelect = d),
            (this._inDialog = !0),
            this.dpDiv.addClass(this._dialogClass),
            this._showDatepicker(this._dialogInput[0]),
            a.blockUI && a.blockUI(this.dpDiv),
            a.data(this._dialogInput[0], "datepicker", m),
            this
          );
        },
        _destroyDatepicker: function(b) {
          var c,
            d = a(b),
            e = a.data(b, "datepicker");
          d.hasClass(this.markerClassName) &&
            ((c = b.nodeName.toLowerCase()),
            a.removeData(b, "datepicker"),
            "input" === c
              ? (e.append.remove(),
                e.trigger.remove(),
                d
                  .removeClass(this.markerClassName)
                  .off("focus", this._showDatepicker)
                  .off("keydown", this._doKeyDown)
                  .off("keypress", this._doKeyPress)
                  .off("keyup", this._doKeyUp))
              : ("div" !== c && "span" !== c) ||
                d.removeClass(this.markerClassName).empty(),
            g === e && ((g = null), (this._curInst = null)));
        },
        _enableDatepicker: function(b) {
          var c,
            d,
            e = a(b),
            f = a.data(b, "datepicker");
          e.hasClass(this.markerClassName) &&
            ((c = b.nodeName.toLowerCase()),
            "input" === c
              ? ((b.disabled = !1),
                f.trigger
                  .filter("button")
                  .each(function() {
                    this.disabled = !1;
                  })
                  .end()
                  .filter("img")
                  .css({ opacity: "1.0", cursor: "" }))
              : ("div" !== c && "span" !== c) ||
                ((d = e.children("." + this._inlineClass)),
                d.children().removeClass("ui-state-disabled"),
                d
                  .find("select.ui-datepicker-month, select.ui-datepicker-year")
                  .prop("disabled", !1)),
            (this._disabledInputs = a.map(this._disabledInputs, function(a) {
              return a === b ? null : a;
            })));
        },
        _disableDatepicker: function(b) {
          var c,
            d,
            e = a(b),
            f = a.data(b, "datepicker");
          e.hasClass(this.markerClassName) &&
            ((c = b.nodeName.toLowerCase()),
            "input" === c
              ? ((b.disabled = !0),
                f.trigger
                  .filter("button")
                  .each(function() {
                    this.disabled = !0;
                  })
                  .end()
                  .filter("img")
                  .css({ opacity: "0.5", cursor: "default" }))
              : ("div" !== c && "span" !== c) ||
                ((d = e.children("." + this._inlineClass)),
                d.children().addClass("ui-state-disabled"),
                d
                  .find("select.ui-datepicker-month, select.ui-datepicker-year")
                  .prop("disabled", !0)),
            (this._disabledInputs = a.map(this._disabledInputs, function(a) {
              return a === b ? null : a;
            })),
            (this._disabledInputs[this._disabledInputs.length] = b));
        },
        _isDisabledDatepicker: function(a) {
          if (!a) return !1;
          for (var b = 0; b < this._disabledInputs.length; b++)
            if (this._disabledInputs[b] === a) return !0;
          return !1;
        },
        _getInst: function(b) {
          try {
            return a.data(b, "datepicker");
          } catch (c) {
            throw "Missing instance data for this datepicker";
          }
        },
        _optionDatepicker: function(b, c, d) {
          var e,
            g,
            h,
            i,
            j = this._getInst(b);
          return 2 === arguments.length && "string" == typeof c
            ? "defaults" === c
              ? a.extend({}, a.datepicker._defaults)
              : j
              ? "all" === c
                ? a.extend({}, j.settings)
                : this._get(j, c)
              : null
            : ((e = c || {}),
              "string" == typeof c && ((e = {}), (e[c] = d)),
              void (
                j &&
                (this._curInst === j && this._hideDatepicker(),
                (g = this._getDateDatepicker(b, !0)),
                (h = this._getMinMaxDate(j, "min")),
                (i = this._getMinMaxDate(j, "max")),
                f(j.settings, e),
                null !== h &&
                  void 0 !== e.dateFormat &&
                  void 0 === e.minDate &&
                  (j.settings.minDate = this._formatDate(j, h)),
                null !== i &&
                  void 0 !== e.dateFormat &&
                  void 0 === e.maxDate &&
                  (j.settings.maxDate = this._formatDate(j, i)),
                "disabled" in e &&
                  (e.disabled
                    ? this._disableDatepicker(b)
                    : this._enableDatepicker(b)),
                this._attachments(a(b), j),
                this._autoSize(j),
                this._setDate(j, g),
                this._updateAlternate(j),
                this._updateDatepicker(j))
              ));
        },
        _changeDatepicker: function(a, b, c) {
          this._optionDatepicker(a, b, c);
        },
        _refreshDatepicker: function(a) {
          var b = this._getInst(a);
          b && this._updateDatepicker(b);
        },
        _setDateDatepicker: function(a, b) {
          var c = this._getInst(a);
          c &&
            (this._setDate(c, b),
            this._updateDatepicker(c),
            this._updateAlternate(c));
        },
        _getDateDatepicker: function(a, b) {
          var c = this._getInst(a);
          return (
            c && !c.inline && this._setDateFromField(c, b),
            c ? this._getDate(c) : null
          );
        },
        _doKeyDown: function(b) {
          var c,
            d,
            e,
            f = a.datepicker._getInst(b.target),
            g = !0,
            h = f.dpDiv.is(".ui-datepicker-rtl");
          if (((f._keyEvent = !0), a.datepicker._datepickerShowing))
            switch (b.keyCode) {
              case 9:
                a.datepicker._hideDatepicker(), (g = !1);
                break;
              case 13:
                return (
                  (e = a(
                    "td." +
                      a.datepicker._dayOverClass +
                      ":not(." +
                      a.datepicker._currentClass +
                      ")",
                    f.dpDiv
                  )),
                  e[0] &&
                    a.datepicker._selectDay(
                      b.target,
                      f.selectedMonth,
                      f.selectedYear,
                      e[0]
                    ),
                  (c = a.datepicker._get(f, "onSelect")),
                  c
                    ? ((d = a.datepicker._formatDate(f)),
                      c.apply(f.input ? f.input[0] : null, [d, f]))
                    : a.datepicker._hideDatepicker(),
                  !1
                );
              case 27:
                a.datepicker._hideDatepicker();
                break;
              case 33:
                a.datepicker._adjustDate(
                  b.target,
                  b.ctrlKey
                    ? -a.datepicker._get(f, "stepBigMonths")
                    : -a.datepicker._get(f, "stepMonths"),
                  "M"
                );
                break;
              case 34:
                a.datepicker._adjustDate(
                  b.target,
                  b.ctrlKey
                    ? +a.datepicker._get(f, "stepBigMonths")
                    : +a.datepicker._get(f, "stepMonths"),
                  "M"
                );
                break;
              case 35:
                (b.ctrlKey || b.metaKey) && a.datepicker._clearDate(b.target),
                  (g = b.ctrlKey || b.metaKey);
                break;
              case 36:
                (b.ctrlKey || b.metaKey) && a.datepicker._gotoToday(b.target),
                  (g = b.ctrlKey || b.metaKey);
                break;
              case 37:
                (b.ctrlKey || b.metaKey) &&
                  a.datepicker._adjustDate(b.target, h ? 1 : -1, "D"),
                  (g = b.ctrlKey || b.metaKey),
                  b.originalEvent.altKey &&
                    a.datepicker._adjustDate(
                      b.target,
                      b.ctrlKey
                        ? -a.datepicker._get(f, "stepBigMonths")
                        : -a.datepicker._get(f, "stepMonths"),
                      "M"
                    );
                break;
              case 38:
                (b.ctrlKey || b.metaKey) &&
                  a.datepicker._adjustDate(b.target, -7, "D"),
                  (g = b.ctrlKey || b.metaKey);
                break;
              case 39:
                (b.ctrlKey || b.metaKey) &&
                  a.datepicker._adjustDate(b.target, h ? -1 : 1, "D"),
                  (g = b.ctrlKey || b.metaKey),
                  b.originalEvent.altKey &&
                    a.datepicker._adjustDate(
                      b.target,
                      b.ctrlKey
                        ? +a.datepicker._get(f, "stepBigMonths")
                        : +a.datepicker._get(f, "stepMonths"),
                      "M"
                    );
                break;
              case 40:
                (b.ctrlKey || b.metaKey) &&
                  a.datepicker._adjustDate(b.target, 7, "D"),
                  (g = b.ctrlKey || b.metaKey);
                break;
              default:
                g = !1;
            }
          else
            36 === b.keyCode && b.ctrlKey
              ? a.datepicker._showDatepicker(this)
              : (g = !1);
          g && (b.preventDefault(), b.stopPropagation());
        },
        _doKeyPress: function(b) {
          var c,
            d,
            e = a.datepicker._getInst(b.target);
          if (a.datepicker._get(e, "constrainInput"))
            return (
              (c = a.datepicker._possibleChars(
                a.datepicker._get(e, "dateFormat")
              )),
              (d = String.fromCharCode(
                null == b.charCode ? b.keyCode : b.charCode
              )),
              b.ctrlKey || b.metaKey || d < " " || !c || c.indexOf(d) > -1
            );
        },
        _doKeyUp: function(b) {
          var c,
            d = a.datepicker._getInst(b.target);
          if (d.input.val() !== d.lastVal)
            try {
              (c = a.datepicker.parseDate(
                a.datepicker._get(d, "dateFormat"),
                d.input ? d.input.val() : null,
                a.datepicker._getFormatConfig(d)
              )),
                c &&
                  (a.datepicker._setDateFromField(d),
                  a.datepicker._updateAlternate(d),
                  a.datepicker._updateDatepicker(d));
            } catch (e) {}
          return !0;
        },
        _showDatepicker: function(c) {
          if (
            ((c = c.target || c),
            "input" !== c.nodeName.toLowerCase() &&
              (c = a("input", c.parentNode)[0]),
            !a.datepicker._isDisabledDatepicker(c) &&
              a.datepicker._lastInput !== c)
          ) {
            var d, e, g, h, i, j, k;
            (d = a.datepicker._getInst(c)),
              a.datepicker._curInst &&
                a.datepicker._curInst !== d &&
                (a.datepicker._curInst.dpDiv.stop(!0, !0),
                d &&
                  a.datepicker._datepickerShowing &&
                  a.datepicker._hideDatepicker(a.datepicker._curInst.input[0])),
              (e = a.datepicker._get(d, "beforeShow")),
              (g = e ? e.apply(c, [c, d]) : {}),
              g !== !1 &&
                (f(d.settings, g),
                (d.lastVal = null),
                (a.datepicker._lastInput = c),
                a.datepicker._setDateFromField(d),
                a.datepicker._inDialog && (c.value = ""),
                a.datepicker._pos ||
                  ((a.datepicker._pos = a.datepicker._findPos(c)),
                  (a.datepicker._pos[1] += c.offsetHeight)),
                (h = !1),
                a(c)
                  .parents()
                  .each(function() {
                    return (h |= "fixed" === a(this).css("position")), !h;
                  }),
                (i = { left: a.datepicker._pos[0], top: a.datepicker._pos[1] }),
                (a.datepicker._pos = null),
                d.dpDiv.empty(),
                d.dpDiv.css({
                  position: "absolute",
                  display: "block",
                  top: "-1000px"
                }),
                a.datepicker._updateDatepicker(d),
                (i = a.datepicker._checkOffset(d, i, h)),
                d.dpDiv.css({
                  position:
                    a.datepicker._inDialog && a.blockUI
                      ? "static"
                      : h
                      ? "fixed"
                      : "absolute",
                  display: "none",
                  left: i.left + "px",
                  top: i.top + "px"
                }),
                d.inline ||
                  ((j = a.datepicker._get(d, "showAnim")),
                  (k = a.datepicker._get(d, "duration")),
                  d.dpDiv.css("z-index", b(a(c)) + 1),
                  (a.datepicker._datepickerShowing = !0),
                  a.effects && a.effects.effect[j]
                    ? d.dpDiv.show(j, a.datepicker._get(d, "showOptions"), k)
                    : d.dpDiv[j || "show"](j ? k : null),
                  a.datepicker._shouldFocusInput(d) && d.input.trigger("focus"),
                  (a.datepicker._curInst = d)));
          }
        },
        _updateDatepicker: function(b) {
          (this.maxRows = 4),
            (g = b),
            b.dpDiv.empty().append(this._generateHTML(b)),
            this._attachHandlers(b);
          var c,
            d = this._getNumberOfMonths(b),
            f = d[1],
            h = 17,
            i = b.dpDiv.find("." + this._dayOverClass + " a");
          i.length > 0 && e.apply(i.get(0)),
            b.dpDiv
              .removeClass(
                "ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4"
              )
              .width(""),
            f > 1 &&
              b.dpDiv
                .addClass("ui-datepicker-multi-" + f)
                .css("width", h * f + "em"),
            b.dpDiv[(1 !== d[0] || 1 !== d[1] ? "add" : "remove") + "Class"](
              "ui-datepicker-multi"
            ),
            b.dpDiv[(this._get(b, "isRTL") ? "add" : "remove") + "Class"](
              "ui-datepicker-rtl"
            ),
            b === a.datepicker._curInst &&
              a.datepicker._datepickerShowing &&
              a.datepicker._shouldFocusInput(b) &&
              b.input.trigger("focus"),
            b.yearshtml &&
              ((c = b.yearshtml),
              setTimeout(function() {
                c === b.yearshtml &&
                  b.yearshtml &&
                  b.dpDiv
                    .find("select.ui-datepicker-year")
                    .first()
                    .replaceWith(b.yearshtml),
                  (c = b.yearshtml = null);
              }, 0));
        },
        _shouldFocusInput: function(a) {
          return (
            a.input &&
            a.input.is(":visible") &&
            !a.input.is(":disabled") &&
            !a.input.is(":focus")
          );
        },
        _checkOffset: function(b, c, d) {
          var e = b.dpDiv.outerWidth(),
            f = b.dpDiv.outerHeight(),
            g = b.input ? b.input.outerWidth() : 0,
            h = b.input ? b.input.outerHeight() : 0,
            i =
              document.documentElement.clientWidth +
              (d ? 0 : a(document).scrollLeft()),
            j =
              document.documentElement.clientHeight +
              (d ? 0 : a(document).scrollTop());
          return (
            (c.left -= this._get(b, "isRTL") ? e - g : 0),
            (c.left -=
              d && c.left === b.input.offset().left
                ? a(document).scrollLeft()
                : 0),
            (c.top -=
              d && c.top === b.input.offset().top + h
                ? a(document).scrollTop()
                : 0),
            (c.left -= Math.min(
              c.left,
              c.left + e > i && i > e ? Math.abs(c.left + e - i) : 0
            )),
            (c.top -= Math.min(
              c.top,
              c.top + f > j && j > f ? Math.abs(f + h) : 0
            )),
            c
          );
        },
        _findPos: function(b) {
          for (
            var c, d = this._getInst(b), e = this._get(d, "isRTL");
            b &&
            ("hidden" === b.type ||
              1 !== b.nodeType ||
              a.expr.pseudos.hidden(b));

          )
            b = b[e ? "previousSibling" : "nextSibling"];
          return (c = a(b).offset()), [c.left, c.top];
        },
        _hideDatepicker: function(b) {
          var c,
            d,
            e,
            f,
            g = this._curInst;
          !g ||
            (b && g !== a.data(b, "datepicker")) ||
            (this._datepickerShowing &&
              ((c = this._get(g, "showAnim")),
              (d = this._get(g, "duration")),
              (e = function() {
                a.datepicker._tidyDialog(g);
              }),
              a.effects && (a.effects.effect[c] || a.effects[c])
                ? g.dpDiv.hide(c, a.datepicker._get(g, "showOptions"), d, e)
                : g.dpDiv[
                    "slideDown" === c
                      ? "slideUp"
                      : "fadeIn" === c
                      ? "fadeOut"
                      : "hide"
                  ](c ? d : null, e),
              c || e(),
              (this._datepickerShowing = !1),
              (f = this._get(g, "onClose")),
              f &&
                f.apply(g.input ? g.input[0] : null, [
                  g.input ? g.input.val() : "",
                  g
                ]),
              (this._lastInput = null),
              this._inDialog &&
                (this._dialogInput.css({
                  position: "absolute",
                  left: "0",
                  top: "-100px"
                }),
                a.blockUI && (a.unblockUI(), a("body").append(this.dpDiv))),
              (this._inDialog = !1)));
        },
        _tidyDialog: function(a) {
          a.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar");
        },
        _checkExternalClick: function(b) {
          if (a.datepicker._curInst) {
            var c = a(b.target),
              d = a.datepicker._getInst(c[0]);
            ((c[0].id === a.datepicker._mainDivId ||
              0 !== c.parents("#" + a.datepicker._mainDivId).length ||
              c.hasClass(a.datepicker.markerClassName) ||
              c.closest("." + a.datepicker._triggerClass).length ||
              !a.datepicker._datepickerShowing ||
              (a.datepicker._inDialog && a.blockUI)) &&
              (!c.hasClass(a.datepicker.markerClassName) ||
                a.datepicker._curInst === d)) ||
              a.datepicker._hideDatepicker();
          }
        },
        _adjustDate: function(b, c, d) {
          var e = a(b),
            f = this._getInst(e[0]);
          this._isDisabledDatepicker(e[0]) ||
            (this._adjustInstDate(f, c, d), this._updateDatepicker(f));
        },
        _gotoToday: function(b) {
          var c,
            d = a(b),
            e = this._getInst(d[0]);
          this._get(e, "gotoCurrent") && e.currentDay
            ? ((e.selectedDay = e.currentDay),
              (e.drawMonth = e.selectedMonth = e.currentMonth),
              (e.drawYear = e.selectedYear = e.currentYear))
            : ((c = new Date()),
              (e.selectedDay = c.getDate()),
              (e.drawMonth = e.selectedMonth = c.getMonth()),
              (e.drawYear = e.selectedYear = c.getFullYear())),
            this._notifyChange(e),
            this._adjustDate(d);
        },
        _selectMonthYear: function(b, c, d) {
          var e = a(b),
            f = this._getInst(e[0]);
          (f["selected" + ("M" === d ? "Month" : "Year")] = f[
            "draw" + ("M" === d ? "Month" : "Year")
          ] = parseInt(c.options[c.selectedIndex].value, 10)),
            this._notifyChange(f),
            this._adjustDate(e);
        },
        _selectDay: function(b, c, d, e) {
          var f,
            g = a(b);
          a(e).hasClass(this._unselectableClass) ||
            this._isDisabledDatepicker(g[0]) ||
            ((f = this._getInst(g[0])),
            (f.selectedDay = f.currentDay = a("a", e).html()),
            (f.selectedMonth = f.currentMonth = c),
            (f.selectedYear = f.currentYear = d),
            this._selectDate(
              b,
              this._formatDate(f, f.currentDay, f.currentMonth, f.currentYear)
            ));
        },
        _clearDate: function(b) {
          var c = a(b);
          this._selectDate(c, "");
        },
        _selectDate: function(b, c) {
          var d,
            e = a(b),
            f = this._getInst(e[0]);
          (c = null != c ? c : this._formatDate(f)),
            f.input && f.input.val(c),
            this._updateAlternate(f),
            (d = this._get(f, "onSelect")),
            d
              ? d.apply(f.input ? f.input[0] : null, [c, f])
              : f.input && f.input.trigger("change"),
            f.inline
              ? this._updateDatepicker(f)
              : (this._hideDatepicker(),
                (this._lastInput = f.input[0]),
                "object" != typeof f.input[0] && f.input.trigger("focus"),
                (this._lastInput = null));
        },
        _updateAlternate: function(b) {
          var c,
            d,
            e,
            f = this._get(b, "altField");
          f &&
            ((c = this._get(b, "altFormat") || this._get(b, "dateFormat")),
            (d = this._getDate(b)),
            (e = this.formatDate(c, d, this._getFormatConfig(b))),
            a(f).val(e));
        },
        noWeekends: function(a) {
          var b = a.getDay();
          return [b > 0 && b < 6, ""];
        },
        iso8601Week: function(a) {
          var b,
            c = new Date(a.getTime());
          return (
            c.setDate(c.getDate() + 4 - (c.getDay() || 7)),
            (b = c.getTime()),
            c.setMonth(0),
            c.setDate(1),
            Math.floor(Math.round((b - c) / 864e5) / 7) + 1
          );
        },
        parseDate: function(b, c, d) {
          if (null == b || null == c) throw "Invalid arguments";
          if (((c = "object" == typeof c ? c.toString() : c + ""), "" === c))
            return null;
          var e,
            f,
            g,
            h,
            i = 0,
            j =
              (d ? d.shortYearCutoff : null) || this._defaults.shortYearCutoff,
            k =
              "string" != typeof j
                ? j
                : (new Date().getFullYear() % 100) + parseInt(j, 10),
            l = (d ? d.dayNamesShort : null) || this._defaults.dayNamesShort,
            m = (d ? d.dayNames : null) || this._defaults.dayNames,
            n =
              (d ? d.monthNamesShort : null) || this._defaults.monthNamesShort,
            o = (d ? d.monthNames : null) || this._defaults.monthNames,
            p = -1,
            q = -1,
            r = -1,
            s = -1,
            t = !1,
            u = function(a) {
              var c = e + 1 < b.length && b.charAt(e + 1) === a;
              return c && e++, c;
            },
            v = function(a) {
              var b = u(a),
                d =
                  "@" === a
                    ? 14
                    : "!" === a
                    ? 20
                    : "y" === a && b
                    ? 4
                    : "o" === a
                    ? 3
                    : 2,
                e = "y" === a ? d : 1,
                f = new RegExp("^\\d{" + e + "," + d + "}"),
                g = c.substring(i).match(f);
              if (!g) throw "Missing number at position " + i;
              return (i += g[0].length), parseInt(g[0], 10);
            },
            w = function(b, d, e) {
              var f = -1,
                g = a
                  .map(u(b) ? e : d, function(a, b) {
                    return [[b, a]];
                  })
                  .sort(function(a, b) {
                    return -(a[1].length - b[1].length);
                  });
              if (
                (a.each(g, function(a, b) {
                  var d = b[1];
                  if (c.substr(i, d.length).toLowerCase() === d.toLowerCase())
                    return (f = b[0]), (i += d.length), !1;
                }),
                f !== -1)
              )
                return f + 1;
              throw "Unknown name at position " + i;
            },
            x = function() {
              if (c.charAt(i) !== b.charAt(e))
                throw "Unexpected literal at position " + i;
              i++;
            };
          for (e = 0; e < b.length; e++)
            if (t) "'" !== b.charAt(e) || u("'") ? x() : (t = !1);
            else
              switch (b.charAt(e)) {
                case "d":
                  r = v("d");
                  break;
                case "D":
                  w("D", l, m);
                  break;
                case "o":
                  s = v("o");
                  break;
                case "m":
                  q = v("m");
                  break;
                case "M":
                  q = w("M", n, o);
                  break;
                case "y":
                  p = v("y");
                  break;
                case "@":
                  (h = new Date(v("@"))),
                    (p = h.getFullYear()),
                    (q = h.getMonth() + 1),
                    (r = h.getDate());
                  break;
                case "!":
                  (h = new Date((v("!") - this._ticksTo1970) / 1e4)),
                    (p = h.getFullYear()),
                    (q = h.getMonth() + 1),
                    (r = h.getDate());
                  break;
                case "'":
                  u("'") ? x() : (t = !0);
                  break;
                default:
                  x();
              }
          if (i < c.length && ((g = c.substr(i)), !/^\s+/.test(g)))
            throw "Extra/unparsed characters found in date: " + g;
          if (
            (p === -1
              ? (p = new Date().getFullYear())
              : p < 100 &&
                (p +=
                  new Date().getFullYear() -
                  (new Date().getFullYear() % 100) +
                  (p <= k ? 0 : -100)),
            s > -1)
          )
            for (q = 1, r = s; ; ) {
              if (((f = this._getDaysInMonth(p, q - 1)), r <= f)) break;
              q++, (r -= f);
            }
          if (
            ((h = this._daylightSavingAdjust(new Date(p, q - 1, r))),
            h.getFullYear() !== p ||
              h.getMonth() + 1 !== q ||
              h.getDate() !== r)
          )
            throw "Invalid date";
          return h;
        },
        ATOM: "yy-mm-dd",
        COOKIE: "D, dd M yy",
        ISO_8601: "yy-mm-dd",
        RFC_822: "D, d M y",
        RFC_850: "DD, dd-M-y",
        RFC_1036: "D, d M y",
        RFC_1123: "D, d M yy",
        RFC_2822: "D, d M yy",
        RSS: "D, d M y",
        TICKS: "!",
        TIMESTAMP: "@",
        W3C: "yy-mm-dd",
        _ticksTo1970:
          24 *
          (718685 + Math.floor(492.5) - Math.floor(19.7) + Math.floor(4.925)) *
          60 *
          60 *
          1e7,
        formatDate: function(a, b, c) {
          if (!b) return "";
          var d,
            e = (c ? c.dayNamesShort : null) || this._defaults.dayNamesShort,
            f = (c ? c.dayNames : null) || this._defaults.dayNames,
            g =
              (c ? c.monthNamesShort : null) || this._defaults.monthNamesShort,
            h = (c ? c.monthNames : null) || this._defaults.monthNames,
            i = function(b) {
              var c = d + 1 < a.length && a.charAt(d + 1) === b;
              return c && d++, c;
            },
            j = function(a, b, c) {
              var d = "" + b;
              if (i(a)) for (; d.length < c; ) d = "0" + d;
              return d;
            },
            k = function(a, b, c, d) {
              return i(a) ? d[b] : c[b];
            },
            l = "",
            m = !1;
          if (b)
            for (d = 0; d < a.length; d++)
              if (m)
                "'" !== a.charAt(d) || i("'") ? (l += a.charAt(d)) : (m = !1);
              else
                switch (a.charAt(d)) {
                  case "d":
                    l += j("d", b.getDate(), 2);
                    break;
                  case "D":
                    l += k("D", b.getDay(), e, f);
                    break;
                  case "o":
                    l += j(
                      "o",
                      Math.round(
                        (new Date(
                          b.getFullYear(),
                          b.getMonth(),
                          b.getDate()
                        ).getTime() -
                          new Date(b.getFullYear(), 0, 0).getTime()) /
                          864e5
                      ),
                      3
                    );
                    break;
                  case "m":
                    l += j("m", b.getMonth() + 1, 2);
                    break;
                  case "M":
                    l += k("M", b.getMonth(), g, h);
                    break;
                  case "y":
                    l += i("y")
                      ? b.getFullYear()
                      : (b.getFullYear() % 100 < 10 ? "0" : "") +
                        (b.getFullYear() % 100);
                    break;
                  case "@":
                    l += b.getTime();
                    break;
                  case "!":
                    l += 1e4 * b.getTime() + this._ticksTo1970;
                    break;
                  case "'":
                    i("'") ? (l += "'") : (m = !0);
                    break;
                  default:
                    l += a.charAt(d);
                }
          return l;
        },
        _possibleChars: function(a) {
          var b,
            c = "",
            d = !1,
            e = function(c) {
              var d = b + 1 < a.length && a.charAt(b + 1) === c;
              return d && b++, d;
            };
          for (b = 0; b < a.length; b++)
            if (d)
              "'" !== a.charAt(b) || e("'") ? (c += a.charAt(b)) : (d = !1);
            else
              switch (a.charAt(b)) {
                case "d":
                case "m":
                case "y":
                case "@":
                  c += "0123456789";
                  break;
                case "D":
                case "M":
                  return null;
                case "'":
                  e("'") ? (c += "'") : (d = !0);
                  break;
                default:
                  c += a.charAt(b);
              }
          return c;
        },
        _get: function(a, b) {
          return void 0 !== a.settings[b] ? a.settings[b] : this._defaults[b];
        },
        _setDateFromField: function(a, b) {
          if (a.input.val() !== a.lastVal) {
            var c = this._get(a, "dateFormat"),
              d = (a.lastVal = a.input ? a.input.val() : null),
              e = this._getDefaultDate(a),
              f = e,
              g = this._getFormatConfig(a);
            try {
              f = this.parseDate(c, d, g) || e;
            } catch (h) {
              d = b ? "" : d;
            }
            (a.selectedDay = f.getDate()),
              (a.drawMonth = a.selectedMonth = f.getMonth()),
              (a.drawYear = a.selectedYear = f.getFullYear()),
              (a.currentDay = d ? f.getDate() : 0),
              (a.currentMonth = d ? f.getMonth() : 0),
              (a.currentYear = d ? f.getFullYear() : 0),
              this._adjustInstDate(a);
          }
        },
        _getDefaultDate: function(a) {
          return this._restrictMinMax(
            a,
            this._determineDate(a, this._get(a, "defaultDate"), new Date())
          );
        },
        _determineDate: function(b, c, d) {
          var e = function(a) {
              var b = new Date();
              return b.setDate(b.getDate() + a), b;
            },
            f = function(c) {
              try {
                return a.datepicker.parseDate(
                  a.datepicker._get(b, "dateFormat"),
                  c,
                  a.datepicker._getFormatConfig(b)
                );
              } catch (d) {}
              for (
                var e =
                    (c.toLowerCase().match(/^c/)
                      ? a.datepicker._getDate(b)
                      : null) || new Date(),
                  f = e.getFullYear(),
                  g = e.getMonth(),
                  h = e.getDate(),
                  i = /([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,
                  j = i.exec(c);
                j;

              ) {
                switch (j[2] || "d") {
                  case "d":
                  case "D":
                    h += parseInt(j[1], 10);
                    break;
                  case "w":
                  case "W":
                    h += 7 * parseInt(j[1], 10);
                    break;
                  case "m":
                  case "M":
                    (g += parseInt(j[1], 10)),
                      (h = Math.min(h, a.datepicker._getDaysInMonth(f, g)));
                    break;
                  case "y":
                  case "Y":
                    (f += parseInt(j[1], 10)),
                      (h = Math.min(h, a.datepicker._getDaysInMonth(f, g)));
                }
                j = i.exec(c);
              }
              return new Date(f, g, h);
            },
            g =
              null == c || "" === c
                ? d
                : "string" == typeof c
                ? f(c)
                : "number" == typeof c
                ? isNaN(c)
                  ? d
                  : e(c)
                : new Date(c.getTime());
          return (
            (g = g && "Invalid Date" === g.toString() ? d : g),
            g &&
              (g.setHours(0),
              g.setMinutes(0),
              g.setSeconds(0),
              g.setMilliseconds(0)),
            this._daylightSavingAdjust(g)
          );
        },
        _daylightSavingAdjust: function(a) {
          return a
            ? (a.setHours(a.getHours() > 12 ? a.getHours() + 2 : 0), a)
            : null;
        },
        _setDate: function(a, b, c) {
          var d = !b,
            e = a.selectedMonth,
            f = a.selectedYear,
            g = this._restrictMinMax(a, this._determineDate(a, b, new Date()));
          (a.selectedDay = a.currentDay = g.getDate()),
            (a.drawMonth = a.selectedMonth = a.currentMonth = g.getMonth()),
            (a.drawYear = a.selectedYear = a.currentYear = g.getFullYear()),
            (e === a.selectedMonth && f === a.selectedYear) ||
              c ||
              this._notifyChange(a),
            this._adjustInstDate(a),
            a.input && a.input.val(d ? "" : this._formatDate(a));
        },
        _getDate: function(a) {
          var b =
            !a.currentYear || (a.input && "" === a.input.val())
              ? null
              : this._daylightSavingAdjust(
                  new Date(a.currentYear, a.currentMonth, a.currentDay)
                );
          return b;
        },
        _attachHandlers: function(b) {
          var c = this._get(b, "stepMonths"),
            d = "#" + b.id.replace(/\\\\/g, "\\");
          b.dpDiv.find("[data-handler]").map(function() {
            var b = {
              prev: function() {
                a.datepicker._adjustDate(d, -c, "M");
              },
              next: function() {
                a.datepicker._adjustDate(d, +c, "M");
              },
              hide: function() {
                a.datepicker._hideDatepicker();
              },
              today: function() {
                a.datepicker._gotoToday(d);
              },
              selectDay: function() {
                return (
                  a.datepicker._selectDay(
                    d,
                    +this.getAttribute("data-month"),
                    +this.getAttribute("data-year"),
                    this
                  ),
                  !1
                );
              },
              selectMonth: function() {
                return a.datepicker._selectMonthYear(d, this, "M"), !1;
              },
              selectYear: function() {
                return a.datepicker._selectMonthYear(d, this, "Y"), !1;
              }
            };
            a(this).on(
              this.getAttribute("data-event"),
              b[this.getAttribute("data-handler")]
            );
          });
        },
        _generateHTML: function(a) {
          var b,
            c,
            d,
            e,
            f,
            g,
            h,
            i,
            j,
            k,
            l,
            m,
            n,
            o,
            p,
            q,
            r,
            s,
            t,
            u,
            v,
            w,
            x,
            y,
            z,
            A,
            B,
            C,
            D,
            E,
            F,
            G,
            H,
            I,
            J,
            K,
            L,
            M,
            N,
            O = new Date(),
            P = this._daylightSavingAdjust(
              new Date(O.getFullYear(), O.getMonth(), O.getDate())
            ),
            Q = this._get(a, "isRTL"),
            R = this._get(a, "showButtonPanel"),
            S = this._get(a, "hideIfNoPrevNext"),
            T = this._get(a, "navigationAsDateFormat"),
            U = this._getNumberOfMonths(a),
            V = this._get(a, "showCurrentAtPos"),
            W = this._get(a, "stepMonths"),
            X = 1 !== U[0] || 1 !== U[1],
            Y = this._daylightSavingAdjust(
              a.currentDay
                ? new Date(a.currentYear, a.currentMonth, a.currentDay)
                : new Date(9999, 9, 9)
            ),
            Z = this._getMinMaxDate(a, "min"),
            $ = this._getMinMaxDate(a, "max"),
            _ = a.drawMonth - V,
            aa = a.drawYear;
          if ((_ < 0 && ((_ += 12), aa--), $))
            for (
              b = this._daylightSavingAdjust(
                new Date(
                  $.getFullYear(),
                  $.getMonth() - U[0] * U[1] + 1,
                  $.getDate()
                )
              ),
                b = Z && b < Z ? Z : b;
              this._daylightSavingAdjust(new Date(aa, _, 1)) > b;

            )
              _--, _ < 0 && ((_ = 11), aa--);
          for (
            a.drawMonth = _,
              a.drawYear = aa,
              c = this._get(a, "prevText"),
              c = T
                ? this.formatDate(
                    c,
                    this._daylightSavingAdjust(new Date(aa, _ - W, 1)),
                    this._getFormatConfig(a)
                  )
                : c,
              d = this._canAdjustMonth(a, -1, aa, _)
                ? "<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='" +
                  c +
                  "'><span class='ui-icon ui-icon-circle-triangle-" +
                  (Q ? "e" : "w") +
                  "'>" +
                  c +
                  "</span></a>"
                : S
                ? ""
                : "<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='" +
                  c +
                  "'><span class='ui-icon ui-icon-circle-triangle-" +
                  (Q ? "e" : "w") +
                  "'>" +
                  c +
                  "</span></a>",
              e = this._get(a, "nextText"),
              e = T
                ? this.formatDate(
                    e,
                    this._daylightSavingAdjust(new Date(aa, _ + W, 1)),
                    this._getFormatConfig(a)
                  )
                : e,
              f = this._canAdjustMonth(a, 1, aa, _)
                ? "<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='" +
                  e +
                  "'><span class='ui-icon ui-icon-circle-triangle-" +
                  (Q ? "w" : "e") +
                  "'>" +
                  e +
                  "</span></a>"
                : S
                ? ""
                : "<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='" +
                  e +
                  "'><span class='ui-icon ui-icon-circle-triangle-" +
                  (Q ? "w" : "e") +
                  "'>" +
                  e +
                  "</span></a>",
              g = this._get(a, "currentText"),
              h = this._get(a, "gotoCurrent") && a.currentDay ? Y : P,
              g = T ? this.formatDate(g, h, this._getFormatConfig(a)) : g,
              i = a.inline
                ? ""
                : "<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>" +
                  this._get(a, "closeText") +
                  "</button>",
              j = R
                ? "<div class='ui-datepicker-buttonpane ui-widget-content'>" +
                  (Q ? i : "") +
                  (this._isInRange(a, h)
                    ? "<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>" +
                      g +
                      "</button>"
                    : "") +
                  (Q ? "" : i) +
                  "</div>"
                : "",
              k = parseInt(this._get(a, "firstDay"), 10),
              k = isNaN(k) ? 0 : k,
              l = this._get(a, "showWeek"),
              m = this._get(a, "dayNames"),
              n = this._get(a, "dayNamesMin"),
              o = this._get(a, "monthNames"),
              p = this._get(a, "monthNamesShort"),
              q = this._get(a, "beforeShowDay"),
              r = this._get(a, "showOtherMonths"),
              s = this._get(a, "selectOtherMonths"),
              t = this._getDefaultDate(a),
              u = "",
              w = 0;
            w < U[0];
            w++
          ) {
            for (x = "", this.maxRows = 4, y = 0; y < U[1]; y++) {
              if (
                ((z = this._daylightSavingAdjust(
                  new Date(aa, _, a.selectedDay)
                )),
                (A = " ui-corner-all"),
                (B = ""),
                X)
              ) {
                if (((B += "<div class='ui-datepicker-group"), U[1] > 1))
                  switch (y) {
                    case 0:
                      (B += " ui-datepicker-group-first"),
                        (A = " ui-corner-" + (Q ? "right" : "left"));
                      break;
                    case U[1] - 1:
                      (B += " ui-datepicker-group-last"),
                        (A = " ui-corner-" + (Q ? "left" : "right"));
                      break;
                    default:
                      (B += " ui-datepicker-group-middle"), (A = "");
                  }
                B += "'>";
              }
              for (
                B +=
                  "<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix" +
                  A +
                  "'>" +
                  (/all|left/.test(A) && 0 === w ? (Q ? f : d) : "") +
                  (/all|right/.test(A) && 0 === w ? (Q ? d : f) : "") +
                  this._generateMonthYearHeader(
                    a,
                    _,
                    aa,
                    Z,
                    $,
                    w > 0 || y > 0,
                    o,
                    p
                  ) +
                  "</div><table class='ui-datepicker-calendar'><thead><tr>",
                  C = l
                    ? "<th class='ui-datepicker-week-col'>" +
                      this._get(a, "weekHeader") +
                      "</th>"
                    : "",
                  v = 0;
                v < 7;
                v++
              )
                (D = (v + k) % 7),
                  (C +=
                    "<th scope='col'" +
                    ((v + k + 6) % 7 >= 5
                      ? " class='ui-datepicker-week-end'"
                      : "") +
                    "><span title='" +
                    m[D] +
                    "'>" +
                    n[D] +
                    "</span></th>");
              for (
                B += C + "</tr></thead><tbody>",
                  E = this._getDaysInMonth(aa, _),
                  aa === a.selectedYear &&
                    _ === a.selectedMonth &&
                    (a.selectedDay = Math.min(a.selectedDay, E)),
                  F = (this._getFirstDayOfMonth(aa, _) - k + 7) % 7,
                  G = Math.ceil((F + E) / 7),
                  H = X && this.maxRows > G ? this.maxRows : G,
                  this.maxRows = H,
                  I = this._daylightSavingAdjust(new Date(aa, _, 1 - F)),
                  J = 0;
                J < H;
                J++
              ) {
                for (
                  B += "<tr>",
                    K = l
                      ? "<td class='ui-datepicker-week-col'>" +
                        this._get(a, "calculateWeek")(I) +
                        "</td>"
                      : "",
                    v = 0;
                  v < 7;
                  v++
                )
                  (L = q
                    ? q.apply(a.input ? a.input[0] : null, [I])
                    : [!0, ""]),
                    (M = I.getMonth() !== _),
                    (N = (M && !s) || !L[0] || (Z && I < Z) || ($ && I > $)),
                    (K +=
                      "<td class='" +
                      ((v + k + 6) % 7 >= 5 ? " ui-datepicker-week-end" : "") +
                      (M ? " ui-datepicker-other-month" : "") +
                      ((I.getTime() === z.getTime() &&
                        _ === a.selectedMonth &&
                        a._keyEvent) ||
                      (t.getTime() === I.getTime() &&
                        t.getTime() === z.getTime())
                        ? " " + this._dayOverClass
                        : "") +
                      (N
                        ? " " + this._unselectableClass + " ui-state-disabled"
                        : "") +
                      (M && !r
                        ? ""
                        : " " +
                          L[1] +
                          (I.getTime() === Y.getTime()
                            ? " " + this._currentClass
                            : "") +
                          (I.getTime() === P.getTime()
                            ? " ui-datepicker-today"
                            : "")) +
                      "'" +
                      ((M && !r) || !L[2]
                        ? ""
                        : " title='" + L[2].replace(/'/g, "&#39;") + "'") +
                      (N
                        ? ""
                        : " data-handler='selectDay' data-event='click' data-month='" +
                          I.getMonth() +
                          "' data-year='" +
                          I.getFullYear() +
                          "'") +
                      ">" +
                      (M && !r
                        ? "&#xa0;"
                        : N
                        ? "<span class='ui-state-default'>" +
                          I.getDate() +
                          "</span>"
                        : "<a class='ui-state-default" +
                          (I.getTime() === P.getTime()
                            ? " ui-state-highlight"
                            : "") +
                          (I.getTime() === Y.getTime()
                            ? " ui-state-active"
                            : "") +
                          (M ? " ui-priority-secondary" : "") +
                          "' href='#'>" +
                          I.getDate() +
                          "</a>") +
                      "</td>"),
                    I.setDate(I.getDate() + 1),
                    (I = this._daylightSavingAdjust(I));
                B += K + "</tr>";
              }
              _++,
                _ > 11 && ((_ = 0), aa++),
                (B +=
                  "</tbody></table>" +
                  (X
                    ? "</div>" +
                      (U[0] > 0 && y === U[1] - 1
                        ? "<div class='ui-datepicker-row-break'></div>"
                        : "")
                    : "")),
                (x += B);
            }
            u += x;
          }
          return (u += j), (a._keyEvent = !1), u;
        },
        _generateMonthYearHeader: function(a, b, c, d, e, f, g, h) {
          var i,
            j,
            k,
            l,
            m,
            n,
            o,
            p,
            q = this._get(a, "changeMonth"),
            r = this._get(a, "changeYear"),
            s = this._get(a, "showMonthAfterYear"),
            t = "<div class='ui-datepicker-title'>",
            u = "";
          if (f || !q)
            u += "<span class='ui-datepicker-month'>" + g[b] + "</span>";
          else {
            for (
              i = d && d.getFullYear() === c,
                j = e && e.getFullYear() === c,
                u +=
                  "<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",
                k = 0;
              k < 12;
              k++
            )
              (!i || k >= d.getMonth()) &&
                (!j || k <= e.getMonth()) &&
                (u +=
                  "<option value='" +
                  k +
                  "'" +
                  (k === b ? " selected='selected'" : "") +
                  ">" +
                  h[k] +
                  "</option>");
            u += "</select>";
          }
          if ((s || (t += u + (!f && q && r ? "" : "&#xa0;")), !a.yearshtml))
            if (((a.yearshtml = ""), f || !r))
              t += "<span class='ui-datepicker-year'>" + c + "</span>";
            else {
              for (
                l = this._get(a, "yearRange").split(":"),
                  m = new Date().getFullYear(),
                  n = function(a) {
                    var b = a.match(/c[+\-].*/)
                      ? c + parseInt(a.substring(1), 10)
                      : a.match(/[+\-].*/)
                      ? m + parseInt(a, 10)
                      : parseInt(a, 10);
                    return isNaN(b) ? m : b;
                  },
                  o = n(l[0]),
                  p = Math.max(o, n(l[1] || "")),
                  o = d ? Math.max(o, d.getFullYear()) : o,
                  p = e ? Math.min(p, e.getFullYear()) : p,
                  a.yearshtml +=
                    "<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";
                o <= p;
                o++
              )
                a.yearshtml +=
                  "<option value='" +
                  o +
                  "'" +
                  (o === c ? " selected='selected'" : "") +
                  ">" +
                  o +
                  "</option>";
              (a.yearshtml += "</select>"),
                (t += a.yearshtml),
                (a.yearshtml = null);
            }
          return (
            (t += this._get(a, "yearSuffix")),
            s && (t += (!f && q && r ? "" : "&#xa0;") + u),
            (t += "</div>")
          );
        },
        _adjustInstDate: function(a, b, c) {
          var d = a.selectedYear + ("Y" === c ? b : 0),
            e = a.selectedMonth + ("M" === c ? b : 0),
            f =
              Math.min(a.selectedDay, this._getDaysInMonth(d, e)) +
              ("D" === c ? b : 0),
            g = this._restrictMinMax(
              a,
              this._daylightSavingAdjust(new Date(d, e, f))
            );
          (a.selectedDay = g.getDate()),
            (a.drawMonth = a.selectedMonth = g.getMonth()),
            (a.drawYear = a.selectedYear = g.getFullYear()),
            ("M" !== c && "Y" !== c) || this._notifyChange(a);
        },
        _restrictMinMax: function(a, b) {
          var c = this._getMinMaxDate(a, "min"),
            d = this._getMinMaxDate(a, "max"),
            e = c && b < c ? c : b;
          return d && e > d ? d : e;
        },
        _notifyChange: function(a) {
          var b = this._get(a, "onChangeMonthYear");
          b &&
            b.apply(a.input ? a.input[0] : null, [
              a.selectedYear,
              a.selectedMonth + 1,
              a
            ]);
        },
        _getNumberOfMonths: function(a) {
          var b = this._get(a, "numberOfMonths");
          return null == b ? [1, 1] : "number" == typeof b ? [1, b] : b;
        },
        _getMinMaxDate: function(a, b) {
          return this._determineDate(a, this._get(a, b + "Date"), null);
        },
        _getDaysInMonth: function(a, b) {
          return 32 - this._daylightSavingAdjust(new Date(a, b, 32)).getDate();
        },
        _getFirstDayOfMonth: function(a, b) {
          return new Date(a, b, 1).getDay();
        },
        _canAdjustMonth: function(a, b, c, d) {
          var e = this._getNumberOfMonths(a),
            f = this._daylightSavingAdjust(
              new Date(c, d + (b < 0 ? b : e[0] * e[1]), 1)
            );
          return (
            b < 0 &&
              f.setDate(this._getDaysInMonth(f.getFullYear(), f.getMonth())),
            this._isInRange(a, f)
          );
        },
        _isInRange: function(a, b) {
          var c,
            d,
            e = this._getMinMaxDate(a, "min"),
            f = this._getMinMaxDate(a, "max"),
            g = null,
            h = null,
            i = this._get(a, "yearRange");
          return (
            i &&
              ((c = i.split(":")),
              (d = new Date().getFullYear()),
              (g = parseInt(c[0], 10)),
              (h = parseInt(c[1], 10)),
              c[0].match(/[+\-].*/) && (g += d),
              c[1].match(/[+\-].*/) && (h += d)),
            (!e || b.getTime() >= e.getTime()) &&
              (!f || b.getTime() <= f.getTime()) &&
              (!g || b.getFullYear() >= g) &&
              (!h || b.getFullYear() <= h)
          );
        },
        _getFormatConfig: function(a) {
          var b = this._get(a, "shortYearCutoff");
          return (
            (b =
              "string" != typeof b
                ? b
                : (new Date().getFullYear() % 100) + parseInt(b, 10)),
            {
              shortYearCutoff: b,
              dayNamesShort: this._get(a, "dayNamesShort"),
              dayNames: this._get(a, "dayNames"),
              monthNamesShort: this._get(a, "monthNamesShort"),
              monthNames: this._get(a, "monthNames")
            }
          );
        },
        _formatDate: function(a, b, c, d) {
          b ||
            ((a.currentDay = a.selectedDay),
            (a.currentMonth = a.selectedMonth),
            (a.currentYear = a.selectedYear));
          var e = b
            ? "object" == typeof b
              ? b
              : this._daylightSavingAdjust(new Date(d, c, b))
            : this._daylightSavingAdjust(
                new Date(a.currentYear, a.currentMonth, a.currentDay)
              );
          return this.formatDate(
            this._get(a, "dateFormat"),
            e,
            this._getFormatConfig(a)
          );
        }
      }),
      (a.fn.datepicker = function(b) {
        if (!this.length) return this;
        a.datepicker.initialized ||
          (a(document).on("mousedown", a.datepicker._checkExternalClick),
          (a.datepicker.initialized = !0)),
          0 === a("#" + a.datepicker._mainDivId).length &&
            a("body").append(a.datepicker.dpDiv);
        var c = Array.prototype.slice.call(arguments, 1);
        return "string" != typeof b ||
          ("isDisabled" !== b && "getDate" !== b && "widget" !== b)
          ? "option" === b &&
            2 === arguments.length &&
            "string" == typeof arguments[1]
            ? a.datepicker["_" + b + "Datepicker"].apply(
                a.datepicker,
                [this[0]].concat(c)
              )
            : this.each(function() {
                "string" == typeof b
                  ? a.datepicker["_" + b + "Datepicker"].apply(
                      a.datepicker,
                      [this].concat(c)
                    )
                  : a.datepicker._attachDatepicker(this, b);
              })
          : a.datepicker["_" + b + "Datepicker"].apply(
              a.datepicker,
              [this[0]].concat(c)
            );
      }),
      (a.datepicker = new c()),
      (a.datepicker.initialized = !1),
      (a.datepicker.uuid = new Date().getTime()),
      (a.datepicker.version = "@VERSION"),
      a.datepicker
    );
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    var b = !1;
    return (
      a(document).on("mouseup", function() {
        b = !1;
      }),
      a.widget("ui.mouse", {
        version: "@VERSION",
        options: {
          cancel: "input, textarea, button, select, option",
          distance: 1,
          delay: 0
        },
        _mouseInit: function() {
          var b = this;
          this.element
            .on("mousedown." + this.widgetName, function(a) {
              return b._mouseDown(a);
            })
            .on("click." + this.widgetName, function(c) {
              if (!0 === a.data(c.target, b.widgetName + ".preventClickEvent"))
                return (
                  a.removeData(c.target, b.widgetName + ".preventClickEvent"),
                  c.stopImmediatePropagation(),
                  !1
                );
            }),
            (this.started = !1);
        },
        _mouseDestroy: function() {
          this.element.off("." + this.widgetName),
            this._mouseMoveDelegate &&
              this.document
                .off("mousemove." + this.widgetName, this._mouseMoveDelegate)
                .off("mouseup." + this.widgetName, this._mouseUpDelegate);
        },
        _mouseDown: function(c) {
          if (!b) {
            (this._mouseMoved = !1),
              this._mouseStarted && this._mouseUp(c),
              (this._mouseDownEvent = c);
            var d = this,
              e = 1 === c.which,
              f =
                !(
                  "string" != typeof this.options.cancel || !c.target.nodeName
                ) && a(c.target).closest(this.options.cancel).length;
            return (
              !(e && !f && this._mouseCapture(c)) ||
              ((this.mouseDelayMet = !this.options.delay),
              this.mouseDelayMet ||
                (this._mouseDelayTimer = setTimeout(function() {
                  d.mouseDelayMet = !0;
                }, this.options.delay)),
              this._mouseDistanceMet(c) &&
              this._mouseDelayMet(c) &&
              ((this._mouseStarted = this._mouseStart(c) !== !1),
              !this._mouseStarted)
                ? (c.preventDefault(), !0)
                : (!0 ===
                    a.data(c.target, this.widgetName + ".preventClickEvent") &&
                    a.removeData(
                      c.target,
                      this.widgetName + ".preventClickEvent"
                    ),
                  (this._mouseMoveDelegate = function(a) {
                    return d._mouseMove(a);
                  }),
                  (this._mouseUpDelegate = function(a) {
                    return d._mouseUp(a);
                  }),
                  this.document
                    .on("mousemove." + this.widgetName, this._mouseMoveDelegate)
                    .on("mouseup." + this.widgetName, this._mouseUpDelegate),
                  c.preventDefault(),
                  (b = !0),
                  !0))
            );
          }
        },
        _mouseMove: function(b) {
          if (this._mouseMoved) {
            if (
              a.ui.ie &&
              (!document.documentMode || document.documentMode < 9) &&
              !b.button
            )
              return this._mouseUp(b);
            if (!b.which)
              if (
                b.originalEvent.altKey ||
                b.originalEvent.ctrlKey ||
                b.originalEvent.metaKey ||
                b.originalEvent.shiftKey
              )
                this.ignoreMissingWhich = !0;
              else if (!this.ignoreMissingWhich) return this._mouseUp(b);
          }
          return (
            (b.which || b.button) && (this._mouseMoved = !0),
            this._mouseStarted
              ? (this._mouseDrag(b), b.preventDefault())
              : (this._mouseDistanceMet(b) &&
                  this._mouseDelayMet(b) &&
                  ((this._mouseStarted =
                    this._mouseStart(this._mouseDownEvent, b) !== !1),
                  this._mouseStarted ? this._mouseDrag(b) : this._mouseUp(b)),
                !this._mouseStarted)
          );
        },
        _mouseUp: function(c) {
          this.document
            .off("mousemove." + this.widgetName, this._mouseMoveDelegate)
            .off("mouseup." + this.widgetName, this._mouseUpDelegate),
            this._mouseStarted &&
              ((this._mouseStarted = !1),
              c.target === this._mouseDownEvent.target &&
                a.data(c.target, this.widgetName + ".preventClickEvent", !0),
              this._mouseStop(c)),
            this._mouseDelayTimer &&
              (clearTimeout(this._mouseDelayTimer),
              delete this._mouseDelayTimer),
            (this.ignoreMissingWhich = !1),
            (b = !1),
            c.preventDefault();
        },
        _mouseDistanceMet: function(a) {
          return (
            Math.max(
              Math.abs(this._mouseDownEvent.pageX - a.pageX),
              Math.abs(this._mouseDownEvent.pageY - a.pageY)
            ) >= this.options.distance
          );
        },
        _mouseDelayMet: function() {
          return this.mouseDelayMet;
        },
        _mouseStart: function() {},
        _mouseDrag: function() {},
        _mouseStop: function() {},
        _mouseCapture: function() {
          return !0;
        }
      })
    );
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return (
      a.widget("ui.draggable", a.ui.mouse, {
        version: "@VERSION",
        widgetEventPrefix: "drag",
        options: {
          addClasses: !0,
          appendTo: "parent",
          axis: !1,
          connectToSortable: !1,
          containment: !1,
          cursor: "auto",
          cursorAt: !1,
          grid: !1,
          handle: !1,
          helper: "original",
          iframeFix: !1,
          opacity: !1,
          refreshPositions: !1,
          revert: !1,
          revertDuration: 500,
          scope: "default",
          scroll: !0,
          scrollSensitivity: 20,
          scrollSpeed: 20,
          snap: !1,
          snapMode: "both",
          snapTolerance: 20,
          stack: !1,
          zIndex: !1,
          drag: null,
          start: null,
          stop: null
        },
        _create: function() {
          "original" === this.options.helper && this._setPositionRelative(),
            this.options.addClasses && this._addClass("ui-draggable"),
            this._setHandleClassName(),
            this._mouseInit();
        },
        _setOption: function(a, b) {
          this._super(a, b),
            "handle" === a &&
              (this._removeHandleClassName(), this._setHandleClassName());
        },
        _destroy: function() {
          return (this.helper || this.element).is(".ui-draggable-dragging")
            ? void (this.destroyOnClear = !0)
            : (this._removeHandleClassName(), void this._mouseDestroy());
        },
        _mouseCapture: function(b) {
          var c = this.options;
          return (
            !(
              this.helper ||
              c.disabled ||
              a(b.target).closest(".ui-resizable-handle").length > 0
            ) &&
            ((this.handle = this._getHandle(b)),
            !!this.handle &&
              (this._blurActiveElement(b),
              this._blockFrames(c.iframeFix === !0 ? "iframe" : c.iframeFix),
              !0))
          );
        },
        _blockFrames: function(b) {
          this.iframeBlocks = this.document.find(b).map(function() {
            var b = a(this);
            return a("<div>")
              .css("position", "absolute")
              .appendTo(b.parent())
              .outerWidth(b.outerWidth())
              .outerHeight(b.outerHeight())
              .offset(b.offset())[0];
          });
        },
        _unblockFrames: function() {
          this.iframeBlocks &&
            (this.iframeBlocks.remove(), delete this.iframeBlocks);
        },
        _blurActiveElement: function(b) {
          var c = a.ui.safeActiveElement(this.document[0]),
            d = a(b.target);
          d.closest(c).length || a.ui.safeBlur(c);
        },
        _mouseStart: function(b) {
          var c = this.options;
          return (
            (this.helper = this._createHelper(b)),
            this._addClass(this.helper, "ui-draggable-dragging"),
            this._cacheHelperProportions(),
            a.ui.ddmanager && (a.ui.ddmanager.current = this),
            this._cacheMargins(),
            (this.cssPosition = this.helper.css("position")),
            (this.scrollParent = this.helper.scrollParent(!0)),
            (this.offsetParent = this.helper.offsetParent()),
            (this.hasFixedAncestor =
              this.helper.parents().filter(function() {
                return "fixed" === a(this).css("position");
              }).length > 0),
            (this.positionAbs = this.element.offset()),
            this._refreshOffsets(b),
            (this.originalPosition = this.position = this._generatePosition(
              b,
              !1
            )),
            (this.originalPageX = b.pageX),
            (this.originalPageY = b.pageY),
            c.cursorAt && this._adjustOffsetFromHelper(c.cursorAt),
            this._setContainment(),
            this._trigger("start", b) === !1
              ? (this._clear(), !1)
              : (this._cacheHelperProportions(),
                a.ui.ddmanager &&
                  !c.dropBehaviour &&
                  a.ui.ddmanager.prepareOffsets(this, b),
                this._mouseDrag(b, !0),
                a.ui.ddmanager && a.ui.ddmanager.dragStart(this, b),
                !0)
          );
        },
        _refreshOffsets: function(a) {
          (this.offset = {
            top: this.positionAbs.top - this.margins.top,
            left: this.positionAbs.left - this.margins.left,
            scroll: !1,
            parent: this._getParentOffset(),
            relative: this._getRelativeOffset()
          }),
            (this.offset.click = {
              left: a.pageX - this.offset.left,
              top: a.pageY - this.offset.top
            });
        },
        _mouseDrag: function(b, c) {
          if (
            (this.hasFixedAncestor &&
              (this.offset.parent = this._getParentOffset()),
            (this.position = this._generatePosition(b, !0)),
            (this.positionAbs = this._convertPositionTo("absolute")),
            !c)
          ) {
            var d = this._uiHash();
            if (this._trigger("drag", b, d) === !1)
              return this._mouseUp(new a.Event("mouseup", b)), !1;
            this.position = d.position;
          }
          return (
            (this.helper[0].style.left = this.position.left + "px"),
            (this.helper[0].style.top = this.position.top + "px"),
            a.ui.ddmanager && a.ui.ddmanager.drag(this, b),
            !1
          );
        },
        _mouseStop: function(b) {
          var c = this,
            d = !1;
          return (
            a.ui.ddmanager &&
              !this.options.dropBehaviour &&
              (d = a.ui.ddmanager.drop(this, b)),
            this.dropped && ((d = this.dropped), (this.dropped = !1)),
            ("invalid" === this.options.revert && !d) ||
            ("valid" === this.options.revert && d) ||
            this.options.revert === !0 ||
            ("function" == typeof this.options.revert &&
              this.options.revert.call(this.element, d))
              ? a(this.helper).animate(
                  this.originalPosition,
                  parseInt(this.options.revertDuration, 10),
                  function() {
                    c._trigger("stop", b) !== !1 && c._clear();
                  }
                )
              : this._trigger("stop", b) !== !1 && this._clear(),
            !1
          );
        },
        _mouseUp: function(b) {
          return (
            this._unblockFrames(),
            a.ui.ddmanager && a.ui.ddmanager.dragStop(this, b),
            this.handleElement.is(b.target) && this.element.trigger("focus"),
            a.ui.mouse.prototype._mouseUp.call(this, b)
          );
        },
        cancel: function() {
          return (
            this.helper.is(".ui-draggable-dragging")
              ? this._mouseUp(
                  new a.Event("mouseup", { target: this.element[0] })
                )
              : this._clear(),
            this
          );
        },
        _getHandle: function(b) {
          return (
            !this.options.handle ||
            !!a(b.target).closest(this.element.find(this.options.handle)).length
          );
        },
        _setHandleClassName: function() {
          (this.handleElement = this.options.handle
            ? this.element.find(this.options.handle)
            : this.element),
            this._addClass(this.handleElement, "ui-draggable-handle");
        },
        _removeHandleClassName: function() {
          this._removeClass(this.handleElement, "ui-draggable-handle");
        },
        _createHelper: function(b) {
          var c = this.options,
            d = "function" == typeof c.helper,
            e = d
              ? a(c.helper.apply(this.element[0], [b]))
              : "clone" === c.helper
              ? this.element.clone().removeAttr("id")
              : this.element;
          return (
            e.parents("body").length ||
              e.appendTo(
                "parent" === c.appendTo
                  ? this.element[0].parentNode
                  : c.appendTo
              ),
            d && e[0] === this.element[0] && this._setPositionRelative(),
            e[0] === this.element[0] ||
              /(fixed|absolute)/.test(e.css("position")) ||
              e.css("position", "absolute"),
            e
          );
        },
        _setPositionRelative: function() {
          /^(?:r|a|f)/.test(this.element.css("position")) ||
            (this.element[0].style.position = "relative");
        },
        _adjustOffsetFromHelper: function(a) {
          "string" == typeof a && (a = a.split(" ")),
            Array.isArray(a) && (a = { left: +a[0], top: +a[1] || 0 }),
            "left" in a &&
              (this.offset.click.left = a.left + this.margins.left),
            "right" in a &&
              (this.offset.click.left =
                this.helperProportions.width - a.right + this.margins.left),
            "top" in a && (this.offset.click.top = a.top + this.margins.top),
            "bottom" in a &&
              (this.offset.click.top =
                this.helperProportions.height - a.bottom + this.margins.top);
        },
        _isRootNode: function(a) {
          return /(html|body)/i.test(a.tagName) || a === this.document[0];
        },
        _getParentOffset: function() {
          var b = this.offsetParent.offset(),
            c = this.document[0];
          return (
            "absolute" === this.cssPosition &&
              this.scrollParent[0] !== c &&
              a.contains(this.scrollParent[0], this.offsetParent[0]) &&
              ((b.left += this.scrollParent.scrollLeft()),
              (b.top += this.scrollParent.scrollTop())),
            this._isRootNode(this.offsetParent[0]) && (b = { top: 0, left: 0 }),
            {
              top:
                b.top +
                (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
              left:
                b.left +
                (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
            }
          );
        },
        _getRelativeOffset: function() {
          if ("relative" !== this.cssPosition) return { top: 0, left: 0 };
          var a = this.element.position(),
            b = this._isRootNode(this.scrollParent[0]);
          return {
            top:
              a.top -
              (parseInt(this.helper.css("top"), 10) || 0) +
              (b ? 0 : this.scrollParent.scrollTop()),
            left:
              a.left -
              (parseInt(this.helper.css("left"), 10) || 0) +
              (b ? 0 : this.scrollParent.scrollLeft())
          };
        },
        _cacheMargins: function() {
          this.margins = {
            left: parseInt(this.element.css("marginLeft"), 10) || 0,
            top: parseInt(this.element.css("marginTop"), 10) || 0,
            right: parseInt(this.element.css("marginRight"), 10) || 0,
            bottom: parseInt(this.element.css("marginBottom"), 10) || 0
          };
        },
        _cacheHelperProportions: function() {
          this.helperProportions = {
            width: this.helper.outerWidth(),
            height: this.helper.outerHeight()
          };
        },
        _setContainment: function() {
          var b,
            c,
            d,
            e = this.options,
            f = this.document[0];
          return (
            (this.relativeContainer = null),
            e.containment
              ? "window" === e.containment
                ? void (this.containment = [
                    a(window).scrollLeft() -
                      this.offset.relative.left -
                      this.offset.parent.left,
                    a(window).scrollTop() -
                      this.offset.relative.top -
                      this.offset.parent.top,
                    a(window).scrollLeft() +
                      a(window).width() -
                      this.helperProportions.width -
                      this.margins.left,
                    a(window).scrollTop() +
                      (a(window).height() || f.body.parentNode.scrollHeight) -
                      this.helperProportions.height -
                      this.margins.top
                  ])
                : "document" === e.containment
                ? void (this.containment = [
                    0,
                    0,
                    a(f).width() -
                      this.helperProportions.width -
                      this.margins.left,
                    (a(f).height() || f.body.parentNode.scrollHeight) -
                      this.helperProportions.height -
                      this.margins.top
                  ])
                : e.containment.constructor === Array
                ? void (this.containment = e.containment)
                : ("parent" === e.containment &&
                    (e.containment = this.helper[0].parentNode),
                  (c = a(e.containment)),
                  (d = c[0]),
                  void (
                    d &&
                    ((b = /(scroll|auto)/.test(c.css("overflow"))),
                    (this.containment = [
                      (parseInt(c.css("borderLeftWidth"), 10) || 0) +
                        (parseInt(c.css("paddingLeft"), 10) || 0),
                      (parseInt(c.css("borderTopWidth"), 10) || 0) +
                        (parseInt(c.css("paddingTop"), 10) || 0),
                      (b
                        ? Math.max(d.scrollWidth, d.offsetWidth)
                        : d.offsetWidth) -
                        (parseInt(c.css("borderRightWidth"), 10) || 0) -
                        (parseInt(c.css("paddingRight"), 10) || 0) -
                        this.helperProportions.width -
                        this.margins.left -
                        this.margins.right,
                      (b
                        ? Math.max(d.scrollHeight, d.offsetHeight)
                        : d.offsetHeight) -
                        (parseInt(c.css("borderBottomWidth"), 10) || 0) -
                        (parseInt(c.css("paddingBottom"), 10) || 0) -
                        this.helperProportions.height -
                        this.margins.top -
                        this.margins.bottom
                    ]),
                    (this.relativeContainer = c))
                  ))
              : void (this.containment = null)
          );
        },
        _convertPositionTo: function(a, b) {
          b || (b = this.position);
          var c = "absolute" === a ? 1 : -1,
            d = this._isRootNode(this.scrollParent[0]);
          return {
            top:
              b.top +
              this.offset.relative.top * c +
              this.offset.parent.top * c -
              ("fixed" === this.cssPosition
                ? -this.offset.scroll.top
                : d
                ? 0
                : this.offset.scroll.top) *
                c,
            left:
              b.left +
              this.offset.relative.left * c +
              this.offset.parent.left * c -
              ("fixed" === this.cssPosition
                ? -this.offset.scroll.left
                : d
                ? 0
                : this.offset.scroll.left) *
                c
          };
        },
        _generatePosition: function(a, b) {
          var c,
            d,
            e,
            f,
            g = this.options,
            h = this._isRootNode(this.scrollParent[0]),
            i = a.pageX,
            j = a.pageY;
          return (
            (h && this.offset.scroll) ||
              (this.offset.scroll = {
                top: this.scrollParent.scrollTop(),
                left: this.scrollParent.scrollLeft()
              }),
            b &&
              (this.containment &&
                (this.relativeContainer
                  ? ((d = this.relativeContainer.offset()),
                    (c = [
                      this.containment[0] + d.left,
                      this.containment[1] + d.top,
                      this.containment[2] + d.left,
                      this.containment[3] + d.top
                    ]))
                  : (c = this.containment),
                a.pageX - this.offset.click.left < c[0] &&
                  (i = c[0] + this.offset.click.left),
                a.pageY - this.offset.click.top < c[1] &&
                  (j = c[1] + this.offset.click.top),
                a.pageX - this.offset.click.left > c[2] &&
                  (i = c[2] + this.offset.click.left),
                a.pageY - this.offset.click.top > c[3] &&
                  (j = c[3] + this.offset.click.top)),
              g.grid &&
                ((e = g.grid[1]
                  ? this.originalPageY +
                    Math.round((j - this.originalPageY) / g.grid[1]) * g.grid[1]
                  : this.originalPageY),
                (j = c
                  ? e - this.offset.click.top >= c[1] ||
                    e - this.offset.click.top > c[3]
                    ? e
                    : e - this.offset.click.top >= c[1]
                    ? e - g.grid[1]
                    : e + g.grid[1]
                  : e),
                (f = g.grid[0]
                  ? this.originalPageX +
                    Math.round((i - this.originalPageX) / g.grid[0]) * g.grid[0]
                  : this.originalPageX),
                (i = c
                  ? f - this.offset.click.left >= c[0] ||
                    f - this.offset.click.left > c[2]
                    ? f
                    : f - this.offset.click.left >= c[0]
                    ? f - g.grid[0]
                    : f + g.grid[0]
                  : f)),
              "y" === g.axis && (i = this.originalPageX),
              "x" === g.axis && (j = this.originalPageY)),
            {
              top:
                j -
                this.offset.click.top -
                this.offset.relative.top -
                this.offset.parent.top +
                ("fixed" === this.cssPosition
                  ? -this.offset.scroll.top
                  : h
                  ? 0
                  : this.offset.scroll.top),
              left:
                i -
                this.offset.click.left -
                this.offset.relative.left -
                this.offset.parent.left +
                ("fixed" === this.cssPosition
                  ? -this.offset.scroll.left
                  : h
                  ? 0
                  : this.offset.scroll.left)
            }
          );
        },
        _clear: function() {
          this._removeClass(this.helper, "ui-draggable-dragging"),
            this.helper[0] === this.element[0] ||
              this.cancelHelperRemoval ||
              this.helper.remove(),
            (this.helper = null),
            (this.cancelHelperRemoval = !1),
            this.destroyOnClear && this.destroy();
        },
        _trigger: function(b, c, d) {
          return (
            (d = d || this._uiHash()),
            a.ui.plugin.call(this, b, [c, d, this], !0),
            /^(drag|start|stop)/.test(b) &&
              ((this.positionAbs = this._convertPositionTo("absolute")),
              (d.offset = this.positionAbs)),
            a.Widget.prototype._trigger.call(this, b, c, d)
          );
        },
        plugins: {},
        _uiHash: function() {
          return {
            helper: this.helper,
            position: this.position,
            originalPosition: this.originalPosition,
            offset: this.positionAbs
          };
        }
      }),
      a.ui.plugin.add("draggable", "connectToSortable", {
        start: function(b, c, d) {
          var e = a.extend({}, c, { item: d.element });
          (d.sortables = []),
            a(d.options.connectToSortable).each(function() {
              var c = a(this).sortable("instance");
              c &&
                !c.options.disabled &&
                (d.sortables.push(c),
                c.refreshPositions(),
                c._trigger("activate", b, e));
            });
        },
        stop: function(b, c, d) {
          var e = a.extend({}, c, { item: d.element });
          (d.cancelHelperRemoval = !1),
            a.each(d.sortables, function() {
              var a = this;
              a.isOver
                ? ((a.isOver = 0),
                  (d.cancelHelperRemoval = !0),
                  (a.cancelHelperRemoval = !1),
                  (a._storedCSS = {
                    position: a.placeholder.css("position"),
                    top: a.placeholder.css("top"),
                    left: a.placeholder.css("left")
                  }),
                  a._mouseStop(b),
                  (a.options.helper = a.options._helper))
                : ((a.cancelHelperRemoval = !0),
                  a._trigger("deactivate", b, e));
            });
        },
        drag: function(b, c, d) {
          a.each(d.sortables, function() {
            var e = !1,
              f = this;
            (f.positionAbs = d.positionAbs),
              (f.helperProportions = d.helperProportions),
              (f.offset.click = d.offset.click),
              f._intersectsWith(f.containerCache) &&
                ((e = !0),
                a.each(d.sortables, function() {
                  return (
                    (this.positionAbs = d.positionAbs),
                    (this.helperProportions = d.helperProportions),
                    (this.offset.click = d.offset.click),
                    this !== f &&
                      this._intersectsWith(this.containerCache) &&
                      a.contains(f.element[0], this.element[0]) &&
                      (e = !1),
                    e
                  );
                })),
              e
                ? (f.isOver ||
                    ((f.isOver = 1),
                    (d._parent = c.helper.parent()),
                    (f.currentItem = c.helper
                      .appendTo(f.element)
                      .data("ui-sortable-item", !0)),
                    (f.options._helper = f.options.helper),
                    (f.options.helper = function() {
                      return c.helper[0];
                    }),
                    (b.target = f.currentItem[0]),
                    f._mouseCapture(b, !0),
                    f._mouseStart(b, !0, !0),
                    (f.offset.click.top = d.offset.click.top),
                    (f.offset.click.left = d.offset.click.left),
                    (f.offset.parent.left -=
                      d.offset.parent.left - f.offset.parent.left),
                    (f.offset.parent.top -=
                      d.offset.parent.top - f.offset.parent.top),
                    d._trigger("toSortable", b),
                    (d.dropped = f.element),
                    a.each(d.sortables, function() {
                      this.refreshPositions();
                    }),
                    (d.currentItem = d.element),
                    (f.fromOutside = d)),
                  f.currentItem && (f._mouseDrag(b), (c.position = f.position)))
                : f.isOver &&
                  ((f.isOver = 0),
                  (f.cancelHelperRemoval = !0),
                  (f.options._revert = f.options.revert),
                  (f.options.revert = !1),
                  f._trigger("out", b, f._uiHash(f)),
                  f._mouseStop(b, !0),
                  (f.options.revert = f.options._revert),
                  (f.options.helper = f.options._helper),
                  f.placeholder && f.placeholder.remove(),
                  c.helper.appendTo(d._parent),
                  d._refreshOffsets(b),
                  (c.position = d._generatePosition(b, !0)),
                  d._trigger("fromSortable", b),
                  (d.dropped = !1),
                  a.each(d.sortables, function() {
                    this.refreshPositions();
                  }));
          });
        }
      }),
      a.ui.plugin.add("draggable", "cursor", {
        start: function(b, c, d) {
          var e = a("body"),
            f = d.options;
          e.css("cursor") && (f._cursor = e.css("cursor")),
            e.css("cursor", f.cursor);
        },
        stop: function(b, c, d) {
          var e = d.options;
          e._cursor && a("body").css("cursor", e._cursor);
        }
      }),
      a.ui.plugin.add("draggable", "opacity", {
        start: function(b, c, d) {
          var e = a(c.helper),
            f = d.options;
          e.css("opacity") && (f._opacity = e.css("opacity")),
            e.css("opacity", f.opacity);
        },
        stop: function(b, c, d) {
          var e = d.options;
          e._opacity && a(c.helper).css("opacity", e._opacity);
        }
      }),
      a.ui.plugin.add("draggable", "scroll", {
        start: function(a, b, c) {
          c.scrollParentNotHidden ||
            (c.scrollParentNotHidden = c.helper.scrollParent(!1)),
            c.scrollParentNotHidden[0] !== c.document[0] &&
              "HTML" !== c.scrollParentNotHidden[0].tagName &&
              (c.overflowOffset = c.scrollParentNotHidden.offset());
        },
        drag: function(b, c, d) {
          var e = d.options,
            f = !1,
            g = d.scrollParentNotHidden[0],
            h = d.document[0];
          g !== h && "HTML" !== g.tagName
            ? ((e.axis && "x" === e.axis) ||
                (d.overflowOffset.top + g.offsetHeight - b.pageY <
                e.scrollSensitivity
                  ? (g.scrollTop = f = g.scrollTop + e.scrollSpeed)
                  : b.pageY - d.overflowOffset.top < e.scrollSensitivity &&
                    (g.scrollTop = f = g.scrollTop - e.scrollSpeed)),
              (e.axis && "y" === e.axis) ||
                (d.overflowOffset.left + g.offsetWidth - b.pageX <
                e.scrollSensitivity
                  ? (g.scrollLeft = f = g.scrollLeft + e.scrollSpeed)
                  : b.pageX - d.overflowOffset.left < e.scrollSensitivity &&
                    (g.scrollLeft = f = g.scrollLeft - e.scrollSpeed)))
            : ((e.axis && "x" === e.axis) ||
                (b.pageY - a(h).scrollTop() < e.scrollSensitivity
                  ? (f = a(h).scrollTop(a(h).scrollTop() - e.scrollSpeed))
                  : a(window).height() - (b.pageY - a(h).scrollTop()) <
                      e.scrollSensitivity &&
                    (f = a(h).scrollTop(a(h).scrollTop() + e.scrollSpeed))),
              (e.axis && "y" === e.axis) ||
                (b.pageX - a(h).scrollLeft() < e.scrollSensitivity
                  ? (f = a(h).scrollLeft(a(h).scrollLeft() - e.scrollSpeed))
                  : a(window).width() - (b.pageX - a(h).scrollLeft()) <
                      e.scrollSensitivity &&
                    (f = a(h).scrollLeft(a(h).scrollLeft() + e.scrollSpeed)))),
            f !== !1 &&
              a.ui.ddmanager &&
              !e.dropBehaviour &&
              a.ui.ddmanager.prepareOffsets(d, b);
        }
      }),
      a.ui.plugin.add("draggable", "snap", {
        start: function(b, c, d) {
          var e = d.options;
          (d.snapElements = []),
            a(
              e.snap.constructor !== String
                ? e.snap.items || ":data(ui-draggable)"
                : e.snap
            ).each(function() {
              var b = a(this),
                c = b.offset();
              this !== d.element[0] &&
                d.snapElements.push({
                  item: this,
                  width: b.outerWidth(),
                  height: b.outerHeight(),
                  top: c.top,
                  left: c.left
                });
            });
        },
        drag: function(b, c, d) {
          var e,
            f,
            g,
            h,
            i,
            j,
            k,
            l,
            m,
            n,
            o = d.options,
            p = o.snapTolerance,
            q = c.offset.left,
            r = q + d.helperProportions.width,
            s = c.offset.top,
            t = s + d.helperProportions.height;
          for (m = d.snapElements.length - 1; m >= 0; m--)
            (i = d.snapElements[m].left - d.margins.left),
              (j = i + d.snapElements[m].width),
              (k = d.snapElements[m].top - d.margins.top),
              (l = k + d.snapElements[m].height),
              r < i - p ||
              q > j + p ||
              t < k - p ||
              s > l + p ||
              !a.contains(
                d.snapElements[m].item.ownerDocument,
                d.snapElements[m].item
              )
                ? (d.snapElements[m].snapping &&
                    d.options.snap.release &&
                    d.options.snap.release.call(
                      d.element,
                      b,
                      a.extend(d._uiHash(), {
                        snapItem: d.snapElements[m].item
                      })
                    ),
                  (d.snapElements[m].snapping = !1))
                : ("inner" !== o.snapMode &&
                    ((e = Math.abs(k - t) <= p),
                    (f = Math.abs(l - s) <= p),
                    (g = Math.abs(i - r) <= p),
                    (h = Math.abs(j - q) <= p),
                    e &&
                      (c.position.top = d._convertPositionTo("relative", {
                        top: k - d.helperProportions.height,
                        left: 0
                      }).top),
                    f &&
                      (c.position.top = d._convertPositionTo("relative", {
                        top: l,
                        left: 0
                      }).top),
                    g &&
                      (c.position.left = d._convertPositionTo("relative", {
                        top: 0,
                        left: i - d.helperProportions.width
                      }).left),
                    h &&
                      (c.position.left = d._convertPositionTo("relative", {
                        top: 0,
                        left: j
                      }).left)),
                  (n = e || f || g || h),
                  "outer" !== o.snapMode &&
                    ((e = Math.abs(k - s) <= p),
                    (f = Math.abs(l - t) <= p),
                    (g = Math.abs(i - q) <= p),
                    (h = Math.abs(j - r) <= p),
                    e &&
                      (c.position.top = d._convertPositionTo("relative", {
                        top: k,
                        left: 0
                      }).top),
                    f &&
                      (c.position.top = d._convertPositionTo("relative", {
                        top: l - d.helperProportions.height,
                        left: 0
                      }).top),
                    g &&
                      (c.position.left = d._convertPositionTo("relative", {
                        top: 0,
                        left: i
                      }).left),
                    h &&
                      (c.position.left = d._convertPositionTo("relative", {
                        top: 0,
                        left: j - d.helperProportions.width
                      }).left)),
                  !d.snapElements[m].snapping &&
                    (e || f || g || h || n) &&
                    d.options.snap.snap &&
                    d.options.snap.snap.call(
                      d.element,
                      b,
                      a.extend(d._uiHash(), {
                        snapItem: d.snapElements[m].item
                      })
                    ),
                  (d.snapElements[m].snapping = e || f || g || h || n));
        }
      }),
      a.ui.plugin.add("draggable", "stack", {
        start: function(b, c, d) {
          var e,
            f = d.options,
            g = a.makeArray(a(f.stack)).sort(function(b, c) {
              return (
                (parseInt(a(b).css("zIndex"), 10) || 0) -
                (parseInt(a(c).css("zIndex"), 10) || 0)
              );
            });
          g.length &&
            ((e = parseInt(a(g[0]).css("zIndex"), 10) || 0),
            a(g).each(function(b) {
              a(this).css("zIndex", e + b);
            }),
            this.css("zIndex", e + g.length));
        }
      }),
      a.ui.plugin.add("draggable", "zIndex", {
        start: function(b, c, d) {
          var e = a(c.helper),
            f = d.options;
          e.css("zIndex") && (f._zIndex = e.css("zIndex")),
            e.css("zIndex", f.zIndex);
        },
        stop: function(b, c, d) {
          var e = d.options;
          e._zIndex && a(c.helper).css("zIndex", e._zIndex);
        }
      }),
      a.ui.draggable
    );
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return (
      a.widget("ui.resizable", a.ui.mouse, {
        version: "@VERSION",
        widgetEventPrefix: "resize",
        options: {
          alsoResize: !1,
          animate: !1,
          animateDuration: "slow",
          animateEasing: "swing",
          aspectRatio: !1,
          autoHide: !1,
          classes: {
            "ui-resizable-se": "ui-icon ui-icon-gripsmall-diagonal-se"
          },
          containment: !1,
          ghost: !1,
          grid: !1,
          handles: "e,s,se",
          helper: !1,
          maxHeight: null,
          maxWidth: null,
          minHeight: 10,
          minWidth: 10,
          zIndex: 90,
          resize: null,
          start: null,
          stop: null
        },
        _num: function(a) {
          return parseFloat(a) || 0;
        },
        _isNumber: function(a) {
          return !isNaN(parseFloat(a));
        },
        _hasScroll: function(b, c) {
          if ("hidden" === a(b).css("overflow")) return !1;
          var d = c && "left" === c ? "scrollLeft" : "scrollTop",
            e = !1;
          return b[d] > 0 || ((b[d] = 1), (e = b[d] > 0), (b[d] = 0), e);
        },
        _create: function() {
          var b,
            c = this.options,
            d = this;
          this._addClass("ui-resizable"),
            a.extend(this, {
              _aspectRatio: !!c.aspectRatio,
              aspectRatio: c.aspectRatio,
              originalElement: this.element,
              _proportionallyResizeElements: [],
              _helper:
                c.helper || c.ghost || c.animate
                  ? c.helper || "ui-resizable-helper"
                  : null
            }),
            this.element[0].nodeName.match(
              /^(canvas|textarea|input|select|button|img)$/i
            ) &&
              (this.element.wrap(
                a(
                  "<div class='ui-wrapper' style='overflow: hidden;'></div>"
                ).css({
                  position: this.element.css("position"),
                  width: this.element.outerWidth(),
                  height: this.element.outerHeight(),
                  top: this.element.css("top"),
                  left: this.element.css("left")
                })
              ),
              (this.element = this.element
                .parent()
                .data("ui-resizable", this.element.resizable("instance"))),
              (this.elementIsWrapper = !0),
              (b = {
                marginTop: this.originalElement.css("marginTop"),
                marginRight: this.originalElement.css("marginRight"),
                marginBottom: this.originalElement.css("marginBottom"),
                marginLeft: this.originalElement.css("marginLeft")
              }),
              this.element.css(b),
              this.originalElement.css("margin", 0),
              (this.originalResizeStyle = this.originalElement.css("resize")),
              this.originalElement.css("resize", "none"),
              this._proportionallyResizeElements.push(
                this.originalElement.css({
                  position: "static",
                  zoom: 1,
                  display: "block"
                })
              ),
              this.originalElement.css(b),
              this._proportionallyResize()),
            this._setupHandles(),
            c.autoHide &&
              a(this.element)
                .on("mouseenter", function() {
                  c.disabled ||
                    (d._removeClass("ui-resizable-autohide"),
                    d._handles.show());
                })
                .on("mouseleave", function() {
                  c.disabled ||
                    d.resizing ||
                    (d._addClass("ui-resizable-autohide"), d._handles.hide());
                }),
            this._mouseInit();
        },
        _destroy: function() {
          this._mouseDestroy(), this._addedHandles.remove();
          var b,
            c = function(b) {
              a(b)
                .removeData("resizable")
                .removeData("ui-resizable")
                .off(".resizable");
            };
          return (
            this.elementIsWrapper &&
              (c(this.element),
              (b = this.element),
              this.originalElement
                .css({
                  position: b.css("position"),
                  width: b.outerWidth(),
                  height: b.outerHeight(),
                  top: b.css("top"),
                  left: b.css("left")
                })
                .insertAfter(b),
              b.remove()),
            this.originalElement.css("resize", this.originalResizeStyle),
            c(this.originalElement),
            this
          );
        },
        _setOption: function(a, b) {
          switch ((this._super(a, b), a)) {
            case "handles":
              this._removeHandles(), this._setupHandles();
              break;
            case "aspectRatio":
              this._aspectRatio = !!b;
          }
        },
        _setupHandles: function() {
          var b,
            c,
            d,
            e,
            f,
            g = this.options,
            h = this;
          if (
            ((this.handles =
              g.handles ||
              (a(".ui-resizable-handle", this.element).length
                ? {
                    n: ".ui-resizable-n",
                    e: ".ui-resizable-e",
                    s: ".ui-resizable-s",
                    w: ".ui-resizable-w",
                    se: ".ui-resizable-se",
                    sw: ".ui-resizable-sw",
                    ne: ".ui-resizable-ne",
                    nw: ".ui-resizable-nw"
                  }
                : "e,s,se")),
            (this._handles = a()),
            (this._addedHandles = a()),
            this.handles.constructor === String)
          )
            for (
              "all" === this.handles && (this.handles = "n,e,s,w,se,sw,ne,nw"),
                d = this.handles.split(","),
                this.handles = {},
                c = 0;
              c < d.length;
              c++
            )
              (b = String.prototype.trim.call(d[c])),
                (e = "ui-resizable-" + b),
                (f = a("<div>")),
                this._addClass(f, "ui-resizable-handle " + e),
                f.css({ zIndex: g.zIndex }),
                (this.handles[b] = ".ui-resizable-" + b),
                this.element.children(this.handles[b]).length ||
                  (this.element.append(f),
                  (this._addedHandles = this._addedHandles.add(f)));
          (this._renderAxis = function(b) {
            var c, d, e, f;
            b = b || this.element;
            for (c in this.handles)
              this.handles[c].constructor === String
                ? (this.handles[c] = this.element
                    .children(this.handles[c])
                    .first()
                    .show())
                : (this.handles[c].jquery || this.handles[c].nodeType) &&
                  ((this.handles[c] = a(this.handles[c])),
                  this._on(this.handles[c], { mousedown: h._mouseDown })),
                this.elementIsWrapper &&
                  this.originalElement[0].nodeName.match(
                    /^(textarea|input|select|button)$/i
                  ) &&
                  ((d = a(this.handles[c], this.element)),
                  (f = /sw|ne|nw|se|n|s/.test(c)
                    ? d.outerHeight()
                    : d.outerWidth()),
                  (e = [
                    "padding",
                    /ne|nw|n/.test(c)
                      ? "Top"
                      : /se|sw|s/.test(c)
                      ? "Bottom"
                      : /^e$/.test(c)
                      ? "Right"
                      : "Left"
                  ].join("")),
                  b.css(e, f),
                  this._proportionallyResize()),
                (this._handles = this._handles.add(this.handles[c]));
          }),
            this._renderAxis(this.element),
            (this._handles = this._handles.add(
              this.element.find(".ui-resizable-handle")
            )),
            this._handles.disableSelection(),
            this._handles.on("mouseover", function() {
              h.resizing ||
                (this.className &&
                  (f = this.className.match(
                    /ui-resizable-(se|sw|ne|nw|n|e|s|w)/i
                  )),
                (h.axis = f && f[1] ? f[1] : "se"));
            }),
            g.autoHide &&
              (this._handles.hide(), this._addClass("ui-resizable-autohide"));
        },
        _removeHandles: function() {
          this._addedHandles.remove();
        },
        _mouseCapture: function(b) {
          var c,
            d,
            e = !1;
          for (c in this.handles)
            (d = a(this.handles[c])[0]),
              (d === b.target || a.contains(d, b.target)) && (e = !0);
          return !this.options.disabled && e;
        },
        _mouseStart: function(b) {
          var c,
            d,
            e,
            f = this.options,
            g = this.element;
          return (
            (this.resizing = !0),
            this._renderProxy(),
            (c = this._num(this.helper.css("left"))),
            (d = this._num(this.helper.css("top"))),
            f.containment &&
              ((c += a(f.containment).scrollLeft() || 0),
              (d += a(f.containment).scrollTop() || 0)),
            (this.offset = this.helper.offset()),
            (this.position = { left: c, top: d }),
            (this.size = this._helper
              ? { width: this.helper.width(), height: this.helper.height() }
              : { width: g.width(), height: g.height() }),
            (this.originalSize = this._helper
              ? { width: g.outerWidth(), height: g.outerHeight() }
              : { width: g.width(), height: g.height() }),
            (this.sizeDiff = {
              width: g.outerWidth() - g.width(),
              height: g.outerHeight() - g.height()
            }),
            (this.originalPosition = { left: c, top: d }),
            (this.originalMousePosition = { left: b.pageX, top: b.pageY }),
            (this.aspectRatio =
              "number" == typeof f.aspectRatio
                ? f.aspectRatio
                : this.originalSize.width / this.originalSize.height || 1),
            (e = a(".ui-resizable-" + this.axis).css("cursor")),
            a("body").css("cursor", "auto" === e ? this.axis + "-resize" : e),
            this._addClass("ui-resizable-resizing"),
            this._propagate("start", b),
            !0
          );
        },
        _mouseDrag: function(b) {
          var c,
            d,
            e = this.originalMousePosition,
            f = this.axis,
            g = b.pageX - e.left || 0,
            h = b.pageY - e.top || 0,
            i = this._change[f];
          return (
            this._updatePrevProperties(),
            !!i &&
              ((c = i.apply(this, [b, g, h])),
              this._updateVirtualBoundaries(b.shiftKey),
              (this._aspectRatio || b.shiftKey) &&
                (c = this._updateRatio(c, b)),
              (c = this._respectSize(c, b)),
              this._updateCache(c),
              this._propagate("resize", b),
              (d = this._applyChanges()),
              !this._helper &&
                this._proportionallyResizeElements.length &&
                this._proportionallyResize(),
              a.isEmptyObject(d) ||
                (this._updatePrevProperties(),
                this._trigger("resize", b, this.ui()),
                this._applyChanges()),
              !1)
          );
        },
        _mouseStop: function(b) {
          this.resizing = !1;
          var c,
            d,
            e,
            f,
            g,
            h,
            i,
            j = this.options,
            k = this;
          return (
            this._helper &&
              ((c = this._proportionallyResizeElements),
              (d = c.length && /textarea/i.test(c[0].nodeName)),
              (e = d && this._hasScroll(c[0], "left") ? 0 : k.sizeDiff.height),
              (f = d ? 0 : k.sizeDiff.width),
              (g = {
                width: k.helper.width() - f,
                height: k.helper.height() - e
              }),
              (h =
                parseFloat(k.element.css("left")) +
                  (k.position.left - k.originalPosition.left) || null),
              (i =
                parseFloat(k.element.css("top")) +
                  (k.position.top - k.originalPosition.top) || null),
              j.animate || this.element.css(a.extend(g, { top: i, left: h })),
              k.helper.height(k.size.height),
              k.helper.width(k.size.width),
              this._helper && !j.animate && this._proportionallyResize()),
            a("body").css("cursor", "auto"),
            this._removeClass("ui-resizable-resizing"),
            this._propagate("stop", b),
            this._helper && this.helper.remove(),
            !1
          );
        },
        _updatePrevProperties: function() {
          (this.prevPosition = {
            top: this.position.top,
            left: this.position.left
          }),
            (this.prevSize = {
              width: this.size.width,
              height: this.size.height
            });
        },
        _applyChanges: function() {
          var a = {};
          return (
            this.position.top !== this.prevPosition.top &&
              (a.top = this.position.top + "px"),
            this.position.left !== this.prevPosition.left &&
              (a.left = this.position.left + "px"),
            this.size.width !== this.prevSize.width &&
              (a.width = this.size.width + "px"),
            this.size.height !== this.prevSize.height &&
              (a.height = this.size.height + "px"),
            this.helper.css(a),
            a
          );
        },
        _updateVirtualBoundaries: function(a) {
          var b,
            c,
            d,
            e,
            f,
            g = this.options;
          (f = {
            minWidth: this._isNumber(g.minWidth) ? g.minWidth : 0,
            maxWidth: this._isNumber(g.maxWidth) ? g.maxWidth : 1 / 0,
            minHeight: this._isNumber(g.minHeight) ? g.minHeight : 0,
            maxHeight: this._isNumber(g.maxHeight) ? g.maxHeight : 1 / 0
          }),
            (this._aspectRatio || a) &&
              ((b = f.minHeight * this.aspectRatio),
              (d = f.minWidth / this.aspectRatio),
              (c = f.maxHeight * this.aspectRatio),
              (e = f.maxWidth / this.aspectRatio),
              b > f.minWidth && (f.minWidth = b),
              d > f.minHeight && (f.minHeight = d),
              c < f.maxWidth && (f.maxWidth = c),
              e < f.maxHeight && (f.maxHeight = e)),
            (this._vBoundaries = f);
        },
        _updateCache: function(a) {
          (this.offset = this.helper.offset()),
            this._isNumber(a.left) && (this.position.left = a.left),
            this._isNumber(a.top) && (this.position.top = a.top),
            this._isNumber(a.height) && (this.size.height = a.height),
            this._isNumber(a.width) && (this.size.width = a.width);
        },
        _updateRatio: function(a) {
          var b = this.position,
            c = this.size,
            d = this.axis;
          return (
            this._isNumber(a.height)
              ? (a.width = a.height * this.aspectRatio)
              : this._isNumber(a.width) &&
                (a.height = a.width / this.aspectRatio),
            "sw" === d &&
              ((a.left = b.left + (c.width - a.width)), (a.top = null)),
            "nw" === d &&
              ((a.top = b.top + (c.height - a.height)),
              (a.left = b.left + (c.width - a.width))),
            a
          );
        },
        _respectSize: function(a) {
          var b = this._vBoundaries,
            c = this.axis,
            d = this._isNumber(a.width) && b.maxWidth && b.maxWidth < a.width,
            e =
              this._isNumber(a.height) && b.maxHeight && b.maxHeight < a.height,
            f = this._isNumber(a.width) && b.minWidth && b.minWidth > a.width,
            g =
              this._isNumber(a.height) && b.minHeight && b.minHeight > a.height,
            h = this.originalPosition.left + this.originalSize.width,
            i = this.originalPosition.top + this.originalSize.height,
            j = /sw|nw|w/.test(c),
            k = /nw|ne|n/.test(c);
          return (
            f && (a.width = b.minWidth),
            g && (a.height = b.minHeight),
            d && (a.width = b.maxWidth),
            e && (a.height = b.maxHeight),
            f && j && (a.left = h - b.minWidth),
            d && j && (a.left = h - b.maxWidth),
            g && k && (a.top = i - b.minHeight),
            e && k && (a.top = i - b.maxHeight),
            a.width || a.height || a.left || !a.top
              ? a.width || a.height || a.top || !a.left || (a.left = null)
              : (a.top = null),
            a
          );
        },
        _getPaddingPlusBorderDimensions: function(a) {
          for (
            var b = 0,
              c = [],
              d = [
                a.css("borderTopWidth"),
                a.css("borderRightWidth"),
                a.css("borderBottomWidth"),
                a.css("borderLeftWidth")
              ],
              e = [
                a.css("paddingTop"),
                a.css("paddingRight"),
                a.css("paddingBottom"),
                a.css("paddingLeft")
              ];
            b < 4;
            b++
          )
            (c[b] = parseFloat(d[b]) || 0), (c[b] += parseFloat(e[b]) || 0);
          return { height: c[0] + c[2], width: c[1] + c[3] };
        },
        _proportionallyResize: function() {
          if (this._proportionallyResizeElements.length)
            for (
              var a, b = 0, c = this.helper || this.element;
              b < this._proportionallyResizeElements.length;
              b++
            )
              (a = this._proportionallyResizeElements[b]),
                this.outerDimensions ||
                  (this.outerDimensions = this._getPaddingPlusBorderDimensions(
                    a
                  )),
                a.css({
                  height: c.height() - this.outerDimensions.height || 0,
                  width: c.width() - this.outerDimensions.width || 0
                });
        },
        _renderProxy: function() {
          var b = this.element,
            c = this.options;
          (this.elementOffset = b.offset()),
            this._helper
              ? ((this.helper =
                  this.helper || a("<div style='overflow:hidden;'></div>")),
                this._addClass(this.helper, this._helper),
                this.helper.css({
                  width: this.element.outerWidth(),
                  height: this.element.outerHeight(),
                  position: "absolute",
                  left: this.elementOffset.left + "px",
                  top: this.elementOffset.top + "px",
                  zIndex: ++c.zIndex
                }),
                this.helper.appendTo("body").disableSelection())
              : (this.helper = this.element);
        },
        _change: {
          e: function(a, b) {
            return {
              width: this.originalSize.width + b
            };
          },
          w: function(a, b) {
            var c = this.originalSize,
              d = this.originalPosition;
            return { left: d.left + b, width: c.width - b };
          },
          n: function(a, b, c) {
            var d = this.originalSize,
              e = this.originalPosition;
            return { top: e.top + c, height: d.height - c };
          },
          s: function(a, b, c) {
            return { height: this.originalSize.height + c };
          },
          se: function(b, c, d) {
            return a.extend(
              this._change.s.apply(this, arguments),
              this._change.e.apply(this, [b, c, d])
            );
          },
          sw: function(b, c, d) {
            return a.extend(
              this._change.s.apply(this, arguments),
              this._change.w.apply(this, [b, c, d])
            );
          },
          ne: function(b, c, d) {
            return a.extend(
              this._change.n.apply(this, arguments),
              this._change.e.apply(this, [b, c, d])
            );
          },
          nw: function(b, c, d) {
            return a.extend(
              this._change.n.apply(this, arguments),
              this._change.w.apply(this, [b, c, d])
            );
          }
        },
        _propagate: function(b, c) {
          a.ui.plugin.call(this, b, [c, this.ui()]),
            "resize" !== b && this._trigger(b, c, this.ui());
        },
        plugins: {},
        ui: function() {
          return {
            originalElement: this.originalElement,
            element: this.element,
            helper: this.helper,
            position: this.position,
            size: this.size,
            originalSize: this.originalSize,
            originalPosition: this.originalPosition
          };
        }
      }),
      a.ui.plugin.add("resizable", "animate", {
        stop: function(b) {
          var c = a(this).resizable("instance"),
            d = c.options,
            e = c._proportionallyResizeElements,
            f = e.length && /textarea/i.test(e[0].nodeName),
            g = f && c._hasScroll(e[0], "left") ? 0 : c.sizeDiff.height,
            h = f ? 0 : c.sizeDiff.width,
            i = { width: c.size.width - h, height: c.size.height - g },
            j =
              parseFloat(c.element.css("left")) +
                (c.position.left - c.originalPosition.left) || null,
            k =
              parseFloat(c.element.css("top")) +
                (c.position.top - c.originalPosition.top) || null;
          c.element.animate(a.extend(i, k && j ? { top: k, left: j } : {}), {
            duration: d.animateDuration,
            easing: d.animateEasing,
            step: function() {
              var d = {
                width: parseFloat(c.element.css("width")),
                height: parseFloat(c.element.css("height")),
                top: parseFloat(c.element.css("top")),
                left: parseFloat(c.element.css("left"))
              };
              e &&
                e.length &&
                a(e[0]).css({ width: d.width, height: d.height }),
                c._updateCache(d),
                c._propagate("resize", b);
            }
          });
        }
      }),
      a.ui.plugin.add("resizable", "containment", {
        start: function() {
          var b,
            c,
            d,
            e,
            f,
            g,
            h,
            i = a(this).resizable("instance"),
            j = i.options,
            k = i.element,
            l = j.containment,
            m =
              l instanceof a
                ? l.get(0)
                : /parent/.test(l)
                ? k.parent().get(0)
                : l;
          m &&
            ((i.containerElement = a(m)),
            /document/.test(l) || l === document
              ? ((i.containerOffset = { left: 0, top: 0 }),
                (i.containerPosition = { left: 0, top: 0 }),
                (i.parentData = {
                  element: a(document),
                  left: 0,
                  top: 0,
                  width: a(document).width(),
                  height:
                    a(document).height() ||
                    document.body.parentNode.scrollHeight
                }))
              : ((b = a(m)),
                (c = []),
                a(["Top", "Right", "Left", "Bottom"]).each(function(a, d) {
                  c[a] = i._num(b.css("padding" + d));
                }),
                (i.containerOffset = b.offset()),
                (i.containerPosition = b.position()),
                (i.containerSize = {
                  height: b.innerHeight() - c[3],
                  width: b.innerWidth() - c[1]
                }),
                (d = i.containerOffset),
                (e = i.containerSize.height),
                (f = i.containerSize.width),
                (g = i._hasScroll(m, "left") ? m.scrollWidth : f),
                (h = i._hasScroll(m) ? m.scrollHeight : e),
                (i.parentData = {
                  element: m,
                  left: d.left,
                  top: d.top,
                  width: g,
                  height: h
                })));
        },
        resize: function(b) {
          var c,
            d,
            e,
            f,
            g = a(this).resizable("instance"),
            h = g.options,
            i = g.containerOffset,
            j = g.position,
            k = g._aspectRatio || b.shiftKey,
            l = { top: 0, left: 0 },
            m = g.containerElement,
            n = !0;
          m[0] !== document && /static/.test(m.css("position")) && (l = i),
            j.left < (g._helper ? i.left : 0) &&
              ((g.size.width =
                g.size.width +
                (g._helper
                  ? g.position.left - i.left
                  : g.position.left - l.left)),
              k && ((g.size.height = g.size.width / g.aspectRatio), (n = !1)),
              (g.position.left = h.helper ? i.left : 0)),
            j.top < (g._helper ? i.top : 0) &&
              ((g.size.height =
                g.size.height +
                (g._helper ? g.position.top - i.top : g.position.top)),
              k && ((g.size.width = g.size.height * g.aspectRatio), (n = !1)),
              (g.position.top = g._helper ? i.top : 0)),
            (e = g.containerElement.get(0) === g.element.parent().get(0)),
            (f = /relative|absolute/.test(g.containerElement.css("position"))),
            e && f
              ? ((g.offset.left = g.parentData.left + g.position.left),
                (g.offset.top = g.parentData.top + g.position.top))
              : ((g.offset.left = g.element.offset().left),
                (g.offset.top = g.element.offset().top)),
            (c = Math.abs(
              g.sizeDiff.width +
                (g._helper ? g.offset.left - l.left : g.offset.left - i.left)
            )),
            (d = Math.abs(
              g.sizeDiff.height +
                (g._helper ? g.offset.top - l.top : g.offset.top - i.top)
            )),
            c + g.size.width >= g.parentData.width &&
              ((g.size.width = g.parentData.width - c),
              k && ((g.size.height = g.size.width / g.aspectRatio), (n = !1))),
            d + g.size.height >= g.parentData.height &&
              ((g.size.height = g.parentData.height - d),
              k && ((g.size.width = g.size.height * g.aspectRatio), (n = !1))),
            n ||
              ((g.position.left = g.prevPosition.left),
              (g.position.top = g.prevPosition.top),
              (g.size.width = g.prevSize.width),
              (g.size.height = g.prevSize.height));
        },
        stop: function() {
          var b = a(this).resizable("instance"),
            c = b.options,
            d = b.containerOffset,
            e = b.containerPosition,
            f = b.containerElement,
            g = a(b.helper),
            h = g.offset(),
            i = g.outerWidth() - b.sizeDiff.width,
            j = g.outerHeight() - b.sizeDiff.height;
          b._helper &&
            !c.animate &&
            /relative/.test(f.css("position")) &&
            a(this).css({
              left: h.left - e.left - d.left,
              width: i,
              height: j
            }),
            b._helper &&
              !c.animate &&
              /static/.test(f.css("position")) &&
              a(this).css({
                left: h.left - e.left - d.left,
                width: i,
                height: j
              });
        }
      }),
      a.ui.plugin.add("resizable", "alsoResize", {
        start: function() {
          var b = a(this).resizable("instance"),
            c = b.options;
          a(c.alsoResize).each(function() {
            var b = a(this);
            b.data("ui-resizable-alsoresize", {
              width: parseFloat(b.width()),
              height: parseFloat(b.height()),
              left: parseFloat(b.css("left")),
              top: parseFloat(b.css("top"))
            });
          });
        },
        resize: function(b, c) {
          var d = a(this).resizable("instance"),
            e = d.options,
            f = d.originalSize,
            g = d.originalPosition,
            h = {
              height: d.size.height - f.height || 0,
              width: d.size.width - f.width || 0,
              top: d.position.top - g.top || 0,
              left: d.position.left - g.left || 0
            };
          a(e.alsoResize).each(function() {
            var b = a(this),
              d = a(this).data("ui-resizable-alsoresize"),
              e = {},
              f = b.parents(c.originalElement[0]).length
                ? ["width", "height"]
                : ["width", "height", "top", "left"];
            a.each(f, function(a, b) {
              var c = (d[b] || 0) + (h[b] || 0);
              c && c >= 0 && (e[b] = c || null);
            }),
              b.css(e);
          });
        },
        stop: function() {
          a(this).removeData("ui-resizable-alsoresize");
        }
      }),
      a.ui.plugin.add("resizable", "ghost", {
        start: function() {
          var b = a(this).resizable("instance"),
            c = b.size;
          (b.ghost = b.originalElement.clone()),
            b.ghost.css({
              opacity: 0.25,
              display: "block",
              position: "relative",
              height: c.height,
              width: c.width,
              margin: 0,
              left: 0,
              top: 0
            }),
            b._addClass(b.ghost, "ui-resizable-ghost"),
            a.uiBackCompat !== !1 &&
              "string" == typeof b.options.ghost &&
              b.ghost.addClass(this.options.ghost),
            b.ghost.appendTo(b.helper);
        },
        resize: function() {
          var b = a(this).resizable("instance");
          b.ghost &&
            b.ghost.css({
              position: "relative",
              height: b.size.height,
              width: b.size.width
            });
        },
        stop: function() {
          var b = a(this).resizable("instance");
          b.ghost && b.helper && b.helper.get(0).removeChild(b.ghost.get(0));
        }
      }),
      a.ui.plugin.add("resizable", "grid", {
        resize: function() {
          var b,
            c = a(this).resizable("instance"),
            d = c.options,
            e = c.size,
            f = c.originalSize,
            g = c.originalPosition,
            h = c.axis,
            i = "number" == typeof d.grid ? [d.grid, d.grid] : d.grid,
            j = i[0] || 1,
            k = i[1] || 1,
            l = Math.round((e.width - f.width) / j) * j,
            m = Math.round((e.height - f.height) / k) * k,
            n = f.width + l,
            o = f.height + m,
            p = d.maxWidth && d.maxWidth < n,
            q = d.maxHeight && d.maxHeight < o,
            r = d.minWidth && d.minWidth > n,
            s = d.minHeight && d.minHeight > o;
          (d.grid = i),
            r && (n += j),
            s && (o += k),
            p && (n -= j),
            q && (o -= k),
            /^(se|s|e)$/.test(h)
              ? ((c.size.width = n), (c.size.height = o))
              : /^(ne)$/.test(h)
              ? ((c.size.width = n),
                (c.size.height = o),
                (c.position.top = g.top - m))
              : /^(sw)$/.test(h)
              ? ((c.size.width = n),
                (c.size.height = o),
                (c.position.left = g.left - l))
              : ((o - k <= 0 || n - j <= 0) &&
                  (b = c._getPaddingPlusBorderDimensions(this)),
                o - k > 0
                  ? ((c.size.height = o), (c.position.top = g.top - m))
                  : ((o = k - b.height),
                    (c.size.height = o),
                    (c.position.top = g.top + f.height - o)),
                n - j > 0
                  ? ((c.size.width = n), (c.position.left = g.left - l))
                  : ((n = j - b.width),
                    (c.size.width = n),
                    (c.position.left = g.left + f.width - n)));
        }
      }),
      a.ui.resizable
    );
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return (
      a.widget("ui.dialog", {
        version: "@VERSION",
        options: {
          appendTo: "body",
          autoOpen: !0,
          buttons: [],
          classes: {
            "ui-dialog": "ui-corner-all",
            "ui-dialog-titlebar": "ui-corner-all"
          },
          closeOnEscape: !0,
          closeText: "Close",
          draggable: !0,
          hide: null,
          height: "auto",
          maxHeight: null,
          maxWidth: null,
          minHeight: 150,
          minWidth: 150,
          modal: !1,
          position: {
            my: "center",
            at: "center",
            of: window,
            collision: "fit",
            using: function(b) {
              var c = a(this)
                .css(b)
                .offset().top;
              c < 0 && a(this).css("top", b.top - c);
            }
          },
          resizable: !0,
          show: null,
          title: null,
          width: 300,
          beforeClose: null,
          close: null,
          drag: null,
          dragStart: null,
          dragStop: null,
          focus: null,
          open: null,
          resize: null,
          resizeStart: null,
          resizeStop: null
        },
        sizeRelatedOptions: {
          buttons: !0,
          height: !0,
          maxHeight: !0,
          maxWidth: !0,
          minHeight: !0,
          minWidth: !0,
          width: !0
        },
        resizableRelatedOptions: {
          maxHeight: !0,
          maxWidth: !0,
          minHeight: !0,
          minWidth: !0
        },
        _create: function() {
          (this.originalCss = {
            display: this.element[0].style.display,
            width: this.element[0].style.width,
            minHeight: this.element[0].style.minHeight,
            maxHeight: this.element[0].style.maxHeight,
            height: this.element[0].style.height
          }),
            (this.originalPosition = {
              parent: this.element.parent(),
              index: this.element
                .parent()
                .children()
                .index(this.element)
            }),
            (this.originalTitle = this.element.attr("title")),
            null == this.options.title &&
              null != this.originalTitle &&
              (this.options.title = this.originalTitle),
            this.options.disabled && (this.options.disabled = !1),
            this._createWrapper(),
            this.element
              .show()
              .removeAttr("title")
              .appendTo(this.uiDialog),
            this._addClass("ui-dialog-content", "ui-widget-content"),
            this._createTitlebar(),
            this._createButtonPane(),
            this.options.draggable && a.fn.draggable && this._makeDraggable(),
            this.options.resizable && a.fn.resizable && this._makeResizable(),
            (this._isOpen = !1),
            this._trackFocus();
        },
        _init: function() {
          this.options.autoOpen && this.open();
        },
        _appendTo: function() {
          var b = this.options.appendTo;
          return b && (b.jquery || b.nodeType)
            ? a(b)
            : this.document.find(b || "body").eq(0);
        },
        _destroy: function() {
          var a,
            b = this.originalPosition;
          this._untrackInstance(),
            this._destroyOverlay(),
            this.element
              .removeUniqueId()
              .css(this.originalCss)
              .detach(),
            this.uiDialog.remove(),
            this.originalTitle &&
              this.element.attr("title", this.originalTitle),
            (a = b.parent.children().eq(b.index)),
            a.length && a[0] !== this.element[0]
              ? a.before(this.element)
              : b.parent.append(this.element);
        },
        widget: function() {
          return this.uiDialog;
        },
        disable: a.noop,
        enable: a.noop,
        close: function(b) {
          var c = this;
          this._isOpen &&
            this._trigger("beforeClose", b) !== !1 &&
            ((this._isOpen = !1),
            (this._focusedElement = null),
            this._destroyOverlay(),
            this._untrackInstance(),
            this.opener.filter(":focusable").trigger("focus").length ||
              a.ui.safeBlur(a.ui.safeActiveElement(this.document[0])),
            this._hide(this.uiDialog, this.options.hide, function() {
              c._trigger("close", b);
            }));
        },
        isOpen: function() {
          return this._isOpen;
        },
        moveToTop: function() {
          this._moveToTop();
        },
        _moveToTop: function(b, c) {
          var d = !1,
            e = this.uiDialog
              .siblings(".ui-front:visible")
              .map(function() {
                return +a(this).css("z-index");
              })
              .get(),
            f = Math.max.apply(null, e);
          return (
            f >= +this.uiDialog.css("z-index") &&
              (this.uiDialog.css("z-index", f + 1), (d = !0)),
            d && !c && this._trigger("focus", b),
            d
          );
        },
        open: function() {
          var b = this;
          return this._isOpen
            ? void (this._moveToTop() && this._focusTabbable())
            : ((this._isOpen = !0),
              (this.opener = a(a.ui.safeActiveElement(this.document[0]))),
              this._size(),
              this._position(),
              this._createOverlay(),
              this._moveToTop(null, !0),
              this.overlay &&
                this.overlay.css("z-index", this.uiDialog.css("z-index") - 1),
              this._show(this.uiDialog, this.options.show, function() {
                b._focusTabbable(), b._trigger("focus");
              }),
              this._makeFocusTarget(),
              void this._trigger("open"));
        },
        _focusTabbable: function() {
          var a = this._focusedElement;
          a || (a = this.element.find("[autofocus]")),
            a.length || (a = this.element.find(":tabbable")),
            a.length || (a = this.uiDialogButtonPane.find(":tabbable")),
            a.length || (a = this.uiDialogTitlebarClose.filter(":tabbable")),
            a.length || (a = this.uiDialog),
            a.eq(0).trigger("focus");
        },
        _keepFocus: function(b) {
          function c() {
            var b = a.ui.safeActiveElement(this.document[0]),
              c = this.uiDialog[0] === b || a.contains(this.uiDialog[0], b);
            c || this._focusTabbable();
          }
          b.preventDefault(), c.call(this), this._delay(c);
        },
        _createWrapper: function() {
          (this.uiDialog = a("<div>")
            .hide()
            .attr({ tabIndex: -1, role: "dialog" })
            .appendTo(this._appendTo())),
            this._addClass(
              this.uiDialog,
              "ui-dialog",
              "ui-widget ui-widget-content ui-front"
            ),
            this._on(this.uiDialog, {
              keydown: function(b) {
                if (
                  this.options.closeOnEscape &&
                  !b.isDefaultPrevented() &&
                  b.keyCode &&
                  b.keyCode === a.ui.keyCode.ESCAPE
                )
                  return b.preventDefault(), void this.close(b);
                if (b.keyCode === a.ui.keyCode.TAB && !b.isDefaultPrevented()) {
                  var c = this.uiDialog.find(":tabbable"),
                    d = c.first(),
                    e = c.last();
                  (b.target !== e[0] && b.target !== this.uiDialog[0]) ||
                  b.shiftKey
                    ? (b.target !== d[0] && b.target !== this.uiDialog[0]) ||
                      !b.shiftKey ||
                      (this._delay(function() {
                        e.trigger("focus");
                      }),
                      b.preventDefault())
                    : (this._delay(function() {
                        d.trigger("focus");
                      }),
                      b.preventDefault());
                }
              },
              mousedown: function(a) {
                this._moveToTop(a) && this._focusTabbable();
              }
            }),
            this.element.find("[aria-describedby]").length ||
              this.uiDialog.attr({
                "aria-describedby": this.element.uniqueId().attr("id")
              });
        },
        _createTitlebar: function() {
          var b;
          (this.uiDialogTitlebar = a("<div>")),
            this._addClass(
              this.uiDialogTitlebar,
              "ui-dialog-titlebar",
              "ui-widget-header ui-helper-clearfix"
            ),
            this._on(this.uiDialogTitlebar, {
              mousedown: function(b) {
                a(b.target).closest(".ui-dialog-titlebar-close") ||
                  this.uiDialog.trigger("focus");
              }
            }),
            (this.uiDialogTitlebarClose = a("<button type='button'></button>")
              .button({
                label: a("<a>")
                  .text(this.options.closeText)
                  .html(),
                icon: "ui-icon-closethick",
                showLabel: !1
              })
              .appendTo(this.uiDialogTitlebar)),
            this._addClass(
              this.uiDialogTitlebarClose,
              "ui-dialog-titlebar-close"
            ),
            this._on(this.uiDialogTitlebarClose, {
              click: function(a) {
                a.preventDefault(), this.close(a);
              }
            }),
            (b = a("<span>")
              .uniqueId()
              .prependTo(this.uiDialogTitlebar)),
            this._addClass(b, "ui-dialog-title"),
            this._title(b),
            this.uiDialogTitlebar.prependTo(this.uiDialog),
            this.uiDialog.attr({ "aria-labelledby": b.attr("id") });
        },
        _title: function(a) {
          this.options.title ? a.text(this.options.title) : a.html("&#160;");
        },
        _createButtonPane: function() {
          (this.uiDialogButtonPane = a("<div>")),
            this._addClass(
              this.uiDialogButtonPane,
              "ui-dialog-buttonpane",
              "ui-widget-content ui-helper-clearfix"
            ),
            (this.uiButtonSet = a("<div>").appendTo(this.uiDialogButtonPane)),
            this._addClass(this.uiButtonSet, "ui-dialog-buttonset"),
            this._createButtons();
        },
        _createButtons: function() {
          var b = this,
            c = this.options.buttons;
          return (
            this.uiDialogButtonPane.remove(),
            this.uiButtonSet.empty(),
            a.isEmptyObject(c) || (Array.isArray(c) && !c.length)
              ? void this._removeClass(this.uiDialog, "ui-dialog-buttons")
              : (a.each(c, function(c, d) {
                  var e, f;
                  (d = "function" == typeof d ? { click: d, text: c } : d),
                    (d = a.extend({ type: "button" }, d)),
                    (e = d.click),
                    (f = {
                      icon: d.icon,
                      iconPosition: d.iconPosition,
                      showLabel: d.showLabel,
                      icons: d.icons,
                      text: d.text
                    }),
                    delete d.click,
                    delete d.icon,
                    delete d.iconPosition,
                    delete d.showLabel,
                    delete d.icons,
                    "boolean" == typeof d.text && delete d.text,
                    a("<button></button>", d)
                      .button(f)
                      .appendTo(b.uiButtonSet)
                      .on("click", function() {
                        e.apply(b.element[0], arguments);
                      });
                }),
                this._addClass(this.uiDialog, "ui-dialog-buttons"),
                void this.uiDialogButtonPane.appendTo(this.uiDialog))
          );
        },
        _makeDraggable: function() {
          function b(a) {
            return { position: a.position, offset: a.offset };
          }
          var c = this,
            d = this.options;
          this.uiDialog.draggable({
            cancel: ".ui-dialog-content, .ui-dialog-titlebar-close",
            handle: ".ui-dialog-titlebar",
            containment: "document",
            start: function(d, e) {
              c._addClass(a(this), "ui-dialog-dragging"),
                c._blockFrames(),
                c._trigger("dragStart", d, b(e));
            },
            drag: function(a, d) {
              c._trigger("drag", a, b(d));
            },
            stop: function(e, f) {
              var g = f.offset.left - c.document.scrollLeft(),
                h = f.offset.top - c.document.scrollTop();
              (d.position = {
                my: "left top",
                at:
                  "left" +
                  (g >= 0 ? "+" : "") +
                  g +
                  " top" +
                  (h >= 0 ? "+" : "") +
                  h,
                of: c.window
              }),
                c._removeClass(a(this), "ui-dialog-dragging"),
                c._unblockFrames(),
                c._trigger("dragStop", e, b(f));
            }
          });
        },
        _makeResizable: function() {
          function b(a) {
            return {
              originalPosition: a.originalPosition,
              originalSize: a.originalSize,
              position: a.position,
              size: a.size
            };
          }
          var c = this,
            d = this.options,
            e = d.resizable,
            f = this.uiDialog.css("position"),
            g = "string" == typeof e ? e : "n,e,s,w,se,sw,ne,nw";
          this.uiDialog
            .resizable({
              cancel: ".ui-dialog-content",
              containment: "document",
              alsoResize: this.element,
              maxWidth: d.maxWidth,
              maxHeight: d.maxHeight,
              minWidth: d.minWidth,
              minHeight: this._minHeight(),
              handles: g,
              start: function(d, e) {
                c._addClass(a(this), "ui-dialog-resizing"),
                  c._blockFrames(),
                  c._trigger("resizeStart", d, b(e));
              },
              resize: function(a, d) {
                c._trigger("resize", a, b(d));
              },
              stop: function(e, f) {
                var g = c.uiDialog.offset(),
                  h = g.left - c.document.scrollLeft(),
                  i = g.top - c.document.scrollTop();
                (d.height = c.uiDialog.height()),
                  (d.width = c.uiDialog.width()),
                  (d.position = {
                    my: "left top",
                    at:
                      "left" +
                      (h >= 0 ? "+" : "") +
                      h +
                      " top" +
                      (i >= 0 ? "+" : "") +
                      i,
                    of: c.window
                  }),
                  c._removeClass(a(this), "ui-dialog-resizing"),
                  c._unblockFrames(),
                  c._trigger("resizeStop", e, b(f));
              }
            })
            .css("position", f);
        },
        _trackFocus: function() {
          this._on(this.widget(), {
            focusin: function(b) {
              this._makeFocusTarget(), (this._focusedElement = a(b.target));
            }
          });
        },
        _makeFocusTarget: function() {
          this._untrackInstance(), this._trackingInstances().unshift(this);
        },
        _untrackInstance: function() {
          var b = this._trackingInstances(),
            c = a.inArray(this, b);
          c !== -1 && b.splice(c, 1);
        },
        _trackingInstances: function() {
          var a = this.document.data("ui-dialog-instances");
          return (
            a || ((a = []), this.document.data("ui-dialog-instances", a)), a
          );
        },
        _minHeight: function() {
          var a = this.options;
          return "auto" === a.height
            ? a.minHeight
            : Math.min(a.minHeight, a.height);
        },
        _position: function() {
          var a = this.uiDialog.is(":visible");
          a || this.uiDialog.show(),
            this.uiDialog.position(this.options.position),
            a || this.uiDialog.hide();
        },
        _setOptions: function(b) {
          var c = this,
            d = !1,
            e = {};
          a.each(b, function(a, b) {
            c._setOption(a, b),
              a in c.sizeRelatedOptions && (d = !0),
              a in c.resizableRelatedOptions && (e[a] = b);
          }),
            d && (this._size(), this._position()),
            this.uiDialog.is(":data(ui-resizable)") &&
              this.uiDialog.resizable("option", e);
        },
        _setOption: function(b, c) {
          var d,
            e,
            f = this.uiDialog;
          "disabled" !== b &&
            (this._super(b, c),
            "appendTo" === b && this.uiDialog.appendTo(this._appendTo()),
            "buttons" === b && this._createButtons(),
            "closeText" === b &&
              this.uiDialogTitlebarClose.button({
                label: a("<a>")
                  .text("" + this.options.closeText)
                  .html()
              }),
            "draggable" === b &&
              ((d = f.is(":data(ui-draggable)")),
              d && !c && f.draggable("destroy"),
              !d && c && this._makeDraggable()),
            "position" === b && this._position(),
            "resizable" === b &&
              ((e = f.is(":data(ui-resizable)")),
              e && !c && f.resizable("destroy"),
              e && "string" == typeof c && f.resizable("option", "handles", c),
              e || c === !1 || this._makeResizable()),
            "title" === b &&
              this._title(this.uiDialogTitlebar.find(".ui-dialog-title")));
        },
        _size: function() {
          var a,
            b,
            c,
            d = this.options;
          this.element
            .show()
            .css({ width: "auto", minHeight: 0, maxHeight: "none", height: 0 }),
            d.minWidth > d.width && (d.width = d.minWidth),
            (a = this.uiDialog
              .css({ height: "auto", width: d.width })
              .outerHeight()),
            (b = Math.max(0, d.minHeight - a)),
            (c =
              "number" == typeof d.maxHeight
                ? Math.max(0, d.maxHeight - a)
                : "none"),
            "auto" === d.height
              ? this.element.css({ minHeight: b, maxHeight: c, height: "auto" })
              : this.element.height(Math.max(0, d.height - a)),
            this.uiDialog.is(":data(ui-resizable)") &&
              this.uiDialog.resizable("option", "minHeight", this._minHeight());
        },
        _blockFrames: function() {
          this.iframeBlocks = this.document.find("iframe").map(function() {
            var b = a(this);
            return a("<div>")
              .css({
                position: "absolute",
                width: b.outerWidth(),
                height: b.outerHeight()
              })
              .appendTo(b.parent())
              .offset(b.offset())[0];
          });
        },
        _unblockFrames: function() {
          this.iframeBlocks &&
            (this.iframeBlocks.remove(), delete this.iframeBlocks);
        },
        _allowInteraction: function(b) {
          return (
            !!a(b.target).closest(".ui-dialog").length ||
            !!a(b.target).closest(".ui-datepicker").length
          );
        },
        _createOverlay: function() {
          if (this.options.modal) {
            var b = !0;
            this._delay(function() {
              b = !1;
            }),
              this.document.data("ui-dialog-overlays") ||
                this.document.on(
                  "focusin.ui-dialog",
                  function(a) {
                    if (!b) {
                      var c = this._trackingInstances()[0];
                      c._allowInteraction(a) ||
                        (a.preventDefault(), c._focusTabbable());
                    }
                  }.bind(this)
                ),
              (this.overlay = a("<div>").appendTo(this._appendTo())),
              this._addClass(this.overlay, null, "ui-widget-overlay ui-front"),
              this._on(this.overlay, { mousedown: "_keepFocus" }),
              this.document.data(
                "ui-dialog-overlays",
                (this.document.data("ui-dialog-overlays") || 0) + 1
              );
          }
        },
        _destroyOverlay: function() {
          if (this.options.modal && this.overlay) {
            var a = this.document.data("ui-dialog-overlays") - 1;
            a
              ? this.document.data("ui-dialog-overlays", a)
              : (this.document.off("focusin.ui-dialog"),
                this.document.removeData("ui-dialog-overlays")),
              this.overlay.remove(),
              (this.overlay = null);
          }
        }
      }),
      a.uiBackCompat !== !1 &&
        a.widget("ui.dialog", a.ui.dialog, {
          options: { dialogClass: "" },
          _createWrapper: function() {
            this._super(), this.uiDialog.addClass(this.options.dialogClass);
          },
          _setOption: function(a, b) {
            "dialogClass" === a &&
              this.uiDialog.removeClass(this.options.dialogClass).addClass(b),
              this._superApply(arguments);
          }
        }),
      a.ui.dialog
    );
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return (
      a.widget("ui.droppable", {
        version: "@VERSION",
        widgetEventPrefix: "drop",
        options: {
          accept: "*",
          addClasses: !0,
          greedy: !1,
          scope: "default",
          tolerance: "intersect",
          activate: null,
          deactivate: null,
          drop: null,
          out: null,
          over: null
        },
        _create: function() {
          var a,
            b = this.options,
            c = b.accept;
          (this.isover = !1),
            (this.isout = !0),
            (this.accept =
              "function" == typeof c
                ? c
                : function(a) {
                    return a.is(c);
                  }),
            (this.proportions = function() {
              return arguments.length
                ? void (a = arguments[0])
                : a
                ? a
                : (a = {
                    width: this.element[0].offsetWidth,
                    height: this.element[0].offsetHeight
                  });
            }),
            this._addToManager(b.scope),
            b.addClasses && this._addClass("ui-droppable");
        },
        _addToManager: function(b) {
          (a.ui.ddmanager.droppables[b] = a.ui.ddmanager.droppables[b] || []),
            a.ui.ddmanager.droppables[b].push(this);
        },
        _splice: function(a) {
          for (var b = 0; b < a.length; b++) a[b] === this && a.splice(b, 1);
        },
        _destroy: function() {
          var b = a.ui.ddmanager.droppables[this.options.scope];
          this._splice(b);
        },
        _setOption: function(b, c) {
          if ("accept" === b)
            this.accept =
              "function" == typeof c
                ? c
                : function(a) {
                    return a.is(c);
                  };
          else if ("scope" === b) {
            var d = a.ui.ddmanager.droppables[this.options.scope];
            this._splice(d), this._addToManager(c);
          }
          this._super(b, c);
        },
        _activate: function(b) {
          var c = a.ui.ddmanager.current;
          this._addActiveClass(), c && this._trigger("activate", b, this.ui(c));
        },
        _deactivate: function(b) {
          var c = a.ui.ddmanager.current;
          this._removeActiveClass(),
            c && this._trigger("deactivate", b, this.ui(c));
        },
        _over: function(b) {
          var c = a.ui.ddmanager.current;
          c &&
            (c.currentItem || c.element)[0] !== this.element[0] &&
            this.accept.call(this.element[0], c.currentItem || c.element) &&
            (this._addHoverClass(), this._trigger("over", b, this.ui(c)));
        },
        _out: function(b) {
          var c = a.ui.ddmanager.current;
          c &&
            (c.currentItem || c.element)[0] !== this.element[0] &&
            this.accept.call(this.element[0], c.currentItem || c.element) &&
            (this._removeHoverClass(), this._trigger("out", b, this.ui(c)));
        },
        _drop: function(b, c) {
          var d = c || a.ui.ddmanager.current,
            e = !1;
          return (
            !(!d || (d.currentItem || d.element)[0] === this.element[0]) &&
            (this.element
              .find(":data(ui-droppable)")
              .not(".ui-draggable-dragging")
              .each(function() {
                var c = a(this).droppable("instance");
                if (
                  c.options.greedy &&
                  !c.options.disabled &&
                  c.options.scope === d.options.scope &&
                  c.accept.call(c.element[0], d.currentItem || d.element) &&
                  a.ui.intersect(
                    d,
                    a.extend(c, { offset: c.element.offset() }),
                    c.options.tolerance,
                    b
                  )
                )
                  return (e = !0), !1;
              }),
            !e &&
              !!this.accept.call(this.element[0], d.currentItem || d.element) &&
              (this._removeActiveClass(),
              this._removeHoverClass(),
              this._trigger("drop", b, this.ui(d)),
              this.element))
          );
        },
        ui: function(a) {
          return {
            draggable: a.currentItem || a.element,
            helper: a.helper,
            position: a.position,
            offset: a.positionAbs
          };
        },
        _addHoverClass: function() {
          this._addClass("ui-droppable-hover");
        },
        _removeHoverClass: function() {
          this._removeClass("ui-droppable-hover");
        },
        _addActiveClass: function() {
          this._addClass("ui-droppable-active");
        },
        _removeActiveClass: function() {
          this._removeClass("ui-droppable-active");
        }
      }),
      (a.ui.intersect = (function() {
        function a(a, b, c) {
          return a >= b && a < b + c;
        }
        return function(b, c, d, e) {
          if (!c.offset) return !1;
          var f = (b.positionAbs || b.position.absolute).left + b.margins.left,
            g = (b.positionAbs || b.position.absolute).top + b.margins.top,
            h = f + b.helperProportions.width,
            i = g + b.helperProportions.height,
            j = c.offset.left,
            k = c.offset.top,
            l = j + c.proportions().width,
            m = k + c.proportions().height;
          switch (d) {
            case "fit":
              return j <= f && h <= l && k <= g && i <= m;
            case "intersect":
              return (
                j < f + b.helperProportions.width / 2 &&
                h - b.helperProportions.width / 2 < l &&
                k < g + b.helperProportions.height / 2 &&
                i - b.helperProportions.height / 2 < m
              );
            case "pointer":
              return (
                a(e.pageY, k, c.proportions().height) &&
                a(e.pageX, j, c.proportions().width)
              );
            case "touch":
              return (
                ((g >= k && g <= m) ||
                  (i >= k && i <= m) ||
                  (g < k && i > m)) &&
                ((f >= j && f <= l) || (h >= j && h <= l) || (f < j && h > l))
              );
            default:
              return !1;
          }
        };
      })()),
      (a.ui.ddmanager = {
        current: null,
        droppables: { default: [] },
        prepareOffsets: function(b, c) {
          var d,
            e,
            f = a.ui.ddmanager.droppables[b.options.scope] || [],
            g = c ? c.type : null,
            h = (b.currentItem || b.element)
              .find(":data(ui-droppable)")
              .addBack();
          a: for (d = 0; d < f.length; d++)
            if (
              !(
                f[d].options.disabled ||
                (b &&
                  !f[d].accept.call(
                    f[d].element[0],
                    b.currentItem || b.element
                  ))
              )
            ) {
              for (e = 0; e < h.length; e++)
                if (h[e] === f[d].element[0]) {
                  f[d].proportions().height = 0;
                  continue a;
                }
              (f[d].visible = "none" !== f[d].element.css("display")),
                f[d].visible &&
                  ("mousedown" === g && f[d]._activate.call(f[d], c),
                  (f[d].offset = f[d].element.offset()),
                  f[d].proportions({
                    width: f[d].element[0].offsetWidth,
                    height: f[d].element[0].offsetHeight
                  }));
            }
        },
        drop: function(b, c) {
          var d = !1;
          return (
            a.each(
              (a.ui.ddmanager.droppables[b.options.scope] || []).slice(),
              function() {
                this.options &&
                  (!this.options.disabled &&
                    this.visible &&
                    a.ui.intersect(b, this, this.options.tolerance, c) &&
                    (d = this._drop.call(this, c) || d),
                  !this.options.disabled &&
                    this.visible &&
                    this.accept.call(
                      this.element[0],
                      b.currentItem || b.element
                    ) &&
                    ((this.isout = !0),
                    (this.isover = !1),
                    this._deactivate.call(this, c)));
              }
            ),
            d
          );
        },
        dragStart: function(b, c) {
          b.element.parentsUntil("body").on("scroll.droppable", function() {
            b.options.refreshPositions || a.ui.ddmanager.prepareOffsets(b, c);
          });
        },
        drag: function(b, c) {
          b.options.refreshPositions && a.ui.ddmanager.prepareOffsets(b, c),
            a.each(
              a.ui.ddmanager.droppables[b.options.scope] || [],
              function() {
                if (
                  !this.options.disabled &&
                  !this.greedyChild &&
                  this.visible
                ) {
                  var d,
                    e,
                    f,
                    g = a.ui.intersect(b, this, this.options.tolerance, c),
                    h =
                      !g && this.isover
                        ? "isout"
                        : g && !this.isover
                        ? "isover"
                        : null;
                  h &&
                    (this.options.greedy &&
                      ((e = this.options.scope),
                      (f = this.element
                        .parents(":data(ui-droppable)")
                        .filter(function() {
                          return (
                            a(this).droppable("instance").options.scope === e
                          );
                        })),
                      f.length &&
                        ((d = a(f[0]).droppable("instance")),
                        (d.greedyChild = "isover" === h))),
                    d &&
                      "isover" === h &&
                      ((d.isover = !1), (d.isout = !0), d._out.call(d, c)),
                    (this[h] = !0),
                    (this["isout" === h ? "isover" : "isout"] = !1),
                    this["isover" === h ? "_over" : "_out"].call(this, c),
                    d &&
                      "isout" === h &&
                      ((d.isout = !1), (d.isover = !0), d._over.call(d, c)));
                }
              }
            );
        },
        dragStop: function(b, c) {
          b.element.parentsUntil("body").off("scroll.droppable"),
            b.options.refreshPositions || a.ui.ddmanager.prepareOffsets(b, c);
        }
      }),
      a.uiBackCompat !== !1 &&
        a.widget("ui.droppable", a.ui.droppable, {
          options: { hoverClass: !1, activeClass: !1 },
          _addActiveClass: function() {
            this._super(),
              this.options.activeClass &&
                this.element.addClass(this.options.activeClass);
          },
          _removeActiveClass: function() {
            this._super(),
              this.options.activeClass &&
                this.element.removeClass(this.options.activeClass);
          },
          _addHoverClass: function() {
            this._super(),
              this.options.hoverClass &&
                this.element.addClass(this.options.hoverClass);
          },
          _removeHoverClass: function() {
            this._super(),
              this.options.hoverClass &&
                this.element.removeClass(this.options.hoverClass);
          }
        }),
      a.ui.droppable
    );
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return a.widget("ui.progressbar", {
      version: "@VERSION",
      options: {
        classes: {
          "ui-progressbar": "ui-corner-all",
          "ui-progressbar-value": "ui-corner-left",
          "ui-progressbar-complete": "ui-corner-right"
        },
        max: 100,
        value: 0,
        change: null,
        complete: null
      },
      min: 0,
      _create: function() {
        (this.oldValue = this.options.value = this._constrainedValue()),
          this.element.attr({ role: "progressbar", "aria-valuemin": this.min }),
          this._addClass("ui-progressbar", "ui-widget ui-widget-content"),
          (this.valueDiv = a("<div>").appendTo(this.element)),
          this._addClass(
            this.valueDiv,
            "ui-progressbar-value",
            "ui-widget-header"
          ),
          this._refreshValue();
      },
      _destroy: function() {
        this.element.removeAttr(
          "role aria-valuemin aria-valuemax aria-valuenow"
        ),
          this.valueDiv.remove();
      },
      value: function(a) {
        return void 0 === a
          ? this.options.value
          : ((this.options.value = this._constrainedValue(a)),
            void this._refreshValue());
      },
      _constrainedValue: function(a) {
        return (
          void 0 === a && (a = this.options.value),
          (this.indeterminate = a === !1),
          "number" != typeof a && (a = 0),
          !this.indeterminate &&
            Math.min(this.options.max, Math.max(this.min, a))
        );
      },
      _setOptions: function(a) {
        var b = a.value;
        delete a.value,
          this._super(a),
          (this.options.value = this._constrainedValue(b)),
          this._refreshValue();
      },
      _setOption: function(a, b) {
        "max" === a && (b = Math.max(this.min, b)), this._super(a, b);
      },
      _setOptionDisabled: function(a) {
        this._super(a),
          this.element.attr("aria-disabled", a),
          this._toggleClass(null, "ui-state-disabled", !!a);
      },
      _percentage: function() {
        return this.indeterminate
          ? 100
          : (100 * (this.options.value - this.min)) /
              (this.options.max - this.min);
      },
      _refreshValue: function() {
        var b = this.options.value,
          c = this._percentage();
        this.valueDiv
          .toggle(this.indeterminate || b > this.min)
          .width(c.toFixed(0) + "%"),
          this._toggleClass(
            this.valueDiv,
            "ui-progressbar-complete",
            null,
            b === this.options.max
          )._toggleClass(
            "ui-progressbar-indeterminate",
            null,
            this.indeterminate
          ),
          this.indeterminate
            ? (this.element.removeAttr("aria-valuenow"),
              this.overlayDiv ||
                ((this.overlayDiv = a("<div>").appendTo(this.valueDiv)),
                this._addClass(this.overlayDiv, "ui-progressbar-overlay")))
            : (this.element.attr({
                "aria-valuemax": this.options.max,
                "aria-valuenow": b
              }),
              this.overlayDiv &&
                (this.overlayDiv.remove(), (this.overlayDiv = null))),
          this.oldValue !== b && ((this.oldValue = b), this._trigger("change")),
          b === this.options.max && this._trigger("complete");
      }
    });
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return a.widget("ui.selectable", a.ui.mouse, {
      version: "@VERSION",
      options: {
        appendTo: "body",
        autoRefresh: !0,
        distance: 0,
        filter: "*",
        tolerance: "touch",
        selected: null,
        selecting: null,
        start: null,
        stop: null,
        unselected: null,
        unselecting: null
      },
      _create: function() {
        var b = this;
        this._addClass("ui-selectable"),
          (this.dragged = !1),
          (this.refresh = function() {
            (b.elementPos = a(b.element[0]).offset()),
              (b.selectees = a(b.options.filter, b.element[0])),
              b._addClass(b.selectees, "ui-selectee"),
              b.selectees.each(function() {
                var c = a(this),
                  d = c.offset(),
                  e = {
                    left: d.left - b.elementPos.left,
                    top: d.top - b.elementPos.top
                  };
                a.data(this, "selectable-item", {
                  element: this,
                  $element: c,
                  left: e.left,
                  top: e.top,
                  right: e.left + c.outerWidth(),
                  bottom: e.top + c.outerHeight(),
                  startselected: !1,
                  selected: c.hasClass("ui-selected"),
                  selecting: c.hasClass("ui-selecting"),
                  unselecting: c.hasClass("ui-unselecting")
                });
              });
          }),
          this.refresh(),
          this._mouseInit(),
          (this.helper = a("<div>")),
          this._addClass(this.helper, "ui-selectable-helper");
      },
      _destroy: function() {
        this.selectees.removeData("selectable-item"), this._mouseDestroy();
      },
      _mouseStart: function(b) {
        var c = this,
          d = this.options;
        (this.opos = [b.pageX, b.pageY]),
          (this.elementPos = a(this.element[0]).offset()),
          this.options.disabled ||
            ((this.selectees = a(d.filter, this.element[0])),
            this._trigger("start", b),
            a(d.appendTo).append(this.helper),
            this.helper.css({
              left: b.pageX,
              top: b.pageY,
              width: 0,
              height: 0
            }),
            d.autoRefresh && this.refresh(),
            this.selectees.filter(".ui-selected").each(function() {
              var d = a.data(this, "selectable-item");
              (d.startselected = !0),
                b.metaKey ||
                  b.ctrlKey ||
                  (c._removeClass(d.$element, "ui-selected"),
                  (d.selected = !1),
                  c._addClass(d.$element, "ui-unselecting"),
                  (d.unselecting = !0),
                  c._trigger("unselecting", b, { unselecting: d.element }));
            }),
            a(b.target)
              .parents()
              .addBack()
              .each(function() {
                var d,
                  e = a.data(this, "selectable-item");
                if (e)
                  return (
                    (d =
                      (!b.metaKey && !b.ctrlKey) ||
                      !e.$element.hasClass("ui-selected")),
                    c
                      ._removeClass(
                        e.$element,
                        d ? "ui-unselecting" : "ui-selected"
                      )
                      ._addClass(
                        e.$element,
                        d ? "ui-selecting" : "ui-unselecting"
                      ),
                    (e.unselecting = !d),
                    (e.selecting = d),
                    (e.selected = d),
                    d
                      ? c._trigger("selecting", b, { selecting: e.element })
                      : c._trigger("unselecting", b, {
                          unselecting: e.element
                        }),
                    !1
                  );
              }));
      },
      _mouseDrag: function(b) {
        if (((this.dragged = !0), !this.options.disabled)) {
          var c,
            d = this,
            e = this.options,
            f = this.opos[0],
            g = this.opos[1],
            h = b.pageX,
            i = b.pageY;
          return (
            f > h && ((c = h), (h = f), (f = c)),
            g > i && ((c = i), (i = g), (g = c)),
            this.helper.css({ left: f, top: g, width: h - f, height: i - g }),
            this.selectees.each(function() {
              var c = a.data(this, "selectable-item"),
                j = !1,
                k = {};
              c &&
                c.element !== d.element[0] &&
                ((k.left = c.left + d.elementPos.left),
                (k.right = c.right + d.elementPos.left),
                (k.top = c.top + d.elementPos.top),
                (k.bottom = c.bottom + d.elementPos.top),
                "touch" === e.tolerance
                  ? (j = !(
                      k.left > h ||
                      k.right < f ||
                      k.top > i ||
                      k.bottom < g
                    ))
                  : "fit" === e.tolerance &&
                    (j =
                      k.left > f && k.right < h && k.top > g && k.bottom < i),
                j
                  ? (c.selected &&
                      (d._removeClass(c.$element, "ui-selected"),
                      (c.selected = !1)),
                    c.unselecting &&
                      (d._removeClass(c.$element, "ui-unselecting"),
                      (c.unselecting = !1)),
                    c.selecting ||
                      (d._addClass(c.$element, "ui-selecting"),
                      (c.selecting = !0),
                      d._trigger("selecting", b, { selecting: c.element })))
                  : (c.selecting &&
                      ((b.metaKey || b.ctrlKey) && c.startselected
                        ? (d._removeClass(c.$element, "ui-selecting"),
                          (c.selecting = !1),
                          d._addClass(c.$element, "ui-selected"),
                          (c.selected = !0))
                        : (d._removeClass(c.$element, "ui-selecting"),
                          (c.selecting = !1),
                          c.startselected &&
                            (d._addClass(c.$element, "ui-unselecting"),
                            (c.unselecting = !0)),
                          d._trigger("unselecting", b, {
                            unselecting: c.element
                          }))),
                    c.selected &&
                      (b.metaKey ||
                        b.ctrlKey ||
                        c.startselected ||
                        (d._removeClass(c.$element, "ui-selected"),
                        (c.selected = !1),
                        d._addClass(c.$element, "ui-unselecting"),
                        (c.unselecting = !0),
                        d._trigger("unselecting", b, {
                          unselecting: c.element
                        })))));
            }),
            !1
          );
        }
      },
      _mouseStop: function(b) {
        var c = this;
        return (
          (this.dragged = !1),
          a(".ui-unselecting", this.element[0]).each(function() {
            var d = a.data(this, "selectable-item");
            c._removeClass(d.$element, "ui-unselecting"),
              (d.unselecting = !1),
              (d.startselected = !1),
              c._trigger("unselected", b, { unselected: d.element });
          }),
          a(".ui-selecting", this.element[0]).each(function() {
            var d = a.data(this, "selectable-item");
            c
              ._removeClass(d.$element, "ui-selecting")
              ._addClass(d.$element, "ui-selected"),
              (d.selecting = !1),
              (d.selected = !0),
              (d.startselected = !0),
              c._trigger("selected", b, { selected: d.element });
          }),
          this._trigger("stop", b),
          this.helper.remove(),
          !1
        );
      }
    });
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return a.widget("ui.selectmenu", [
      a.ui.formResetMixin,
      {
        version: "@VERSION",
        defaultElement: "<select>",
        options: {
          appendTo: null,
          classes: {
            "ui-selectmenu-button-open": "ui-corner-top",
            "ui-selectmenu-button-closed": "ui-corner-all"
          },
          disabled: null,
          icons: { button: "ui-icon-triangle-1-s" },
          position: { my: "left top", at: "left bottom", collision: "none" },
          width: !1,
          change: null,
          close: null,
          focus: null,
          open: null,
          select: null
        },
        _create: function() {
          var b = this.element.uniqueId().attr("id");
          (this.ids = { element: b, button: b + "-button", menu: b + "-menu" }),
            this._drawButton(),
            this._drawMenu(),
            this._bindFormResetHandler(),
            (this._rendered = !1),
            (this.menuItems = a());
        },
        _drawButton: function() {
          var b,
            c = this,
            d = this._parseOption(
              this.element.find("option:selected"),
              this.element[0].selectedIndex
            );
          (this.labels = this.element.labels().attr("for", this.ids.button)),
            this._on(this.labels, {
              click: function(a) {
                this.button.trigger("focus"), a.preventDefault();
              }
            }),
            this.element.hide(),
            (this.button = a("<span>", {
              tabindex: this.options.disabled ? -1 : 0,
              id: this.ids.button,
              role: "combobox",
              "aria-expanded": "false",
              "aria-autocomplete": "list",
              "aria-owns": this.ids.menu,
              "aria-haspopup": "true",
              title: this.element.attr("title")
            }).insertAfter(this.element)),
            this._addClass(
              this.button,
              "ui-selectmenu-button ui-selectmenu-button-closed",
              "ui-button ui-widget"
            ),
            (b = a("<span>").appendTo(this.button)),
            this._addClass(
              b,
              "ui-selectmenu-icon",
              "ui-icon " + this.options.icons.button
            ),
            (this.buttonItem = this._renderButtonItem(d).appendTo(this.button)),
            this.options.width !== !1 && this._resizeButton(),
            this._on(this.button, this._buttonEvents),
            this.button.one("focusin", function() {
              c._rendered || c._refreshMenu();
            });
        },
        _drawMenu: function() {
          var b = this;
          (this.menu = a("<ul>", {
            "aria-hidden": "true",
            "aria-labelledby": this.ids.button,
            id: this.ids.menu
          })),
            (this.menuWrap = a("<div>").append(this.menu)),
            this._addClass(this.menuWrap, "ui-selectmenu-menu", "ui-front"),
            this.menuWrap.appendTo(this._appendTo()),
            (this.menuInstance = this.menu
              .menu({
                classes: { "ui-menu": "ui-corner-bottom" },
                role: "listbox",
                select: function(a, c) {
                  a.preventDefault(),
                    b._setSelection(),
                    b._select(c.item.data("ui-selectmenu-item"), a);
                },
                focus: function(a, c) {
                  var d = c.item.data("ui-selectmenu-item");
                  null != b.focusIndex &&
                    d.index !== b.focusIndex &&
                    (b._trigger("focus", a, { item: d }),
                    b.isOpen || b._select(d, a)),
                    (b.focusIndex = d.index),
                    b.button.attr(
                      "aria-activedescendant",
                      b.menuItems.eq(d.index).attr("id")
                    );
                }
              })
              .menu("instance")),
            this.menuInstance._off(this.menu, "mouseleave"),
            (this.menuInstance._closeOnDocumentClick = function() {
              return !1;
            }),
            (this.menuInstance._isDivider = function() {
              return !1;
            });
        },
        refresh: function() {
          this._refreshMenu(),
            this.buttonItem.replaceWith(
              (this.buttonItem = this._renderButtonItem(
                this._getSelectedItem().data("ui-selectmenu-item") || {}
              ))
            ),
            null === this.options.width && this._resizeButton();
        },
        _refreshMenu: function() {
          var a,
            b = this.element.find("option");
          this.menu.empty(),
            this._parseOptions(b),
            this._renderMenu(this.menu, this.items),
            this.menuInstance.refresh(),
            (this.menuItems = this.menu
              .find("li")
              .not(".ui-selectmenu-optgroup")
              .find(".ui-menu-item-wrapper")),
            (this._rendered = !0),
            b.length &&
              ((a = this._getSelectedItem()),
              this.menuInstance.focus(null, a),
              this._setAria(a.data("ui-selectmenu-item")),
              this._setOption("disabled", this.element.prop("disabled")));
        },
        open: function(a) {
          this.options.disabled ||
            (this._rendered
              ? (this._removeClass(
                  this.menu.find(".ui-state-active"),
                  null,
                  "ui-state-active"
                ),
                this.menuInstance.focus(null, this._getSelectedItem()))
              : this._refreshMenu(),
            this.menuItems.length &&
              ((this.isOpen = !0),
              this._toggleAttr(),
              this._resizeMenu(),
              this._position(),
              this._on(this.document, this._documentClick),
              this._trigger("open", a)));
        },
        _position: function() {
          this.menuWrap.position(
            a.extend({ of: this.button }, this.options.position)
          );
        },
        close: function(a) {
          this.isOpen &&
            ((this.isOpen = !1),
            this._toggleAttr(),
            (this.range = null),
            this._off(this.document),
            this._trigger("close", a));
        },
        widget: function() {
          return this.button;
        },
        menuWidget: function() {
          return this.menu;
        },
        _renderButtonItem: function(b) {
          var c = a("<span>");
          return (
            this._setText(c, b.label),
            this._addClass(c, "ui-selectmenu-text"),
            c
          );
        },
        _renderMenu: function(b, c) {
          var d = this,
            e = "";
          a.each(c, function(c, f) {
            var g;
            f.optgroup !== e &&
              ((g = a("<li>", { text: f.optgroup })),
              d._addClass(
                g,
                "ui-selectmenu-optgroup",
                "ui-menu-divider" +
                  (f.element.parent("optgroup").prop("disabled")
                    ? " ui-state-disabled"
                    : "")
              ),
              g.appendTo(b),
              (e = f.optgroup)),
              d._renderItemData(b, f);
          });
        },
        _renderItemData: function(a, b) {
          return this._renderItem(a, b).data("ui-selectmenu-item", b);
        },
        _renderItem: function(b, c) {
          var d = a("<li>"),
            e = a("<div>", { title: c.element.attr("title") });
          return (
            c.disabled && this._addClass(d, null, "ui-state-disabled"),
            this._setText(e, c.label),
            d.append(e).appendTo(b)
          );
        },
        _setText: function(a, b) {
          b ? a.text(b) : a.html("&#160;");
        },
        _move: function(a, b) {
          var c,
            d,
            e = ".ui-menu-item";
          this.isOpen
            ? (c = this.menuItems.eq(this.focusIndex).parent("li"))
            : ((c = this.menuItems
                .eq(this.element[0].selectedIndex)
                .parent("li")),
              (e += ":not(.ui-state-disabled)")),
            (d =
              "first" === a || "last" === a
                ? c["first" === a ? "prevAll" : "nextAll"](e).eq(-1)
                : c[a + "All"](e).eq(0)),
            d.length && this.menuInstance.focus(b, d);
        },
        _getSelectedItem: function() {
          return this.menuItems.eq(this.element[0].selectedIndex).parent("li");
        },
        _toggle: function(a) {
          this[this.isOpen ? "close" : "open"](a);
        },
        _setSelection: function() {
          var a;
          this.range &&
            (window.getSelection
              ? ((a = window.getSelection()),
                a.removeAllRanges(),
                a.addRange(this.range))
              : this.range.select(),
            this.button.focus());
        },
        _documentClick: {
          mousedown: function(b) {
            this.isOpen &&
              (a(b.target).closest(
                ".ui-selectmenu-menu, #" + a.ui.escapeSelector(this.ids.button)
              ).length ||
                this.close(b));
          }
        },
        _buttonEvents: {
          mousedown: function() {
            var a;
            window.getSelection
              ? ((a = window.getSelection()),
                a.rangeCount && (this.range = a.getRangeAt(0)))
              : (this.range = document.selection.createRange());
          },
          click: function(a) {
            this._setSelection(), this._toggle(a);
          },
          keydown: function(b) {
            var c = !0;
            switch (b.keyCode) {
              case a.ui.keyCode.TAB:
              case a.ui.keyCode.ESCAPE:
                this.close(b), (c = !1);
                break;
              case a.ui.keyCode.ENTER:
                this.isOpen && this._selectFocusedItem(b);
                break;
              case a.ui.keyCode.UP:
                b.altKey ? this._toggle(b) : this._move("prev", b);
                break;
              case a.ui.keyCode.DOWN:
                b.altKey ? this._toggle(b) : this._move("next", b);
                break;
              case a.ui.keyCode.SPACE:
                this.isOpen ? this._selectFocusedItem(b) : this._toggle(b);
                break;
              case a.ui.keyCode.LEFT:
                this._move("prev", b);
                break;
              case a.ui.keyCode.RIGHT:
                this._move("next", b);
                break;
              case a.ui.keyCode.HOME:
              case a.ui.keyCode.PAGE_UP:
                this._move("first", b);
                break;
              case a.ui.keyCode.END:
              case a.ui.keyCode.PAGE_DOWN:
                this._move("last", b);
                break;
              default:
                this.menu.trigger(b), (c = !1);
            }
            c && b.preventDefault();
          }
        },
        _selectFocusedItem: function(a) {
          var b = this.menuItems.eq(this.focusIndex).parent("li");
          b.hasClass("ui-state-disabled") ||
            this._select(b.data("ui-selectmenu-item"), a);
        },
        _select: function(a, b) {
          var c = this.element[0].selectedIndex;
          (this.element[0].selectedIndex = a.index),
            this.buttonItem.replaceWith(
              (this.buttonItem = this._renderButtonItem(a))
            ),
            this._setAria(a),
            this._trigger("select", b, { item: a }),
            a.index !== c && this._trigger("change", b, { item: a }),
            this.close(b);
        },
        _setAria: function(a) {
          var b = this.menuItems.eq(a.index).attr("id");
          this.button.attr({
            "aria-labelledby": b,
            "aria-activedescendant": b
          }),
            this.menu.attr("aria-activedescendant", b);
        },
        _setOption: function(a, b) {
          if ("icons" === a) {
            var c = this.button.find("span.ui-icon");
            this._removeClass(c, null, this.options.icons.button)._addClass(
              c,
              null,
              b.button
            );
          }
          this._super(a, b),
            "appendTo" === a && this.menuWrap.appendTo(this._appendTo()),
            "width" === a && this._resizeButton();
        },
        _setOptionDisabled: function(a) {
          this._super(a),
            this.menuInstance.option("disabled", a),
            this.button.attr("aria-disabled", a),
            this._toggleClass(this.button, null, "ui-state-disabled", a),
            this.element.prop("disabled", a),
            a
              ? (this.button.attr("tabindex", -1), this.close())
              : this.button.attr("tabindex", 0);
        },
        _appendTo: function() {
          var b = this.options.appendTo;
          return (
            b &&
              (b = b.jquery || b.nodeType ? a(b) : this.document.find(b).eq(0)),
            (b && b[0]) || (b = this.element.closest(".ui-front, dialog")),
            b.length || (b = this.document[0].body),
            b
          );
        },
        _toggleAttr: function() {
          this.button.attr("aria-expanded", this.isOpen),
            this._removeClass(
              this.button,
              "ui-selectmenu-button-" + (this.isOpen ? "closed" : "open")
            )
              ._addClass(
                this.button,
                "ui-selectmenu-button-" + (this.isOpen ? "open" : "closed")
              )
              ._toggleClass(
                this.menuWrap,
                "ui-selectmenu-open",
                null,
                this.isOpen
              ),
            this.menu.attr("aria-hidden", !this.isOpen);
        },
        _resizeButton: function() {
          var a = this.options.width;
          return a === !1
            ? void this.button.css("width", "")
            : (null === a &&
                ((a = this.element.show().outerWidth()), this.element.hide()),
              void this.button.outerWidth(a));
        },
        _resizeMenu: function() {
          this.menu.outerWidth(
            Math.max(
              this.button.outerWidth(),
              this.menu.width("").outerWidth() + 1
            )
          );
        },
        _getCreateOptions: function() {
          var a = this._super();
          return (a.disabled = this.element.prop("disabled")), a;
        },
        _parseOptions: function(b) {
          var c = this,
            d = [];
          b.each(function(b, e) {
            e.hidden || d.push(c._parseOption(a(e), b));
          }),
            (this.items = d);
        },
        _parseOption: function(a, b) {
          var c = a.parent("optgroup");
          return {
            element: a,
            index: b,
            value: a.val(),
            label: a.text(),
            optgroup: c.attr("label") || "",
            disabled: c.prop("disabled") || a.prop("disabled")
          };
        },
        _destroy: function() {
          this._unbindFormResetHandler(),
            this.menuWrap.remove(),
            this.button.remove(),
            this.element.show(),
            this.element.removeUniqueId(),
            this.labels.attr("for", this.ids.element);
        }
      }
    ]);
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return a.widget("ui.slider", a.ui.mouse, {
      version: "@VERSION",
      widgetEventPrefix: "slide",
      options: {
        animate: !1,
        classes: {
          "ui-slider": "ui-corner-all",
          "ui-slider-handle": "ui-corner-all",
          "ui-slider-range": "ui-corner-all ui-widget-header"
        },
        distance: 0,
        max: 100,
        min: 0,
        orientation: "horizontal",
        range: !1,
        step: 1,
        value: 0,
        values: null,
        change: null,
        slide: null,
        start: null,
        stop: null
      },
      numPages: 5,
      _create: function() {
        (this._keySliding = !1),
          (this._mouseSliding = !1),
          (this._animateOff = !0),
          (this._handleIndex = null),
          this._detectOrientation(),
          this._mouseInit(),
          this._calculateNewMax(),
          this._addClass(
            "ui-slider ui-slider-" + this.orientation,
            "ui-widget ui-widget-content"
          ),
          this._refresh(),
          (this._animateOff = !1);
      },
      _refresh: function() {
        this._createRange(),
          this._createHandles(),
          this._setupEvents(),
          this._refreshValue();
      },
      _createHandles: function() {
        var b,
          c,
          d = this.options,
          e = this.element.find(".ui-slider-handle"),
          f = "<span tabindex='0'></span>",
          g = [];
        for (
          c = (d.values && d.values.length) || 1,
            e.length > c && (e.slice(c).remove(), (e = e.slice(0, c))),
            b = e.length;
          b < c;
          b++
        )
          g.push(f);
        (this.handles = e.add(a(g.join("")).appendTo(this.element))),
          this._addClass(this.handles, "ui-slider-handle", "ui-state-default"),
          (this.handle = this.handles.eq(0)),
          this.handles.each(function(b) {
            a(this)
              .data("ui-slider-handle-index", b)
              .attr("tabIndex", 0);
          });
      },
      _createRange: function() {
        var b = this.options;
        b.range
          ? (b.range === !0 &&
              (b.values
                ? b.values.length && 2 !== b.values.length
                  ? (b.values = [b.values[0], b.values[0]])
                  : Array.isArray(b.values) && (b.values = b.values.slice(0))
                : (b.values = [this._valueMin(), this._valueMin()])),
            this.range && this.range.length
              ? (this._removeClass(
                  this.range,
                  "ui-slider-range-min ui-slider-range-max"
                ),
                this.range.css({ left: "", bottom: "" }))
              : ((this.range = a("<div>").appendTo(this.element)),
                this._addClass(this.range, "ui-slider-range")),
            ("min" !== b.range && "max" !== b.range) ||
              this._addClass(this.range, "ui-slider-range-" + b.range))
          : (this.range && this.range.remove(), (this.range = null));
      },
      _setupEvents: function() {
        this._off(this.handles),
          this._on(this.handles, this._handleEvents),
          this._hoverable(this.handles),
          this._focusable(this.handles);
      },
      _destroy: function() {
        this.handles.remove(),
          this.range && this.range.remove(),
          this._mouseDestroy();
      },
      _mouseCapture: function(b) {
        var c,
          d,
          e,
          f,
          g,
          h,
          i,
          j,
          k = this,
          l = this.options;
        return (
          !l.disabled &&
          ((this.elementSize = {
            width: this.element.outerWidth(),
            height: this.element.outerHeight()
          }),
          (this.elementOffset = this.element.offset()),
          (c = { x: b.pageX, y: b.pageY }),
          (d = this._normValueFromMouse(c)),
          (e = this._valueMax() - this._valueMin() + 1),
          this.handles.each(function(b) {
            var c = Math.abs(d - k.values(b));
            (e > c ||
              (e === c &&
                (b === k._lastChangedValue || k.values(b) === l.min))) &&
              ((e = c), (f = a(this)), (g = b));
          }),
          (h = this._start(b, g)),
          h !== !1 &&
            ((this._mouseSliding = !0),
            (this._handleIndex = g),
            this._addClass(f, null, "ui-state-active"),
            f.trigger("focus"),
            (i = f.offset()),
            (j = !a(b.target)
              .parents()
              .addBack()
              .is(".ui-slider-handle")),
            (this._clickOffset = j
              ? { left: 0, top: 0 }
              : {
                  left: b.pageX - i.left - f.width() / 2,
                  top:
                    b.pageY -
                    i.top -
                    f.height() / 2 -
                    (parseInt(f.css("borderTopWidth"), 10) || 0) -
                    (parseInt(f.css("borderBottomWidth"), 10) || 0) +
                    (parseInt(f.css("marginTop"), 10) || 0)
                }),
            this.handles.hasClass("ui-state-hover") || this._slide(b, g, d),
            (this._animateOff = !0),
            !0))
        );
      },
      _mouseStart: function() {
        return !0;
      },
      _mouseDrag: function(a) {
        var b = { x: a.pageX, y: a.pageY },
          c = this._normValueFromMouse(b);
        return this._slide(a, this._handleIndex, c), !1;
      },
      _mouseStop: function(a) {
        return (
          this._removeClass(this.handles, null, "ui-state-active"),
          (this._mouseSliding = !1),
          this._stop(a, this._handleIndex),
          this._change(a, this._handleIndex),
          (this._handleIndex = null),
          (this._clickOffset = null),
          (this._animateOff = !1),
          !1
        );
      },
      _detectOrientation: function() {
        this.orientation =
          "vertical" === this.options.orientation ? "vertical" : "horizontal";
      },
      _normValueFromMouse: function(a) {
        var b, c, d, e, f;
        return (
          "horizontal" === this.orientation
            ? ((b = this.elementSize.width),
              (c =
                a.x -
                this.elementOffset.left -
                (this._clickOffset ? this._clickOffset.left : 0)))
            : ((b = this.elementSize.height),
              (c =
                a.y -
                this.elementOffset.top -
                (this._clickOffset ? this._clickOffset.top : 0))),
          (d = c / b),
          d > 1 && (d = 1),
          d < 0 && (d = 0),
          "vertical" === this.orientation && (d = 1 - d),
          (e = this._valueMax() - this._valueMin()),
          (f = this._valueMin() + d * e),
          this._trimAlignValue(f)
        );
      },
      _uiHash: function(a, b, c) {
        var d = {
          handle: this.handles[a],
          handleIndex: a,
          value: void 0 !== b ? b : this.value()
        };
        return (
          this._hasMultipleValues() &&
            ((d.value = void 0 !== b ? b : this.values(a)),
            (d.values = c || this.values())),
          d
        );
      },
      _hasMultipleValues: function() {
        return this.options.values && this.options.values.length;
      },
      _start: function(a, b) {
        return this._trigger("start", a, this._uiHash(b));
      },
      _slide: function(a, b, c) {
        var d,
          e,
          f = this.value(),
          g = this.values();
        this._hasMultipleValues() &&
          ((e = this.values(b ? 0 : 1)),
          (f = this.values(b)),
          2 === this.options.values.length &&
            this.options.range === !0 &&
            (c = 0 === b ? Math.min(e, c) : Math.max(e, c)),
          (g[b] = c)),
          c !== f &&
            ((d = this._trigger("slide", a, this._uiHash(b, c, g))),
            d !== !1 &&
              (this._hasMultipleValues() ? this.values(b, c) : this.value(c)));
      },
      _stop: function(a, b) {
        this._trigger("stop", a, this._uiHash(b));
      },
      _change: function(a, b) {
        this._keySliding ||
          this._mouseSliding ||
          ((this._lastChangedValue = b),
          this._trigger("change", a, this._uiHash(b)));
      },
      value: function(a) {
        return arguments.length
          ? ((this.options.value = this._trimAlignValue(a)),
            this._refreshValue(),
            void this._change(null, 0))
          : this._value();
      },
      values: function(a, b) {
        var c, d, e;
        if (arguments.length > 1)
          return (
            (this.options.values[a] = this._trimAlignValue(b)),
            this._refreshValue(),
            void this._change(null, a)
          );
        if (!arguments.length) return this._values();
        if (!Array.isArray(arguments[0]))
          return this._hasMultipleValues() ? this._values(a) : this.value();
        for (
          c = this.options.values, d = arguments[0], e = 0;
          e < c.length;
          e += 1
        )
          (c[e] = this._trimAlignValue(d[e])), this._change(null, e);
        this._refreshValue();
      },
      _setOption: function(a, b) {
        var c,
          d = 0;
        switch (
          ("range" === a &&
            this.options.range === !0 &&
            ("min" === b
              ? ((this.options.value = this._values(0)),
                (this.options.values = null))
              : "max" === b &&
                ((this.options.value = this._values(
                  this.options.values.length - 1
                )),
                (this.options.values = null))),
          Array.isArray(this.options.values) &&
            (d = this.options.values.length),
          this._super(a, b),
          a)
        ) {
          case "orientation":
            this._detectOrientation(),
              this._removeClass(
                "ui-slider-horizontal ui-slider-vertical"
              )._addClass("ui-slider-" + this.orientation),
              this._refreshValue(),
              this.options.range && this._refreshRange(b),
              this.handles.css("horizontal" === b ? "bottom" : "left", "");
            break;
          case "value":
            (this._animateOff = !0),
              this._refreshValue(),
              this._change(null, 0),
              (this._animateOff = !1);
            break;
          case "values":
            for (
              this._animateOff = !0, this._refreshValue(), c = d - 1;
              c >= 0;
              c--
            )
              this._change(null, c);
            this._animateOff = !1;
            break;
          case "step":
          case "min":
          case "max":
            (this._animateOff = !0),
              this._calculateNewMax(),
              this._refreshValue(),
              (this._animateOff = !1);
            break;
          case "range":
            (this._animateOff = !0), this._refresh(), (this._animateOff = !1);
        }
      },
      _setOptionDisabled: function(a) {
        this._super(a), this._toggleClass(null, "ui-state-disabled", !!a);
      },
      _value: function() {
        var a = this.options.value;
        return (a = this._trimAlignValue(a));
      },
      _values: function(a) {
        var b, c, d;
        if (arguments.length)
          return (b = this.options.values[a]), (b = this._trimAlignValue(b));
        if (this._hasMultipleValues()) {
          for (c = this.options.values.slice(), d = 0; d < c.length; d += 1)
            c[d] = this._trimAlignValue(c[d]);
          return c;
        }
        return [];
      },
      _trimAlignValue: function(a) {
        if (a <= this._valueMin()) return this._valueMin();
        if (a >= this._valueMax()) return this._valueMax();
        var b = this.options.step > 0 ? this.options.step : 1,
          c = (a - this._valueMin()) % b,
          d = a - c;
        return (
          2 * Math.abs(c) >= b && (d += c > 0 ? b : -b),
          parseFloat(d.toFixed(5))
        );
      },
      _calculateNewMax: function() {
        var a = this.options.max,
          b = this._valueMin(),
          c = this.options.step,
          d = Math.round((a - b) / c) * c;
        (a = d + b),
          a > this.options.max && (a -= c),
          (this.max = parseFloat(a.toFixed(this._precision())));
      },
      _precision: function() {
        var a = this._precisionOf(this.options.step);
        return (
          null !== this.options.min &&
            (a = Math.max(a, this._precisionOf(this.options.min))),
          a
        );
      },
      _precisionOf: function(a) {
        var b = a.toString(),
          c = b.indexOf(".");
        return c === -1 ? 0 : b.length - c - 1;
      },
      _valueMin: function() {
        return this.options.min;
      },
      _valueMax: function() {
        return this.max;
      },
      _refreshRange: function(a) {
        "vertical" === a && this.range.css({ width: "", left: "" }),
          "horizontal" === a && this.range.css({ height: "", bottom: "" });
      },
      _refreshValue: function() {
        var b,
          c,
          d,
          e,
          f,
          g = this.options.range,
          h = this.options,
          i = this,
          j = !this._animateOff && h.animate,
          k = {};
        this._hasMultipleValues()
          ? this.handles.each(function(d) {
              (c =
                ((i.values(d) - i._valueMin()) /
                  (i._valueMax() - i._valueMin())) *
                100),
                (k["horizontal" === i.orientation ? "left" : "bottom"] =
                  c + "%"),
                a(this)
                  .stop(1, 1)
                  [j ? "animate" : "css"](k, h.animate),
                i.options.range === !0 &&
                  ("horizontal" === i.orientation
                    ? (0 === d &&
                        i.range
                          .stop(1, 1)
                          [j ? "animate" : "css"]({ left: c + "%" }, h.animate),
                      1 === d &&
                        i.range[j ? "animate" : "css"](
                          { width: c - b + "%" },
                          { queue: !1, duration: h.animate }
                        ))
                    : (0 === d &&
                        i.range
                          .stop(1, 1)
                          [j ? "animate" : "css"](
                            { bottom: c + "%" },
                            h.animate
                          ),
                      1 === d &&
                        i.range[j ? "animate" : "css"](
                          { height: c - b + "%" },
                          { queue: !1, duration: h.animate }
                        ))),
                (b = c);
            })
          : ((d = this.value()),
            (e = this._valueMin()),
            (f = this._valueMax()),
            (c = f !== e ? ((d - e) / (f - e)) * 100 : 0),
            (k["horizontal" === this.orientation ? "left" : "bottom"] =
              c + "%"),
            this.handle.stop(1, 1)[j ? "animate" : "css"](k, h.animate),
            "min" === g &&
              "horizontal" === this.orientation &&
              this.range
                .stop(1, 1)
                [j ? "animate" : "css"]({ width: c + "%" }, h.animate),
            "max" === g &&
              "horizontal" === this.orientation &&
              this.range
                .stop(1, 1)
                [j ? "animate" : "css"]({ width: 100 - c + "%" }, h.animate),
            "min" === g &&
              "vertical" === this.orientation &&
              this.range
                .stop(1, 1)
                [j ? "animate" : "css"]({ height: c + "%" }, h.animate),
            "max" === g &&
              "vertical" === this.orientation &&
              this.range
                .stop(1, 1)
                [j ? "animate" : "css"]({ height: 100 - c + "%" }, h.animate));
      },
      _handleEvents: {
        keydown: function(b) {
          var c,
            d,
            e,
            f,
            g = a(b.target).data("ui-slider-handle-index");
          switch (b.keyCode) {
            case a.ui.keyCode.HOME:
            case a.ui.keyCode.END:
            case a.ui.keyCode.PAGE_UP:
            case a.ui.keyCode.PAGE_DOWN:
            case a.ui.keyCode.UP:
            case a.ui.keyCode.RIGHT:
            case a.ui.keyCode.DOWN:
            case a.ui.keyCode.LEFT:
              if (
                (b.preventDefault(),
                !this._keySliding &&
                  ((this._keySliding = !0),
                  this._addClass(a(b.target), null, "ui-state-active"),
                  (c = this._start(b, g)),
                  c === !1))
              )
                return;
          }
          switch (
            ((f = this.options.step),
            (d = e = this._hasMultipleValues() ? this.values(g) : this.value()),
            b.keyCode)
          ) {
            case a.ui.keyCode.HOME:
              e = this._valueMin();
              break;
            case a.ui.keyCode.END:
              e = this._valueMax();
              break;
            case a.ui.keyCode.PAGE_UP:
              e = this._trimAlignValue(
                d + (this._valueMax() - this._valueMin()) / this.numPages
              );
              break;
            case a.ui.keyCode.PAGE_DOWN:
              e = this._trimAlignValue(
                d - (this._valueMax() - this._valueMin()) / this.numPages
              );
              break;
            case a.ui.keyCode.UP:
            case a.ui.keyCode.RIGHT:
              if (d === this._valueMax()) return;
              e = this._trimAlignValue(d + f);
              break;
            case a.ui.keyCode.DOWN:
            case a.ui.keyCode.LEFT:
              if (d === this._valueMin()) return;
              e = this._trimAlignValue(d - f);
          }
          this._slide(b, g, e);
        },
        keyup: function(b) {
          var c = a(b.target).data("ui-slider-handle-index");
          this._keySliding &&
            ((this._keySliding = !1),
            this._stop(b, c),
            this._change(b, c),
            this._removeClass(a(b.target), null, "ui-state-active"));
        }
      }
    });
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return a.widget("ui.sortable", a.ui.mouse, {
      version: "@VERSION",
      widgetEventPrefix: "sort",
      ready: !1,
      options: {
        appendTo: "parent",
        axis: !1,
        connectWith: !1,
        containment: !1,
        cursor: "auto",
        cursorAt: !1,
        dropOnEmpty: !0,
        forcePlaceholderSize: !1,
        forceHelperSize: !1,
        grid: !1,
        handle: !1,
        helper: "original",
        items: "> *",
        opacity: !1,
        placeholder: !1,
        revert: !1,
        scroll: !0,
        scrollSensitivity: 20,
        scrollSpeed: 20,
        scope: "default",
        tolerance: "intersect",
        zIndex: 1e3,
        activate: null,
        beforeStop: null,
        change: null,
        deactivate: null,
        out: null,
        over: null,
        receive: null,
        remove: null,
        sort: null,
        start: null,
        stop: null,
        update: null
      },
      _isOverAxis: function(a, b, c) {
        return a >= b && a < b + c;
      },
      _isFloating: function(a) {
        return (
          /left|right/.test(a.css("float")) ||
          /inline|table-cell/.test(a.css("display"))
        );
      },
      _create: function() {
        (this.containerCache = {}),
          this._addClass("ui-sortable"),
          this.refresh(),
          (this.offset = this.element.offset()),
          this._mouseInit(),
          this._setHandleClassName(),
          (this.ready = !0);
      },
      _setOption: function(a, b) {
        this._super(a, b), "handle" === a && this._setHandleClassName();
      },
      _setHandleClassName: function() {
        var b = this;
        this._removeClass(
          this.element.find(".ui-sortable-handle"),
          "ui-sortable-handle"
        ),
          a.each(this.items, function() {
            b._addClass(
              this.instance.options.handle
                ? this.item.find(this.instance.options.handle)
                : this.item,
              "ui-sortable-handle"
            );
          });
      },
      _destroy: function() {
        this._mouseDestroy();
        for (var a = this.items.length - 1; a >= 0; a--)
          this.items[a].item.removeData(this.widgetName + "-item");
        return this;
      },
      _mouseCapture: function(b, c) {
        var d = null,
          e = !1,
          f = this;
        return (
          !this.reverting &&
          !this.options.disabled &&
          "static" !== this.options.type &&
          (this._refreshItems(b),
          a(b.target)
            .parents()
            .each(function() {
              if (a.data(this, f.widgetName + "-item") === f)
                return (d = a(this)), !1;
            }),
          a.data(b.target, f.widgetName + "-item") === f && (d = a(b.target)),
          !!d &&
            !(
              this.options.handle &&
              !c &&
              (a(this.options.handle, d)
                .find("*")
                .addBack()
                .each(function() {
                  this === b.target && (e = !0);
                }),
              !e)
            ) &&
            ((this.currentItem = d), this._removeCurrentsFromItems(), !0))
        );
      },
      _mouseStart: function(b, c, d) {
        var e,
          f,
          g = this.options;
        if (
          ((this.currentContainer = this),
          this.refreshPositions(),
          (this.appendTo = a(
            "parent" !== g.appendTo ? g.appendTo : this.currentItem.parent()
          )),
          (this.helper = this._createHelper(b)),
          this._cacheHelperProportions(),
          this._cacheMargins(),
          (this.offset = this.currentItem.offset()),
          (this.offset = {
            top: this.offset.top - this.margins.top,
            left: this.offset.left - this.margins.left
          }),
          a.extend(this.offset, {
            click: {
              left: b.pageX - this.offset.left,
              top: b.pageY - this.offset.top
            },
            relative: this._getRelativeOffset()
          }),
          this.helper.css("position", "absolute"),
          (this.cssPosition = this.helper.css("position")),
          g.cursorAt && this._adjustOffsetFromHelper(g.cursorAt),
          (this.domPosition = {
            prev: this.currentItem.prev()[0],
            parent: this.currentItem.parent()[0]
          }),
          this.helper[0] !== this.currentItem[0] && this.currentItem.hide(),
          this._createPlaceholder(),
          (this.scrollParent = this.placeholder.scrollParent()),
          a.extend(this.offset, { parent: this._getParentOffset() }),
          g.containment && this._setContainment(),
          g.cursor &&
            "auto" !== g.cursor &&
            ((f = this.document.find("body")),
            (this.storedCursor = f.css("cursor")),
            f.css("cursor", g.cursor),
            (this.storedStylesheet = a(
              "<style>*{ cursor: " + g.cursor + " !important; }</style>"
            ).appendTo(f))),
          g.zIndex &&
            (this.helper.css("zIndex") &&
              (this._storedZIndex = this.helper.css("zIndex")),
            this.helper.css("zIndex", g.zIndex)),
          g.opacity &&
            (this.helper.css("opacity") &&
              (this._storedOpacity = this.helper.css("opacity")),
            this.helper.css("opacity", g.opacity)),
          this.scrollParent[0] !== this.document[0] &&
            "HTML" !== this.scrollParent[0].tagName &&
            (this.overflowOffset = this.scrollParent.offset()),
          this._trigger("start", b, this._uiHash()),
          this._preserveHelperProportions || this._cacheHelperProportions(),
          !d)
        )
          for (e = this.containers.length - 1; e >= 0; e--)
            this.containers[e]._trigger("activate", b, this._uiHash(this));
        return (
          a.ui.ddmanager && (a.ui.ddmanager.current = this),
          a.ui.ddmanager &&
            !g.dropBehaviour &&
            a.ui.ddmanager.prepareOffsets(this, b),
          (this.dragging = !0),
          this._addClass(this.helper, "ui-sortable-helper"),
          this.helper.parent().is(this.appendTo) ||
            (this.helper.detach().appendTo(this.appendTo),
            (this.offset.parent = this._getParentOffset())),
          (this.position = this.originalPosition = this._generatePosition(b)),
          (this.originalPageX = b.pageX),
          (this.originalPageY = b.pageY),
          (this.lastPositionAbs = this.positionAbs = this._convertPositionTo(
            "absolute"
          )),
          this._mouseDrag(b),
          !0
        );
      },
      _scroll: function(a) {
        var b = this.options,
          c = !1;
        return (
          this.scrollParent[0] !== this.document[0] &&
          "HTML" !== this.scrollParent[0].tagName
            ? (this.overflowOffset.top +
                this.scrollParent[0].offsetHeight -
                a.pageY <
              b.scrollSensitivity
                ? (this.scrollParent[0].scrollTop = c =
                    this.scrollParent[0].scrollTop + b.scrollSpeed)
                : a.pageY - this.overflowOffset.top < b.scrollSensitivity &&
                  (this.scrollParent[0].scrollTop = c =
                    this.scrollParent[0].scrollTop - b.scrollSpeed),
              this.overflowOffset.left +
                this.scrollParent[0].offsetWidth -
                a.pageX <
              b.scrollSensitivity
                ? (this.scrollParent[0].scrollLeft = c =
                    this.scrollParent[0].scrollLeft + b.scrollSpeed)
                : a.pageX - this.overflowOffset.left < b.scrollSensitivity &&
                  (this.scrollParent[0].scrollLeft = c =
                    this.scrollParent[0].scrollLeft - b.scrollSpeed))
            : (a.pageY - this.document.scrollTop() < b.scrollSensitivity
                ? (c = this.document.scrollTop(
                    this.document.scrollTop() - b.scrollSpeed
                  ))
                : this.window.height() - (a.pageY - this.document.scrollTop()) <
                    b.scrollSensitivity &&
                  (c = this.document.scrollTop(
                    this.document.scrollTop() + b.scrollSpeed
                  )),
              a.pageX - this.document.scrollLeft() < b.scrollSensitivity
                ? (c = this.document.scrollLeft(
                    this.document.scrollLeft() - b.scrollSpeed
                  ))
                : this.window.width() - (a.pageX - this.document.scrollLeft()) <
                    b.scrollSensitivity &&
                  (c = this.document.scrollLeft(
                    this.document.scrollLeft() + b.scrollSpeed
                  ))),
          c
        );
      },
      _mouseDrag: function(b) {
        var c,
          d,
          e,
          f,
          g = this.options;
        if (
          ((this.position = this._generatePosition(b)),
          (this.positionAbs = this._convertPositionTo("absolute")),
          (this.options.axis && "y" === this.options.axis) ||
            (this.helper[0].style.left = this.position.left + "px"),
          (this.options.axis && "x" === this.options.axis) ||
            (this.helper[0].style.top = this.position.top + "px"),
          this._contactContainers(b),
          null !== this.innermostContainer)
        )
          for (
            g.scroll &&
              this._scroll(b) !== !1 &&
              (this._refreshItemPositions(!0),
              a.ui.ddmanager &&
                !g.dropBehaviour &&
                a.ui.ddmanager.prepareOffsets(this, b)),
              this.dragDirection = {
                vertical: this._getDragVerticalDirection(),
                horizontal: this._getDragHorizontalDirection()
              },
              c = this.items.length - 1;
            c >= 0;
            c--
          )
            if (
              ((d = this.items[c]),
              (e = d.item[0]),
              (f = this._intersectsWithPointer(d)),
              f &&
                d.instance === this.currentContainer &&
                !(
                  e === this.currentItem[0] ||
                  this.placeholder[1 === f ? "next" : "prev"]()[0] === e ||
                  a.contains(this.placeholder[0], e) ||
                  ("semi-dynamic" === this.options.type &&
                    a.contains(this.element[0], e))
                ))
            ) {
              if (
                ((this.direction = 1 === f ? "down" : "up"),
                "pointer" !== this.options.tolerance &&
                  !this._intersectsWithSides(d))
              )
                break;
              this._rearrange(b, d), this._trigger("change", b, this._uiHash());
              break;
            }
        return (
          a.ui.ddmanager && a.ui.ddmanager.drag(this, b),
          this._trigger("sort", b, this._uiHash()),
          (this.lastPositionAbs = this.positionAbs),
          !1
        );
      },
      _mouseStop: function(b, c) {
        if (b) {
          if (
            (a.ui.ddmanager &&
              !this.options.dropBehaviour &&
              a.ui.ddmanager.drop(this, b),
            this.options.revert)
          ) {
            var d = this,
              e = this.placeholder.offset(),
              f = this.options.axis,
              g = {};
            (f && "x" !== f) ||
              (g.left =
                e.left -
                this.offset.parent.left -
                this.margins.left +
                (this.offsetParent[0] === this.document[0].body
                  ? 0
                  : this.offsetParent[0].scrollLeft)),
              (f && "y" !== f) ||
                (g.top =
                  e.top -
                  this.offset.parent.top -
                  this.margins.top +
                  (this.offsetParent[0] === this.document[0].body
                    ? 0
                    : this.offsetParent[0].scrollTop)),
              (this.reverting = !0),
              a(this.helper).animate(
                g,
                parseInt(this.options.revert, 10) || 500,
                function() {
                  d._clear(b);
                }
              );
          } else this._clear(b, c);
          return !1;
        }
      },
      cancel: function() {
        if (this.dragging) {
          this._mouseUp(new a.Event("mouseup", { target: null })),
            "original" === this.options.helper
              ? (this.currentItem.css(this._storedCSS),
                this._removeClass(this.currentItem, "ui-sortable-helper"))
              : this.currentItem.show();
          for (var b = this.containers.length - 1; b >= 0; b--)
            this.containers[b]._trigger("deactivate", null, this._uiHash(this)),
              this.containers[b].containerCache.over &&
                (this.containers[b]._trigger("out", null, this._uiHash(this)),
                (this.containers[b].containerCache.over = 0));
        }
        return (
          this.placeholder &&
            (this.placeholder[0].parentNode &&
              this.placeholder[0].parentNode.removeChild(this.placeholder[0]),
            "original" !== this.options.helper &&
              this.helper &&
              this.helper[0].parentNode &&
              this.helper.remove(),
            a.extend(this, {
              helper: null,
              dragging: !1,
              reverting: !1,
              _noFinalSort: null
            }),
            this.domPosition.prev
              ? a(this.domPosition.prev).after(this.currentItem)
              : a(this.domPosition.parent).prepend(this.currentItem)),
          this
        );
      },
      serialize: function(b) {
        var c = this._getItemsAsjQuery(b && b.connected),
          d = [];
        return (
          (b = b || {}),
          a(c).each(function() {
            var c = (a(b.item || this).attr(b.attribute || "id") || "").match(
              b.expression || /(.+)[\-=_](.+)/
            );
            c &&
              d.push(
                (b.key || c[1] + "[]") +
                  "=" +
                  (b.key && b.expression ? c[1] : c[2])
              );
          }),
          !d.length && b.key && d.push(b.key + "="),
          d.join("&")
        );
      },
      toArray: function(b) {
        var c = this._getItemsAsjQuery(b && b.connected),
          d = [];
        return (
          (b = b || {}),
          c.each(function() {
            d.push(a(b.item || this).attr(b.attribute || "id") || "");
          }),
          d
        );
      },
      _intersectsWith: function(a) {
        var b = this.positionAbs.left,
          c = b + this.helperProportions.width,
          d = this.positionAbs.top,
          e = d + this.helperProportions.height,
          f = a.left,
          g = f + a.width,
          h = a.top,
          i = h + a.height,
          j = this.offset.click.top,
          k = this.offset.click.left,
          l = "x" === this.options.axis || (d + j > h && d + j < i),
          m = "y" === this.options.axis || (b + k > f && b + k < g),
          n = l && m;
        return "pointer" === this.options.tolerance ||
          this.options.forcePointerForContainers ||
          ("pointer" !== this.options.tolerance &&
            this.helperProportions[this.floating ? "width" : "height"] >
              a[this.floating ? "width" : "height"])
          ? n
          : f < b + this.helperProportions.width / 2 &&
              c - this.helperProportions.width / 2 < g &&
              h < d + this.helperProportions.height / 2 &&
              e - this.helperProportions.height / 2 < i;
      },
      _intersectsWithPointer: function(a) {
        var b,
          c,
          d =
            "x" === this.options.axis ||
            this._isOverAxis(
              this.positionAbs.top + this.offset.click.top,
              a.top,
              a.height
            ),
          e =
            "y" === this.options.axis ||
            this._isOverAxis(
              this.positionAbs.left + this.offset.click.left,
              a.left,
              a.width
            ),
          f = d && e;
        return (
          !!f &&
          ((b = this.dragDirection.vertical),
          (c = this.dragDirection.horizontal),
          this.floating
            ? "right" === c || "down" === b
              ? 2
              : 1
            : b && ("down" === b ? 2 : 1))
        );
      },
      _intersectsWithSides: function(a) {
        var b = this._isOverAxis(
            this.positionAbs.top + this.offset.click.top,
            a.top + a.height / 2,
            a.height
          ),
          c = this._isOverAxis(
            this.positionAbs.left + this.offset.click.left,
            a.left + a.width / 2,
            a.width
          ),
          d = this.dragDirection.vertical,
          e = this.dragDirection.horizontal;
        return this.floating && e
          ? ("right" === e && c) || ("left" === e && !c)
          : d && (("down" === d && b) || ("up" === d && !b));
      },
      _getDragVerticalDirection: function() {
        var a = this.positionAbs.top - this.lastPositionAbs.top;
        return 0 !== a && (a > 0 ? "down" : "up");
      },
      _getDragHorizontalDirection: function() {
        var a = this.positionAbs.left - this.lastPositionAbs.left;
        return 0 !== a && (a > 0 ? "right" : "left");
      },
      refresh: function(a) {
        return (
          this._refreshItems(a),
          this._setHandleClassName(),
          this.refreshPositions(),
          this
        );
      },
      _connectWith: function() {
        var a = this.options;
        return a.connectWith.constructor === String
          ? [a.connectWith]
          : a.connectWith;
      },
      _getItemsAsjQuery: function(b) {
        function c() {
          h.push(this);
        }
        var d,
          e,
          f,
          g,
          h = [],
          i = [],
          j = this._connectWith();
        if (j && b)
          for (d = j.length - 1; d >= 0; d--)
            for (f = a(j[d], this.document[0]), e = f.length - 1; e >= 0; e--)
              (g = a.data(f[e], this.widgetFullName)),
                g &&
                  g !== this &&
                  !g.options.disabled &&
                  i.push([
                    "function" == typeof g.options.items
                      ? g.options.items.call(g.element)
                      : a(g.options.items, g.element)
                          .not(".ui-sortable-helper")
                          .not(".ui-sortable-placeholder"),
                    g
                  ]);
        for (
          i.push([
            "function" == typeof this.options.items
              ? this.options.items.call(this.element, null, {
                  options: this.options,
                  item: this.currentItem
                })
              : a(this.options.items, this.element)
                  .not(".ui-sortable-helper")
                  .not(".ui-sortable-placeholder"),
            this
          ]),
            d = i.length - 1;
          d >= 0;
          d--
        )
          i[d][0].each(c);
        return a(h);
      },
      _removeCurrentsFromItems: function() {
        var b = this.currentItem.find(":data(" + this.widgetName + "-item)");
        this.items = a.grep(this.items, function(a) {
          for (var c = 0; c < b.length; c++) if (b[c] === a.item[0]) return !1;
          return !0;
        });
      },
      _refreshItems: function(b) {
        (this.items = []), (this.containers = [this]);
        var c,
          d,
          e,
          f,
          g,
          h,
          i,
          j,
          k = this.items,
          l = [
            [
              "function" == typeof this.options.items
                ? this.options.items.call(this.element[0], b, {
                    item: this.currentItem
                  })
                : a(this.options.items, this.element),
              this
            ]
          ],
          m = this._connectWith();
        if (m && this.ready)
          for (c = m.length - 1; c >= 0; c--)
            for (e = a(m[c], this.document[0]), d = e.length - 1; d >= 0; d--)
              (f = a.data(e[d], this.widgetFullName)),
                f &&
                  f !== this &&
                  !f.options.disabled &&
                  (l.push([
                    "function" == typeof f.options.items
                      ? f.options.items.call(f.element[0], b, {
                          item: this.currentItem
                        })
                      : a(f.options.items, f.element),
                    f
                  ]),
                  this.containers.push(f));
        for (c = l.length - 1; c >= 0; c--)
          for (g = l[c][1], h = l[c][0], d = 0, j = h.length; d < j; d++)
            (i = a(h[d])),
              i.data(this.widgetName + "-item", g),
              k.push({
                item: i,
                instance: g,
                width: 0,
                height: 0,
                left: 0,
                top: 0
              });
      },
      _refreshItemPositions: function(b) {
        var c, d, e, f;
        for (c = this.items.length - 1; c >= 0; c--)
          (d = this.items[c]),
            (this.currentContainer &&
              d.instance !== this.currentContainer &&
              d.item[0] !== this.currentItem[0]) ||
              ((e = this.options.toleranceElement
                ? a(this.options.toleranceElement, d.item)
                : d.item),
              b || ((d.width = e.outerWidth()), (d.height = e.outerHeight())),
              (f = e.offset()),
              (d.left = f.left),
              (d.top = f.top));
      },
      refreshPositions: function(a) {
        (this.floating =
          !!this.items.length &&
          ("x" === this.options.axis || this._isFloating(this.items[0].item))),
          null !== this.innermostContainer && this._refreshItemPositions(a);
        var b, c;
        if (this.options.custom && this.options.custom.refreshContainers)
          this.options.custom.refreshContainers.call(this);
        else
          for (b = this.containers.length - 1; b >= 0; b--)
            (c = this.containers[b].element.offset()),
              (this.containers[b].containerCache.left = c.left),
              (this.containers[b].containerCache.top = c.top),
              (this.containers[b].containerCache.width = this.containers[
                b
              ].element.outerWidth()),
              (this.containers[b].containerCache.height = this.containers[
                b
              ].element.outerHeight());
        return this;
      },
      _createPlaceholder: function(b) {
        b = b || this;
        var c,
          d,
          e = b.options;
        (e.placeholder && e.placeholder.constructor !== String) ||
          ((c = e.placeholder),
          (d = b.currentItem[0].nodeName.toLowerCase()),
          (e.placeholder = {
            element: function() {
              var e = a("<" + d + ">", b.document[0]);
              return (
                b
                  ._addClass(
                    e,
                    "ui-sortable-placeholder",
                    c || b.currentItem[0].className
                  )
                  ._removeClass(e, "ui-sortable-helper"),
                "tbody" === d
                  ? b._createTrPlaceholder(
                      b.currentItem.find("tr").eq(0),
                      a("<tr>", b.document[0]).appendTo(e)
                    )
                  : "tr" === d
                  ? b._createTrPlaceholder(b.currentItem, e)
                  : "img" === d && e.attr("src", b.currentItem.attr("src")),
                c || e.css("visibility", "hidden"),
                e
              );
            },
            update: function(a, f) {
              (c && !e.forcePlaceholderSize) ||
                ((f.height() &&
                  (!e.forcePlaceholderSize || ("tbody" !== d && "tr" !== d))) ||
                  f.height(
                    b.currentItem.innerHeight() -
                      parseInt(b.currentItem.css("paddingTop") || 0, 10) -
                      parseInt(b.currentItem.css("paddingBottom") || 0, 10)
                  ),
                f.width() ||
                  f.width(
                    b.currentItem.innerWidth() -
                      parseInt(b.currentItem.css("paddingLeft") || 0, 10) -
                      parseInt(b.currentItem.css("paddingRight") || 0, 10)
                  ));
            }
          })),
          (b.placeholder = a(
            e.placeholder.element.call(b.element, b.currentItem)
          )),
          b.currentItem.after(b.placeholder),
          e.placeholder.update(b, b.placeholder);
      },
      _createTrPlaceholder: function(b, c) {
        var d = this;
        b.children().each(function() {
          a("<td>&#160;</td>", d.document[0])
            .attr("colspan", a(this).attr("colspan") || 1)
            .appendTo(c);
        });
      },
      _contactContainers: function(b) {
        var c,
          d,
          e,
          f,
          g,
          h,
          i,
          j,
          k,
          l,
          m = null,
          n = null;
        for (c = this.containers.length - 1; c >= 0; c--)
          if (!a.contains(this.currentItem[0], this.containers[c].element[0]))
            if (this._intersectsWith(this.containers[c].containerCache)) {
              if (m && a.contains(this.containers[c].element[0], m.element[0]))
                continue;
              (m = this.containers[c]), (n = c);
            } else
              this.containers[c].containerCache.over &&
                (this.containers[c]._trigger("out", b, this._uiHash(this)),
                (this.containers[c].containerCache.over = 0));
        if (((this.innermostContainer = m), m))
          if (1 === this.containers.length)
            this.containers[n].containerCache.over ||
              (this.containers[n]._trigger("over", b, this._uiHash(this)),
              (this.containers[n].containerCache.over = 1));
          else {
            for (
              e = 1e4,
                f = null,
                k = m.floating || this._isFloating(this.currentItem),
                g = k ? "left" : "top",
                h = k ? "width" : "height",
                l = k ? "pageX" : "pageY",
                d = this.items.length - 1;
              d >= 0;
              d--
            )
              a.contains(
                this.containers[n].element[0],
                this.items[d].item[0]
              ) &&
                this.items[d].item[0] !== this.currentItem[0] &&
                ((i = this.items[d].item.offset()[g]),
                (j = !1),
                b[l] - i > this.items[d][h] / 2 && (j = !0),
                Math.abs(b[l] - i) < e &&
                  ((e = Math.abs(b[l] - i)),
                  (f = this.items[d]),
                  (this.direction = j ? "up" : "down")));
            if (!f && !this.options.dropOnEmpty) return;
            if (this.currentContainer === this.containers[n])
              return void (
                this.currentContainer.containerCache.over ||
                (this.containers[n]._trigger("over", b, this._uiHash()),
                (this.currentContainer.containerCache.over = 1))
              );
            f
              ? this._rearrange(b, f, null, !0)
              : this._rearrange(b, null, this.containers[n].element, !0),
              this._trigger("change", b, this._uiHash()),
              this.containers[n]._trigger("change", b, this._uiHash(this)),
              (this.currentContainer = this.containers[n]),
              this.options.placeholder.update(
                this.currentContainer,
                this.placeholder
              ),
              (this.scrollParent = this.placeholder.scrollParent()),
              this.scrollParent[0] !== this.document[0] &&
                "HTML" !== this.scrollParent[0].tagName &&
                (this.overflowOffset = this.scrollParent.offset()),
              this.containers[n]._trigger("over", b, this._uiHash(this)),
              (this.containers[n].containerCache.over = 1);
          }
      },
      _createHelper: function(b) {
        var c = this.options,
          d =
            "function" == typeof c.helper
              ? a(c.helper.apply(this.element[0], [b, this.currentItem]))
              : "clone" === c.helper
              ? this.currentItem.clone()
              : this.currentItem;
        return (
          d.parents("body").length || this.appendTo[0].appendChild(d[0]),
          d[0] === this.currentItem[0] &&
            (this._storedCSS = {
              width: this.currentItem[0].style.width,
              height: this.currentItem[0].style.height,
              position: this.currentItem.css("position"),
              top: this.currentItem.css("top"),
              left: this.currentItem.css("left")
            }),
          (d[0].style.width && !c.forceHelperSize) ||
            d.width(this.currentItem.width()),
          (d[0].style.height && !c.forceHelperSize) ||
            d.height(this.currentItem.height()),
          d
        );
      },
      _adjustOffsetFromHelper: function(a) {
        "string" == typeof a && (a = a.split(" ")),
          Array.isArray(a) && (a = { left: +a[0], top: +a[1] || 0 }),
          "left" in a && (this.offset.click.left = a.left + this.margins.left),
          "right" in a &&
            (this.offset.click.left =
              this.helperProportions.width - a.right + this.margins.left),
          "top" in a && (this.offset.click.top = a.top + this.margins.top),
          "bottom" in a &&
            (this.offset.click.top =
              this.helperProportions.height - a.bottom + this.margins.top);
      },
      _getParentOffset: function() {
        this.offsetParent = this.helper.offsetParent();
        var b = this.offsetParent.offset();
        return (
          "absolute" === this.cssPosition &&
            this.scrollParent[0] !== this.document[0] &&
            a.contains(this.scrollParent[0], this.offsetParent[0]) &&
            ((b.left += this.scrollParent.scrollLeft()),
            (b.top += this.scrollParent.scrollTop())),
          (this.offsetParent[0] === this.document[0].body ||
            (this.offsetParent[0].tagName &&
              "html" === this.offsetParent[0].tagName.toLowerCase() &&
              a.ui.ie)) &&
            (b = { top: 0, left: 0 }),
          {
            top:
              b.top +
              (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
            left:
              b.left +
              (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
          }
        );
      },
      _getRelativeOffset: function() {
        if ("relative" === this.cssPosition) {
          var a = this.currentItem.position();
          return {
            top:
              a.top -
              (parseInt(this.helper.css("top"), 10) || 0) +
              this.scrollParent.scrollTop(),
            left:
              a.left -
              (parseInt(this.helper.css("left"), 10) || 0) +
              this.scrollParent.scrollLeft()
          };
        }
        return { top: 0, left: 0 };
      },
      _cacheMargins: function() {
        this.margins = {
          left: parseInt(this.currentItem.css("marginLeft"), 10) || 0,
          top: parseInt(this.currentItem.css("marginTop"), 10) || 0
        };
      },
      _cacheHelperProportions: function() {
        this.helperProportions = {
          width: this.helper.outerWidth(),
          height: this.helper.outerHeight()
        };
      },
      _setContainment: function() {
        var b,
          c,
          d,
          e = this.options;
        "parent" === e.containment &&
          (e.containment = this.helper[0].parentNode),
          ("document" !== e.containment && "window" !== e.containment) ||
            (this.containment = [
              0 - this.offset.relative.left - this.offset.parent.left,
              0 - this.offset.relative.top - this.offset.parent.top,
              "document" === e.containment
                ? this.document.width()
                : this.window.width() -
                  this.helperProportions.width -
                  this.margins.left,
              ("document" === e.containment
                ? this.document.height() ||
                  document.body.parentNode.scrollHeight
                : this.window.height() ||
                  this.document[0].body.parentNode.scrollHeight) -
                this.helperProportions.height -
                this.margins.top
            ]),
          /^(document|window|parent)$/.test(e.containment) ||
            ((b = a(e.containment)[0]),
            (c = a(e.containment).offset()),
            (d = "hidden" !== a(b).css("overflow")),
            (this.containment = [
              c.left +
                (parseInt(a(b).css("borderLeftWidth"), 10) || 0) +
                (parseInt(a(b).css("paddingLeft"), 10) || 0) -
                this.margins.left,
              c.top +
                (parseInt(a(b).css("borderTopWidth"), 10) || 0) +
                (parseInt(a(b).css("paddingTop"), 10) || 0) -
                this.margins.top,
              c.left +
                (d ? Math.max(b.scrollWidth, b.offsetWidth) : b.offsetWidth) -
                (parseInt(a(b).css("borderLeftWidth"), 10) || 0) -
                (parseInt(a(b).css("paddingRight"), 10) || 0) -
                this.helperProportions.width -
                this.margins.left,
              c.top +
                (d
                  ? Math.max(b.scrollHeight, b.offsetHeight)
                  : b.offsetHeight) -
                (parseInt(a(b).css("borderTopWidth"), 10) || 0) -
                (parseInt(a(b).css("paddingBottom"), 10) || 0) -
                this.helperProportions.height -
                this.margins.top
            ]));
      },
      _convertPositionTo: function(b, c) {
        c || (c = this.position);
        var d = "absolute" === b ? 1 : -1,
          e =
            "absolute" !== this.cssPosition ||
            (this.scrollParent[0] !== this.document[0] &&
              a.contains(this.scrollParent[0], this.offsetParent[0]))
              ? this.scrollParent
              : this.offsetParent,
          f = /(html|body)/i.test(e[0].tagName);
        return {
          top:
            c.top +
            this.offset.relative.top * d +
            this.offset.parent.top * d -
            ("fixed" === this.cssPosition
              ? -this.scrollParent.scrollTop()
              : f
              ? 0
              : e.scrollTop()) *
              d,
          left:
            c.left +
            this.offset.relative.left * d +
            this.offset.parent.left * d -
            ("fixed" === this.cssPosition
              ? -this.scrollParent.scrollLeft()
              : f
              ? 0
              : e.scrollLeft()) *
              d
        };
      },
      _generatePosition: function(b) {
        var c,
          d,
          e = this.options,
          f = b.pageX,
          g = b.pageY,
          h =
            "absolute" !== this.cssPosition ||
            (this.scrollParent[0] !== this.document[0] &&
              a.contains(this.scrollParent[0], this.offsetParent[0]))
              ? this.scrollParent
              : this.offsetParent,
          i = /(html|body)/i.test(h[0].tagName);
        return (
          "relative" !== this.cssPosition ||
            (this.scrollParent[0] !== this.document[0] &&
              this.scrollParent[0] !== this.offsetParent[0]) ||
            (this.offset.relative = this._getRelativeOffset()),
          this.originalPosition &&
            (this.containment &&
              (b.pageX - this.offset.click.left < this.containment[0] &&
                (f = this.containment[0] + this.offset.click.left),
              b.pageY - this.offset.click.top < this.containment[1] &&
                (g = this.containment[1] + this.offset.click.top),
              b.pageX - this.offset.click.left > this.containment[2] &&
                (f = this.containment[2] + this.offset.click.left),
              b.pageY - this.offset.click.top > this.containment[3] &&
                (g = this.containment[3] + this.offset.click.top)),
            e.grid &&
              ((c =
                this.originalPageY +
                Math.round((g - this.originalPageY) / e.grid[1]) * e.grid[1]),
              (g = this.containment
                ? c - this.offset.click.top >= this.containment[1] &&
                  c - this.offset.click.top <= this.containment[3]
                  ? c
                  : c - this.offset.click.top >= this.containment[1]
                  ? c - e.grid[1]
                  : c + e.grid[1]
                : c),
              (d =
                this.originalPageX +
                Math.round((f - this.originalPageX) / e.grid[0]) * e.grid[0]),
              (f = this.containment
                ? d - this.offset.click.left >= this.containment[0] &&
                  d - this.offset.click.left <= this.containment[2]
                  ? d
                  : d - this.offset.click.left >= this.containment[0]
                  ? d - e.grid[0]
                  : d + e.grid[0]
                : d))),
          {
            top:
              g -
              this.offset.click.top -
              this.offset.relative.top -
              this.offset.parent.top +
              ("fixed" === this.cssPosition
                ? -this.scrollParent.scrollTop()
                : i
                ? 0
                : h.scrollTop()),
            left:
              f -
              this.offset.click.left -
              this.offset.relative.left -
              this.offset.parent.left +
              ("fixed" === this.cssPosition
                ? -this.scrollParent.scrollLeft()
                : i
                ? 0
                : h.scrollLeft())
          }
        );
      },
      _rearrange: function(a, b, c, d) {
        c
          ? c[0].appendChild(this.placeholder[0])
          : b.item[0].parentNode.insertBefore(
              this.placeholder[0],
              "down" === this.direction ? b.item[0] : b.item[0].nextSibling
            ),
          (this.counter = this.counter ? ++this.counter : 1);
        var e = this.counter;
        this._delay(function() {
          e === this.counter && this.refreshPositions(!d);
        });
      },
      _clear: function(a, b) {
        function c(a, b, c) {
          return function(d) {
            c._trigger(a, d, b._uiHash(b));
          };
        }
        this.reverting = !1;
        var d,
          e = [];
        if (
          (!this._noFinalSort &&
            this.currentItem.parent().length &&
            this.placeholder.before(this.currentItem),
          (this._noFinalSort = null),
          this.helper[0] === this.currentItem[0])
        ) {
          for (d in this._storedCSS)
            ("auto" !== this._storedCSS[d] &&
              "static" !== this._storedCSS[d]) ||
              (this._storedCSS[d] = "");
          this.currentItem.css(this._storedCSS),
            this._removeClass(this.currentItem, "ui-sortable-helper");
        } else this.currentItem.show();
        for (
          this.fromOutside &&
            !b &&
            e.push(function(a) {
              this._trigger("receive", a, this._uiHash(this.fromOutside));
            }),
            (!this.fromOutside &&
              this.domPosition.prev ===
                this.currentItem.prev().not(".ui-sortable-helper")[0] &&
              this.domPosition.parent === this.currentItem.parent()[0]) ||
              b ||
              e.push(function(a) {
                this._trigger("update", a, this._uiHash());
              }),
            this !== this.currentContainer &&
              (b ||
                (e.push(function(a) {
                  this._trigger("remove", a, this._uiHash());
                }),
                e.push(
                  function(a) {
                    return function(b) {
                      a._trigger("receive", b, this._uiHash(this));
                    };
                  }.call(this, this.currentContainer)
                ),
                e.push(
                  function(a) {
                    return function(b) {
                      a._trigger("update", b, this._uiHash(this));
                    };
                  }.call(this, this.currentContainer)
                ))),
            d = this.containers.length - 1;
          d >= 0;
          d--
        )
          b || e.push(c("deactivate", this, this.containers[d])),
            this.containers[d].containerCache.over &&
              (e.push(c("out", this, this.containers[d])),
              (this.containers[d].containerCache.over = 0));
        if (
          (this.storedCursor &&
            (this.document.find("body").css("cursor", this.storedCursor),
            this.storedStylesheet.remove()),
          this._storedOpacity &&
            this.helper.css("opacity", this._storedOpacity),
          this._storedZIndex &&
            this.helper.css(
              "zIndex",
              "auto" === this._storedZIndex ? "" : this._storedZIndex
            ),
          (this.dragging = !1),
          b || this._trigger("beforeStop", a, this._uiHash()),
          this.placeholder[0].parentNode.removeChild(this.placeholder[0]),
          this.cancelHelperRemoval ||
            (this.helper[0] !== this.currentItem[0] && this.helper.remove(),
            (this.helper = null)),
          !b)
        ) {
          for (d = 0; d < e.length; d++) e[d].call(this, a);
          this._trigger("stop", a, this._uiHash());
        }
        return (this.fromOutside = !1), !this.cancelHelperRemoval;
      },
      _trigger: function() {
        a.Widget.prototype._trigger.apply(this, arguments) === !1 &&
          this.cancel();
      },
      _uiHash: function(b) {
        var c = b || this;
        return {
          helper: c.helper,
          placeholder: c.placeholder || a([]),
          position: c.position,
          originalPosition: c.originalPosition,
          offset: c.positionAbs,
          item: c.currentItem,
          sender: b ? b.element : null
        };
      }
    });
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    function b(a) {
      return function() {
        var b = this.element.val();
        a.apply(this, arguments),
          this._refresh(),
          b !== this.element.val() && this._trigger("change");
      };
    }
    return (
      a.widget("ui.spinner", {
        version: "@VERSION",
        defaultElement: "<input>",
        widgetEventPrefix: "spin",
        options: {
          classes: {
            "ui-spinner": "ui-corner-all",
            "ui-spinner-down": "ui-corner-br",
            "ui-spinner-up": "ui-corner-tr"
          },
          culture: null,
          icons: { down: "ui-icon-triangle-1-s", up: "ui-icon-triangle-1-n" },
          incremental: !0,
          max: null,
          min: null,
          numberFormat: null,
          page: 10,
          step: 1,
          change: null,
          spin: null,
          start: null,
          stop: null
        },
        _create: function() {
          this._setOption("max", this.options.max),
            this._setOption("min", this.options.min),
            this._setOption("step", this.options.step),
            "" !== this.value() && this._value(this.element.val(), !0),
            this._draw(),
            this._on(this._events),
            this._refresh(),
            this._on(this.window, {
              beforeunload: function() {
                this.element.removeAttr("autocomplete");
              }
            });
        },
        _getCreateOptions: function() {
          var b = this._super(),
            c = this.element;
          return (
            a.each(["min", "max", "step"], function(a, d) {
              var e = c.attr(d);
              null != e && e.length && (b[d] = e);
            }),
            b
          );
        },
        _events: {
          keydown: function(a) {
            this._start(a) && this._keydown(a) && a.preventDefault();
          },
          keyup: "_stop",
          focus: function() {
            this.previous = this.element.val();
          },
          blur: function(a) {
            return this.cancelBlur
              ? void delete this.cancelBlur
              : (this._stop(),
                this._refresh(),
                void (
                  this.previous !== this.element.val() &&
                  this._trigger("change", a)
                ));
          },
          mousewheel: function(b, c) {
            var d = a.ui.safeActiveElement(this.document[0]),
              e = this.element[0] === d;
            if (e && c) {
              if (!this.spinning && !this._start(b)) return !1;
              this._spin((c > 0 ? 1 : -1) * this.options.step, b),
                clearTimeout(this.mousewheelTimer),
                (this.mousewheelTimer = this._delay(function() {
                  this.spinning && this._stop(b);
                }, 100)),
                b.preventDefault();
            }
          },
          "mousedown .ui-spinner-button": function(b) {
            function c() {
              var b =
                this.element[0] === a.ui.safeActiveElement(this.document[0]);
              b ||
                (this.element.trigger("focus"),
                (this.previous = d),
                this._delay(function() {
                  this.previous = d;
                }));
            }
            var d;
            (d =
              this.element[0] === a.ui.safeActiveElement(this.document[0])
                ? this.previous
                : this.element.val()),
              b.preventDefault(),
              c.call(this),
              (this.cancelBlur = !0),
              this._delay(function() {
                delete this.cancelBlur, c.call(this);
              }),
              this._start(b) !== !1 &&
                this._repeat(
                  null,
                  a(b.currentTarget).hasClass("ui-spinner-up") ? 1 : -1,
                  b
                );
          },
          "mouseup .ui-spinner-button": "_stop",
          "mouseenter .ui-spinner-button": function(b) {
            if (a(b.currentTarget).hasClass("ui-state-active"))
              return (
                this._start(b) !== !1 &&
                void this._repeat(
                  null,
                  a(b.currentTarget).hasClass("ui-spinner-up") ? 1 : -1,
                  b
                )
              );
          },
          "mouseleave .ui-spinner-button": "_stop"
        },
        _enhance: function() {
          this.uiSpinner = this.element
            .attr("autocomplete", "off")
            .wrap("<span>")
            .parent()
            .append("<a></a><a></a>");
        },
        _draw: function() {
          this._enhance(),
            this._addClass(
              this.uiSpinner,
              "ui-spinner",
              "ui-widget ui-widget-content"
            ),
            this._addClass("ui-spinner-input"),
            this.element.attr("role", "spinbutton"),
            (this.buttons = this.uiSpinner
              .children("a")
              .attr("tabIndex", -1)
              .attr("aria-hidden", !0)
              .button({ classes: { "ui-button": "" } })),
            this._removeClass(this.buttons, "ui-corner-all"),
            this._addClass(
              this.buttons.first(),
              "ui-spinner-button ui-spinner-up"
            ),
            this._addClass(
              this.buttons.last(),
              "ui-spinner-button ui-spinner-down"
            ),
            this.buttons
              .first()
              .button({ icon: this.options.icons.up, showLabel: !1 }),
            this.buttons
              .last()
              .button({ icon: this.options.icons.down, showLabel: !1 }),
            this.buttons.height() > Math.ceil(0.5 * this.uiSpinner.height()) &&
              this.uiSpinner.height() > 0 &&
              this.uiSpinner.height(this.uiSpinner.height());
        },
        _keydown: function(b) {
          var c = this.options,
            d = a.ui.keyCode;
          switch (b.keyCode) {
            case d.UP:
              return this._repeat(null, 1, b), !0;
            case d.DOWN:
              return this._repeat(null, -1, b), !0;
            case d.PAGE_UP:
              return this._repeat(null, c.page, b), !0;
            case d.PAGE_DOWN:
              return this._repeat(null, -c.page, b), !0;
          }
          return !1;
        },
        _start: function(a) {
          return (
            !(!this.spinning && this._trigger("start", a) === !1) &&
            (this.counter || (this.counter = 1), (this.spinning = !0), !0)
          );
        },
        _repeat: function(a, b, c) {
          (a = a || 500),
            clearTimeout(this.timer),
            (this.timer = this._delay(function() {
              this._repeat(40, b, c);
            }, a)),
            this._spin(b * this.options.step, c);
        },
        _spin: function(a, b) {
          var c = this.value() || 0;
          this.counter || (this.counter = 1),
            (c = this._adjustValue(c + a * this._increment(this.counter))),
            (this.spinning && this._trigger("spin", b, { value: c }) === !1) ||
              (this._value(c), this.counter++);
        },
        _increment: function(a) {
          var b = this.options.incremental;
          return b
            ? "function" == typeof b
              ? b(a)
              : Math.floor(
                  (a * a * a) / 5e4 - (a * a) / 500 + (17 * a) / 200 + 1
                )
            : 1;
        },
        _precision: function() {
          var a = this._precisionOf(this.options.step);
          return (
            null !== this.options.min &&
              (a = Math.max(a, this._precisionOf(this.options.min))),
            a
          );
        },
        _precisionOf: function(a) {
          var b = a.toString(),
            c = b.indexOf(".");
          return c === -1 ? 0 : b.length - c - 1;
        },
        _adjustValue: function(a) {
          var b,
            c,
            d = this.options;
          return (
            (b = null !== d.min ? d.min : 0),
            (c = a - b),
            (c = Math.round(c / d.step) * d.step),
            (a = b + c),
            (a = parseFloat(a.toFixed(this._precision()))),
            null !== d.max && a > d.max
              ? d.max
              : null !== d.min && a < d.min
              ? d.min
              : a
          );
        },
        _stop: function(a) {
          this.spinning &&
            (clearTimeout(this.timer),
            clearTimeout(this.mousewheelTimer),
            (this.counter = 0),
            (this.spinning = !1),
            this._trigger("stop", a));
        },
        _setOption: function(a, b) {
          var c, d, e;
          return "culture" === a || "numberFormat" === a
            ? ((c = this._parse(this.element.val())),
              (this.options[a] = b),
              void this.element.val(this._format(c)))
            : (("max" !== a && "min" !== a && "step" !== a) ||
                ("string" == typeof b && (b = this._parse(b))),
              "icons" === a &&
                ((d = this.buttons.first().find(".ui-icon")),
                this._removeClass(d, null, this.options.icons.up),
                this._addClass(d, null, b.up),
                (e = this.buttons.last().find(".ui-icon")),
                this._removeClass(e, null, this.options.icons.down),
                this._addClass(e, null, b.down)),
              void this._super(a, b));
        },
        _setOptionDisabled: function(a) {
          this._super(a),
            this._toggleClass(this.uiSpinner, null, "ui-state-disabled", !!a),
            this.element.prop("disabled", !!a),
            this.buttons.button(a ? "disable" : "enable");
        },
        _setOptions: b(function(a) {
          this._super(a);
        }),
        _parse: function(a) {
          return (
            "string" == typeof a &&
              "" !== a &&
              (a =
                window.Globalize && this.options.numberFormat
                  ? Globalize.parseFloat(a, 10, this.options.culture)
                  : +a),
            "" === a || isNaN(a) ? null : a
          );
        },
        _format: function(a) {
          return "" === a
            ? ""
            : window.Globalize && this.options.numberFormat
            ? Globalize.format(
                a,
                this.options.numberFormat,
                this.options.culture
              )
            : a;
        },
        _refresh: function() {
          this.element.attr({
            "aria-valuemin": this.options.min,
            "aria-valuemax": this.options.max,
            "aria-valuenow": this._parse(this.element.val())
          });
        },
        isValid: function() {
          var a = this.value();
          return null !== a && a === this._adjustValue(a);
        },
        _value: function(a, b) {
          var c;
          "" !== a &&
            ((c = this._parse(a)),
            null !== c &&
              (b || (c = this._adjustValue(c)), (a = this._format(c)))),
            this.element.val(a),
            this._refresh();
        },
        _destroy: function() {
          this.element
            .prop("disabled", !1)
            .removeAttr(
              "autocomplete role aria-valuemin aria-valuemax aria-valuenow"
            ),
            this.uiSpinner.replaceWith(this.element);
        },
        stepUp: b(function(a) {
          this._stepUp(a);
        }),
        _stepUp: function(a) {
          this._start() &&
            (this._spin((a || 1) * this.options.step), this._stop());
        },
        stepDown: b(function(a) {
          this._stepDown(a);
        }),
        _stepDown: function(a) {
          this._start() &&
            (this._spin((a || 1) * -this.options.step), this._stop());
        },
        pageUp: b(function(a) {
          this._stepUp((a || 1) * this.options.page);
        }),
        pageDown: b(function(a) {
          this._stepDown((a || 1) * this.options.page);
        }),
        value: function(a) {
          return arguments.length
            ? void b(this._value).call(this, a)
            : this._parse(this.element.val());
        },
        widget: function() {
          return this.uiSpinner;
        }
      }),
      a.uiBackCompat !== !1 &&
        a.widget("ui.spinner", a.ui.spinner, {
          _enhance: function() {
            this.uiSpinner = this.element
              .attr("autocomplete", "off")
              .wrap(this._uiSpinnerHtml())
              .parent()
              .append(this._buttonHtml());
          },
          _uiSpinnerHtml: function() {
            return "<span>";
          },
          _buttonHtml: function() {
            return "<a></a><a></a>";
          }
        }),
      a.ui.spinner
    );
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return (
      a.widget("ui.tabs", {
        version: "@VERSION",
        delay: 300,
        options: {
          active: null,
          classes: {
            "ui-tabs": "ui-corner-all",
            "ui-tabs-nav": "ui-corner-all",
            "ui-tabs-panel": "ui-corner-bottom",
            "ui-tabs-tab": "ui-corner-top"
          },
          collapsible: !1,
          event: "click",
          heightStyle: "content",
          hide: null,
          show: null,
          activate: null,
          beforeActivate: null,
          beforeLoad: null,
          load: null
        },
        _isLocal: (function() {
          var a = /#.*$/;
          return function(b) {
            var c, d;
            (c = b.href.replace(a, "")), (d = location.href.replace(a, ""));
            try {
              c = decodeURIComponent(c);
            } catch (e) {}
            try {
              d = decodeURIComponent(d);
            } catch (e) {}
            return b.hash.length > 1 && c === d;
          };
        })(),
        _create: function() {
          var b = this,
            c = this.options;
          (this.running = !1),
            this._addClass("ui-tabs", "ui-widget ui-widget-content"),
            this._toggleClass("ui-tabs-collapsible", null, c.collapsible),
            this._processTabs(),
            (c.active = this._initialActive()),
            Array.isArray(c.disabled) &&
              (c.disabled = a
                .uniqueSort(
                  c.disabled.concat(
                    a.map(this.tabs.filter(".ui-state-disabled"), function(a) {
                      return b.tabs.index(a);
                    })
                  )
                )
                .sort()),
            this.options.active !== !1 && this.anchors.length
              ? (this.active = this._findActive(c.active))
              : (this.active = a()),
            this._refresh(),
            this.active.length && this.load(c.active);
        },
        _initialActive: function() {
          var b = this.options.active,
            c = this.options.collapsible,
            d = location.hash.substring(1);
          return (
            null === b &&
              (d &&
                this.tabs.each(function(c, e) {
                  if (a(e).attr("aria-controls") === d) return (b = c), !1;
                }),
              null === b &&
                (b = this.tabs.index(this.tabs.filter(".ui-tabs-active"))),
              (null !== b && b !== -1) || (b = !!this.tabs.length && 0)),
            b !== !1 &&
              ((b = this.tabs.index(this.tabs.eq(b))),
              b === -1 && (b = !c && 0)),
            !c && b === !1 && this.anchors.length && (b = 0),
            b
          );
        },
        _getCreateEventData: function() {
          return {
            tab: this.active,
            panel: this.active.length ? this._getPanelForTab(this.active) : a()
          };
        },
        _tabKeydown: function(b) {
          var c = a(a.ui.safeActiveElement(this.document[0])).closest("li"),
            d = this.tabs.index(c),
            e = !0;
          if (!this._handlePageNav(b)) {
            switch (b.keyCode) {
              case a.ui.keyCode.RIGHT:
              case a.ui.keyCode.DOWN:
                d++;
                break;
              case a.ui.keyCode.UP:
              case a.ui.keyCode.LEFT:
                (e = !1), d--;
                break;
              case a.ui.keyCode.END:
                d = this.anchors.length - 1;
                break;
              case a.ui.keyCode.HOME:
                d = 0;
                break;
              case a.ui.keyCode.SPACE:
                return (
                  b.preventDefault(),
                  clearTimeout(this.activating),
                  void this._activate(d)
                );
              case a.ui.keyCode.ENTER:
                return (
                  b.preventDefault(),
                  clearTimeout(this.activating),
                  void this._activate(d !== this.options.active && d)
                );
              default:
                return;
            }
            b.preventDefault(),
              clearTimeout(this.activating),
              (d = this._focusNextTab(d, e)),
              b.ctrlKey ||
                b.metaKey ||
                (c.attr("aria-selected", "false"),
                this.tabs.eq(d).attr("aria-selected", "true"),
                (this.activating = this._delay(function() {
                  this.option("active", d);
                }, this.delay)));
          }
        },
        _panelKeydown: function(b) {
          this._handlePageNav(b) ||
            (b.ctrlKey &&
              b.keyCode === a.ui.keyCode.UP &&
              (b.preventDefault(), this.active.trigger("focus")));
        },
        _handlePageNav: function(b) {
          return b.altKey && b.keyCode === a.ui.keyCode.PAGE_UP
            ? (this._activate(this._focusNextTab(this.options.active - 1, !1)),
              !0)
            : b.altKey && b.keyCode === a.ui.keyCode.PAGE_DOWN
            ? (this._activate(this._focusNextTab(this.options.active + 1, !0)),
              !0)
            : void 0;
        },
        _findNextTab: function(b, c) {
          function d() {
            return b > e && (b = 0), b < 0 && (b = e), b;
          }
          for (
            var e = this.tabs.length - 1;
            a.inArray(d(), this.options.disabled) !== -1;

          )
            b = c ? b + 1 : b - 1;
          return b;
        },
        _focusNextTab: function(a, b) {
          return (
            (a = this._findNextTab(a, b)), this.tabs.eq(a).trigger("focus"), a
          );
        },
        _setOption: function(a, b) {
          return "active" === a
            ? void this._activate(b)
            : (this._super(a, b),
              "collapsible" === a &&
                (this._toggleClass("ui-tabs-collapsible", null, b),
                b || this.options.active !== !1 || this._activate(0)),
              "event" === a && this._setupEvents(b),
              void ("heightStyle" === a && this._setupHeightStyle(b)));
        },
        _sanitizeSelector: function(a) {
          return a
            ? a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g, "\\$&")
            : "";
        },
        refresh: function() {
          var b = this.options,
            c = this.tablist.children(":has(a[href])");
          (b.disabled = a.map(c.filter(".ui-state-disabled"), function(a) {
            return c.index(a);
          })),
            this._processTabs(),
            b.active !== !1 && this.anchors.length
              ? this.active.length &&
                !a.contains(this.tablist[0], this.active[0])
                ? this.tabs.length === b.disabled.length
                  ? ((b.active = !1), (this.active = a()))
                  : this._activate(
                      this._findNextTab(Math.max(0, b.active - 1), !1)
                    )
                : (b.active = this.tabs.index(this.active))
              : ((b.active = !1), (this.active = a())),
            this._refresh();
        },
        _refresh: function() {
          this._setOptionDisabled(this.options.disabled),
            this._setupEvents(this.options.event),
            this._setupHeightStyle(this.options.heightStyle),
            this.tabs.not(this.active).attr({
              "aria-selected": "false",
              "aria-expanded": "false",
              tabIndex: -1
            }),
            this.panels
              .not(this._getPanelForTab(this.active))
              .hide()
              .attr({ "aria-hidden": "true" }),
            this.active.length
              ? (this.active.attr({
                  "aria-selected": "true",
                  "aria-expanded": "true",
                  tabIndex: 0
                }),
                this._addClass(
                  this.active,
                  "ui-tabs-active",
                  "ui-state-active"
                ),
                this._getPanelForTab(this.active)
                  .show()
                  .attr({ "aria-hidden": "false" }))
              : this.tabs.eq(0).attr("tabIndex", 0);
        },
        _processTabs: function() {
          var b = this,
            c = this.tabs,
            d = this.anchors,
            e = this.panels;
          (this.tablist = this._getList().attr("role", "tablist")),
            this._addClass(
              this.tablist,
              "ui-tabs-nav",
              "ui-helper-reset ui-helper-clearfix ui-widget-header"
            ),
            this.tablist
              .on("mousedown" + this.eventNamespace, "> li", function(b) {
                a(this).is(".ui-state-disabled") && b.preventDefault();
              })
              .on("focus" + this.eventNamespace, ".ui-tabs-anchor", function() {
                a(this)
                  .closest("li")
                  .is(".ui-state-disabled") && this.blur();
              }),
            (this.tabs = this.tablist
              .find("> li:has(a[href])")
              .attr({ role: "tab", tabIndex: -1 })),
            this._addClass(this.tabs, "ui-tabs-tab", "ui-state-default"),
            (this.anchors = this.tabs
              .map(function() {
                return a("a", this)[0];
              })
              .attr({ tabIndex: -1 })),
            this._addClass(this.anchors, "ui-tabs-anchor"),
            (this.panels = a()),
            this.anchors.each(function(c, d) {
              var e,
                f,
                g,
                h = a(d)
                  .uniqueId()
                  .attr("id"),
                i = a(d).closest("li"),
                j = i.attr("aria-controls");
              b._isLocal(d)
                ? ((e = d.hash),
                  (g = e.substring(1)),
                  (f = b.element.find(b._sanitizeSelector(e))))
                : ((g = i.attr("aria-controls") || a({}).uniqueId()[0].id),
                  (e = "#" + g),
                  (f = b.element.find(e)),
                  f.length ||
                    ((f = b._createPanel(g)),
                    f.insertAfter(b.panels[c - 1] || b.tablist)),
                  f.attr("aria-live", "polite")),
                f.length && (b.panels = b.panels.add(f)),
                j && i.data("ui-tabs-aria-controls", j),
                i.attr({ "aria-controls": g, "aria-labelledby": h }),
                f.attr("aria-labelledby", h);
            }),
            this.panels.attr("role", "tabpanel"),
            this._addClass(this.panels, "ui-tabs-panel", "ui-widget-content"),
            c &&
              (this._off(c.not(this.tabs)),
              this._off(d.not(this.anchors)),
              this._off(e.not(this.panels)));
        },
        _getList: function() {
          return this.tablist || this.element.find("ol, ul").eq(0);
        },
        _createPanel: function(b) {
          return a("<div>")
            .attr("id", b)
            .data("ui-tabs-destroy", !0);
        },
        _setOptionDisabled: function(b) {
          var c, d, e;
          for (
            Array.isArray(b) &&
              (b.length
                ? b.length === this.anchors.length && (b = !0)
                : (b = !1)),
              e = 0;
            (d = this.tabs[e]);
            e++
          )
            (c = a(d)),
              b === !0 || a.inArray(e, b) !== -1
                ? (c.attr("aria-disabled", "true"),
                  this._addClass(c, null, "ui-state-disabled"))
                : (c.removeAttr("aria-disabled"),
                  this._removeClass(c, null, "ui-state-disabled"));
          (this.options.disabled = b),
            this._toggleClass(
              this.widget(),
              this.widgetFullName + "-disabled",
              null,
              b === !0
            );
        },
        _setupEvents: function(b) {
          var c = {};
          b &&
            a.each(b.split(" "), function(a, b) {
              c[b] = "_eventHandler";
            }),
            this._off(this.anchors.add(this.tabs).add(this.panels)),
            this._on(!0, this.anchors, {
              click: function(a) {
                a.preventDefault();
              }
            }),
            this._on(this.anchors, c),
            this._on(this.tabs, { keydown: "_tabKeydown" }),
            this._on(this.panels, { keydown: "_panelKeydown" }),
            this._focusable(this.tabs),
            this._hoverable(this.tabs);
        },
        _setupHeightStyle: function(b) {
          var c,
            d = this.element.parent();
          "fill" === b
            ? ((c = d.height()),
              (c -= this.element.outerHeight() - this.element.height()),
              this.element.siblings(":visible").each(function() {
                var b = a(this),
                  d = b.css("position");
                "absolute" !== d && "fixed" !== d && (c -= b.outerHeight(!0));
              }),
              this.element
                .children()
                .not(this.panels)
                .each(function() {
                  c -= a(this).outerHeight(!0);
                }),
              this.panels
                .each(function() {
                  a(this).height(
                    Math.max(0, c - a(this).innerHeight() + a(this).height())
                  );
                })
                .css("overflow", "auto"))
            : "auto" === b &&
              ((c = 0),
              this.panels
                .each(function() {
                  c = Math.max(
                    c,
                    a(this)
                      .height("")
                      .height()
                  );
                })
                .height(c));
        },
        _eventHandler: function(b) {
          var c = this.options,
            d = this.active,
            e = a(b.currentTarget),
            f = e.closest("li"),
            g = f[0] === d[0],
            h = g && c.collapsible,
            i = h ? a() : this._getPanelForTab(f),
            j = d.length ? this._getPanelForTab(d) : a(),
            k = { oldTab: d, oldPanel: j, newTab: h ? a() : f, newPanel: i };
          b.preventDefault(),
            f.hasClass("ui-state-disabled") ||
              f.hasClass("ui-tabs-loading") ||
              this.running ||
              (g && !c.collapsible) ||
              this._trigger("beforeActivate", b, k) === !1 ||
              ((c.active = !h && this.tabs.index(f)),
              (this.active = g ? a() : f),
              this.xhr && this.xhr.abort(),
              j.length ||
                i.length ||
                a.error("jQuery UI Tabs: Mismatching fragment identifier."),
              i.length && this.load(this.tabs.index(f), b),
              this._toggle(b, k));
        },
        _toggle: function(b, c) {
          function d() {
            (f.running = !1), f._trigger("activate", b, c);
          }
          function e() {
            f._addClass(
              c.newTab.closest("li"),
              "ui-tabs-active",
              "ui-state-active"
            ),
              g.length && f.options.show
                ? f._show(g, f.options.show, d)
                : (g.show(), d());
          }
          var f = this,
            g = c.newPanel,
            h = c.oldPanel;
          (this.running = !0),
            h.length && this.options.hide
              ? this._hide(h, this.options.hide, function() {
                  f._removeClass(
                    c.oldTab.closest("li"),
                    "ui-tabs-active",
                    "ui-state-active"
                  ),
                    e();
                })
              : (this._removeClass(
                  c.oldTab.closest("li"),
                  "ui-tabs-active",
                  "ui-state-active"
                ),
                h.hide(),
                e()),
            h.attr("aria-hidden", "true"),
            c.oldTab.attr({
              "aria-selected": "false",
              "aria-expanded": "false"
            }),
            g.length && h.length
              ? c.oldTab.attr("tabIndex", -1)
              : g.length &&
                this.tabs
                  .filter(function() {
                    return 0 === a(this).attr("tabIndex");
                  })
                  .attr("tabIndex", -1),
            g.attr("aria-hidden", "false"),
            c.newTab.attr({
              "aria-selected": "true",
              "aria-expanded": "true",
              tabIndex: 0
            });
        },
        _activate: function(b) {
          var c,
            d = this._findActive(b);
          d[0] !== this.active[0] &&
            (d.length || (d = this.active),
            (c = d.find(".ui-tabs-anchor")[0]),
            this._eventHandler({
              target: c,
              currentTarget: c,
              preventDefault: a.noop
            }));
        },
        _findActive: function(b) {
          return b === !1 ? a() : this.tabs.eq(b);
        },
        _getIndex: function(b) {
          return (
            "string" == typeof b &&
              (b = this.anchors.index(
                this.anchors.filter("[href$='" + a.ui.escapeSelector(b) + "']")
              )),
            b
          );
        },
        _destroy: function() {
          this.xhr && this.xhr.abort(),
            this.tablist.removeAttr("role").off(this.eventNamespace),
            this.anchors.removeAttr("role tabIndex").removeUniqueId(),
            this.tabs.add(this.panels).each(function() {
              a.data(this, "ui-tabs-destroy")
                ? a(this).remove()
                : a(this).removeAttr(
                    "role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded"
                  );
            }),
            this.tabs.each(function() {
              var b = a(this),
                c = b.data("ui-tabs-aria-controls");
              c
                ? b.attr("aria-controls", c).removeData("ui-tabs-aria-controls")
                : b.removeAttr("aria-controls");
            }),
            this.panels.show(),
            "content" !== this.options.heightStyle &&
              this.panels.css("height", "");
        },
        enable: function(b) {
          var c = this.options.disabled;
          c !== !1 &&
            (void 0 === b
              ? (c = !1)
              : ((b = this._getIndex(b)),
                (c = Array.isArray(c)
                  ? a.map(c, function(a) {
                      return a !== b ? a : null;
                    })
                  : a.map(this.tabs, function(a, c) {
                      return c !== b ? c : null;
                    }))),
            this._setOptionDisabled(c));
        },
        disable: function(b) {
          var c = this.options.disabled;
          if (c !== !0) {
            if (void 0 === b) c = !0;
            else {
              if (((b = this._getIndex(b)), a.inArray(b, c) !== -1)) return;
              c = Array.isArray(c) ? a.merge([b], c).sort() : [b];
            }
            this._setOptionDisabled(c);
          }
        },
        load: function(b, c) {
          b = this._getIndex(b);
          var d = this,
            e = this.tabs.eq(b),
            f = e.find(".ui-tabs-anchor"),
            g = this._getPanelForTab(e),
            h = { tab: e, panel: g },
            i = function(a, b) {
              "abort" === b && d.panels.stop(!1, !0),
                d._removeClass(e, "ui-tabs-loading"),
                g.removeAttr("aria-busy"),
                a === d.xhr && delete d.xhr;
            };
          this._isLocal(f[0]) ||
            ((this.xhr = a.ajax(this._ajaxSettings(f, c, h))),
            this.xhr &&
              "canceled" !== this.xhr.statusText &&
              (this._addClass(e, "ui-tabs-loading"),
              g.attr("aria-busy", "true"),
              this.xhr
                .done(function(a, b, e) {
                  setTimeout(function() {
                    g.html(a), d._trigger("load", c, h), i(e, b);
                  }, 1);
                })
                .fail(function(a, b) {
                  setTimeout(function() {
                    i(a, b);
                  }, 1);
                })));
        },
        _ajaxSettings: function(b, c, d) {
          var e = this;
          return {
            url: b.attr("href").replace(/#.*$/, ""),
            beforeSend: function(b, f) {
              return e._trigger(
                "beforeLoad",
                c,
                a.extend({ jqXHR: b, ajaxSettings: f }, d)
              );
            }
          };
        },
        _getPanelForTab: function(b) {
          var c = a(b).attr("aria-controls");
          return this.element.find(this._sanitizeSelector("#" + c));
        }
      }),
      a.uiBackCompat !== !1 &&
        a.widget("ui.tabs", a.ui.tabs, {
          _processTabs: function() {
            this._superApply(arguments), this._addClass(this.tabs, "ui-tab");
          }
        }),
      a.ui.tabs
    );
  }),
  (function(a) {
    a(jQuery);
  })(function(a) {
    return (
      a.widget("ui.tooltip", {
        version: "@VERSION",
        options: {
          classes: { "ui-tooltip": "ui-corner-all ui-widget-shadow" },
          content: function() {
            var b = a(this).attr("title") || "";
            return a("<a>")
              .text(b)
              .html();
          },
          hide: !0,
          items: "[title]:not([disabled])",
          position: {
            my: "left top+15",
            at: "left bottom",
            collision: "flipfit flip"
          },
          show: !0,
          track: !1,
          close: null,
          open: null
        },
        _addDescribedBy: function(a, b) {
          var c = (a.attr("aria-describedby") || "").split(/\s+/);
          c.push(b),
            a
              .data("ui-tooltip-id", b)
              .attr(
                "aria-describedby",
                String.prototype.trim.call(c.join(" "))
              );
        },
        _removeDescribedBy: function(b) {
          var c = b.data("ui-tooltip-id"),
            d = (b.attr("aria-describedby") || "").split(/\s+/),
            e = a.inArray(c, d);
          e !== -1 && d.splice(e, 1),
            b.removeData("ui-tooltip-id"),
            (d = String.prototype.trim.call(d.join(" "))),
            d
              ? b.attr("aria-describedby", d)
              : b.removeAttr("aria-describedby");
        },
        _create: function() {
          this._on({ mouseover: "open", focusin: "open" }),
            (this.tooltips = {}),
            (this.parents = {}),
            (this.liveRegion = a("<div>")
              .attr({
                role: "log",
                "aria-live": "assertive",
                "aria-relevant": "additions"
              })
              .appendTo(this.document[0].body)),
            this._addClass(
              this.liveRegion,
              null,
              "ui-helper-hidden-accessible"
            ),
            (this.disabledTitles = a([]));
        },
        _setOption: function(b, c) {
          var d = this;
          this._super(b, c),
            "content" === b &&
              a.each(this.tooltips, function(a, b) {
                d._updateContent(b.element);
              });
        },
        _setOptionDisabled: function(a) {
          this[a ? "_disable" : "_enable"]();
        },
        _disable: function() {
          var b = this;
          a.each(this.tooltips, function(c, d) {
            var e = a.Event("blur");
            (e.target = e.currentTarget = d.element[0]), b.close(e, !0);
          }),
            (this.disabledTitles = this.disabledTitles.add(
              this.element
                .find(this.options.items)
                .addBack()
                .filter(function() {
                  var b = a(this);
                  if (b.is("[title]"))
                    return b
                      .data("ui-tooltip-title", b.attr("title"))
                      .removeAttr("title");
                })
            ));
        },
        _enable: function() {
          this.disabledTitles.each(function() {
            var b = a(this);
            b.data("ui-tooltip-title") &&
              b.attr("title", b.data("ui-tooltip-title"));
          }),
            (this.disabledTitles = a([]));
        },
        open: function(b) {
          var c = this,
            d = a(b ? b.target : this.element).closest(this.options.items);
          d.length &&
            !d.data("ui-tooltip-id") &&
            (d.attr("title") && d.data("ui-tooltip-title", d.attr("title")),
            d.data("ui-tooltip-open", !0),
            b &&
              "mouseover" === b.type &&
              d.parents().each(function() {
                var b,
                  d = a(this);
                d.data("ui-tooltip-open") &&
                  ((b = a.Event("blur")),
                  (b.target = b.currentTarget = this),
                  c.close(b, !0)),
                  d.attr("title") &&
                    (d.uniqueId(),
                    (c.parents[this.id] = {
                      element: this,
                      title: d.attr("title")
                    }),
                    d.attr("title", ""));
              }),
            this._registerCloseHandlers(b, d),
            this._updateContent(d, b));
        },
        _updateContent: function(a, b) {
          var c,
            d = this.options.content,
            e = this,
            f = b ? b.type : null;
          return "string" == typeof d || d.nodeType || d.jquery
            ? this._open(b, a, d)
            : ((c = d.call(a[0], function(c) {
                e._delay(function() {
                  a.data("ui-tooltip-open") &&
                    (b && (b.type = f), this._open(b, a, c));
                });
              })),
              void (c && this._open(b, a, c)));
        },
        _open: function(b, c, d) {
          function e(a) {
            (j.of = a), g.is(":hidden") || g.position(j);
          }
          var f,
            g,
            h,
            i,
            j = a.extend({}, this.options.position);
          if (d) {
            if ((f = this._find(c)))
              return void f.tooltip.find(".ui-tooltip-content").html(d);
            c.is("[title]") &&
              (b && "mouseover" === b.type
                ? c.attr("title", "")
                : c.removeAttr("title")),
              (f = this._tooltip(c)),
              (g = f.tooltip),
              this._addDescribedBy(c, g.attr("id")),
              g.find(".ui-tooltip-content").html(d),
              this.liveRegion.children().hide(),
              (i = a("<div>").html(g.find(".ui-tooltip-content").html())),
              i
                .removeAttr("name")
                .find("[name]")
                .removeAttr("name"),
              i
                .removeAttr("id")
                .find("[id]")
                .removeAttr("id"),
              i.appendTo(this.liveRegion),
              this.options.track && b && /^mouse/.test(b.type)
                ? (this._on(this.document, { mousemove: e }), e(b))
                : g.position(a.extend({ of: c }, this.options.position)),
              g.hide(),
              this._show(g, this.options.show),
              this.options.track &&
                this.options.show &&
                this.options.show.delay &&
                (h = this.delayedShow = setInterval(function() {
                  g.is(":visible") && (e(j.of), clearInterval(h));
                }, 13)),
              this._trigger("open", b, { tooltip: g });
          }
        },
        _registerCloseHandlers: function(b, c) {
          var d = {
            keyup: function(b) {
              if (b.keyCode === a.ui.keyCode.ESCAPE) {
                var d = a.Event(b);
                (d.currentTarget = c[0]), this.close(d, !0);
              }
            }
          };
          c[0] !== this.element[0] &&
            (d.remove = function() {
              this._removeTooltip(this._find(c).tooltip);
            }),
            (b && "mouseover" !== b.type) || (d.mouseleave = "close"),
            (b && "focusin" !== b.type) || (d.focusout = "close"),
            this._on(!0, c, d);
        },
        close: function(b) {
          var c,
            d = this,
            e = a(b ? b.currentTarget : this.element),
            f = this._find(e);
          return f
            ? ((c = f.tooltip),
              void (
                f.closing ||
                (clearInterval(this.delayedShow),
                e.data("ui-tooltip-title") &&
                  !e.attr("title") &&
                  e.attr("title", e.data("ui-tooltip-title")),
                this._removeDescribedBy(e),
                (f.hiding = !0),
                c.stop(!0),
                this._hide(c, this.options.hide, function() {
                  d._removeTooltip(a(this));
                }),
                e.removeData("ui-tooltip-open"),
                this._off(e, "mouseleave focusout keyup"),
                e[0] !== this.element[0] && this._off(e, "remove"),
                this._off(this.document, "mousemove"),
                b &&
                  "mouseleave" === b.type &&
                  a.each(this.parents, function(b, c) {
                    a(c.element).attr("title", c.title), delete d.parents[b];
                  }),
                (f.closing = !0),
                this._trigger("close", b, { tooltip: c }),
                f.hiding || (f.closing = !1))
              ))
            : void e.removeData("ui-tooltip-open");
        },
        _tooltip: function(b) {
          var c = a("<div>").attr("role", "tooltip"),
            d = a("<div>").appendTo(c),
            e = c.uniqueId().attr("id");
          return (
            this._addClass(d, "ui-tooltip-content"),
            this._addClass(c, "ui-tooltip", "ui-widget ui-widget-content"),
            c.appendTo(this._appendTo(b)),
            (this.tooltips[e] = { element: b, tooltip: c })
          );
        },
        _find: function(a) {
          var b = a.data("ui-tooltip-id");
          return b ? this.tooltips[b] : null;
        },
        _removeTooltip: function(a) {
          clearInterval(this.delayedShow),
            a.remove(),
            delete this.tooltips[a.attr("id")];
        },
        _appendTo: function(a) {
          var b = a.closest(".ui-front, dialog");
          return b.length || (b = this.document[0].body), b;
        },
        _destroy: function() {
          var b = this;
          a.each(this.tooltips, function(c, d) {
            var e = a.Event("blur"),
              f = d.element;
            (e.target = e.currentTarget = f[0]),
              b.close(e, !0),
              a("#" + c).remove(),
              f.data("ui-tooltip-title") &&
                (f.attr("title") || f.attr("title", f.data("ui-tooltip-title")),
                f.removeData("ui-tooltip-title"));
          }),
            this.liveRegion.remove();
        }
      }),
      a.uiBackCompat !== !1 &&
        a.widget("ui.tooltip", a.ui.tooltip, {
          options: { tooltipClass: null },
          _tooltip: function() {
            var a = this._superApply(arguments);
            return (
              this.options.tooltipClass &&
                a.tooltip.addClass(this.options.tooltipClass),
              a
            );
          }
        }),
      a.ui.tooltip
    );
  });

/*! jQuery UI - v1.10.4 - 2014-01-22
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.datepicker.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */

//(function(e,t){function i(t,i){var s,a,o,r=t.nodeName.toLowerCase();return"area"===r?(s=t.parentNode,a=s.name,t.href&&a&&"map"===s.nodeName.toLowerCase()?(o=e("img[usemap=#"+a+"]")[0],!!o&&n(o)):!1):(/input|select|textarea|button|object/.test(r)?!t.disabled:"a"===r?t.href||i:i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var s=0,a=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(i,n){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),n&&n.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var n,s,a=e(this[0]);a.length&&a[0]!==document;){if(n=a.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(s=parseInt(a.css("zIndex"),10),!isNaN(s)&&0!==s))return s;a=a.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++s)})},removeUniqueId:function(){return this.each(function(){a.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),s=isNaN(n);return(s||n>=0)&&i(t,!s)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(i,n){function s(t,i,n,s){return e.each(a,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var a="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),r={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(i){return i===t?r["inner"+n].call(this):this.each(function(){e(this).css(o,s(this,i)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?r["outer"+n].call(this,t):this.each(function(){e(this).css(o,s(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,i,n){var s,a=e.ui[t].prototype;for(s in n)a.plugins[s]=a.plugins[s]||[],a.plugins[s].push([i,n[s]])},call:function(e,t,i){var n,s=e.plugins[t];if(s&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(n=0;s.length>n;n++)e.options[s[n][0]]&&s[n][1].apply(e.element,i)}},hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",s=!1;return t[n]>0?!0:(t[n]=1,s=t[n]>0,t[n]=0,s)}})})(jQuery);(function(t,e){var i=0,s=Array.prototype.slice,n=t.cleanData;t.cleanData=function(e){for(var i,s=0;null!=(i=e[s]);s++)try{t(i).triggerHandler("remove")}catch(o){}n(e)},t.widget=function(i,s,n){var o,a,r,h,l={},c=i.split(".")[0];i=i.split(".")[1],o=c+"-"+i,n||(n=s,s=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[c]=t[c]||{},a=t[c][i],r=t[c][i]=function(t,i){return this._createWidget?(arguments.length&&this._createWidget(t,i),e):new r(t,i)},t.extend(r,a,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),h=new s,h.options=t.widget.extend({},h.options),t.each(n,function(i,n){return t.isFunction(n)?(l[i]=function(){var t=function(){return s.prototype[i].apply(this,arguments)},e=function(t){return s.prototype[i].apply(this,t)};return function(){var i,s=this._super,o=this._superApply;return this._super=t,this._superApply=e,i=n.apply(this,arguments),this._super=s,this._superApply=o,i}}(),e):(l[i]=n,e)}),r.prototype=t.widget.extend(h,{widgetEventPrefix:a?h.widgetEventPrefix||i:i},l,{constructor:r,namespace:c,widgetName:i,widgetFullName:o}),a?(t.each(a._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,r,i._proto)}),delete a._childConstructors):s._childConstructors.push(r),t.widget.bridge(i,r)},t.widget.extend=function(i){for(var n,o,a=s.call(arguments,1),r=0,h=a.length;h>r;r++)for(n in a[r])o=a[r][n],a[r].hasOwnProperty(n)&&o!==e&&(i[n]=t.isPlainObject(o)?t.isPlainObject(i[n])?t.widget.extend({},i[n],o):t.widget.extend({},o):o);return i},t.widget.bridge=function(i,n){var o=n.prototype.widgetFullName||i;t.fn[i]=function(a){var r="string"==typeof a,h=s.call(arguments,1),l=this;return a=!r&&h.length?t.widget.extend.apply(null,[a].concat(h)):a,r?this.each(function(){var s,n=t.data(this,o);return n?t.isFunction(n[a])&&"_"!==a.charAt(0)?(s=n[a].apply(n,h),s!==n&&s!==e?(l=s&&s.jquery?l.pushStack(s.get()):s,!1):e):t.error("no such method '"+a+"' for "+i+" widget instance"):t.error("cannot call methods on "+i+" prior to initialization; "+"attempted to call method '"+a+"'")}):this.each(function(){var e=t.data(this,o);e?e.option(a||{})._init():t.data(this,o,new n(a,this))}),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),s!==this&&(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(i,s){var n,o,a,r=i;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof i)if(r={},n=i.split("."),i=n.shift(),n.length){for(o=r[i]=t.widget.extend({},this.options[i]),a=0;n.length-1>a;a++)o[n[a]]=o[n[a]]||{},o=o[n[a]];if(i=n.pop(),1===arguments.length)return o[i]===e?null:o[i];o[i]=s}else{if(1===arguments.length)return this.options[i]===e?null:this.options[i];r[i]=s}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,s,n){var o,a=this;"boolean"!=typeof i&&(n=s,s=i,i=!1),n?(s=o=t(s),this.bindings=this.bindings.add(s)):(n=s,s=this.element,o=this.widget()),t.each(n,function(n,r){function h(){return i||a.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof r?a[r]:r).apply(a,arguments):e}"string"!=typeof r&&(h.guid=r.guid=r.guid||h.guid||t.guid++);var l=n.match(/^(\w+)\s*(.*)$/),c=l[1]+a.eventNamespace,u=l[2];u?o.delegate(u,c,h):s.bind(c,h)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}})})(jQuery);(function(e,t){function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.dpDiv=a(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function a(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){e.datepicker._isDisabledDatepicker(n.inline?t.parent()[0]:n.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))})}function s(t,i){e.extend(t,i);for(var a in i)null==i[a]&&(t[a]=i[a]);return t}e.extend(e.ui,{datepicker:{version:"1.10.4"}});var n,r="datepicker";e.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return s(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var a,s,n;a=t.nodeName.toLowerCase(),s="div"===a||"span"===a,t.id||(this.uuid+=1,t.id="dp"+this.uuid),n=this._newInst(e(t),s),n.settings=e.extend({},i||{}),"input"===a?this._connectDatepicker(t,n):s&&this._inlineDatepicker(t,n)},_newInst:function(t,i){var s=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?a(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var a=e(t);i.append=e([]),i.trigger=e([]),a.hasClass(this.markerClassName)||(this._attachments(a,i),a.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,r,i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var a,s,n,r=this._get(i,"appendText"),o=this._get(i,"isRTL");i.append&&i.append.remove(),r&&(i.append=e("<span class='"+this._appendClass+"'>"+r+"</span>"),t[o?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),a=this._get(i,"showOn"),("focus"===a||"both"===a)&&t.focus(this._showDatepicker),("button"===a||"both"===a)&&(s=this._get(i,"buttonText"),n=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:n,alt:s,title:s}):e("<button type='button'></button>").addClass(this._triggerClass).html(n?e("<img/>").attr({src:n,alt:s,title:s}):s)),t[o?"before":"after"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,a,s,n=new Date(2009,11,20),r=this._get(e,"dateFormat");r.match(/[DM]/)&&(t=function(e){for(i=0,a=0,s=0;e.length>s;s++)e[s].length>i&&(i=e[s].length,a=s);return a},n.setMonth(t(this._get(e,r.match(/MM/)?"monthNames":"monthNamesShort"))),n.setDate(t(this._get(e,r.match(/DD/)?"dayNames":"dayNamesShort"))+20-n.getDay())),e.input.attr("size",this._formatDate(e,n).length)}},_inlineDatepicker:function(t,i){var a=e(t);a.hasClass(this.markerClassName)||(a.addClass(this.markerClassName).append(i.dpDiv),e.data(t,r,i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,a,n,o){var u,c,h,l,d,p=this._dialogInst;return p||(this.uuid+=1,u="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+u+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},e.data(this._dialogInput[0],r,p)),s(p.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(p,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(c=document.documentElement.clientWidth,h=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+l,h/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=a,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],r,p),this},_destroyDatepicker:function(t){var i,a=e(t),s=e.data(t,r);a.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,r),"input"===i?(s.append.remove(),s.trigger.remove(),a.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&a.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var i,a,s=e(t),n=e.data(t,r);s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,n.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(a=s.children("."+this._inlineClass),a.children().removeClass("ui-state-disabled"),a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,a,s=e(t),n=e.data(t,r);s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,n.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(a=s.children("."+this._inlineClass),a.children().addClass("ui-state-disabled"),a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,r)}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(i,a,n){var r,o,u,c,h=this._getInst(i);return 2===arguments.length&&"string"==typeof a?"defaults"===a?e.extend({},e.datepicker._defaults):h?"all"===a?e.extend({},h.settings):this._get(h,a):null:(r=a||{},"string"==typeof a&&(r={},r[a]=n),h&&(this._curInst===h&&this._hideDatepicker(),o=this._getDateDatepicker(i,!0),u=this._getMinMaxDate(h,"min"),c=this._getMinMaxDate(h,"max"),s(h.settings,r),null!==u&&r.dateFormat!==t&&r.minDate===t&&(h.settings.minDate=this._formatDate(h,u)),null!==c&&r.dateFormat!==t&&r.maxDate===t&&(h.settings.maxDate=this._formatDate(h,c)),"disabled"in r&&(r.disabled?this._disableDatepicker(i):this._enableDatepicker(i)),this._attachments(e(i),h),this._autoSize(h),this._setDate(h,o),this._updateAlternate(h),this._updateDatepicker(h)),t)},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,a,s,n=e.datepicker._getInst(t.target),r=!0,o=n.dpDiv.is(".ui-datepicker-rtl");if(n._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),r=!1;break;case 13:return s=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",n.dpDiv),s[0]&&e.datepicker._selectDay(t.target,n.selectedMonth,n.selectedYear,s[0]),i=e.datepicker._get(n,"onSelect"),i?(a=e.datepicker._formatDate(n),i.apply(n.input?n.input[0]:null,[a,n])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(n,"stepBigMonths"):-e.datepicker._get(n,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(n,"stepBigMonths"):+e.datepicker._get(n,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?1:-1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(n,"stepBigMonths"):-e.datepicker._get(n,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?-1:1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(n,"stepBigMonths"):+e.datepicker._get(n,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),r=t.ctrlKey||t.metaKey;break;default:r=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(i){var a,s,n=e.datepicker._getInst(i.target);return e.datepicker._get(n,"constrainInput")?(a=e.datepicker._possibleChars(e.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==i.charCode?i.keyCode:i.charCode),i.ctrlKey||i.metaKey||" ">s||!a||a.indexOf(s)>-1):t},_doKeyUp:function(t){var i,a=e.datepicker._getInst(t.target);if(a.input.val()!==a.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,e.datepicker._getFormatConfig(a)),i&&(e.datepicker._setDateFromField(a),e.datepicker._updateAlternate(a),e.datepicker._updateDatepicker(a))}catch(s){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,a,n,r,o,u,c;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),a=e.datepicker._get(i,"beforeShow"),n=a?a.apply(t,[t,i]):{},n!==!1&&(s(i.settings,n),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),r=!1,e(t).parents().each(function(){return r|="fixed"===e(this).css("position"),!r}),o={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),o=e.datepicker._checkOffset(i,o,r),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":r?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),i.inline||(u=e.datepicker._get(i,"showAnim"),c=e.datepicker._get(i,"duration"),i.dpDiv.zIndex(e(t).zIndex()+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[u]?i.dpDiv.show(u,e.datepicker._get(i,"showOptions"),c):i.dpDiv[u||"show"](u?c:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,n=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i,a=this._getNumberOfMonths(t),s=a[1],r=17;t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),s>1&&t.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",r*s+"em"),t.dpDiv[(1!==a[0]||1!==a[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,a){var s=t.dpDiv.outerWidth(),n=t.dpDiv.outerHeight(),r=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,u=document.documentElement.clientWidth+(a?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(a?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?s-r:0,i.left-=a&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=a&&i.top===t.input.offset().top+o?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+s>u&&u>s?Math.abs(i.left+s-u):0),i.top-=Math.min(i.top,i.top+n>c&&c>n?Math.abs(n+o):0),i},_findPos:function(t){for(var i,a=this._getInst(t),s=this._get(a,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[s?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,a,s,n,o=this._curInst;!o||t&&o!==e.data(t,r)||this._datepickerShowing&&(i=this._get(o,"showAnim"),a=this._get(o,"duration"),s=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[i]||e.effects[i])?o.dpDiv.hide(i,e.datepicker._get(o,"showOptions"),a,s):o.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?a:null,s),i||s(),this._datepickerShowing=!1,n=this._get(o,"onClose"),n&&n.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),a=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents("#"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==a)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,a){var s=e(t),n=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(n,i+("M"===a?this._get(n,"showCurrentAtPos"):0),a),this._updateDatepicker(n))},_gotoToday:function(t){var i,a=e(t),s=this._getInst(a[0]);this._get(s,"gotoCurrent")&&s.currentDay?(s.selectedDay=s.currentDay,s.drawMonth=s.selectedMonth=s.currentMonth,s.drawYear=s.selectedYear=s.currentYear):(i=new Date,s.selectedDay=i.getDate(),s.drawMonth=s.selectedMonth=i.getMonth(),s.drawYear=s.selectedYear=i.getFullYear()),this._notifyChange(s),this._adjustDate(a)},_selectMonthYear:function(t,i,a){var s=e(t),n=this._getInst(s[0]);n["selected"+("M"===a?"Month":"Year")]=n["draw"+("M"===a?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(n),this._adjustDate(s)},_selectDay:function(t,i,a,s){var n,r=e(t);e(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0])||(n=this._getInst(r[0]),n.selectedDay=n.currentDay=e("a",s).html(),n.selectedMonth=n.currentMonth=i,n.selectedYear=n.currentYear=a,this._selectDate(t,this._formatDate(n,n.currentDay,n.currentMonth,n.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var a,s=e(t),n=this._getInst(s[0]);i=null!=i?i:this._formatDate(n),n.input&&n.input.val(i),this._updateAlternate(n),a=this._get(n,"onSelect"),a?a.apply(n.input?n.input[0]:null,[i,n]):n.input&&n.input.trigger("change"),n.inline?this._updateDatepicker(n):(this._hideDatepicker(),this._lastInput=n.input[0],"object"!=typeof n.input[0]&&n.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,a,s,n=this._get(t,"altField");n&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),a=this._getDate(t),s=this.formatDate(i,a,this._getFormatConfig(t)),e(n).each(function(){e(this).val(s)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(i,a,s){if(null==i||null==a)throw"Invalid arguments";if(a="object"==typeof a?""+a:a+"",""===a)return null;var n,r,o,u,c=0,h=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,l="string"!=typeof h?h:(new Date).getFullYear()%100+parseInt(h,10),d=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,p=(s?s.dayNames:null)||this._defaults.dayNames,g=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,m=(s?s.monthNames:null)||this._defaults.monthNames,f=-1,_=-1,v=-1,k=-1,y=!1,b=function(e){var t=i.length>n+1&&i.charAt(n+1)===e;return t&&n++,t},D=function(e){var t=b(e),i="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,s=RegExp("^\\d{1,"+i+"}"),n=a.substring(c).match(s);if(!n)throw"Missing number at position "+c;return c+=n[0].length,parseInt(n[0],10)},w=function(i,s,n){var r=-1,o=e.map(b(i)?n:s,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(o,function(e,i){var s=i[1];return a.substr(c,s.length).toLowerCase()===s.toLowerCase()?(r=i[0],c+=s.length,!1):t}),-1!==r)return r+1;throw"Unknown name at position "+c},M=function(){if(a.charAt(c)!==i.charAt(n))throw"Unexpected literal at position "+c;c++};for(n=0;i.length>n;n++)if(y)"'"!==i.charAt(n)||b("'")?M():y=!1;else switch(i.charAt(n)){case"d":v=D("d");break;case"D":w("D",d,p);break;case"o":k=D("o");break;case"m":_=D("m");break;case"M":_=w("M",g,m);break;case"y":f=D("y");break;case"@":u=new Date(D("@")),f=u.getFullYear(),_=u.getMonth()+1,v=u.getDate();break;case"!":u=new Date((D("!")-this._ticksTo1970)/1e4),f=u.getFullYear(),_=u.getMonth()+1,v=u.getDate();break;case"'":b("'")?M():y=!0;break;default:M()}if(a.length>c&&(o=a.substr(c),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===f?f=(new Date).getFullYear():100>f&&(f+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l>=f?0:-100)),k>-1)for(_=1,v=k;;){if(r=this._getDaysInMonth(f,_-1),r>=v)break;_++,v-=r}if(u=this._daylightSavingAdjust(new Date(f,_-1,v)),u.getFullYear()!==f||u.getMonth()+1!==_||u.getDate()!==v)throw"Invalid date";return u},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t)return"";var a,s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,n=(i?i.dayNames:null)||this._defaults.dayNames,r=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,o=(i?i.monthNames:null)||this._defaults.monthNames,u=function(t){var i=e.length>a+1&&e.charAt(a+1)===t;return i&&a++,i},c=function(e,t,i){var a=""+t;if(u(e))for(;i>a.length;)a="0"+a;return a},h=function(e,t,i,a){return u(e)?a[t]:i[t]},l="",d=!1;if(t)for(a=0;e.length>a;a++)if(d)"'"!==e.charAt(a)||u("'")?l+=e.charAt(a):d=!1;else switch(e.charAt(a)){case"d":l+=c("d",t.getDate(),2);break;case"D":l+=h("D",t.getDay(),s,n);break;case"o":l+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=c("m",t.getMonth()+1,2);break;case"M":l+=h("M",t.getMonth(),r,o);break;case"y":l+=u("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":l+=t.getTime();break;case"!":l+=1e4*t.getTime()+this._ticksTo1970;break;case"'":u("'")?l+="'":d=!0;break;default:l+=e.charAt(a)}return l},_possibleChars:function(e){var t,i="",a=!1,s=function(i){var a=e.length>t+1&&e.charAt(t+1)===i;return a&&t++,a};for(t=0;e.length>t;t++)if(a)"'"!==e.charAt(t)||s("'")?i+=e.charAt(t):a=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":s("'")?i+="'":a=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,i){return e.settings[i]!==t?e.settings[i]:this._defaults[i]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),a=e.lastVal=e.input?e.input.val():null,s=this._getDefaultDate(e),n=s,r=this._getFormatConfig(e);try{n=this.parseDate(i,a,r)||s}catch(o){a=t?"":a}e.selectedDay=n.getDate(),e.drawMonth=e.selectedMonth=n.getMonth(),e.drawYear=e.selectedYear=n.getFullYear(),e.currentDay=a?n.getDate():0,e.currentMonth=a?n.getMonth():0,e.currentYear=a?n.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,a){var s=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},n=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(a){}for(var s=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,n=s.getFullYear(),r=s.getMonth(),o=s.getDate(),u=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,c=u.exec(i);c;){switch(c[2]||"d"){case"d":case"D":o+=parseInt(c[1],10);break;case"w":case"W":o+=7*parseInt(c[1],10);break;case"m":case"M":r+=parseInt(c[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(n,r));break;case"y":case"Y":n+=parseInt(c[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(n,r))}c=u.exec(i)}return new Date(n,r,o)},r=null==i||""===i?a:"string"==typeof i?n(i):"number"==typeof i?isNaN(i)?a:s(i):new Date(i.getTime());return r=r&&"Invalid Date"==""+r?a:r,r&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var a=!t,s=e.selectedMonth,n=e.selectedYear,r=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=r.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=r.getMonth(),e.drawYear=e.selectedYear=e.currentYear=r.getFullYear(),s===e.selectedMonth&&n===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(a?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),a="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(a,-i,"M")},next:function(){e.datepicker._adjustDate(a,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(a)},selectDay:function(){return e.datepicker._selectDay(a,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(a,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(a,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,a,s,n,r,o,u,c,h,l,d,p,g,m,f,_,v,k,y,b,D,w,M,C,x,I,N,T,A,E,S,Y,F,P,O,j,K,R,H=new Date,W=this._daylightSavingAdjust(new Date(H.getFullYear(),H.getMonth(),H.getDate())),L=this._get(e,"isRTL"),U=this._get(e,"showButtonPanel"),B=this._get(e,"hideIfNoPrevNext"),z=this._get(e,"navigationAsDateFormat"),q=this._getNumberOfMonths(e),G=this._get(e,"showCurrentAtPos"),J=this._get(e,"stepMonths"),Q=1!==q[0]||1!==q[1],V=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),$=this._getMinMaxDate(e,"min"),X=this._getMinMaxDate(e,"max"),Z=e.drawMonth-G,et=e.drawYear;if(0>Z&&(Z+=12,et--),X)for(t=this._daylightSavingAdjust(new Date(X.getFullYear(),X.getMonth()-q[0]*q[1]+1,X.getDate())),t=$&&$>t?$:t;this._daylightSavingAdjust(new Date(et,Z,1))>t;)Z--,0>Z&&(Z=11,et--);for(e.drawMonth=Z,e.drawYear=et,i=this._get(e,"prevText"),i=z?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Z-J,1)),this._getFormatConfig(e)):i,a=this._canAdjustMonth(e,-1,et,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(L?"e":"w")+"'>"+i+"</span></a>":B?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(L?"e":"w")+"'>"+i+"</span></a>",s=this._get(e,"nextText"),s=z?this.formatDate(s,this._daylightSavingAdjust(new Date(et,Z+J,1)),this._getFormatConfig(e)):s,n=this._canAdjustMonth(e,1,et,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(L?"w":"e")+"'>"+s+"</span></a>":B?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(L?"w":"e")+"'>"+s+"</span></a>",r=this._get(e,"currentText"),o=this._get(e,"gotoCurrent")&&e.currentDay?V:W,r=z?this.formatDate(r,o,this._getFormatConfig(e)):r,u=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=U?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(L?u:"")+(this._isInRange(e,o)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+r+"</button>":"")+(L?"":u)+"</div>":"",h=parseInt(this._get(e,"firstDay"),10),h=isNaN(h)?0:h,l=this._get(e,"showWeek"),d=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),g=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),f=this._get(e,"beforeShowDay"),_=this._get(e,"showOtherMonths"),v=this._get(e,"selectOtherMonths"),k=this._getDefaultDate(e),y="",D=0;q[0]>D;D++){for(w="",this.maxRows=4,M=0;q[1]>M;M++){if(C=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),x=" ui-corner-all",I="",Q){if(I+="<div class='ui-datepicker-group",q[1]>1)switch(M){case 0:I+=" ui-datepicker-group-first",x=" ui-corner-"+(L?"right":"left");break;case q[1]-1:I+=" ui-datepicker-group-last",x=" ui-corner-"+(L?"left":"right");break;default:I+=" ui-datepicker-group-middle",x=""}I+="'>"}for(I+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+x+"'>"+(/all|left/.test(x)&&0===D?L?n:a:"")+(/all|right/.test(x)&&0===D?L?a:n:"")+this._generateMonthYearHeader(e,Z,et,$,X,D>0||M>0,g,m)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",N=l?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",b=0;7>b;b++)T=(b+h)%7,N+="<th"+((b+h+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+d[T]+"'>"+p[T]+"</span></th>";for(I+=N+"</tr></thead><tbody>",A=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,A)),E=(this._getFirstDayOfMonth(et,Z)-h+7)%7,S=Math.ceil((E+A)/7),Y=Q?this.maxRows>S?this.maxRows:S:S,this.maxRows=Y,F=this._daylightSavingAdjust(new Date(et,Z,1-E)),P=0;Y>P;P++){for(I+="<tr>",O=l?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(F)+"</td>":"",b=0;7>b;b++)j=f?f.apply(e.input?e.input[0]:null,[F]):[!0,""],K=F.getMonth()!==Z,R=K&&!v||!j[0]||$&&$>F||X&&F>X,O+="<td class='"+((b+h+6)%7>=5?" ui-datepicker-week-end":"")+(K?" ui-datepicker-other-month":"")+(F.getTime()===C.getTime()&&Z===e.selectedMonth&&e._keyEvent||k.getTime()===F.getTime()&&k.getTime()===C.getTime()?" "+this._dayOverClass:"")+(R?" "+this._unselectableClass+" ui-state-disabled":"")+(K&&!_?"":" "+j[1]+(F.getTime()===V.getTime()?" "+this._currentClass:"")+(F.getTime()===W.getTime()?" ui-datepicker-today":""))+"'"+(K&&!_||!j[2]?"":" title='"+j[2].replace(/'/g,"&#39;")+"'")+(R?"":" data-handler='selectDay' data-event='click' data-month='"+F.getMonth()+"' data-year='"+F.getFullYear()+"'")+">"+(K&&!_?"&#xa0;":R?"<span class='ui-state-default'>"+F.getDate()+"</span>":"<a class='ui-state-default"+(F.getTime()===W.getTime()?" ui-state-highlight":"")+(F.getTime()===V.getTime()?" ui-state-active":"")+(K?" ui-priority-secondary":"")+"' href='#'>"+F.getDate()+"</a>")+"</td>",F.setDate(F.getDate()+1),F=this._daylightSavingAdjust(F);I+=O+"</tr>"}Z++,Z>11&&(Z=0,et++),I+="</tbody></table>"+(Q?"</div>"+(q[0]>0&&M===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),w+=I}y+=w}return y+=c,e._keyEvent=!1,y},_generateMonthYearHeader:function(e,t,i,a,s,n,r,o){var u,c,h,l,d,p,g,m,f=this._get(e,"changeMonth"),_=this._get(e,"changeYear"),v=this._get(e,"showMonthAfterYear"),k="<div class='ui-datepicker-title'>",y="";if(n||!f)y+="<span class='ui-datepicker-month'>"+r[t]+"</span>";else{for(u=a&&a.getFullYear()===i,c=s&&s.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",h=0;12>h;h++)(!u||h>=a.getMonth())&&(!c||s.getMonth()>=h)&&(y+="<option value='"+h+"'"+(h===t?" selected='selected'":"")+">"+o[h]+"</option>");y+="</select>"}if(v||(k+=y+(!n&&f&&_?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",n||!_)k+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(l=this._get(e,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?d+parseInt(e,10):parseInt(e,10);
//return isNaN(t)?d:t},g=p(l[0]),m=Math.max(g,p(l[1]||"")),g=a?Math.max(g,a.getFullYear()):g,m=s?Math.min(m,s.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=g;g++)e.yearshtml+="<option value='"+g+"'"+(g===i?" selected='selected'":"")+">"+g+"</option>";e.yearshtml+="</select>",k+=e.yearshtml,e.yearshtml=null}return k+=this._get(e,"yearSuffix"),v&&(k+=(!n&&f&&_?"":"&#xa0;")+y),k+="</div>"},_adjustInstDate:function(e,t,i){var a=e.drawYear+("Y"===i?t:0),s=e.drawMonth+("M"===i?t:0),n=Math.min(e.selectedDay,this._getDaysInMonth(a,s))+("D"===i?t:0),r=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(a,s,n)));e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),a=this._getMinMaxDate(e,"max"),s=i&&i>t?i:t;return a&&s>a?a:s},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,a){var s=this._getNumberOfMonths(e),n=this._daylightSavingAdjust(new Date(i,a+(0>t?t:s[0]*s[1]),1));return 0>t&&n.setDate(this._getDaysInMonth(n.getFullYear(),n.getMonth())),this._isInRange(e,n)},_isInRange:function(e,t){var i,a,s=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),r=null,o=null,u=this._get(e,"yearRange");return u&&(i=u.split(":"),a=(new Date).getFullYear(),r=parseInt(i[0],10),o=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(r+=a),i[1].match(/[+\-].*/)&&(o+=a)),(!s||t.getTime()>=s.getTime())&&(!n||t.getTime()<=n.getTime())&&(!r||t.getFullYear()>=r)&&(!o||o>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,a){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var s=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(a,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),s,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new i,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.10.4"})(jQuery);



/*! jQuery UI - v1.11.0 - 2014-08-05
* http://jqueryui.com
* Includes: core.js, widget.js, datepicker.js, effect.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */

(function(e){e(jQuery)})(function(e){function t(t,s){var n,a,o,r=t.nodeName.toLowerCase();return"area"===r?(n=t.parentNode,a=n.name,t.href&&a&&"map"===n.nodeName.toLowerCase()?(o=e("img[usemap=#"+a+"]")[0],!!o&&i(o)):!1):(/input|select|textarea|button|object/.test(r)?!t.disabled:"a"===r?t.href||s:s)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}function s(e){for(var t,i;e.length&&e[0]!==document;){if(t=e.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(i=parseInt(e.css("zIndex"),10),!isNaN(i)&&0!==i))return i;e=e.parent()}return 0}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=a(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function a(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){e.datepicker._isDisabledDatepicker(l.inline?t.parent()[0]:l.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))})}function o(t,i){e.extend(t,i);for(var s in i)null==i[s]&&(t[s]=i[s]);return t}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.0",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(){var t=this.css("position"),i="absolute"===t,s=this.parents().filter(function(){var t=e(this);return i&&"static"===t.css("position")?!1:/(auto|scroll)/.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==t&&s.length?s:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,s){return!!e.data(t,s[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,"tabindex")))},tabbable:function(i){var s=e.attr(i,"tabindex"),n=isNaN(s);return(n||s>=0)&&t(i,!n)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,i){function s(t,i,s,a){return e.each(n,function(){i-=parseFloat(e.css(t,"padding"+this))||0,s&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),a&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?o["inner"+i].call(this):this.each(function(){e(this).css(a,s(this,t)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?o["outer"+i].call(this,t):this.each(function(){e(this).css(a,s(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(i,s){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),s&&s.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var i,s,n=e(this[0]);n.length&&n[0]!==document;){if(i=n.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(s=parseInt(n.css("zIndex"),10),!isNaN(s)&&0!==s))return s;n=n.parent()}return 0}}),e.ui.plugin={add:function(t,i,s){var n,a=e.ui[t].prototype;for(n in s)a.plugins[n]=a.plugins[n]||[],a.plugins[n].push([i,s[n]])},call:function(e,t,i,s){var n,a=e.plugins[t];if(a&&(s||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(n=0;a.length>n;n++)e.options[a[n][0]]&&a[n][1].apply(e.element,i)}};var r=0,h=Array.prototype.slice;e.cleanData=function(t){return function(i){for(var s,n=0;null!=(s=i[n]);n++)try{e(s).triggerHandler("remove")}catch(a){}t(i)}}(e.cleanData),e.widget=function(t,i,s){var n,a,o,r,h={},l=t.split(".")[0];return t=t.split(".")[1],n=l+"-"+t,s||(s=i,i=e.Widget),e.expr[":"][n.toLowerCase()]=function(t){return!!e.data(t,n)},e[l]=e[l]||{},a=e[l][t],o=e[l][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new o(e,t)},e.extend(o,a,{version:s.version,_proto:e.extend({},s),_childConstructors:[]}),r=new i,r.options=e.widget.extend({},r.options),e.each(s,function(t,s){return e.isFunction(s)?(h[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},n=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,a=this._superApply;return this._super=e,this._superApply=n,t=s.apply(this,arguments),this._super=i,this._superApply=a,t}}(),void 0):(h[t]=s,void 0)}),o.prototype=e.widget.extend(r,{widgetEventPrefix:a?r.widgetEventPrefix||t:t},h,{constructor:o,namespace:l,widgetName:t,widgetFullName:n}),a?(e.each(a._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete a._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var i,s,n=h.call(arguments,1),a=0,o=n.length;o>a;a++)for(i in n[a])s=n[a][i],n[a].hasOwnProperty(i)&&void 0!==s&&(t[i]=e.isPlainObject(s)?e.isPlainObject(t[i])?e.widget.extend({},t[i],s):e.widget.extend({},s):s);return t},e.widget.bridge=function(t,i){var s=i.prototype.widgetFullName||t;e.fn[t]=function(n){var a="string"==typeof n,o=h.call(arguments,1),r=this;return n=!a&&o.length?e.widget.extend.apply(null,[n].concat(o)):n,a?this.each(function(){var i,a=e.data(this,s);return"instance"===n?(r=a,!1):a?e.isFunction(a[n])&&"_"!==n.charAt(0)?(i=a[n].apply(a,o),i!==a&&void 0!==i?(r=i&&i.jquery?r.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+n+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; "+"attempted to call method '"+n+"'")}):this.each(function(){var t=e.data(this,s);t?(t.option(n||{}),t._init&&t._init()):e.data(this,s,new i(n,this))}),r}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=r++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var s,n,a,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},s=t.split("."),t=s.shift(),s.length){for(n=o[t]=e.widget.extend({},this.options[t]),a=0;s.length-1>a;a++)n[s[a]]=n[s[a]]||{},n=n[s[a]];if(t=s.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=i}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,s){var n,a=this;"boolean"!=typeof t&&(s=i,i=t,t=!1),s?(i=n=e(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),e.each(s,function(s,o){function r(){return t||a.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?a[o]:o).apply(a,arguments):void 0}"string"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||e.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+a.eventNamespace,u=h[2];u?n.delegate(u,l,r):i.bind(l,r)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,s){var n,a,o=this.options[t];if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(n in a)n in i||(i[n]=a[n]);return this.element.trigger(i,s),!(e.isFunction(o)&&o.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,n,a){"string"==typeof n&&(n={effect:n});var o,r=n?n===!0||"number"==typeof n?i:n.effect||i:t;n=n||{},"number"==typeof n&&(n={duration:n}),o=!e.isEmptyObject(n),n.complete=a,n.delay&&s.delay(n.delay),o&&e.effects&&e.effects.effect[r]?s[t](n):r!==t&&s[r]?s[r](n.duration,n.easing,a):s.queue(function(i){e(this)[t](),a&&a.call(s[0]),i()})}}),e.widget,e.extend(e.ui,{datepicker:{version:"1.11.0"}});var l;e.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return o(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var s,n,a;s=t.nodeName.toLowerCase(),n="div"===s||"span"===s,t.id||(this.uuid+=1,t.id="dp"+this.uuid),a=this._newInst(e(t),n),a.settings=e.extend({},i||{}),"input"===s?this._connectDatepicker(t,a):n&&this._inlineDatepicker(t,a)},_newInst:function(t,i){var s=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?a(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var s=e(t);i.append=e([]),i.trigger=e([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,"datepicker",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var s,n,a,o=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),o&&(i.append=e("<span class='"+this._appendClass+"'>"+o+"</span>"),t[r?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,"showOn"),("focus"===s||"both"===s)&&t.focus(this._showDatepicker),("button"===s||"both"===s)&&(n=this._get(i,"buttonText"),a=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:a,alt:n,title:n}):e("<button type='button'></button>").addClass(this._triggerClass).html(a?e("<img/>").attr({src:a,alt:n,title:n}):n)),t[r?"before":"after"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,s,n,a=new Date(2009,11,20),o=this._get(e,"dateFormat");o.match(/[DM]/)&&(t=function(e){for(i=0,s=0,n=0;e.length>n;n++)e[n].length>i&&(i=e[n].length,s=n);return s},a.setMonth(t(this._get(e,o.match(/MM/)?"monthNames":"monthNamesShort"))),a.setDate(t(this._get(e,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-a.getDay())),e.input.attr("size",this._formatDate(e,a).length)}},_inlineDatepicker:function(t,i){var s=e(t);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),e.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,s,n,a){var r,h,l,u,d,c=this._dialogInst;return c||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+r+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),c=this._dialogInst=this._newInst(this._dialogInput,!1),c.settings={},e.data(this._dialogInput[0],"datepicker",c)),o(c.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(c,i):i,this._dialogInput.val(i),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(h=document.documentElement.clientWidth,l=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+u,l/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),c.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",c),this},_destroyDatepicker:function(t){var i,s=e(t),n=e.data(t,"datepicker");s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&s.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var i,s,n=e(t),a=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,a.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,s,n=e(t),a=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,a.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,i,s){var n,a,r,h,l=this._getInst(t);return 2===arguments.length&&"string"==typeof i?"defaults"===i?e.extend({},e.datepicker._defaults):l?"all"===i?e.extend({},l.settings):this._get(l,i):null:(n=i||{},"string"==typeof i&&(n={},n[i]=s),l&&(this._curInst===l&&this._hideDatepicker(),a=this._getDateDatepicker(t,!0),r=this._getMinMaxDate(l,"min"),h=this._getMinMaxDate(l,"max"),o(l.settings,n),null!==r&&void 0!==n.dateFormat&&void 0===n.minDate&&(l.settings.minDate=this._formatDate(l,r)),null!==h&&void 0!==n.dateFormat&&void 0===n.maxDate&&(l.settings.maxDate=this._formatDate(l,h)),"disabled"in n&&(n.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),l),this._autoSize(l),this._setDate(l,a),this._updateAlternate(l),this._updateDatepicker(l)),void 0)},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,s,n,a=e.datepicker._getInst(t.target),o=!0,r=a.dpDiv.is(".ui-datepicker-rtl");if(a._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),o=!1;break;case 13:return n=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",a.dpDiv),n[0]&&e.datepicker._selectDay(t.target,a.selectedMonth,a.selectedYear,n[0]),i=e.datepicker._get(a,"onSelect"),i?(s=e.datepicker._formatDate(a),i.apply(a.input?a.input[0]:null,[s,a])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?1:-1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?-1:1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),o=t.ctrlKey||t.metaKey;break;default:o=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,s,n=e.datepicker._getInst(t.target);return e.datepicker._get(n,"constrainInput")?(i=e.datepicker._possibleChars(e.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">s||!i||i.indexOf(s)>-1):void 0},_doKeyUp:function(t){var i,s=e.datepicker._getInst(t.target);if(s.input.val()!==s.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(s,"dateFormat"),s.input?s.input.val():null,e.datepicker._getFormatConfig(s)),i&&(e.datepicker._setDateFromField(s),e.datepicker._updateAlternate(s),e.datepicker._updateDatepicker(s))}catch(n){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,n,a,r,h,l,u;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),n=e.datepicker._get(i,"beforeShow"),a=n?n.apply(t,[t,i]):{},a!==!1&&(o(i.settings,a),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),r=!1,e(t).parents().each(function(){return r|="fixed"===e(this).css("position"),!r}),h={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),h=e.datepicker._checkOffset(i,h,r),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":r?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),i.inline||(l=e.datepicker._get(i,"showAnim"),u=e.datepicker._get(i,"duration"),i.dpDiv.css("z-index",s(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[l]?i.dpDiv.show(l,e.datepicker._get(i,"showOptions"),u):i.dpDiv[l||"show"](l?u:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,l=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find("."+this._dayOverClass+" a");var i,s=this._getNumberOfMonths(t),n=s[1],a=17;t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&t.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",a*n+"em"),t.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,s){var n=t.dpDiv.outerWidth(),a=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,r=t.input?t.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:e(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?n-o:0,i.left-=s&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=s&&i.top===t.input.offset().top+r?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>h&&h>n?Math.abs(i.left+n-h):0),i.top-=Math.min(i.top,i.top+a>l&&l>a?Math.abs(a+r):0),i},_findPos:function(t){for(var i,s=this._getInst(t),n=this._get(s,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[n?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,s,n,a,o=this._curInst;!o||t&&o!==e.data(t,"datepicker")||this._datepickerShowing&&(i=this._get(o,"showAnim"),s=this._get(o,"duration"),n=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[i]||e.effects[i])?o.dpDiv.hide(i,e.datepicker._get(o,"showOptions"),s,n):o.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1,a=this._get(o,"onClose"),a&&a.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),s=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents("#"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==s)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,s){var n=e(t),a=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(a,i+("M"===s?this._get(a,"showCurrentAtPos"):0),s),this._updateDatepicker(a))},_gotoToday:function(t){var i,s=e(t),n=this._getInst(s[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(t,i,s){var n=e(t),a=this._getInst(n[0]);a["selected"+("M"===s?"Month":"Year")]=a["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(a),this._adjustDate(n)},_selectDay:function(t,i,s,n){var a,o=e(t);e(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(a=this._getInst(o[0]),a.selectedDay=a.currentDay=e("a",n).html(),a.selectedMonth=a.currentMonth=i,a.selectedYear=a.currentYear=s,this._selectDate(t,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var s,n=e(t),a=this._getInst(n[0]);i=null!=i?i:this._formatDate(a),a.input&&a.input.val(i),this._updateAlternate(a),s=this._get(a,"onSelect"),s?s.apply(a.input?a.input[0]:null,[i,a]):a.input&&a.input.trigger("change"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],"object"!=typeof a.input[0]&&a.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,s,n,a=this._get(t,"altField");a&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),s=this._getDate(t),n=this.formatDate(i,s,this._getFormatConfig(t)),e(a).each(function(){e(this).val(n)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,s){if(null==t||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;var n,a,o,r,h=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),d=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,c=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,y=-1,b=!1,_=function(e){var i=t.length>n+1&&t.charAt(n+1)===e;return i&&n++,i},x=function(e){var t=_(e),s="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,n=RegExp("^\\d{1,"+s+"}"),a=i.substring(h).match(n);if(!a)throw"Missing number at position "+h;return h+=a[0].length,parseInt(a[0],10)},w=function(t,s,n){var a=-1,o=e.map(_(t)?n:s,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(o,function(e,t){var s=t[1];return i.substr(h,s.length).toLowerCase()===s.toLowerCase()?(a=t[0],h+=s.length,!1):void 0}),-1!==a)return a+1;throw"Unknown name at position "+h},k=function(){if(i.charAt(h)!==t.charAt(n))throw"Unexpected literal at position "+h;h++};for(n=0;t.length>n;n++)if(b)"'"!==t.charAt(n)||_("'")?k():b=!1;else switch(t.charAt(n)){case"d":v=x("d");break;case"D":w("D",d,c);break;case"o":y=x("o");break;case"m":g=x("m");break;case"M":g=w("M",p,f);break;case"y":m=x("y");break;case"@":r=new Date(x("@")),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"!":r=new Date((x("!")-this._ticksTo1970)/1e4),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"'":_("'")?k():b=!0;break;default:k()}if(i.length>h&&(o=i.substr(h),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=m?0:-100)),y>-1)for(g=1,v=y;;){if(a=this._getDaysInMonth(m,g-1),a>=v)break;g++,v-=a}if(r=this._daylightSavingAdjust(new Date(m,g-1,v)),r.getFullYear()!==m||r.getMonth()+1!==g||r.getDate()!==v)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t)return"";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,a=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,h=function(t){var i=e.length>s+1&&e.charAt(s+1)===t;
return i&&s++,i},l=function(e,t,i){var s=""+t;if(h(e))for(;i>s.length;)s="0"+s;return s},u=function(e,t,i,s){return h(e)?s[t]:i[t]},d="",c=!1;if(t)for(s=0;e.length>s;s++)if(c)"'"!==e.charAt(s)||h("'")?d+=e.charAt(s):c=!1;else switch(e.charAt(s)){case"d":d+=l("d",t.getDate(),2);break;case"D":d+=u("D",t.getDay(),n,a);break;case"o":d+=l("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=l("m",t.getMonth()+1,2);break;case"M":d+=u("M",t.getMonth(),o,r);break;case"y":d+=h("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":h("'")?d+="'":c=!0;break;default:d+=e.charAt(s)}return d},_possibleChars:function(e){var t,i="",s=!1,n=function(i){var s=e.length>t+1&&e.charAt(t+1)===i;return s&&t++,s};for(t=0;e.length>t;t++)if(s)"'"!==e.charAt(t)||n("'")?i+=e.charAt(t):s=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":s=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),s=e.lastVal=e.input?e.input.val():null,n=this._getDefaultDate(e),a=n,o=this._getFormatConfig(e);try{a=this.parseDate(i,s,o)||n}catch(r){s=t?"":s}e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),e.currentDay=s?a.getDate():0,e.currentMonth=s?a.getMonth():0,e.currentYear=s?a.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,s){var n=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},a=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(s){}for(var n=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,a=n.getFullYear(),o=n.getMonth(),r=n.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(i);l;){switch(l[2]||"d"){case"d":case"D":r+=parseInt(l[1],10);break;case"w":case"W":r+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(a,o));break;case"y":case"Y":a+=parseInt(l[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(a,o))}l=h.exec(i)}return new Date(a,o,r)},o=null==i||""===i?s:"string"==typeof i?a(i):"number"==typeof i?isNaN(i)?s:n(i):new Date(i.getTime());return o=o&&"Invalid Date"==""+o?s:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var s=!t,n=e.selectedMonth,a=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),n===e.selectedMonth&&a===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(s?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),s="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(s,-i,"M")},next:function(){e.datepicker._adjustDate(s,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(s)},selectDay:function(){return e.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(s,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(s,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,s,n,a,o,r,h,l,u,d,c,p,f,m,g,v,y,b,_,x,w,k,T,D,S,N,M,C,A,P,I,z,H,F,E,W,L,O,j=new Date,R=this._daylightSavingAdjust(new Date(j.getFullYear(),j.getMonth(),j.getDate())),Y=this._get(e,"isRTL"),J=this._get(e,"showButtonPanel"),B=this._get(e,"hideIfNoPrevNext"),K=this._get(e,"navigationAsDateFormat"),V=this._getNumberOfMonths(e),U=this._get(e,"showCurrentAtPos"),q=this._get(e,"stepMonths"),G=1!==V[0]||1!==V[1],X=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(e,"min"),$=this._getMinMaxDate(e,"max"),Z=e.drawMonth-U,et=e.drawYear;if(0>Z&&(Z+=12,et--),$)for(t=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-V[0]*V[1]+1,$.getDate())),t=Q&&Q>t?Q:t;this._daylightSavingAdjust(new Date(et,Z,1))>t;)Z--,0>Z&&(Z=11,et--);for(e.drawMonth=Z,e.drawYear=et,i=this._get(e,"prevText"),i=K?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Z-q,1)),this._getFormatConfig(e)):i,s=this._canAdjustMonth(e,-1,et,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>":B?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>",n=this._get(e,"nextText"),n=K?this.formatDate(n,this._daylightSavingAdjust(new Date(et,Z+q,1)),this._getFormatConfig(e)):n,a=this._canAdjustMonth(e,1,et,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>":B?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>",o=this._get(e,"currentText"),r=this._get(e,"gotoCurrent")&&e.currentDay?X:R,o=K?this.formatDate(o,r,this._getFormatConfig(e)):o,h=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",l=J?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Y?h:"")+(this._isInRange(e,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(Y?"":h)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(e,"showWeek"),c=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),_="",w=0;V[0]>w;w++){for(k="",this.maxRows=4,T=0;V[1]>T;T++){if(D=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),S=" ui-corner-all",N="",G){if(N+="<div class='ui-datepicker-group",V[1]>1)switch(T){case 0:N+=" ui-datepicker-group-first",S=" ui-corner-"+(Y?"right":"left");break;case V[1]-1:N+=" ui-datepicker-group-last",S=" ui-corner-"+(Y?"left":"right");break;default:N+=" ui-datepicker-group-middle",S=""}N+="'>"}for(N+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+S+"'>"+(/all|left/.test(S)&&0===w?Y?a:s:"")+(/all|right/.test(S)&&0===w?Y?s:a:"")+this._generateMonthYearHeader(e,Z,et,Q,$,w>0||T>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",M=d?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",x=0;7>x;x++)C=(x+u)%7,M+="<th scope='col'"+((x+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+c[C]+"'>"+p[C]+"</span></th>";for(N+=M+"</tr></thead><tbody>",A=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,A)),P=(this._getFirstDayOfMonth(et,Z)-u+7)%7,I=Math.ceil((P+A)/7),z=G?this.maxRows>I?this.maxRows:I:I,this.maxRows=z,H=this._daylightSavingAdjust(new Date(et,Z,1-P)),F=0;z>F;F++){for(N+="<tr>",E=d?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(H)+"</td>":"",x=0;7>x;x++)W=g?g.apply(e.input?e.input[0]:null,[H]):[!0,""],L=H.getMonth()!==Z,O=L&&!y||!W[0]||Q&&Q>H||$&&H>$,E+="<td class='"+((x+u+6)%7>=5?" ui-datepicker-week-end":"")+(L?" ui-datepicker-other-month":"")+(H.getTime()===D.getTime()&&Z===e.selectedMonth&&e._keyEvent||b.getTime()===H.getTime()&&b.getTime()===D.getTime()?" "+this._dayOverClass:"")+(O?" "+this._unselectableClass+" ui-state-disabled":"")+(L&&!v?"":" "+W[1]+(H.getTime()===X.getTime()?" "+this._currentClass:"")+(H.getTime()===R.getTime()?" ui-datepicker-today":""))+"'"+(L&&!v||!W[2]?"":" title='"+W[2].replace(/'/g,"&#39;")+"'")+(O?"":" data-handler='selectDay' data-event='click' data-month='"+H.getMonth()+"' data-year='"+H.getFullYear()+"'")+">"+(L&&!v?"&#xa0;":O?"<span class='ui-state-default'>"+H.getDate()+"</span>":"<a class='ui-state-default"+(H.getTime()===R.getTime()?" ui-state-highlight":"")+(H.getTime()===X.getTime()?" ui-state-active":"")+(L?" ui-priority-secondary":"")+"' href='#'>"+H.getDate()+"</a>")+"</td>",H.setDate(H.getDate()+1),H=this._daylightSavingAdjust(H);N+=E+"</tr>"}Z++,Z>11&&(Z=0,et++),N+="</tbody></table>"+(G?"</div>"+(V[0]>0&&T===V[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=N}_+=k}return _+=l,e._keyEvent=!1,_},_generateMonthYearHeader:function(e,t,i,s,n,a,o,r){var h,l,u,d,c,p,f,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",_="";if(a||!g)_+="<span class='ui-datepicker-month'>"+o[t]+"</span>";else{for(h=s&&s.getFullYear()===i,l=n&&n.getFullYear()===i,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!h||u>=s.getMonth())&&(!l||n.getMonth()>=u)&&(_+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+r[u]+"</option>");_+="</select>"}if(y||(b+=_+(!a&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",a||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(d=this._get(e,"yearRange").split(":"),c=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?c+parseInt(e,10):parseInt(e,10);return isNaN(t)?c:t},f=p(d[0]),m=Math.max(f,p(d[1]||"")),f=s?Math.max(f,s.getFullYear()):f,m=n?Math.min(m,n.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)e.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!a&&g&&v?"":"&#xa0;")+_),b+="</div>"},_adjustInstDate:function(e,t,i){var s=e.drawYear+("Y"===i?t:0),n=e.drawMonth+("M"===i?t:0),a=Math.min(e.selectedDay,this._getDaysInMonth(s,n))+("D"===i?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(s,n,a)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),n=i&&i>t?i:t;return s&&n>s?s:n},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,s){var n=this._getNumberOfMonths(e),a=this._daylightSavingAdjust(new Date(i,s+(0>t?t:n[0]*n[1]),1));return 0>t&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(e,a)},_isInRange:function(e,t){var i,s,n=this._getMinMaxDate(e,"min"),a=this._getMinMaxDate(e,"max"),o=null,r=null,h=this._get(e,"yearRange");return h&&(i=h.split(":"),s=(new Date).getFullYear(),o=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(o+=s),i[1].match(/[+\-].*/)&&(r+=s)),(!n||t.getTime()>=n.getTime())&&(!a||t.getTime()<=a.getTime())&&(!o||t.getFullYear()>=o)&&(!r||r>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,s){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var n=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(s,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),n,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new n,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.0",e.datepicker;var u="ui-effects-";e.effects={effect:{}},function(e,t){function i(e,t,i){var s=d[t.type]||{};return null==e?i||!t.def?null:t.def:(e=s.floor?~~e:parseFloat(e),isNaN(e)?t.def:s.mod?(e+s.mod)%s.mod:0>e?0:e>s.max?s.max:e)}function s(i){var s=l(),n=s._rgba=[];return i=i.toLowerCase(),f(h,function(e,a){var o,r=a.re.exec(i),h=r&&a.parse(r),l=a.space||"rgba";return h?(o=s[l](h),s[u[l].cache]=o[u[l].cache],n=s._rgba=o._rgba,!1):t}),n.length?("0,0,0,0"===n.join()&&e.extend(n,a.transparent),s):a[i]}function n(e,t,i){return i=(i+1)%1,1>6*i?e+6*(t-e)*i:1>2*i?t:2>3*i?e+6*(t-e)*(2/3-i):e}var a,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],l=e.Color=function(t,i,s,n){return new e.Color.fn.parse(t,i,s,n)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},c=l.support={},p=e("<p>")[0],f=e.each;p.style.cssText="background-color:rgba(1,1,1,.5)",c.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),l.fn=e.extend(l.prototype,{parse:function(n,o,r,h){if(n===t)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=e(n).css(o),o=t);var d=this,c=e.type(n),p=this._rgba=[];return o!==t&&(n=[n,o,r,h],c="array"),"string"===c?this.parse(s(n)||a._default):"array"===c?(f(u.rgba.props,function(e,t){p[t.idx]=i(n[t.idx],t)}),this):"object"===c?(n instanceof l?f(u,function(e,t){n[t.cache]&&(d[t.cache]=n[t.cache].slice())}):f(u,function(t,s){var a=s.cache;f(s.props,function(e,t){if(!d[a]&&s.to){if("alpha"===e||null==n[e])return;d[a]=s.to(d._rgba)}d[a][t.idx]=i(n[e],t,!0)}),d[a]&&0>e.inArray(null,d[a].slice(0,3))&&(d[a][3]=1,s.from&&(d._rgba=s.from(d[a])))}),this):t},is:function(e){var i=l(e),s=!0,n=this;return f(u,function(e,a){var o,r=i[a.cache];return r&&(o=n[a.cache]||a.to&&a.to(n._rgba)||[],f(a.props,function(e,i){return null!=r[i.idx]?s=r[i.idx]===o[i.idx]:t})),s}),s},_space:function(){var e=[],t=this;return f(u,function(i,s){t[s.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var s=l(e),n=s._space(),a=u[n],o=0===this.alpha()?l("transparent"):this,r=o[a.cache]||a.to(o._rgba),h=r.slice();return s=s[a.cache],f(a.props,function(e,n){var a=n.idx,o=r[a],l=s[a],u=d[n.type]||{};null!==l&&(null===o?h[a]=l:(u.mod&&(l-o>u.mod/2?o+=u.mod:o-l>u.mod/2&&(o-=u.mod)),h[a]=i((l-o)*t+o,n)))}),this[n](h)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=l(t)._rgba;return l(e.map(i,function(e,t){return(1-s)*n[t]+s*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),s=i.pop();return t&&i.push(~~(255*s)),"#"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,s=e[0]/255,n=e[1]/255,a=e[2]/255,o=e[3],r=Math.max(s,n,a),h=Math.min(s,n,a),l=r-h,u=r+h,d=.5*u;return t=h===r?0:s===r?60*(n-a)/l+360:n===r?60*(a-s)/l+120:60*(s-n)/l+240,i=0===l?0:.5>=d?l/u:l/(2-u),[Math.round(t)%360,i,d,null==o?1:o]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],s=e[2],a=e[3],o=.5>=s?s*(1+i):s+i-s*i,r=2*s-o;return[Math.round(255*n(r,o,t+1/3)),Math.round(255*n(r,o,t)),Math.round(255*n(r,o,t-1/3)),a]},f(u,function(s,n){var a=n.props,o=n.cache,h=n.to,u=n.from;l.fn[s]=function(s){if(h&&!this[o]&&(this[o]=h(this._rgba)),s===t)return this[o].slice();var n,r=e.type(s),d="array"===r||"object"===r?s:arguments,c=this[o].slice();return f(a,function(e,t){var s=d["object"===r?e:t.idx];null==s&&(s=c[t.idx]),c[t.idx]=i(s,t)}),u?(n=l(u(c)),n[o]=c,n):l(c)},f(a,function(t,i){l.fn[t]||(l.fn[t]=function(n){var a,o=e.type(n),h="alpha"===t?this._hsla?"hsla":"rgba":s,l=this[h](),u=l[i.idx];return"undefined"===o?u:("function"===o&&(n=n.call(this,u),o=e.type(n)),null==n&&i.empty?this:("string"===o&&(a=r.exec(n),a&&(n=u+parseFloat(a[2])*("+"===a[1]?1:-1))),l[i.idx]=n,this[h](l)))})})}),l.hook=function(t){var i=t.split(" ");f(i,function(t,i){e.cssHooks[i]={set:function(t,n){var a,o,r="";if("transparent"!==n&&("string"!==e.type(n)||(a=s(n)))){if(n=l(a||n),!c.rgba&&1!==n._rgba[3]){for(o="backgroundColor"===i?t.parentNode:t;(""===r||"transparent"===r)&&o&&o.style;)try{r=e.css(o,"backgroundColor"),o=o.parentNode}catch(h){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{t.style[i]=n}catch(h){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=l(t.elem,i),t.end=l(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},l.hook(o),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(i,s){t["border"+s+"Color"]=e}),t}},a=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function t(t){var i,s,n=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,a={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],"string"==typeof n[i]&&(a[e.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(a[i]=n[i]);return a}function i(t,i){var s,a,o={};for(s in i)a=i[s],t[s]!==a&&(n[s]||(e.fx.step[s]||!isNaN(parseFloat(a)))&&(o[s]=a));return o}var s=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(jQuery.style(e.elem,i,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(n,a,o,r){var h=e.speed(a,o,r);return this.queue(function(){var a,o=e(this),r=o.attr("class")||"",l=h.children?o.find("*").addBack():o;l=l.map(function(){var i=e(this);return{el:i,start:t(this)}}),a=function(){e.each(s,function(e,t){n[t]&&o[t+"Class"](n[t])})},a(),l=l.map(function(){return this.end=t(this.el[0]),this.diff=i(this.start,this.end),this}),o.attr("class",r),l=l.map(function(){var t=this,i=e.Deferred(),s=e.extend({},h,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,s),i.promise()}),e.when.apply(e,l.get()).done(function(){a(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),h.complete.call(o[0])})})},e.fn.extend({addClass:function(t){return function(i,s,n,a){return s?e.effects.animateClass.call(this,{add:i},s,n,a):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,s,n,a){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},s,n,a):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(i,s,n,a,o){return"boolean"==typeof s||void 0===s?n?e.effects.animateClass.call(this,s?{add:i}:{remove:i},n,a,o):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:i},s,n,a)}}(e.fn.toggleClass),switchClass:function(t,i,s,n,a){return e.effects.animateClass.call(this,{add:i,remove:t},s,n,a)}})}(),function(){function t(t,i,s,n){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(n=s,s=i,i={}),e.isFunction(s)&&(n=s,s=null),i&&e.extend(t,i),s=s||i.duration,t.duration=e.fx.off?0:"number"==typeof s?s:s in e.fx.speeds?e.fx.speeds[s]:e.fx.speeds._default,t.complete=n||i.complete,t}function i(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}e.extend(e.effects,{version:"1.11.0",save:function(e,t){for(var i=0;t.length>i;i++)null!==t[i]&&e.data(u+t[i],e[0].style[t[i]])},restore:function(e,t){var i,s;for(s=0;t.length>s;s++)null!==t[s]&&(i=e.data(u+t[s]),void 0===i&&(i=""),e.css(t[s],i))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,s;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=e[1]/t.width}return{x:s,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},s=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:t.width(),height:t.height()},a=document.activeElement;try{a.id}catch(o){a=document.body}return t.wrap(s),(t[0]===a||e.contains(t[0],a))&&e(a).focus(),s=t.parent(),"static"===t.css("position")?(s.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,s){i[s]=t.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(n),s.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,s,n){return n=n||{},e.each(i,function(e,i){var a=t.cssUnit(i);a[0]>0&&(n[i]=a[0]*s+a[1])}),n}}),e.fn.extend({effect:function(){function i(t){function i(){e.isFunction(a)&&a.call(n[0]),e.isFunction(t)&&t()}var n=e(this),a=s.complete,r=s.mode;(n.is(":hidden")?"hide"===r:"show"===r)?(n[r](),i()):o.call(n[0],s,i)}var s=t.apply(this,arguments),n=s.mode,a=s.queue,o=e.effects.effect[s.effect];return e.fx.off||!o?n?this[n](s.duration,s.complete):this.each(function(){s.complete&&s.complete.call(this)}):a===!1?this.each(i):this.queue(a||"fx",i)},show:function(e){return function(s){if(i(s))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(e.fn.show),hide:function(e){return function(s){if(i(s))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(e.fn.hide),toggle:function(e){return function(s){if(i(s)||"boolean"==typeof s)return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),s=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(s=[parseFloat(i),t])}),s}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;((t=Math.pow(2,--i))-1)/11>e;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?i(2*e)/2:1-i(-2*e+2)/2}})}(),e.effects});
/*!
 * jQuery Mousewheel 3.1.13
 *
 * Copyright 2015 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(m=-1*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY"in g&&(m=-1*g.deltaY,j=m),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});
/*! nanoScrollerJS - v0.8.0 - 2014
* http://jamesflorentino.github.com/nanoScrollerJS/
* Copyright (c) 2014 James Florentino; Licensed MIT */
(function($, window, document) {
  "use strict";
  var BROWSER_IS_IE7, BROWSER_SCROLLBAR_WIDTH, DOMSCROLL, DOWN, DRAG, KEYDOWN, KEYUP, MOUSEDOWN, MOUSEMOVE, MOUSEUP, MOUSEWHEEL, NanoScroll, PANEDOWN, RESIZE, SCROLL, SCROLLBAR, TOUCHMOVE, UP, WHEEL, cAF, defaults, getBrowserScrollbarWidth, hasTransform, isFFWithBuggyScrollbar, rAF, transform, _elementStyle, _prefixStyle, _vendor;
  defaults = {

    /**
      a classname for the pane element.
      @property paneClass
      @type String
      @default 'nano-pane'
     */
    paneClass: 'nano-pane',

    /**
      a classname for the slider element.
      @property sliderClass
      @type String
      @default 'nano-slider'
     */
    sliderClass: 'nano-slider',

    /**
      a classname for the content element.
      @property contentClass
      @type String
      @default 'nano-content'
     */
    contentClass: 'nano-content',

    /**
      a setting to enable native scrolling in iOS devices.
      @property iOSNativeScrolling
      @type Boolean
      @default false
     */
    iOSNativeScrolling: false,

    /**
      a setting to prevent the rest of the page being
      scrolled when user scrolls the `.content` element.
      @property preventPageScrolling
      @type Boolean
      @default false
     */
    preventPageScrolling: false,

    /**
      a setting to disable binding to the resize event.
      @property disableResize
      @type Boolean
      @default false
     */
    disableResize: false,

    /**
      a setting to make the scrollbar always visible.
      @property alwaysVisible
      @type Boolean
      @default false
     */
    alwaysVisible: false,

    /**
      a default timeout for the `flash()` method.
      @property flashDelay
      @type Number
      @default 1500
     */
    flashDelay: 1500,

    /**
      a minimum height for the `.slider` element.
      @property sliderMinHeight
      @type Number
      @default 20
     */
    sliderMinHeight: 20,

    /**
      a maximum height for the `.slider` element.
      @property sliderMaxHeight
      @type Number
      @default null
     */
    sliderMaxHeight: null,

    /**
      an alternate document context.
      @property documentContext
      @type Document
      @default null
     */
    documentContext: null,

    /**
      an alternate window context.
      @property windowContext
      @type Window
      @default null
     */
    windowContext: null
  };

  /**
    @property SCROLLBAR
    @type String
    @static
    @final
    @private
   */
  SCROLLBAR = 'scrollbar';

  /**
    @property SCROLL
    @type String
    @static
    @final
    @private
   */
  SCROLL = 'scroll';

  /**
    @property MOUSEDOWN
    @type String
    @final
    @private
   */
  MOUSEDOWN = 'mousedown';

  /**
    @property MOUSEMOVE
    @type String
    @static
    @final
    @private
   */
  MOUSEMOVE = 'mousemove';

  /**
    @property MOUSEWHEEL
    @type String
    @final
    @private
   */
  MOUSEWHEEL = 'mousewheel';

  /**
    @property MOUSEUP
    @type String
    @static
    @final
    @private
   */
  MOUSEUP = 'mouseup';

  /**
    @property RESIZE
    @type String
    @final
    @private
   */
  RESIZE = 'resize';

  /**
    @property DRAG
    @type String
    @static
    @final
    @private
   */
  DRAG = 'drag';

  /**
    @property UP
    @type String
    @static
    @final
    @private
   */
  UP = 'up';

  /**
    @property PANEDOWN
    @type String
    @static
    @final
    @private
   */
  PANEDOWN = 'panedown';

  /**
    @property DOMSCROLL
    @type String
    @static
    @final
    @private
   */
  DOMSCROLL = 'DOMMouseScroll';

  /**
    @property DOWN
    @type String
    @static
    @final
    @private
   */
  DOWN = 'down';

  /**
    @property WHEEL
    @type String
    @static
    @final
    @private
   */
  WHEEL = 'wheel';

  /**
    @property KEYDOWN
    @type String
    @static
    @final
    @private
   */
  KEYDOWN = 'keydown';

  /**
    @property KEYUP
    @type String
    @static
    @final
    @private
   */
  KEYUP = 'keyup';

  /**
    @property TOUCHMOVE
    @type String
    @static
    @final
    @private
   */
  TOUCHMOVE = 'touchmove';

  /**
    @property BROWSER_IS_IE7
    @type Boolean
    @static
    @final
    @private
   */
  BROWSER_IS_IE7 = window.navigator.appName === 'Microsoft Internet Explorer' && /msie 7./i.test(window.navigator.appVersion) && window.ActiveXObject;

  /**
    @property BROWSER_SCROLLBAR_WIDTH
    @type Number
    @static
    @default null
    @private
   */
  BROWSER_SCROLLBAR_WIDTH = null;
  rAF = window.requestAnimationFrame;
  cAF = window.cancelAnimationFrame;
  _elementStyle = document.createElement('div').style;
  _vendor = (function() {
    var i, transform, vendor, vendors, _i, _len;
    vendors = ['t', 'webkitT', 'MozT', 'msT', 'OT'];
    for (i = _i = 0, _len = vendors.length; _i < _len; i = ++_i) {
      vendor = vendors[i];
      transform = vendors[i] + 'ransform';
      if (transform in _elementStyle) {
        return vendors[i].substr(0, vendors[i].length - 1);
      }
    }
    return false;
  })();
  _prefixStyle = function(style) {
    if (_vendor === false) {
      return false;
    }
    if (_vendor === '') {
      return style;
    }
    return _vendor + style.charAt(0).toUpperCase() + style.substr(1);
  };
  transform = _prefixStyle('transform');
  hasTransform = transform !== false;

  /**
    Returns browser's native scrollbar width
    @method getBrowserScrollbarWidth
    @return {Number} the scrollbar width in pixels
    @static
    @private
   */
  getBrowserScrollbarWidth = function() {
    var outer, outerStyle, scrollbarWidth;
    outer = document.createElement('div');
    outerStyle = outer.style;
    outerStyle.position = 'absolute';
    outerStyle.width = '100px';
    outerStyle.height = '100px';
    outerStyle.overflow = SCROLL;
    outerStyle.top = '-9999px';
    document.body.appendChild(outer);
    scrollbarWidth = outer.offsetWidth - outer.clientWidth;
    document.body.removeChild(outer);
    return scrollbarWidth;
  };
  isFFWithBuggyScrollbar = function() {
    var isOSXFF, ua, version;
    ua = window.navigator.userAgent;
    isOSXFF = /(?=.+Mac OS X)(?=.+Firefox)/.test(ua);
    if (!isOSXFF) {
      return false;
    }
    version = /Firefox\/\d{2}\./.exec(ua);
    if (version) {
      version = version[0].replace(/\D+/g, '');
    }
    return isOSXFF && +version > 23;
  };

  /**
    @class NanoScroll
    @param element {HTMLElement|Node} the main element
    @param options {Object} nanoScroller's options
    @constructor
   */
  NanoScroll = (function() {
    function NanoScroll(el, options) {
      this.el = el;
      this.options = options;
      BROWSER_SCROLLBAR_WIDTH || (BROWSER_SCROLLBAR_WIDTH = getBrowserScrollbarWidth());
      this.$el = $(this.el);
      this.doc = $(this.options.documentContext || document);
      this.win = $(this.options.windowContext || window);
      this.$content = this.$el.children("." + options.contentClass);
      this.$content.attr('tabindex', this.options.tabIndex || 0);
      this.content = this.$content[0];
      if (this.options.iOSNativeScrolling && (this.el.style.WebkitOverflowScrolling != null)) {
        this.nativeScrolling();
      } else {
        this.generate();
      }
      this.createEvents();
      this.addEvents();
      this.reset();
    }


    /**
      Prevents the rest of the page being scrolled
      when user scrolls the `.nano-content` element.
      @method preventScrolling
      @param event {Event}
      @param direction {String} Scroll direction (up or down)
      @private
     */

    NanoScroll.prototype.preventScrolling = function(e, direction) {
      if (!this.isActive) {
        return;
      }
      if (e.type === DOMSCROLL) {
        if (direction === DOWN && e.originalEvent.detail > 0 || direction === UP && e.originalEvent.detail < 0) {
          e.preventDefault();
        }
      } else if (e.type === MOUSEWHEEL) {
        if (!e.originalEvent || !e.originalEvent.wheelDelta) {
          return;
        }
        if (direction === DOWN && e.originalEvent.wheelDelta < 0 || direction === UP && e.originalEvent.wheelDelta > 0) {
          e.preventDefault();
        }
      }
    };


    /**
      Enable iOS native scrolling
      @method nativeScrolling
      @private
     */

    NanoScroll.prototype.nativeScrolling = function() {
      this.$content.css({
        WebkitOverflowScrolling: 'touch'
      });
      this.iOSNativeScrolling = true;
      this.isActive = true;
    };


    /**
      Updates those nanoScroller properties that
      are related to current scrollbar position.
      @method updateScrollValues
      @private
     */

    NanoScroll.prototype.updateScrollValues = function() {
      var content;
      content = this.content;
      this.maxScrollTop = content.scrollHeight - content.clientHeight;
      this.prevScrollTop = this.contentScrollTop || 0;
      this.contentScrollTop = content.scrollTop;
      if (!this.iOSNativeScrolling) {
        this.maxSliderTop = this.paneHeight - this.sliderHeight;
        this.sliderTop = this.maxScrollTop === 0 ? 0 : this.contentScrollTop * this.maxSliderTop / this.maxScrollTop;
      }
    };


    /**
      Updates CSS styles for current scroll position.
      Uses CSS 2d transfroms and `window.requestAnimationFrame` if available.
      @method setOnScrollStyles
      @private
     */

    NanoScroll.prototype.setOnScrollStyles = function() {
      var cssValue;
      if (hasTransform) {
        cssValue = {};
        cssValue[transform] = "translate(0, " + this.sliderTop + "px)";
      } else {
        cssValue = {
          top: this.sliderTop
        };
      }
      if (rAF) {
        if (!this.scrollRAF) {
          this.scrollRAF = rAF((function(_this) {
            return function() {
              _this.scrollRAF = null;
              _this.slider.css(cssValue);
            };
          })(this));
        }
      } else {
        this.slider.css(cssValue);
      }
    };


    /**
      Creates event related methods
      @method createEvents
      @private
     */

    NanoScroll.prototype.createEvents = function() {
      this.events = {
        down: (function(_this) {
          return function(e) {
            _this.isBeingDragged = true;
            _this.offsetY = e.pageY - _this.slider.offset().top;
            _this.pane.addClass('active');
            _this.doc.bind(MOUSEMOVE, _this.events[DRAG]).bind(MOUSEUP, _this.events[UP]);
            return false;
          };
        })(this),
        drag: (function(_this) {
          return function(e) {
            _this.sliderY = e.pageY - _this.$el.offset().top - _this.offsetY;
            _this.scroll();
            if (_this.contentScrollTop >= _this.maxScrollTop && _this.prevScrollTop !== _this.maxScrollTop) {
              _this.$el.trigger('scrollend');
            } else if (_this.contentScrollTop === 0 && _this.prevScrollTop !== 0) {
              _this.$el.trigger('scrolltop');
            }
            return false;
          };
        })(this),
        up: (function(_this) {
          return function(e) {
            _this.isBeingDragged = false;
            _this.pane.removeClass('active');
            _this.doc.unbind(MOUSEMOVE, _this.events[DRAG]).unbind(MOUSEUP, _this.events[UP]);
            return false;
          };
        })(this),
        resize: (function(_this) {
          return function(e) {
            _this.reset();
          };
        })(this),
        panedown: (function(_this) {
          return function(e) {
            _this.sliderY = (e.offsetY || e.originalEvent.layerY) - (_this.sliderHeight * 0.5);
            _this.scroll();
            _this.events.down(e);
            return false;
          };
        })(this),
        scroll: (function(_this) {
          return function(e) {
            _this.updateScrollValues();
            if (_this.isBeingDragged) {
              return;
            }
            if (!_this.iOSNativeScrolling) {
              _this.sliderY = _this.sliderTop;
              _this.setOnScrollStyles();
            }
            if (e == null) {
              return;
            }
            if (_this.contentScrollTop >= _this.maxScrollTop) {
              if (_this.options.preventPageScrolling) {
                _this.preventScrolling(e, DOWN);
              }
              if (_this.prevScrollTop !== _this.maxScrollTop) {
                _this.$el.trigger('scrollend');
              }
            } else if (_this.contentScrollTop === 0) {
              if (_this.options.preventPageScrolling) {
                _this.preventScrolling(e, UP);
              }
              if (_this.prevScrollTop !== 0) {
                _this.$el.trigger('scrolltop');
              }
            }
          };
        })(this),
        wheel: (function(_this) {
          return function(e) {
            var delta;
            if (e == null) {
              return;
            }
            delta = e.delta || e.wheelDelta || (e.originalEvent && e.originalEvent.wheelDelta) || -e.detail || (e.originalEvent && -e.originalEvent.detail);
            if (delta) {
              _this.sliderY += -delta / 3;
            }
            _this.scroll();
            return false;
          };
        })(this)
      };
    };


    /**
      Adds event listeners with jQuery.
      @method addEvents
      @private
     */

    NanoScroll.prototype.addEvents = function() {
      var events;
      this.removeEvents();
      events = this.events;
      if (!this.options.disableResize) {
        this.win.bind(RESIZE, events[RESIZE]);
      }
      if (!this.iOSNativeScrolling) {
        this.slider.bind(MOUSEDOWN, events[DOWN]);
        this.pane.bind(MOUSEDOWN, events[PANEDOWN]).bind("" + MOUSEWHEEL + " " + DOMSCROLL, events[WHEEL]);
      }
      this.$content.bind("" + SCROLL + " " + MOUSEWHEEL + " " + DOMSCROLL + " " + TOUCHMOVE, events[SCROLL]);
    };


    /**
      Removes event listeners with jQuery.
      @method removeEvents
      @private
     */

    NanoScroll.prototype.removeEvents = function() {
      var events;
      events = this.events;
      this.win.unbind(RESIZE, events[RESIZE]);
      if (!this.iOSNativeScrolling) {
        this.slider.unbind();
        this.pane.unbind();
      }
      this.$content.unbind("" + SCROLL + " " + MOUSEWHEEL + " " + DOMSCROLL + " " + TOUCHMOVE, events[SCROLL]);
    };


    /**
      Generates nanoScroller's scrollbar and elements for it.
      @method generate
      @chainable
      @private
     */

    NanoScroll.prototype.generate = function() {
      var contentClass, cssRule, currentPadding, options, paneClass, sliderClass;
      options = this.options;
      paneClass = options.paneClass, sliderClass = options.sliderClass, contentClass = options.contentClass;
      if (!this.$el.find("." + paneClass).length && !this.$el.find("." + sliderClass).length) {
        this.$el.append("<div class=\"" + paneClass + "\"><div class=\"" + sliderClass + "\" /></div>");
      }
      this.pane = this.$el.children("." + paneClass);
      this.slider = this.pane.find("." + sliderClass);
      if (BROWSER_SCROLLBAR_WIDTH === 0 && isFFWithBuggyScrollbar()) {
        currentPadding = window.getComputedStyle(this.content, null).getPropertyValue('padding-right').replace(/\D+/g, '');
        cssRule = {
          right: -14,
          paddingRight: +currentPadding + 14
        };
      } else if (BROWSER_SCROLLBAR_WIDTH) {
        cssRule = {
          right: -BROWSER_SCROLLBAR_WIDTH
        };
        this.$el.addClass('has-scrollbar');
      }
      if (cssRule != null) {
        this.$content.css(cssRule);
      }
      return this;
    };


    /**
      @method restore
      @private
     */

    NanoScroll.prototype.restore = function() {
      this.stopped = false;
      if (!this.iOSNativeScrolling) {
        this.pane.show();
      }
      this.addEvents();
    };


    /**
      Resets nanoScroller's scrollbar.
      @method reset
      @chainable
      @example
          $(".nano").nanoScroller();
     */

    NanoScroll.prototype.reset = function() {
      var content, contentHeight, contentPosition, contentStyle, contentStyleOverflowY, paneBottom, paneHeight, paneOuterHeight, paneTop, parentMaxHeight, right, sliderHeight;
      if (this.iOSNativeScrolling) {
        this.contentHeight = this.content.scrollHeight;
        return;
      }
      if (!this.$el.find("." + this.options.paneClass).length) {
        this.generate().stop();
      }
      if (this.stopped) {
        this.restore();
      }
      content = this.content;
      contentStyle = content.style;
      contentStyleOverflowY = contentStyle.overflowY;
      if (BROWSER_IS_IE7) {
        this.$content.css({
          height: this.$content.height()
        });
      }
      contentHeight = content.scrollHeight + BROWSER_SCROLLBAR_WIDTH;
      parentMaxHeight = parseInt(this.$el.css("max-height"), 10);
      if (parentMaxHeight > 0) {
        this.$el.height("");
        this.$el.height(content.scrollHeight > parentMaxHeight ? parentMaxHeight : content.scrollHeight);
      }
      paneHeight = this.pane.outerHeight(false);
      paneTop = parseInt(this.pane.css('top'), 10);
      paneBottom = parseInt(this.pane.css('bottom'), 10);
      paneOuterHeight = paneHeight + paneTop + paneBottom;
      sliderHeight = Math.round(paneOuterHeight / contentHeight * paneOuterHeight);
      if (sliderHeight < this.options.sliderMinHeight) {
        sliderHeight = this.options.sliderMinHeight;
      } else if ((this.options.sliderMaxHeight != null) && sliderHeight > this.options.sliderMaxHeight) {
        sliderHeight = this.options.sliderMaxHeight;
      }
      if (contentStyleOverflowY === SCROLL && contentStyle.overflowX !== SCROLL) {
        sliderHeight += BROWSER_SCROLLBAR_WIDTH;
      }
      this.maxSliderTop = paneOuterHeight - sliderHeight;
      this.contentHeight = contentHeight;
      this.paneHeight = paneHeight;
      this.paneOuterHeight = paneOuterHeight;
      this.sliderHeight = sliderHeight;
      this.slider.height(sliderHeight);
      this.events.scroll();
      this.pane.show();
      this.isActive = true;
      if ((content.scrollHeight === content.clientHeight) || (this.pane.outerHeight(true) >= content.scrollHeight && contentStyleOverflowY !== SCROLL)) {
        this.pane.hide();
        this.isActive = false;
      } else if (this.el.clientHeight === content.scrollHeight && contentStyleOverflowY === SCROLL) {
        this.slider.hide();
      } else {
        this.slider.show();
      }
      this.pane.css({
        opacity: (this.options.alwaysVisible ? 1 : ''),
        visibility: (this.options.alwaysVisible ? 'visible' : '')
      });
      contentPosition = this.$content.css('position');
      if (contentPosition === 'static' || contentPosition === 'relative') {
        right = parseInt(this.$content.css('right'), 10);
        if (right) {
          this.$content.css({
            right: '',
            marginRight: right
          });
        }
      }
      return this;
    };


    /**
      @method scroll
      @private
      @example
          $(".nano").nanoScroller({ scroll: 'top' });
     */

    NanoScroll.prototype.scroll = function() {
      if (!this.isActive) {
        return;
      }
      this.sliderY = Math.max(0, this.sliderY);
      this.sliderY = Math.min(this.maxSliderTop, this.sliderY);
      this.$content.scrollTop((this.paneHeight - this.contentHeight + BROWSER_SCROLLBAR_WIDTH) * this.sliderY / this.maxSliderTop * -1);
      if (!this.iOSNativeScrolling) {
        this.updateScrollValues();
        this.setOnScrollStyles();
      }
      return this;
    };


    /**
      Scroll at the bottom with an offset value
      @method scrollBottom
      @param offsetY {Number}
      @chainable
      @example
          $(".nano").nanoScroller({ scrollBottom: value });
     */

    NanoScroll.prototype.scrollBottom = function(offsetY) {
      if (!this.isActive) {
        return;
      }
      this.$content.scrollTop(this.contentHeight - this.$content.height() - offsetY).trigger(MOUSEWHEEL);
      this.stop().restore();
      return this;
    };


    /**
      Scroll at the top with an offset value
      @method scrollTop
      @param offsetY {Number}
      @chainable
      @example
          $(".nano").nanoScroller({ scrollTop: value });
     */

    NanoScroll.prototype.scrollTop = function(offsetY) {
      if (!this.isActive) {
        return;
      }
      this.$content.scrollTop(+offsetY).trigger(MOUSEWHEEL);
      this.stop().restore();
      return this;
    };


    /**
      Scroll to an element
      @method scrollTo
      @param node {Node} A node to scroll to.
      @chainable
      @example
          $(".nano").nanoScroller({ scrollTo: $('#a_node') });
     */

    NanoScroll.prototype.scrollTo = function(node) {
      if (!this.isActive) {
        return;
      }
      this.scrollTop(this.$el.find(node).get(0).offsetTop);
      return this;
    };


    /**
      To stop the operation.
      This option will tell the plugin to disable all event bindings and hide the gadget scrollbar from the UI.
      @method stop
      @chainable
      @example
          $(".nano").nanoScroller({ stop: true });
     */

    NanoScroll.prototype.stop = function() {
      if (cAF && this.scrollRAF) {
        cAF(this.scrollRAF);
        this.scrollRAF = null;
      }
      this.stopped = true;
      this.removeEvents();
      if (!this.iOSNativeScrolling) {
        this.pane.hide();
      }
      return this;
    };


    /**
      Destroys nanoScroller and restores browser's native scrollbar.
      @method destroy
      @chainable
      @example
          $(".nano").nanoScroller({ destroy: true });
     */

    NanoScroll.prototype.destroy = function() {
      if (!this.stopped) {
        this.stop();
      }
      if (!this.iOSNativeScrolling && this.pane.length) {
        this.pane.remove();
      }
      if (BROWSER_IS_IE7) {
        this.$content.height('');
      }
      this.$content.removeAttr('tabindex');
      if (this.$el.hasClass('has-scrollbar')) {
        this.$el.removeClass('has-scrollbar');
        this.$content.css({
          right: ''
        });
      }
      return this;
    };


    /**
      To flash the scrollbar gadget for an amount of time defined in plugin settings (defaults to 1,5s).
      Useful if you want to show the user (e.g. on pageload) that there is more content waiting for him.
      @method flash
      @chainable
      @example
          $(".nano").nanoScroller({ flash: true });
     */

    NanoScroll.prototype.flash = function() {
      if (this.iOSNativeScrolling) {
        return;
      }
      if (!this.isActive) {
        return;
      }
      this.reset();
      this.pane.addClass('flashed');
      setTimeout((function(_this) {
        return function() {
          _this.pane.removeClass('flashed');
        };
      })(this), this.options.flashDelay);
      return this;
    };

    return NanoScroll;

  })();
  $.fn.nanoScroller = function(settings) {
    return this.each(function() {
      var options, scrollbar;
      if (!(scrollbar = this.nanoscroller)) {
        options = $.extend({}, defaults, settings);
        this.nanoscroller = scrollbar = new NanoScroll(this, options);
      }
      if (settings && typeof settings === "object") {
        $.extend(scrollbar.options, settings);
        if (settings.scrollBottom != null) {
          return scrollbar.scrollBottom(settings.scrollBottom);
        }
        if (settings.scrollTop != null) {
          return scrollbar.scrollTop(settings.scrollTop);
        }
        if (settings.scrollTo) {
          return scrollbar.scrollTo(settings.scrollTo);
        }
        if (settings.scroll === 'bottom') {
          return scrollbar.scrollBottom(0);
        }
        if (settings.scroll === 'top') {
          return scrollbar.scrollTop(0);
        }
        if (settings.scroll && settings.scroll instanceof $) {
          return scrollbar.scrollTo(settings.scroll);
        }
        if (settings.stop) {
          return scrollbar.stop();
        }
        if (settings.destroy) {
          return scrollbar.destroy();
        }
        if (settings.flash) {
          return scrollbar.flash();
        }
      }
      return scrollbar.reset();
    });
  };
  $.fn.nanoScroller.Constructor = NanoScroll;
})(jQuery, window, document);

// sourceMappingURL=jquery.nanoscroller.js.map

/*!
 * jQuery Validation Plugin v1.19.3
 *
 * https://jqueryvalidation.org/
 *
 * Copyright (c) 2021 Jrn Zaefferer
 * Released under the MIT license
 */
(function($) {
(function( factory ) {
	factory( jQuery );
}(function( $ ) {

$.extend( $.fn, {

	// https://jqueryvalidation.org/validate/
	validate: function( options ) {

		// If nothing is selected, return nothing; can't chain anyway
		if ( !this.length ) {
			if ( options && options.debug && window.console ) {
				console.warn( "Nothing selected, can't validate, returning nothing." );
			}
			return;
		}

		// Check if a validator for this form was already created
		var validator = $.data( this[ 0 ], "validator" );
		if ( validator ) {
			return validator;
		}

		// Add novalidate tag if HTML5.
		this.attr( "novalidate", "novalidate" );

		validator = new $.validator( options, this[ 0 ] );
		$.data( this[ 0 ], "validator", validator );

		if ( validator.settings.onsubmit ) {

			this.on( "click.validate", ":submit", function( event ) {

				// Track the used submit button to properly handle scripted
				// submits later.
				validator.submitButton = event.currentTarget;

				// Allow suppressing validation by adding a cancel class to the submit button
				if ( $( this ).hasClass( "cancel" ) ) {
					validator.cancelSubmit = true;
				}

				// Allow suppressing validation by adding the html5 formnovalidate attribute to the submit button
				if ( $( this ).attr( "formnovalidate" ) !== undefined ) {
					validator.cancelSubmit = true;
				}
			} );

			// Validate the form on submit
			this.on( "submit.validate", function( event ) {
				if ( validator.settings.debug ) {

					// Prevent form submit to be able to see console output
					event.preventDefault();
				}

				function handle() {
					var hidden, result;

					// Insert a hidden input as a replacement for the missing submit button
					// The hidden input is inserted in two cases:
					//   - A user defined a `submitHandler`
					//   - There was a pending request due to `remote` method and `stopRequest()`
					//     was called to submit the form in case it's valid
					if ( validator.submitButton && ( validator.settings.submitHandler || validator.formSubmitted ) ) {
						hidden = $( "<input type='hidden'/>" )
							.attr( "name", validator.submitButton.name )
							.val( $( validator.submitButton ).val() )
							.appendTo( validator.currentForm );
					}

					if ( validator.settings.submitHandler && !validator.settings.debug ) {
						result = validator.settings.submitHandler.call( validator, validator.currentForm, event );
						if ( hidden ) {

							// And clean up afterwards; thanks to no-block-scope, hidden can be referenced
							hidden.remove();
						}
						if ( result !== undefined ) {
							return result;
						}
						return false;
					}
					return true;
				}

				// Prevent submit for invalid forms or custom submit handlers
				if ( validator.cancelSubmit ) {
					validator.cancelSubmit = false;
					return handle();
				}
				if ( validator.form() ) {
					if ( validator.pendingRequest ) {
						validator.formSubmitted = true;
						return false;
					}
					return handle();
				} else {
					validator.focusInvalid();
					return false;
				}
			} );
		}

		return validator;
	},

	// https://jqueryvalidation.org/valid/
	valid: function() {
		var valid, validator, errorList;

		if ( $( this[ 0 ] ).is( "form" ) ) {
			valid = this.validate().form();
		} else {
			errorList = [];
			valid = true;
			validator = $( this[ 0 ].form ).validate();
			this.each( function() {
				valid = validator.element( this ) && valid;
				if ( !valid ) {
					errorList = errorList.concat( validator.errorList );
				}
			} );
			validator.errorList = errorList;
		}
		return valid;
	},

	// https://jqueryvalidation.org/rules/
	rules: function( command, argument ) {
		var element = this[ 0 ],
			isContentEditable = typeof this.attr( "contenteditable" ) !== "undefined" && this.attr( "contenteditable" ) !== "false",
			settings, staticRules, existingRules, data, param, filtered;

		// If nothing is selected, return empty object; can't chain anyway
		if ( element == null ) {
			return;
		}

		if ( !element.form && isContentEditable ) {
			element.form = this.closest( "form" )[ 0 ];
			element.name = this.attr( "name" );
		}

		if ( element.form == null ) {
			return;
		}

		if ( command ) {
			settings = $.data( element.form, "validator" ).settings;
			staticRules = settings.rules;
			existingRules = $.validator.staticRules( element );
			switch ( command ) {
			case "add":
				$.extend( existingRules, $.validator.normalizeRule( argument ) );

				// Remove messages from rules, but allow them to be set separately
				delete existingRules.messages;
				staticRules[ element.name ] = existingRules;
				if ( argument.messages ) {
					settings.messages[ element.name ] = $.extend( settings.messages[ element.name ], argument.messages );
				}
				break;
			case "remove":
				if ( !argument ) {
					delete staticRules[ element.name ];
					return existingRules;
				}
				filtered = {};
				$.each( argument.split( /\s/ ), function( index, method ) {
					filtered[ method ] = existingRules[ method ];
					delete existingRules[ method ];
				} );
				return filtered;
			}
		}

		data = $.validator.normalizeRules(
		$.extend(
			{},
			$.validator.classRules( element ),
			$.validator.attributeRules( element ),
			$.validator.dataRules( element ),
			$.validator.staticRules( element )
		), element );

		// Make sure required is at front
		if ( data.required ) {
			param = data.required;
			delete data.required;
			data = $.extend( { required: param }, data );
		}

		// Make sure remote is at back
		if ( data.remote ) {
			param = data.remote;
			delete data.remote;
			data = $.extend( data, { remote: param } );
		}

		return data;
	}
} );

// JQuery trim is deprecated, provide a trim method based on String.prototype.trim
var trim = function( str ) {

	// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/trim#Polyfill
	return str.replace( /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "" );
};

// Custom selectors
$.extend( $.expr.pseudos || $.expr[ ":" ], {		// '|| $.expr[ ":" ]' here enables backwards compatibility to jQuery 1.7. Can be removed when dropping jQ 1.7.x support

	// https://jqueryvalidation.org/blank-selector/
	blank: function( a ) {
		return !trim( "" + $( a ).val() );
	},

	// https://jqueryvalidation.org/filled-selector/
	filled: function( a ) {
		var val = $( a ).val();
		return val !== null && !!trim( "" + val );
	},

	// https://jqueryvalidation.org/unchecked-selector/
	unchecked: function( a ) {
		return !$( a ).prop( "checked" );
	}
} );

// Constructor for validator
$.validator = function( options, form ) {
	this.settings = $.extend( true, {}, $.validator.defaults, options );
	this.currentForm = form;
	this.init();
};

// https://jqueryvalidation.org/jQuery.validator.format/
$.validator.format = function( source, params ) {
	if ( arguments.length === 1 ) {
		return function() {
			var args = $.makeArray( arguments );
			args.unshift( source );
			return $.validator.format.apply( this, args );
		};
	}
	if ( params === undefined ) {
		return source;
	}
	if ( arguments.length > 2 && params.constructor !== Array  ) {
		params = $.makeArray( arguments ).slice( 1 );
	}
	if ( params.constructor !== Array ) {
		params = [ params ];
	}
	$.each( params, function( i, n ) {
		source = source.replace( new RegExp( "\\{" + i + "\\}", "g" ), function() {
			return n;
		} );
	} );
	return source;
};

$.extend( $.validator, {

	defaults: {
		messages: {},
		groups: {},
		rules: {},
		errorClass: "error",
		pendingClass: "pending",
		validClass: "valid",
		errorElement: "label",
		focusCleanup: false,
		focusInvalid: true,
		errorContainer: $( [] ),
		errorLabelContainer: $( [] ),
		onsubmit: true,
		ignore: ":hidden",
		ignoreTitle: false,
		onfocusin: function( element ) {
			this.lastActive = element;

			// Hide error label and remove error class on focus if enabled
			if ( this.settings.focusCleanup ) {
				if ( this.settings.unhighlight ) {
					this.settings.unhighlight.call( this, element, this.settings.errorClass, this.settings.validClass );
				}
				this.hideThese( this.errorsFor( element ) );
			}
		},
		onfocusout: function( element ) {
			if ( !this.checkable( element ) && ( element.name in this.submitted || !this.optional( element ) ) ) {
				this.element( element );
			}
		},
		onkeyup: function( element, event ) {

			// Avoid revalidate the field when pressing one of the following keys
			// Shift       => 16
			// Ctrl        => 17
			// Alt         => 18
			// Caps lock   => 20
			// End         => 35
			// Home        => 36
			// Left arrow  => 37
			// Up arrow    => 38
			// Right arrow => 39
			// Down arrow  => 40
			// Insert      => 45
			// Num lock    => 144
			// AltGr key   => 225
			var excludedKeys = [
				16, 17, 18, 20, 35, 36, 37,
				38, 39, 40, 45, 144, 225
			];

			if ( event.which === 9 && this.elementValue( element ) === "" || $.inArray( event.keyCode, excludedKeys ) !== -1 ) {
				return;
			} else if ( element.name in this.submitted || element.name in this.invalid ) {
				this.element( element );
			}
		},
		onclick: function( element ) {

			// Click on selects, radiobuttons and checkboxes
			if ( element.name in this.submitted ) {
				this.element( element );

			// Or option elements, check parent select in that case
			} else if ( element.parentNode.name in this.submitted ) {
				this.element( element.parentNode );
			}
		},
		highlight: function( element, errorClass, validClass ) {
			if ( element.type === "radio" ) {
				this.findByName( element.name ).addClass( errorClass ).removeClass( validClass );
			} else {
				$( element ).addClass( errorClass ).removeClass( validClass );
			}
		},
		unhighlight: function( element, errorClass, validClass ) {
			if ( element.type === "radio" ) {
				this.findByName( element.name ).removeClass( errorClass ).addClass( validClass );
			} else {
				$( element ).removeClass( errorClass ).addClass( validClass );
			}
		}
	},

	// https://jqueryvalidation.org/jQuery.validator.setDefaults/
	setDefaults: function( settings ) {
		$.extend( $.validator.defaults, settings );
	},

	messages: {
		required: "This field is required.",
		remote: "Please fix this field.",
		email: "Please enter a valid email address.",
		url: "Please enter a valid URL.",
		date: "Please enter a valid date.",
		dateISO: "Please enter a valid date (ISO).",
		number: "Please enter a valid number.",
		digits: "Please enter only digits.",
		equalTo: "Please enter the same value again.",
		maxlength: $.validator.format( "Please enter no more than {0} characters." ),
		minlength: $.validator.format( "Please enter at least {0} characters." ),
		rangelength: $.validator.format( "Please enter a value between {0} and {1} characters long." ),
		range: $.validator.format( "Please enter a value between {0} and {1}." ),
		max: $.validator.format( "Please enter a value less than or equal to {0}." ),
		min: $.validator.format( "Please enter a value greater than or equal to {0}." ),
		step: $.validator.format( "Please enter a multiple of {0}." )
	},

	autoCreateRanges: false,

	prototype: {

		init: function() {
			this.labelContainer = $( this.settings.errorLabelContainer );
			this.errorContext = this.labelContainer.length && this.labelContainer || $( this.currentForm );
			this.containers = $( this.settings.errorContainer ).add( this.settings.errorLabelContainer );
			this.submitted = {};
			this.valueCache = {};
			this.pendingRequest = 0;
			this.pending = {};
			this.invalid = {};
			this.reset();

			var currentForm = this.currentForm,
				groups = ( this.groups = {} ),
				rules;
			$.each( this.settings.groups, function( key, value ) {
				if ( typeof value === "string" ) {
					value = value.split( /\s/ );
				}
				$.each( value, function( index, name ) {
					groups[ name ] = key;
				} );
			} );
			rules = this.settings.rules;
			$.each( rules, function( key, value ) {
				rules[ key ] = $.validator.normalizeRule( value );
			} );

			function delegate( event ) {
				var isContentEditable = typeof $( this ).attr( "contenteditable" ) !== "undefined" && $( this ).attr( "contenteditable" ) !== "false";

				// Set form expando on contenteditable
				if ( !this.form && isContentEditable ) {
					this.form = $( this ).closest( "form" )[ 0 ];
					this.name = $( this ).attr( "name" );
				}

				// Ignore the element if it belongs to another form. This will happen mainly
				// when setting the `form` attribute of an input to the id of another form.
				if ( currentForm !== this.form ) {
					return;
				}

				var validator = $.data( this.form, "validator" ),
					eventType = "on" + event.type.replace( /^validate/, "" ),
					settings = validator.settings;
				if ( settings[ eventType ] && !$( this ).is( settings.ignore ) ) {
					settings[ eventType ].call( validator, this, event );
				}
			}

			$( this.currentForm )
				.on( "focusin.validate focusout.validate keyup.validate",
					":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], " +
					"[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], " +
					"[type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], " +
					"[type='radio'], [type='checkbox'], [contenteditable], [type='button']", delegate )

				// Support: Chrome, oldIE
				// "select" is provided as event.target when clicking a option
				.on( "click.validate", "select, option, [type='radio'], [type='checkbox']", delegate );

			if ( this.settings.invalidHandler ) {
				$( this.currentForm ).on( "invalid-form.validate", this.settings.invalidHandler );
			}
		},

		// https://jqueryvalidation.org/Validator.form/
		form: function() {
			this.checkForm();
			$.extend( this.submitted, this.errorMap );
			this.invalid = $.extend( {}, this.errorMap );
			if ( !this.valid() ) {
				$( this.currentForm ).triggerHandler( "invalid-form", [ this ] );
			}
			this.showErrors();
			return this.valid();
		},

		checkForm: function() {
			this.prepareForm();
			for ( var i = 0, elements = ( this.currentElements = this.elements() ); elements[ i ]; i++ ) {
				this.check( elements[ i ] );
			}
			return this.valid();
		},

		// https://jqueryvalidation.org/Validator.element/
		element: function( element ) {
			var cleanElement = this.clean( element ),
				checkElement = this.validationTargetFor( cleanElement ),
				v = this,
				result = true,
				rs, group;

			if ( checkElement === undefined ) {
				delete this.invalid[ cleanElement.name ];
			} else {
				this.prepareElement( checkElement );
				this.currentElements = $( checkElement );

				// If this element is grouped, then validate all group elements already
				// containing a value
				group = this.groups[ checkElement.name ];
				if ( group ) {
					$.each( this.groups, function( name, testgroup ) {
						if ( testgroup === group && name !== checkElement.name ) {
							cleanElement = v.validationTargetFor( v.clean( v.findByName( name ) ) );
							if ( cleanElement && cleanElement.name in v.invalid ) {
								v.currentElements.push( cleanElement );
								result = v.check( cleanElement ) && result;
							}
						}
					} );
				}

				rs = this.check( checkElement ) !== false;
				result = result && rs;
				if ( rs ) {
					this.invalid[ checkElement.name ] = false;
				} else {
					this.invalid[ checkElement.name ] = true;
				}

				if ( !this.numberOfInvalids() ) {

					// Hide error containers on last error
					this.toHide = this.toHide.add( this.containers );
				}
				this.showErrors();

				// Add aria-invalid status for screen readers
				$( element ).attr( "aria-invalid", !rs );
			}

			return result;
		},

		// https://jqueryvalidation.org/Validator.showErrors/
		showErrors: function( errors ) {
			if ( errors ) {
				var validator = this;

				// Add items to error list and map
				$.extend( this.errorMap, errors );
				this.errorList = $.map( this.errorMap, function( message, name ) {
					return {
						message: message,
						element: validator.findByName( name )[ 0 ]
					};
				} );

				// Remove items from success list
				this.successList = $.grep( this.successList, function( element ) {
					return !( element.name in errors );
				} );
			}
			if ( this.settings.showErrors ) {
				this.settings.showErrors.call( this, this.errorMap, this.errorList );
			} else {
				this.defaultShowErrors();
			}
		},

		// https://jqueryvalidation.org/Validator.resetForm/
		resetForm: function() {
			if ( $.fn.resetForm ) {
				$( this.currentForm ).resetForm();
			}
			this.invalid = {};
			this.submitted = {};
			this.prepareForm();
			this.hideErrors();
			var elements = this.elements()
				.removeData( "previousValue" )
				.removeAttr( "aria-invalid" );

			this.resetElements( elements );
		},

		resetElements: function( elements ) {
			var i;

			if ( this.settings.unhighlight ) {
				for ( i = 0; elements[ i ]; i++ ) {
					this.settings.unhighlight.call( this, elements[ i ],
						this.settings.errorClass, "" );
					this.findByName( elements[ i ].name ).removeClass( this.settings.validClass );
				}
			} else {
				elements
					.removeClass( this.settings.errorClass )
					.removeClass( this.settings.validClass );
			}
		},

		numberOfInvalids: function() {
			return this.objectLength( this.invalid );
		},

		objectLength: function( obj ) {
			/* jshint unused: false */
			var count = 0,
				i;
			for ( i in obj ) {

				// This check allows counting elements with empty error
				// message as invalid elements
				if ( obj[ i ] !== undefined && obj[ i ] !== null && obj[ i ] !== false ) {
					count++;
				}
			}
			return count;
		},

		hideErrors: function() {
			this.hideThese( this.toHide );
		},

		hideThese: function( errors ) {
			errors.not( this.containers ).text( "" );
			this.addWrapper( errors ).hide();
		},

		valid: function() {
			return this.size() === 0;
		},

		size: function() {
			return this.errorList.length;
		},

		focusInvalid: function() {
			if ( this.settings.focusInvalid ) {
				try {
					$( this.findLastActive() || this.errorList.length && this.errorList[ 0 ].element || [] )
					.filter( ":visible" )
					.trigger( "focus" )

					// Manually trigger focusin event; without it, focusin handler isn't called, findLastActive won't have anything to find
					.trigger( "focusin" );
				} catch ( e ) {

					// Ignore IE throwing errors when focusing hidden elements
				}
			}
		},

		findLastActive: function() {
			var lastActive = this.lastActive;
			return lastActive && $.grep( this.errorList, function( n ) {
				return n.element.name === lastActive.name;
			} ).length === 1 && lastActive;
		},

		elements: function() {
			var validator = this,
				rulesCache = {};

			// Select all valid inputs inside the form (no submit or reset buttons)
			return $( this.currentForm )
			.find( "input, select, textarea, [contenteditable]" )
			.not( ":submit, :reset, :image, :disabled" )
			.not( this.settings.ignore )
			.filter( function() {
				var name = this.name || $( this ).attr( "name" ); // For contenteditable
				var isContentEditable = typeof $( this ).attr( "contenteditable" ) !== "undefined" && $( this ).attr( "contenteditable" ) !== "false";

				if ( !name && validator.settings.debug && window.console ) {
					console.error( "%o has no name assigned", this );
				}

				// Set form expando on contenteditable
				if ( isContentEditable ) {
					this.form = $( this ).closest( "form" )[ 0 ];
					this.name = name;
				}

				// Ignore elements that belong to other/nested forms
				if ( this.form !== validator.currentForm ) {
					return false;
				}

				// Select only the first element for each name, and only those with rules specified
				if ( name in rulesCache || !validator.objectLength( $( this ).rules() ) ) {
					return false;
				}

				rulesCache[ name ] = true;
				return true;
			} );
		},

		clean: function( selector ) {
			return $( selector )[ 0 ];
		},

		errors: function() {
			var errorClass = this.settings.errorClass.split( " " ).join( "." );
			return $( this.settings.errorElement + "." + errorClass, this.errorContext );
		},

		resetInternals: function() {
			this.successList = [];
			this.errorList = [];
			this.errorMap = {};
			this.toShow = $( [] );
			this.toHide = $( [] );
		},

		reset: function() {
			this.resetInternals();
			this.currentElements = $( [] );
		},

		prepareForm: function() {
			this.reset();
			this.toHide = this.errors().add( this.containers );
		},

		prepareElement: function( element ) {
			this.reset();
			this.toHide = this.errorsFor( element );
		},

		elementValue: function( element ) {
			var $element = $( element ),
				type = element.type,
				isContentEditable = typeof $element.attr( "contenteditable" ) !== "undefined" && $element.attr( "contenteditable" ) !== "false",
				val, idx;

			if ( type === "radio" || type === "checkbox" ) {
				return this.findByName( element.name ).filter( ":checked" ).val();
			} else if ( type === "number" && typeof element.validity !== "undefined" ) {
				return element.validity.badInput ? "NaN" : $element.val();
			}

			if ( isContentEditable ) {
				val = $element.text();
			} else {
				val = $element.val();
			}

			if ( type === "file" ) {

				// Modern browser (chrome & safari)
				if ( val.substr( 0, 12 ) === "C:\\fakepath\\" ) {
					return val.substr( 12 );
				}

				// Legacy browsers
				// Unix-based path
				idx = val.lastIndexOf( "/" );
				if ( idx >= 0 ) {
					return val.substr( idx + 1 );
				}

				// Windows-based path
				idx = val.lastIndexOf( "\\" );
				if ( idx >= 0 ) {
					return val.substr( idx + 1 );
				}

				// Just the file name
				return val;
			}

			if ( typeof val === "string" ) {
				return val.replace( /\r/g, "" );
			}
			return val;
		},

		check: function( element ) {
			element = this.validationTargetFor( this.clean( element ) );

			var rules = $( element ).rules(),
				rulesCount = $.map( rules, function( n, i ) {
					return i;
				} ).length,
				dependencyMismatch = false,
				val = this.elementValue( element ),
				result, method, rule, normalizer;

			// Prioritize the local normalizer defined for this element over the global one
			// if the former exists, otherwise user the global one in case it exists.
			if ( typeof rules.normalizer === "function" ) {
				normalizer = rules.normalizer;
			} else if (	typeof this.settings.normalizer === "function" ) {
				normalizer = this.settings.normalizer;
			}

			// If normalizer is defined, then call it to retreive the changed value instead
			// of using the real one.
			// Note that `this` in the normalizer is `element`.
			if ( normalizer ) {
				val = normalizer.call( element, val );

				// Delete the normalizer from rules to avoid treating it as a pre-defined method.
				delete rules.normalizer;
			}

			for ( method in rules ) {
				rule = { method: method, parameters: rules[ method ] };
				try {
					result = $.validator.methods[ method ].call( this, val, element, rule.parameters );

					// If a method indicates that the field is optional and therefore valid,
					// don't mark it as valid when there are no other rules
					if ( result === "dependency-mismatch" && rulesCount === 1 ) {
						dependencyMismatch = true;
						continue;
					}
					dependencyMismatch = false;

					if ( result === "pending" ) {
						this.toHide = this.toHide.not( this.errorsFor( element ) );
						return;
					}

					if ( !result ) {
						this.formatAndAdd( element, rule );
						return false;
					}
				} catch ( e ) {
					if ( this.settings.debug && window.console ) {
						console.log( "Exception occurred when checking element " + element.id + ", check the '" + rule.method + "' method.", e );
					}
					if ( e instanceof TypeError ) {
						e.message += ".  Exception occurred when checking element " + element.id + ", check the '" + rule.method + "' method.";
					}

					throw e;
				}
			}
			if ( dependencyMismatch ) {
				return;
			}
			if ( this.objectLength( rules ) ) {
				this.successList.push( element );
			}
			return true;
		},

		// Return the custom message for the given element and validation method
		// specified in the element's HTML5 data attribute
		// return the generic message if present and no method specific message is present
		customDataMessage: function( element, method ) {
			return $( element ).data( "msg" + method.charAt( 0 ).toUpperCase() +
				method.substring( 1 ).toLowerCase() ) || $( element ).data( "msg" );
		},

		// Return the custom message for the given element name and validation method
		customMessage: function( name, method ) {
			var m = this.settings.messages[ name ];
			return m && ( m.constructor === String ? m : m[ method ] );
		},

		// Return the first defined argument, allowing empty strings
		findDefined: function() {
			for ( var i = 0; i < arguments.length; i++ ) {
				if ( arguments[ i ] !== undefined ) {
					return arguments[ i ];
				}
			}
			return undefined;
		},

		// The second parameter 'rule' used to be a string, and extended to an object literal
		// of the following form:
		// rule = {
		//     method: "method name",
		//     parameters: "the given method parameters"
		// }
		//
		// The old behavior still supported, kept to maintain backward compatibility with
		// old code, and will be removed in the next major release.
		defaultMessage: function( element, rule ) {
			if ( typeof rule === "string" ) {
				rule = { method: rule };
			}

			var message = this.findDefined(
					this.customMessage( element.name, rule.method ),
					this.customDataMessage( element, rule.method ),

					// 'title' is never undefined, so handle empty string as undefined
					!this.settings.ignoreTitle && element.title || undefined,
					$.validator.messages[ rule.method ],
					"<strong>Warning: No message defined for " + element.name + "</strong>"
				),
				theregex = /\$?\{(\d+)\}/g;
			if ( typeof message === "function" ) {
				message = message.call( this, rule.parameters, element );
			} else if ( theregex.test( message ) ) {
				message = $.validator.format( message.replace( theregex, "{$1}" ), rule.parameters );
			}

			return message;
		},

		formatAndAdd: function( element, rule ) {
			var message = this.defaultMessage( element, rule );

			this.errorList.push( {
				message: message,
				element: element,
				method: rule.method
			} );

			this.errorMap[ element.name ] = message;
			this.submitted[ element.name ] = message;
		},

		addWrapper: function( toToggle ) {
			if ( this.settings.wrapper ) {
				toToggle = toToggle.add( toToggle.parent( this.settings.wrapper ) );
			}
			return toToggle;
		},

		defaultShowErrors: function() {
			var i, elements, error;
			for ( i = 0; this.errorList[ i ]; i++ ) {
				error = this.errorList[ i ];
				if ( this.settings.highlight ) {
					this.settings.highlight.call( this, error.element, this.settings.errorClass, this.settings.validClass );
				}
				this.showLabel( error.element, error.message );
			}
			if ( this.errorList.length ) {
				this.toShow = this.toShow.add( this.containers );
			}
			if ( this.settings.success ) {
				for ( i = 0; this.successList[ i ]; i++ ) {
					this.showLabel( this.successList[ i ] );
				}
			}
			if ( this.settings.unhighlight ) {
				for ( i = 0, elements = this.validElements(); elements[ i ]; i++ ) {
					this.settings.unhighlight.call( this, elements[ i ], this.settings.errorClass, this.settings.validClass );
				}
			}
			this.toHide = this.toHide.not( this.toShow );
			this.hideErrors();
			this.addWrapper( this.toShow ).show();
		},

		validElements: function() {
			return this.currentElements.not( this.invalidElements() );
		},

		invalidElements: function() {
			return $( this.errorList ).map( function() {
				return this.element;
			} );
		},

		showLabel: function( element, message ) {
			var place, group, errorID, v,
				error = this.errorsFor( element ),
				elementID = this.idOrName( element ),
				describedBy = $( element ).attr( "aria-describedby" );

			if ( error.length ) {

				// Refresh error/success class
				error.removeClass( this.settings.validClass ).addClass( this.settings.errorClass );

				// Replace message on existing label
				error.html( message );
			} else {

				// Create error element
				error = $( "<" + this.settings.errorElement + ">" )
					.attr( "id", elementID + "-error" )
					.addClass( this.settings.errorClass )
					.html( message || "" );

				// Maintain reference to the element to be placed into the DOM
				place = error;
				if ( this.settings.wrapper ) {

					// Make sure the element is visible, even in IE
					// actually showing the wrapped element is handled elsewhere
					place = error.hide().show().wrap( "<" + this.settings.wrapper + "/>" ).parent();
				}
				if ( this.labelContainer.length ) {
					this.labelContainer.append( place );
				} else if ( this.settings.errorPlacement ) {
					this.settings.errorPlacement.call( this, place, $( element ) );
				} else {
					place.insertAfter( element );
				}

				// Link error back to the element
				if ( error.is( "label" ) ) {

					// If the error is a label, then associate using 'for'
					error.attr( "for", elementID );

					// If the element is not a child of an associated label, then it's necessary
					// to explicitly apply aria-describedby
				} else if ( error.parents( "label[for='" + this.escapeCssMeta( elementID ) + "']" ).length === 0 ) {
					errorID = error.attr( "id" );

					// Respect existing non-error aria-describedby
					if ( !describedBy ) {
						describedBy = errorID;
					} else if ( !describedBy.match( new RegExp( "\\b" + this.escapeCssMeta( errorID ) + "\\b" ) ) ) {

						// Add to end of list if not already present
						describedBy += " " + errorID;
					}
					$( element ).attr( "aria-describedby", describedBy );

					// If this element is grouped, then assign to all elements in the same group
					group = this.groups[ element.name ];
					if ( group ) {
						v = this;
						$.each( v.groups, function( name, testgroup ) {
							if ( testgroup === group ) {
								$( "[name='" + v.escapeCssMeta( name ) + "']", v.currentForm )
									.attr( "aria-describedby", error.attr( "id" ) );
							}
						} );
					}
				}
			}
			if ( !message && this.settings.success ) {
				error.text( "" );
				if ( typeof this.settings.success === "string" ) {
					error.addClass( this.settings.success );
				} else {
					this.settings.success( error, element );
				}
			}
			this.toShow = this.toShow.add( error );
		},

		errorsFor: function( element ) {
			var name = this.escapeCssMeta( this.idOrName( element ) ),
				describer = $( element ).attr( "aria-describedby" ),
				selector = "label[for='" + name + "'], label[for='" + name + "'] *";

			// 'aria-describedby' should directly reference the error element
			if ( describer ) {
				selector = selector + ", #" + this.escapeCssMeta( describer )
					.replace( /\s+/g, ", #" );
			}

			return this
				.errors()
				.filter( selector );
		},

		// See https://api.jquery.com/category/selectors/, for CSS
		// meta-characters that should be escaped in order to be used with JQuery
		// as a literal part of a name/id or any selector.
		escapeCssMeta: function( string ) {
			return string.replace( /([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g, "\\$1" );
		},

		idOrName: function( element ) {
			return this.groups[ element.name ] || ( this.checkable( element ) ? element.name : element.id || element.name );
		},

		validationTargetFor: function( element ) {

			// If radio/checkbox, validate first element in group instead
			if ( this.checkable( element ) ) {
				element = this.findByName( element.name );
			}

			// Always apply ignore filter
			return $( element ).not( this.settings.ignore )[ 0 ];
		},

		checkable: function( element ) {
			return ( /radio|checkbox/i ).test( element.type );
		},

		findByName: function( name ) {
			return $( this.currentForm ).find( "[name='" + this.escapeCssMeta( name ) + "']" );
		},

		getLength: function( value, element ) {
			switch ( element.nodeName.toLowerCase() ) {
			case "select":
				return $( "option:selected", element ).length;
			case "input":
				if ( this.checkable( element ) ) {
					return this.findByName( element.name ).filter( ":checked" ).length;
				}
			}
			return value.length;
		},

		depend: function( param, element ) {
			return this.dependTypes[ typeof param ] ? this.dependTypes[ typeof param ]( param, element ) : true;
		},

		dependTypes: {
			"boolean": function( param ) {
				return param;
			},
			"string": function( param, element ) {
				return !!$( param, element.form ).length;
			},
			"function": function( param, element ) {
				return param( element );
			}
		},

		optional: function( element ) {
			var val = this.elementValue( element );
			return !$.validator.methods.required.call( this, val, element ) && "dependency-mismatch";
		},

		startRequest: function( element ) {
			if ( !this.pending[ element.name ] ) {
				this.pendingRequest++;
				$( element ).addClass( this.settings.pendingClass );
				this.pending[ element.name ] = true;
			}
		},

		stopRequest: function( element, valid ) {
			this.pendingRequest--;

			// Sometimes synchronization fails, make sure pendingRequest is never < 0
			if ( this.pendingRequest < 0 ) {
				this.pendingRequest = 0;
			}
			delete this.pending[ element.name ];
			$( element ).removeClass( this.settings.pendingClass );
			if ( valid && this.pendingRequest === 0 && this.formSubmitted && this.form() ) {
				$( this.currentForm ).submit();

				// Remove the hidden input that was used as a replacement for the
				// missing submit button. The hidden input is added by `handle()`
				// to ensure that the value of the used submit button is passed on
				// for scripted submits triggered by this method
				if ( this.submitButton ) {
					$( "input:hidden[name='" + this.submitButton.name + "']", this.currentForm ).remove();
				}

				this.formSubmitted = false;
			} else if ( !valid && this.pendingRequest === 0 && this.formSubmitted ) {
				$( this.currentForm ).triggerHandler( "invalid-form", [ this ] );
				this.formSubmitted = false;
			}
		},

		previousValue: function( element, method ) {
			method = typeof method === "string" && method || "remote";

			return $.data( element, "previousValue" ) || $.data( element, "previousValue", {
				old: null,
				valid: true,
				message: this.defaultMessage( element, { method: method } )
			} );
		},

		// Cleans up all forms and elements, removes validator-specific events
		destroy: function() {
			this.resetForm();

			$( this.currentForm )
				.off( ".validate" )
				.removeData( "validator" )
				.find( ".validate-equalTo-blur" )
					.off( ".validate-equalTo" )
					.removeClass( "validate-equalTo-blur" )
				.find( ".validate-lessThan-blur" )
					.off( ".validate-lessThan" )
					.removeClass( "validate-lessThan-blur" )
				.find( ".validate-lessThanEqual-blur" )
					.off( ".validate-lessThanEqual" )
					.removeClass( "validate-lessThanEqual-blur" )
				.find( ".validate-greaterThanEqual-blur" )
					.off( ".validate-greaterThanEqual" )
					.removeClass( "validate-greaterThanEqual-blur" )
				.find( ".validate-greaterThan-blur" )
					.off( ".validate-greaterThan" )
					.removeClass( "validate-greaterThan-blur" );
		}

	},

	classRuleSettings: {
		required: { required: true },
		email: { email: true },
		url: { url: true },
		date: { date: true },
		dateISO: { dateISO: true },
		number: { number: true },
		digits: { digits: true },
		creditcard: { creditcard: true }
	},

	addClassRules: function( className, rules ) {
		if ( className.constructor === String ) {
			this.classRuleSettings[ className ] = rules;
		} else {
			$.extend( this.classRuleSettings, className );
		}
	},

	classRules: function( element ) {
		var rules = {},
			classes = $( element ).attr( "class" );

		if ( classes ) {
			$.each( classes.split( " " ), function() {
				if ( this in $.validator.classRuleSettings ) {
					$.extend( rules, $.validator.classRuleSettings[ this ] );
				}
			} );
		}
		return rules;
	},

	normalizeAttributeRule: function( rules, type, method, value ) {

		// Convert the value to a number for number inputs, and for text for backwards compability
		// allows type="date" and others to be compared as strings
		if ( /min|max|step/.test( method ) && ( type === null || /number|range|text/.test( type ) ) ) {
			value = Number( value );

			// Support Opera Mini, which returns NaN for undefined minlength
			if ( isNaN( value ) ) {
				value = undefined;
			}
		}

		if ( value || value === 0 ) {
			rules[ method ] = value;
		} else if ( type === method && type !== "range" ) {

			// Exception: the jquery validate 'range' method
			// does not test for the html5 'range' type
			rules[ method ] = true;
		}
	},

	attributeRules: function( element ) {
		var rules = {},
			$element = $( element ),
			type = element.getAttribute( "type" ),
			method, value;

		for ( method in $.validator.methods ) {

			// Support for <input required> in both html5 and older browsers
			if ( method === "required" ) {
				value = element.getAttribute( method );

				// Some browsers return an empty string for the required attribute
				// and non-HTML5 browsers might have required="" markup
				if ( value === "" ) {
					value = true;
				}

				// Force non-HTML5 browsers to return bool
				value = !!value;
			} else {
				value = $element.attr( method );
			}

			this.normalizeAttributeRule( rules, type, method, value );
		}

		// 'maxlength' may be returned as -1, 2147483647 ( IE ) and 524288 ( safari ) for text inputs
		if ( rules.maxlength && /-1|2147483647|524288/.test( rules.maxlength ) ) {
			delete rules.maxlength;
		}

		return rules;
	},

	dataRules: function( element ) {
		var rules = {},
			$element = $( element ),
			type = element.getAttribute( "type" ),
			method, value;

		for ( method in $.validator.methods ) {
			value = $element.data( "rule" + method.charAt( 0 ).toUpperCase() + method.substring( 1 ).toLowerCase() );

			// Cast empty attributes like `data-rule-required` to `true`
			if ( value === "" ) {
				value = true;
			}

			this.normalizeAttributeRule( rules, type, method, value );
		}
		return rules;
	},

	staticRules: function( element ) {
		var rules = {},
			validator = $.data( element.form, "validator" );

		if ( validator.settings.rules ) {
			rules = $.validator.normalizeRule( validator.settings.rules[ element.name ] ) || {};
		}
		return rules;
	},

	normalizeRules: function( rules, element ) {

		// Handle dependency check
		$.each( rules, function( prop, val ) {

			// Ignore rule when param is explicitly false, eg. required:false
			if ( val === false ) {
				delete rules[ prop ];
				return;
			}
			if ( val.param || val.depends ) {
				var keepRule = true;
				switch ( typeof val.depends ) {
				case "string":
					keepRule = !!$( val.depends, element.form ).length;
					break;
				case "function":
					keepRule = val.depends.call( element, element );
					break;
				}
				if ( keepRule ) {
					rules[ prop ] = val.param !== undefined ? val.param : true;
				} else {
					$.data( element.form, "validator" ).resetElements( $( element ) );
					delete rules[ prop ];
				}
			}
		} );

		// Evaluate parameters
		$.each( rules, function( rule, parameter ) {
			rules[ rule ] = typeof parameter === "function" && rule !== "normalizer" ? parameter( element ) : parameter;
		} );

		// Clean number parameters
		$.each( [ "minlength", "maxlength" ], function() {
			if ( rules[ this ] ) {
				rules[ this ] = Number( rules[ this ] );
			}
		} );
		$.each( [ "rangelength", "range" ], function() {
			var parts;
			if ( rules[ this ] ) {
				if ( Array.isArray( rules[ this ] ) ) {
					rules[ this ] = [ Number( rules[ this ][ 0 ] ), Number( rules[ this ][ 1 ] ) ];
				} else if ( typeof rules[ this ] === "string" ) {
					parts = rules[ this ].replace( /[\[\]]/g, "" ).split( /[\s,]+/ );
					rules[ this ] = [ Number( parts[ 0 ] ), Number( parts[ 1 ] ) ];
				}
			}
		} );

		if ( $.validator.autoCreateRanges ) {

			// Auto-create ranges
			if ( rules.min != null && rules.max != null ) {
				rules.range = [ rules.min, rules.max ];
				delete rules.min;
				delete rules.max;
			}
			if ( rules.minlength != null && rules.maxlength != null ) {
				rules.rangelength = [ rules.minlength, rules.maxlength ];
				delete rules.minlength;
				delete rules.maxlength;
			}
		}

		return rules;
	},

	// Converts a simple string to a {string: true} rule, e.g., "required" to {required:true}
	normalizeRule: function( data ) {
		if ( typeof data === "string" ) {
			var transformed = {};
			$.each( data.split( /\s/ ), function() {
				transformed[ this ] = true;
			} );
			data = transformed;
		}
		return data;
	},

	// https://jqueryvalidation.org/jQuery.validator.addMethod/
	addMethod: function( name, method, message ) {
		$.validator.methods[ name ] = method;
		$.validator.messages[ name ] = message !== undefined ? message : $.validator.messages[ name ];
		if ( method.length < 3 ) {
			$.validator.addClassRules( name, $.validator.normalizeRule( name ) );
		}
	},

	// https://jqueryvalidation.org/jQuery.validator.methods/
	methods: {

		// https://jqueryvalidation.org/required-method/
		required: function( value, element, param ) {

			// Check if dependency is met
			if ( !this.depend( param, element ) ) {
				return "dependency-mismatch";
			}
			if ( element.nodeName.toLowerCase() === "select" ) {

				// Could be an array for select-multiple or a string, both are fine this way
				var val = $( element ).val();
				return val && val.length > 0;
			}
			if ( this.checkable( element ) ) {
				return this.getLength( value, element ) > 0;
			}
			return value !== undefined && value !== null && value.length > 0;
		},

		// https://jqueryvalidation.org/email-method/
		email: function( value, element ) {

			// From https://html.spec.whatwg.org/multipage/forms.html#valid-e-mail-address
			// Retrieved 2014-01-14
			// If you have a problem with this implementation, report a bug against the above spec
			// Or use custom methods to implement your own email validation
			return this.optional( element ) || /^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test( value );
		},

		// https://jqueryvalidation.org/url-method/
		url: function( value, element ) {

			// Copyright (c) 2010-2013 Diego Perini, MIT licensed
			// https://gist.github.com/dperini/729294
			// see also https://mathiasbynens.be/demo/url-regex
			// modified to allow protocol-relative URLs
			return this.optional( element ) || /^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test( value );
		},

		// https://jqueryvalidation.org/date-method/
		date: ( function() {
			var called = false;

			return function( value, element ) {
				if ( !called ) {
					called = true;
					if ( this.settings.debug && window.console ) {
						console.warn(
							"The `date` method is deprecated and will be removed in version '2.0.0'.\n" +
							"Please don't use it, since it relies on the Date constructor, which\n" +
							"behaves very differently across browsers and locales. Use `dateISO`\n" +
							"instead or one of the locale specific methods in `localizations/`\n" +
							"and `additional-methods.js`."
						);
					}
				}

				return this.optional( element ) || !/Invalid|NaN/.test( new Date( value ).toString() );
			};
		}() ),

		// https://jqueryvalidation.org/dateISO-method/
		dateISO: function( value, element ) {
			return this.optional( element ) || /^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test( value );
		},

		// https://jqueryvalidation.org/number-method/
		number: function( value, element ) {
			return this.optional( element ) || /^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test( value );
		},

		// https://jqueryvalidation.org/digits-method/
		digits: function( value, element ) {
			return this.optional( element ) || /^\d+$/.test( value );
		},

		// https://jqueryvalidation.org/minlength-method/
		minlength: function( value, element, param ) {
			var length = Array.isArray( value ) ? value.length : this.getLength( value, element );
			return this.optional( element ) || length >= param;
		},

		// https://jqueryvalidation.org/maxlength-method/
		maxlength: function( value, element, param ) {
			var length = Array.isArray( value ) ? value.length : this.getLength( value, element );
			return this.optional( element ) || length <= param;
		},

		// https://jqueryvalidation.org/rangelength-method/
		rangelength: function( value, element, param ) {
			var length = Array.isArray( value ) ? value.length : this.getLength( value, element );
			return this.optional( element ) || ( length >= param[ 0 ] && length <= param[ 1 ] );
		},

		// https://jqueryvalidation.org/min-method/
		min: function( value, element, param ) {
			return this.optional( element ) || value >= param;
		},

		// https://jqueryvalidation.org/max-method/
		max: function( value, element, param ) {
			return this.optional( element ) || value <= param;
		},

		// https://jqueryvalidation.org/range-method/
		range: function( value, element, param ) {
			return this.optional( element ) || ( value >= param[ 0 ] && value <= param[ 1 ] );
		},

		// https://jqueryvalidation.org/step-method/
		step: function( value, element, param ) {
			var type = $( element ).attr( "type" ),
				errorMessage = "Step attribute on input type " + type + " is not supported.",
				supportedTypes = [ "text", "number", "range" ],
				re = new RegExp( "\\b" + type + "\\b" ),
				notSupported = type && !re.test( supportedTypes.join() ),
				decimalPlaces = function( num ) {
					var match = ( "" + num ).match( /(?:\.(\d+))?$/ );
					if ( !match ) {
						return 0;
					}

					// Number of digits right of decimal point.
					return match[ 1 ] ? match[ 1 ].length : 0;
				},
				toInt = function( num ) {
					return Math.round( num * Math.pow( 10, decimals ) );
				},
				valid = true,
				decimals;

			// Works only for text, number and range input types
			// TODO find a way to support input types date, datetime, datetime-local, month, time and week
			if ( notSupported ) {
				throw new Error( errorMessage );
			}

			decimals = decimalPlaces( param );

			// Value can't have too many decimals
			if ( decimalPlaces( value ) > decimals || toInt( value ) % toInt( param ) !== 0 ) {
				valid = false;
			}

			return this.optional( element ) || valid;
		},

		// https://jqueryvalidation.org/equalTo-method/
		equalTo: function( value, element, param ) {

			// Bind to the blur event of the target in order to revalidate whenever the target field is updated
			var target = $( param );
			if ( this.settings.onfocusout && target.not( ".validate-equalTo-blur" ).length ) {
				target.addClass( "validate-equalTo-blur" ).on( "blur.validate-equalTo", function() {
					$( element ).valid();
				} );
			}
			return value === target.val();
		},

		// https://jqueryvalidation.org/remote-method/
		remote: function( value, element, param, method ) {
			if ( this.optional( element ) ) {
				return "dependency-mismatch";
			}

			method = typeof method === "string" && method || "remote";

			var previous = this.previousValue( element, method ),
				validator, data, optionDataString;

			if ( !this.settings.messages[ element.name ] ) {
				this.settings.messages[ element.name ] = {};
			}
			previous.originalMessage = previous.originalMessage || this.settings.messages[ element.name ][ method ];
			this.settings.messages[ element.name ][ method ] = previous.message;

			param = typeof param === "string" && { url: param } || param;
			optionDataString = $.param( $.extend( { data: value }, param.data ) );
			if ( previous.old === optionDataString ) {
				return previous.valid;
			}

			previous.old = optionDataString;
			validator = this;
			this.startRequest( element );
			data = {};
			data[ element.name ] = value;
			$.ajax( $.extend( true, {
				mode: "abort",
				port: "validate" + element.name,
				dataType: "json",
				data: data,
				context: validator.currentForm,
				success: function( response ) {
					var valid = response === true || response === "true",
						errors, message, submitted;

					validator.settings.messages[ element.name ][ method ] = previous.originalMessage;
					if ( valid ) {
						submitted = validator.formSubmitted;
						validator.resetInternals();
						validator.toHide = validator.errorsFor( element );
						validator.formSubmitted = submitted;
						validator.successList.push( element );
						validator.invalid[ element.name ] = false;
						validator.showErrors();
					} else {
						errors = {};
						message = response || validator.defaultMessage( element, { method: method, parameters: value } );
						errors[ element.name ] = previous.message = message;
						validator.invalid[ element.name ] = true;
						validator.showErrors( errors );
					}
					previous.valid = valid;
					validator.stopRequest( element, valid );
				}
			}, param ) );
			return "pending";
		}
	}

} );

// Ajax mode: abort
// usage: $.ajax({ mode: "abort"[, port: "uniqueport"]});
// if mode:"abort" is used, the previous request on that port (port can be undefined) is aborted via XMLHttpRequest.abort()

var pendingRequests = {},
	ajax;

// Use a prefilter if available (1.5+)
if ( $.ajaxPrefilter ) {
	$.ajaxPrefilter( function( settings, _, xhr ) {
		var port = settings.port;
		if ( settings.mode === "abort" ) {
			if ( pendingRequests[ port ] ) {
				pendingRequests[ port ].abort();
			}
			pendingRequests[ port ] = xhr;
		}
	} );
} else {

	// Proxy ajax
	ajax = $.ajax;
	$.ajax = function( settings ) {
		var mode = ( "mode" in settings ? settings : $.ajaxSettings ).mode,
			port = ( "port" in settings ? settings : $.ajaxSettings ).port;
		if ( mode === "abort" ) {
			if ( pendingRequests[ port ] ) {
				pendingRequests[ port ].abort();
			}
			pendingRequests[ port ] = ajax.apply( this, arguments );
			return pendingRequests[ port ];
		}
		return ajax.apply( this, arguments );
	};
}
return $;
}));
}(jQuery));
(function() {
    // Plugin definition.
    $.fn.resizerBarre = function( options , type_slider , line_break ) {

        var $current_elements = this;

        function Resizer() {
            var self = this;
            this.total_width = 0;
            this.$elem;
            this.limitClass = function( $resizer, $input_container, width_barre1, width_barre2 ) {
                var input_container_width = $input_container.width(),
                    half_input_container_width = input_container_width / 2;

                $input_container.css({
                    'margin-left': 0,
                    'left': Math.round(width_barre1 - half_input_container_width)
                });
                // Ajout de classe lorsque l'input est trop proche du bord gauche
                if ( width_barre1 <= half_input_container_width ) {
                    $resizer.addClass('resizer-limit-left');
                    $input_container.css('left', 0);
                } else {
                    $resizer.removeClass('resizer-limit-left');
                }
                // Ajout de classe lorsque l'input est trop proche du bord droit
                if ( width_barre2 <= half_input_container_width ) {
                    $resizer.addClass('resizer-limit-right');
                    $input_container.css({
                        'margin-left': Math.round(width_barre2 + width_barre1 - input_container_width),
                        'left': 0
                    });
                } else {
                    $resizer.removeClass('resizer-limit-right');
                }
            }
            this.resizeSlider = function() {

                var old_total_width = this.total_width,
                    total_width = this.$elem.width(),
                    start_width = this.$elem.find('.barre-1').width() * total_width / old_total_width;
                    new_width_barre2 = total_width - start_width,
                    $input_container = this.$elem.find('.input-container'),
                    $resizer = this.$elem.find('.resizer'),
                    $barre_1 = this.$elem.find('.barre-1'),
                    $barre_2 = this.$elem.find('.barre-2'),
                    border_width = ($barre_1.outerWidth() - $barre_1.width()) + ($barre_2.outerWidth() - $barre_2.width());

                if ( start_width <= 2 ) {
                    start_width = 0
                }
                if ( new_width_barre2 <= 2 ) {
                    new_width_barre2 = 0;
                }

                this.$elem.find('.barre-1').width( start_width -border_width);
                this.$elem.find('.barre-2').width( new_width_barre2 -border_width);

                // self.limitClass( $resizer, $input_container, start_width, new_width_barre2 );
                this.total_width = total_width;
                // this.$elem.width( total_width );
                if ( $barre_1.outerWidth() + $barre_2.outerWidth() >= total_width ) {
                    this.$elem.width( this.$elem.width()+1 );
                } 
                // this.limitClass( $resizer, $input_container, $barre_1.width(), $barre_2.width() );
            }
            this.init = function() {
                var $elem = $( this ),
                    $resizer = $elem.find('.resizer'),
                    $input = $elem.find('input:not([id="montantHT"])'),
                    $barre_1 = $elem.find('.barre-1'),
                    $barre_2 = $elem.find('.barre-2'),
                    $figcaption = $elem.find('figcaption'),
                    start_x = 0,
                    elem_width = $elem.width(),
                    curseur_btn_width = $(this).find('.curseur-btn').width() / 2,
                    total_width = elem_width,
                    start_width = 0,
                    min = options.min,
                    typeSep = options.typeSep,
                    max = options.max,
                    pointSep = options.pointSep,
                    decimal =  options.decimal,
                    step =  options.step,
                    scale =  options.scale,
                    unit =  options.unit,
                    controls = options.controls,
                    //exclude the static input
                    $input_container = $elem.find('.input-container:not(.static-container)'),
                    input_container_width = $input_container.width(),
                    half_input_container_width = input_container_width / 2,
                    border_width = ($barre_1.outerWidth() - $barre_1.width()) + ($barre_2.outerWidth() - $barre_2.width()),
                    pixelStep = ( total_width - border_width ) / ( ( max - min ) / step);

                // Pour Capro
                self.isCapro = ( $elem.find('#montantTTC').length > 0 )? true:false;
                if( self.isCapro ){
                    self.montantTTC = $elem.find('#montantTTC');
                    self.montantHT  = $elem.find('#montantHT');
                }

                // Set total width property
                self.total_width = total_width;
                // console.log(self.total_width);
                self.$elem = $elem;
                // Initialisation
                self.limitClass( $resizer, $input_container, $barre_1.width(), $barre_2.width() );
                $input.on('focus mousedown mousemove', function() {
                    stopDrag(false);
                });

                // $elem.on('click', function(e) {
                //     start_x = e.clientX;
                //     start_width = 0;
                // });

                if ( unit !== undefined ) {
                    $elem.find('.js-simulation-credit-unit').text( unit );
                }
                // si min et max sont renseigns
                if ( min !== undefined && max !== undefined ) {
                    var separator = '';
                    if ( line_break ) { separator = '<br>'; }

                    $figcaption.html('<ul class="list-scale">'+ buildScale(min, separator, unit, typeSep) +'</ul>');
                    var distance = max - min;
                    // si l'chelle  afficher est renseign
                    if( scale !== undefined ) {
                        $.each( scale , function( index, value ) {
                           $figcaption.find('.list-scale').append( buildScale(value, separator, unit, typeSep) );
                           var percent = (value-min) * 100 / distance;
                           $figcaption.find('li:last-child').css('left', Math.round(percent) +'%');
                            $figcaption.find('li.last-child').css('left', Math.round(percent) +'%');
                        });
                        if ( controls ) {
                            $figcaption.find('.list-scale').append('<button class="button-plus" type="button">+</button><button class="button-moins" type="button">-</button>');
                            $figcaption.find('.button-moins').css({
                                'position': 'absolute',
                                'left': '-55px',
                                'width': '30px',
                                'top': '-30px'
                            });
                            $figcaption.find('.button-plus').css({
                                'position': 'absolute',
                                'left': 'calc(100% + 20px)',
                                'width': '30px',
                                'top': '-30px'
                            });
                            $figcaption.parents('figure').css('margin-left', '20px');
                            (function() {
                                var getMax = function (arr) { return  Math.max.apply(null, arr); };
                                var getMin = function (arr) { return  Math.min.apply(null, arr); };
                                var nearest  = function (arr, x) {
                                    var l = [], h = [];

                                    arr.forEach(function (v) {
                                        ((v < x) && l.push(v)) || ((v > x) && h.push(v));
                                    });

                                    return { "low": arr.indexOf(getMax(l)), "high": arr.indexOf(getMin(h)) };
                                };
                                $figcaption.find('.button-moins').on('click', function() {
                                    var goal = $input.val();
                                    var check_index = scale.indexOf( Number(goal) );
                                    // dj sur un montant de la rglette, on passe  l'index prcedent
                                    if ( check_index > 0 ) {
                                        $input.val( scale[ check_index-1 ]).trigger('keyup');
                                        updateBarre();
                                    } else {
                                        var index =  nearest( scale, goal ); 
                                        if ( index.low === -1 ) {
                                            $input.val( 0 ).trigger('keyup');
                                            updateBarre();
                                        } else {
                                            $input.val( scale[ index.low ] ).trigger('keyup');
                                            updateBarre();
                                        }
                                    }
                                });
                                $figcaption.find('.button-plus').on('click', function() { 
                                    var goal = $input.val();
                                    var check_index = scale.indexOf( Number(goal) );
                                    // dj sur un montant de la rglette, on passe  l'index suivant
                                    if ( $input.val() == max ) { return; }
                                    if ( check_index == scale.length - 1  ) {
                                        $input.val( max ).trigger('keyup');
                                        updateBarre();

                                    }
                                    else if ( check_index > 0 ) {
                                        $input.val( scale[ check_index+1 ]).trigger('keyup');
                                        updateBarre();
                                    } else {
                                        var index =  nearest( scale, goal ); 
                                        $input.val( scale[ index.high ] ).trigger('keyup');
                                        updateBarre();
                                    }
                                });
                            })();
                        }
                    }
                    $figcaption.find('.list-scale').append( buildScale(max, separator, unit, typeSep, true) );
                }
                
                $input.on('keyup', function() {
                     var value = $(this).val();
                     console.log(value)
                     delay( function() {
                         if ( isNaN(Number(value)) ) { return; }
                             updateValueInput( $resizer, value );
                             updateBarre();
                     }, 0);
                });


                updateBarre();
                
                function updateBarre() {
                    var value = $input.val();
                    var new_width_barre1 = ( +value * self.total_width + min ) / max,
                        new_width_barre2 =  self.total_width - new_width_barre1 - border_width;
                    
                    // Set width 
                    if ( new_width_barre1 <= 2 ) {
                        new_width_barre1 = 0
                    }
                    if ( new_width_barre2 <= 2 ) {
                        new_width_barre2 = 0;
                    }

                    $barre_1.width( Math.floor(new_width_barre1) );
                    $barre_2.width( Math.floor(new_width_barre2) );
                    self.limitClass( $resizer, $input_container , $barre_1.width(), $barre_2.width() );

                    if ( new_width_barre1 < 0 ) {
                        $barre_1.width( 0 );
                        $barre_2.width( Math.floor(self.total_width - border_width) );
                        if ( min.toFixed( decimal ) !=  $input.val() ) {
                            $input.val(  min.toFixed( decimal ) );
                            updateValueInput( $resizer, value );
                        }
                        self.limitClass( $resizer, $input_container , $barre_1.width(), $barre_2.width() );
                        stopDrag();
                    }  

                    if ( self.total_width <= new_width_barre1 + border_width)  {
                        $barre_1.width( Math.floor(self.total_width - border_width) );
                        $barre_2.width( 0 );
                        if ( max.toFixed( decimal ) !=  $input.val() ) {
                            $input.val( max.toFixed( decimal ) );
                            updateValueInput( $resizer, value );
                        }
                        self.limitClass( $resizer, $input_container , $barre_1.width(), $barre_2.width() );
                        stopDrag();
                    }
                    // console.log( $elem.width(), $barre_1.outerWidth(),$barre_2.outerWidth() )
                    if ( $barre_1.outerWidth() + $barre_2.outerWidth() >= $elem.width() ) {
                        $elem.width( $elem.width()+1 );
                    } 
                }

                $input.on('blur', function() {
                    var value = $(this).val();
                    if ( value > max ) { $input.val( max ); }
                    if ( value < min ) { $input.val( min ); }
                    $elem.trigger('stopDrag');
                });

                $resizer.on('mousedown', function(e) {
                    start_x = e.clientX;
                    lastStepReached = start_x;
                    start_width = $barre_1.width();
                    $elem.on('mousemove', doDrag);
                    $elem.on('mouseup', stopDrag);
                });

                function doDrag(e) {
                    var temp_new_width_barre1 = start_width + e.clientX - start_x,
                        new_width_barre1 = Math.round( temp_new_width_barre1 / pixelStep ) * pixelStep,
                        new_width_barre2 =  self.total_width - new_width_barre1 - border_width;
                    
                    // MINIMUM ATTEINT:  On reset les tailles car on peut avoir des valeurs ngatives  cause du calcul par rapport aux coordonnes
                    if ( new_width_barre1 <= 0 ) {    
                        $barre_1.width( 0 );
                        $barre_2.width( self.total_width - border_width - 1 );
                        $input.val( min.toFixed( decimal ) );
                        // stopDrag();
                        return;
                    }  
                    // MAXIMUM ATTEINT:  On reset les tailles car on peut avoir des valeurs ngatives  cause du calcul par rapport aux coordonnes
                    if ( self.total_width <= new_width_barre1 + border_width && new_width_barre2 < 0)  {
                         $barre_1.width( self.total_width - border_width - 1);
                        $barre_2.width( 0 );
                        $input.val( max.toFixed( decimal ) );
                        // stopDrag();
                        return;
                    }

                    // Set width 
                    $barre_1.width( Math.floor(new_width_barre1) - border_width );
                    $barre_2.width( Math.floor(new_width_barre2) );
                    //console.log(new_width_barre1,new_width_barre2)
                    self.limitClass( $resizer, $input_container, new_width_barre1, new_width_barre2 );
                    updateValueInput( $resizer );
                    $elem.addClass('dragging');
                }

                function stopDrag( doTrigger ) {
                    $elem.removeClass('dragging');
                    $elem.off('mousemove', doDrag);
                    $elem.off('mouseup', stopDrag);
                    
                    if( !doTrigger ) { return; }
                    $elem.trigger('stopDrag');
                    setTimeout(function() {
                        $input.trigger('focusout');
                    },50);
                }
                 
                function updateValueInput( $current_element, _value ) {

                    var forceValue = false;
                    if( typeof(_value) != "undefined" ){
                        forceValue = true;
                    }

                    var width_selected = $current_element.width(); 
                    var width_total = self.total_width;
                    var echelle = max - +min;
                    var rapport = echelle / width_total;
                    var value = (!forceValue)? width_selected * rapport + min : _value;
                    var round = step;
                    var formatted_value = (Math.round(value / round) * round).toFixed( decimal );

                    if(!forceValue){
                        $input.val( formatted_value );
                    }

                    //Update de l'input en TTC pour CAPRO
                    if( self.isCapro ){
                        var TTCValue = Number(formatted_value) + Number(formatted_value* 20/100);
                        self.montantTTC.html( TTCValue.toFixed( decimal ) );
                        self.montantHT.val( TTCValue );
                    }
                }

                function buildScale( value, separator, unit, typeSep, last) {
                    var li_class = '';
                    if ( last )  { li_class = 'last-child'; }
                    if (type_slider == 'montant') {
                        return '<li class="'+ li_class +'">'+ addThousandsSep(formatNumber(value, 2), typeSep) + separator + ' '+ unit + '</li>';    
                    }
                    return '<li class="'+ li_class +'">'+ value + separator + ' '+ unit + '</li>';
                }
            }
        }
        var resizer_array = [];

        // Iterate and reformat each matched element.
        this.each(function() {
            var opts = $.extend( {}, $.fn.resizerBarre.defaults, options );
            var $current_element = $(this);
            // Mis en cache des lments, et d'autres variables
            var resizer_instance = new Resizer();
            resizer_instance.init.apply( $(this), opts );
            resizer_array.push(resizer_instance);
        });

        $(window).on('resize', function() {
            // delay( function() {
                $.each( resizer_array, function( index, instance ) {
                    instance.resizeSlider();
                });
            // }, 500);
        });
    };
})();

/*
 * throttledresize: special jQuery event that happens at a reduced rate compared to "resize"
 *
 * latest version and complete README available on Github:
 * https://github.com/louisremi/jquery-smartresize
 *
 * Copyright 2012 @louis_remi
 * Licensed under the MIT license.
 *
 * This saved you an hour of work? 
 * Send me music http://www.amazon.co.uk/wishlist/HNTU0468LQON
 */
(function($) {

var $event = $.event,
    $special,
    dummy = {_:0},
    frame = 0,
    wasResized, animRunning;

$special = $event.special.throttledresize = {
    setup: function() {
        $( this ).on( "resize", $special.handler );
    },
    teardown: function() {
        $( this ).off( "resize", $special.handler );
    },
    handler: function( event, execAsap ) {
        // Save the context
        var context = this,
            args = arguments;

        wasResized = true;

        if ( !animRunning ) {
            setInterval(function(){
                frame++;

                if ( frame > $special.threshold && wasResized || execAsap ) {
                    // set correct event type
                    event.type = "throttledresize";
                    $event.dispatch.apply( context, args );
                    wasResized = false;
                    frame = 0;
                }
                if ( frame > 9 ) {
                    $(dummy).stop();
                    animRunning = false;
                    frame = 0;
                }
            }, 30);
            animRunning = true;
        }
    },
    threshold: 0
};

})(jQuery);
/**
 * Owl Carousel v2.3.4
 * Copyright 2013-2018 David Deutsch
 * Licensed under: SEE LICENSE IN https://github.com/OwlCarousel2/OwlCarousel2/blob/master/LICENSE
 */
/**
 * Owl carousel
 * @version 2.3.4
 * @author Bartosz Wojciechowski
 * @author David Deutsch
 * @license The MIT License (MIT)
 * @todo Lazy Load Icon
 * @todo prevent animationend bubling
 * @todo itemsScaleUp
 * @todo Test Zepto
 * @todo stagePadding calculate wrong active classes
 */
;(function($, window, document, undefined) {

	/**
	 * Creates a carousel.
	 * @class The Owl Carousel.
	 * @public
	 * @param {HTMLElement|jQuery} element - The element to create the carousel for.
	 * @param {Object} [options] - The options
	 */
	function Owl(element, options) {

		/**
		 * Current settings for the carousel.
		 * @public
		 */
		this.settings = null;

		/**
		 * Current options set by the caller including defaults.
		 * @public
		 */
		this.options = $.extend({}, Owl.Defaults, options);

		/**
		 * Plugin element.
		 * @public
		 */
		this.$element = $(element);

		/**
		 * Proxied event handlers.
		 * @protected
		 */
		this._handlers = {};

		/**
		 * References to the running plugins of this carousel.
		 * @protected
		 */
		this._plugins = {};

		/**
		 * Currently suppressed events to prevent them from being retriggered.
		 * @protected
		 */
		this._supress = {};

		/**
		 * Absolute current position.
		 * @protected
		 */
		this._current = null;

		/**
		 * Animation speed in milliseconds.
		 * @protected
		 */
		this._speed = null;

		/**
		 * Coordinates of all items in pixel.
		 * @todo The name of this member is missleading.
		 * @protected
		 */
		this._coordinates = [];

		/**
		 * Current breakpoint.
		 * @todo Real media queries would be nice.
		 * @protected
		 */
		this._breakpoint = null;

		/**
		 * Current width of the plugin element.
		 */
		this._width = null;

		/**
		 * All real items.
		 * @protected
		 */
		this._items = [];

		/**
		 * All cloned items.
		 * @protected
		 */
		this._clones = [];

		/**
		 * Merge values of all items.
		 * @todo Maybe this could be part of a plugin.
		 * @protected
		 */
		this._mergers = [];

		/**
		 * Widths of all items.
		 */
		this._widths = [];

		/**
		 * Invalidated parts within the update process.
		 * @protected
		 */
		this._invalidated = {};

		/**
		 * Ordered list of workers for the update process.
		 * @protected
		 */
		this._pipe = [];

		/**
		 * Current state information for the drag operation.
		 * @todo #261
		 * @protected
		 */
		this._drag = {
			time: null,
			target: null,
			pointer: null,
			stage: {
				start: null,
				current: null
			},
			direction: null
		};

		/**
		 * Current state information and their tags.
		 * @type {Object}
		 * @protected
		 */
		this._states = {
			current: {},
			tags: {
				'initializing': [ 'busy' ],
				'animating': [ 'busy' ],
				'dragging': [ 'interacting' ]
			}
		};

		$.each([ 'onResize', 'onThrottledResize' ], $.proxy(function(i, handler) {
			this._handlers[handler] = $.proxy(this[handler], this);
		}, this));

		$.each(Owl.Plugins, $.proxy(function(key, plugin) {
			this._plugins[key.charAt(0).toLowerCase() + key.slice(1)]
				= new plugin(this);
		}, this));

		$.each(Owl.Workers, $.proxy(function(priority, worker) {
			this._pipe.push({
				'filter': worker.filter,
				'run': $.proxy(worker.run, this)
			});
		}, this));

		this.setup();
		this.initialize();
	}

	/**
	 * Default options for the carousel.
	 * @public
	 */
	Owl.Defaults = {
		items: 3,
		loop: false,
		center: false,
		rewind: false,
		checkVisibility: true,

		mouseDrag: true,
		touchDrag: true,
		pullDrag: true,
		freeDrag: false,

		margin: 0,
		stagePadding: 0,

		merge: false,
		mergeFit: true,
		autoWidth: false,

		startPosition: 0,
		rtl: false,

		smartSpeed: 250,
		fluidSpeed: false,
		dragEndSpeed: false,

		responsive: {},
		responsiveRefreshRate: 200,
		responsiveBaseElement: window,

		fallbackEasing: 'swing',
		slideTransition: '',

		info: false,

		nestedItemSelector: false,
		itemElement: 'div',
		stageElement: 'div',

		refreshClass: 'owl-refresh',
		loadedClass: 'owl-loaded',
		loadingClass: 'owl-loading',
		rtlClass: 'owl-rtl',
		responsiveClass: 'owl-responsive',
		dragClass: 'owl-drag',
		itemClass: 'owl-item',
		stageClass: 'owl-stage',
		stageOuterClass: 'owl-stage-outer',
		grabClass: 'owl-grab'
	};

	/**
	 * Enumeration for width.
	 * @public
	 * @readonly
	 * @enum {String}
	 */
	Owl.Width = {
		Default: 'default',
		Inner: 'inner',
		Outer: 'outer'
	};

	/**
	 * Enumeration for types.
	 * @public
	 * @readonly
	 * @enum {String}
	 */
	Owl.Type = {
		Event: 'event',
		State: 'state'
	};

	/**
	 * Contains all registered plugins.
	 * @public
	 */
	Owl.Plugins = {};

	/**
	 * List of workers involved in the update process.
	 */
	Owl.Workers = [ {
		filter: [ 'width', 'settings' ],
		run: function() {
			this._width = this.$element.width();
		}
	}, {
		filter: [ 'width', 'items', 'settings' ],
		run: function(cache) {
			cache.current = this._items && this._items[this.relative(this._current)];
		}
	}, {
		filter: [ 'items', 'settings' ],
		run: function() {
			this.$stage.children('.cloned').remove();
		}
	}, {
		filter: [ 'width', 'items', 'settings' ],
		run: function(cache) {
			var margin = this.settings.margin || '',
				grid = !this.settings.autoWidth,
				rtl = this.settings.rtl,
				css = {
					'width': 'auto',
					'margin-left': rtl ? margin : '',
					'margin-right': rtl ? '' : margin
				};

			!grid && this.$stage.children().css(css);

			cache.css = css;
		}
	}, {
		filter: [ 'width', 'items', 'settings' ],
		run: function(cache) {
			var width = (this.width() / this.settings.items).toFixed(3) - this.settings.margin,
				merge = null,
				iterator = this._items.length,
				grid = !this.settings.autoWidth,
				widths = [];

			cache.items = {
				merge: false,
				width: width
			};

			while (iterator--) {
				merge = this._mergers[iterator];
				merge = this.settings.mergeFit && Math.min(merge, this.settings.items) || merge;

				cache.items.merge = merge > 1 || cache.items.merge;

				widths[iterator] = !grid ? this._items[iterator].width() : width * merge;
			}

			this._widths = widths;
		}
	}, {
		filter: [ 'items', 'settings' ],
		run: function() {
			var clones = [],
				items = this._items,
				settings = this.settings,
				// TODO: Should be computed from number of min width items in stage
				view = Math.max(settings.items * 2, 4),
				size = Math.ceil(items.length / 2) * 2,
				repeat = settings.loop && items.length ? settings.rewind ? view : Math.max(view, size) : 0,
				append = '',
				prepend = '';

			repeat /= 2;

			while (repeat > 0) {
				// Switch to only using appended clones
				clones.push(this.normalize(clones.length / 2, true));
				append = append + items[clones[clones.length - 1]][0].outerHTML;
				clones.push(this.normalize(items.length - 1 - (clones.length - 1) / 2, true));
				prepend = items[clones[clones.length - 1]][0].outerHTML + prepend;
				repeat -= 1;
			}

			this._clones = clones;

			$(append).addClass('cloned').appendTo(this.$stage);
			$(prepend).addClass('cloned').prependTo(this.$stage);
		}
	}, {
		filter: [ 'width', 'items', 'settings' ],
		run: function() {
			var rtl = this.settings.rtl ? 1 : -1,
				size = this._clones.length + this._items.length,
				iterator = -1,
				previous = 0,
				current = 0,
				coordinates = [];

			while (++iterator < size) {
				previous = coordinates[iterator - 1] || 0;
				current = this._widths[this.relative(iterator)] + this.settings.margin;
				coordinates.push(previous + current * rtl);
			}

			this._coordinates = coordinates;
		}
	}, {
		filter: [ 'width', 'items', 'settings' ],
		run: function() {
			var padding = this.settings.stagePadding,
				coordinates = this._coordinates,
				css = {
					'width': Math.ceil(Math.abs(coordinates[coordinates.length - 1])) + padding * 2,
					'padding-left': padding || '',
					'padding-right': padding || ''
				};

			this.$stage.css(css);
		}
	}, {
		filter: [ 'width', 'items', 'settings' ],
		run: function(cache) {
			var iterator = this._coordinates.length,
				grid = !this.settings.autoWidth,
				items = this.$stage.children();

			if (grid && cache.items.merge) {
				while (iterator--) {
					cache.css.width = this._widths[this.relative(iterator)];
					items.eq(iterator).css(cache.css);
				}
			} else if (grid) {
				cache.css.width = cache.items.width;
				items.css(cache.css);
			}
		}
	}, {
		filter: [ 'items' ],
		run: function() {
			this._coordinates.length < 1 && this.$stage.removeAttr('style');
		}
	}, {
		filter: [ 'width', 'items', 'settings' ],
		run: function(cache) {
			cache.current = cache.current ? this.$stage.children().index(cache.current) : 0;
			cache.current = Math.max(this.minimum(), Math.min(this.maximum(), cache.current));
			this.reset(cache.current);
		}
	}, {
		filter: [ 'position' ],
		run: function() {
			this.animate(this.coordinates(this._current));
		}
	}, {
		filter: [ 'width', 'position', 'items', 'settings' ],
		run: function() {
			var rtl = this.settings.rtl ? 1 : -1,
				padding = this.settings.stagePadding * 2,
				begin = this.coordinates(this.current()) + padding,
				end = begin + this.width() * rtl,
				inner, outer, matches = [], i, n;

			for (i = 0, n = this._coordinates.length; i < n; i++) {
				inner = this._coordinates[i - 1] || 0;
				outer = Math.abs(this._coordinates[i]) + padding * rtl;

				if ((this.op(inner, '<=', begin) && (this.op(inner, '>', end)))
					|| (this.op(outer, '<', begin) && this.op(outer, '>', end))) {
					matches.push(i);
				}
			}

			this.$stage.children('.active').removeClass('active');
			this.$stage.children(':eq(' + matches.join('), :eq(') + ')').addClass('active');

			this.$stage.children('.center').removeClass('center');
			if (this.settings.center) {
				this.$stage.children().eq(this.current()).addClass('center');
			}
		}
	} ];

	/**
	 * Create the stage DOM element
	 */
	Owl.prototype.initializeStage = function() {
		this.$stage = this.$element.find('.' + this.settings.stageClass);

		// if the stage is already in the DOM, grab it and skip stage initialization
		if (this.$stage.length) {
			return;
		}

		this.$element.addClass(this.options.loadingClass);

		// create stage
		this.$stage = $('<' + this.settings.stageElement + '>', {
			"class": this.settings.stageClass
		}).wrap( $( '<div/>', {
			"class": this.settings.stageOuterClass
		}));

		// append stage
		this.$element.append(this.$stage.parent());
	};

	/**
	 * Create item DOM elements
	 */
	Owl.prototype.initializeItems = function() {
		var $items = this.$element.find('.owl-item');

		// if the items are already in the DOM, grab them and skip item initialization
		if ($items.length) {
			this._items = $items.get().map(function(item) {
				return $(item);
			});

			this._mergers = this._items.map(function() {
				return 1;
			});

			this.refresh();

			return;
		}

		// append content
		this.replace(this.$element.children().not(this.$stage.parent()));

		// check visibility
		if (this.isVisible()) {
			// update view
			this.refresh();
		} else {
			// invalidate width
			this.invalidate('width');
		}

		this.$element
			.removeClass(this.options.loadingClass)
			.addClass(this.options.loadedClass);
	};

	/**
	 * Initializes the carousel.
	 * @protected
	 */
	Owl.prototype.initialize = function() {
		this.enter('initializing');
		this.trigger('initialize');

		this.$element.toggleClass(this.settings.rtlClass, this.settings.rtl);

		if (this.settings.autoWidth && !this.is('pre-loading')) {
			var imgs, nestedSelector, width;
			imgs = this.$element.find('img');
			nestedSelector = this.settings.nestedItemSelector ? '.' + this.settings.nestedItemSelector : undefined;
			width = this.$element.children(nestedSelector).width();

			if (imgs.length && width <= 0) {
				this.preloadAutoWidthImages(imgs);
			}
		}

		this.initializeStage();
		this.initializeItems();

		// register event handlers
		this.registerEventHandlers();

		this.leave('initializing');
		this.trigger('initialized');
	};

	/**
	 * @returns {Boolean} visibility of $element
	 *                    if you know the carousel will always be visible you can set `checkVisibility` to `false` to
	 *                    prevent the expensive browser layout forced reflow the $element.is(':visible') does
	 */
	Owl.prototype.isVisible = function() {
		return this.settings.checkVisibility
			? this.$element.is(':visible')
			: true;
	};

	/**
	 * Setups the current settings.
	 * @todo Remove responsive classes. Why should adaptive designs be brought into IE8?
	 * @todo Support for media queries by using `matchMedia` would be nice.
	 * @public
	 */
	Owl.prototype.setup = function() {
		var viewport = this.viewport(),
			overwrites = this.options.responsive,
			match = -1,
			settings = null;

		if (!overwrites) {
			settings = $.extend({}, this.options);
		} else {
			$.each(overwrites, function(breakpoint) {
				if (breakpoint <= viewport && breakpoint > match) {
					match = Number(breakpoint);
				}
			});

			settings = $.extend({}, this.options, overwrites[match]);
			if (typeof settings.stagePadding === 'function') {
				settings.stagePadding = settings.stagePadding();
			}
			delete settings.responsive;

			// responsive class
			if (settings.responsiveClass) {
				this.$element.attr('class',
					this.$element.attr('class').replace(new RegExp('(' + this.options.responsiveClass + '-)\\S+\\s', 'g'), '$1' + match)
				);
			}
		}

		this.trigger('change', { property: { name: 'settings', value: settings } });
		this._breakpoint = match;
		this.settings = settings;
		this.invalidate('settings');
		this.trigger('changed', { property: { name: 'settings', value: this.settings } });
	};

	/**
	 * Updates option logic if necessery.
	 * @protected
	 */
	Owl.prototype.optionsLogic = function() {
		if (this.settings.autoWidth) {
			this.settings.stagePadding = false;
			this.settings.merge = false;
		}
	};

	/**
	 * Prepares an item before add.
	 * @todo Rename event parameter `content` to `item`.
	 * @protected
	 * @returns {jQuery|HTMLElement} - The item container.
	 */
	Owl.prototype.prepare = function(item) {
		var event = this.trigger('prepare', { content: item });

		if (!event.data) {
			event.data = $('<' + this.settings.itemElement + '/>')
				.addClass(this.options.itemClass).append(item)
		}

		this.trigger('prepared', { content: event.data });

		return event.data;
	};

	/**
	 * Updates the view.
	 * @public
	 */
	Owl.prototype.update = function() {
		var i = 0,
			n = this._pipe.length,
			filter = $.proxy(function(p) { return this[p] }, this._invalidated),
			cache = {};

		while (i < n) {
			if (this._invalidated.all || $.grep(this._pipe[i].filter, filter).length > 0) {
				this._pipe[i].run(cache);
			}
			i++;
		}

		this._invalidated = {};

		!this.is('valid') && this.enter('valid');
	};

	/**
	 * Gets the width of the view.
	 * @public
	 * @param {Owl.Width} [dimension=Owl.Width.Default] - The dimension to return.
	 * @returns {Number} - The width of the view in pixel.
	 */
	Owl.prototype.width = function(dimension) {
		dimension = dimension || Owl.Width.Default;
		switch (dimension) {
			case Owl.Width.Inner:
			case Owl.Width.Outer:
				return this._width;
			default:
				return this._width - this.settings.stagePadding * 2 + this.settings.margin;
		}
	};

	/**
	 * Refreshes the carousel primarily for adaptive purposes.
	 * @public
	 */
	Owl.prototype.refresh = function() {
		this.enter('refreshing');
		this.trigger('refresh');

		this.setup();

		this.optionsLogic();

		this.$element.addClass(this.options.refreshClass);

		this.update();

		this.$element.removeClass(this.options.refreshClass);

		this.leave('refreshing');
		this.trigger('refreshed');
	};

	/**
	 * Checks window `resize` event.
	 * @protected
	 */
	Owl.prototype.onThrottledResize = function() {
		window.clearTimeout(this.resizeTimer);
		this.resizeTimer = window.setTimeout(this._handlers.onResize, this.settings.responsiveRefreshRate);
	};

	/**
	 * Checks window `resize` event.
	 * @protected
	 */
	Owl.prototype.onResize = function() {
		if (!this._items.length) {
			return false;
		}

		if (this._width === this.$element.width()) {
			return false;
		}

		if (!this.isVisible()) {
			return false;
		}

		this.enter('resizing');

		if (this.trigger('resize').isDefaultPrevented()) {
			this.leave('resizing');
			return false;
		}

		this.invalidate('width');

		this.refresh();

		this.leave('resizing');
		this.trigger('resized');
	};

	/**
	 * Registers event handlers.
	 * @todo Check `msPointerEnabled`
	 * @todo #261
	 * @protected
	 */
	Owl.prototype.registerEventHandlers = function() {
		if ($.support.transition) {
			this.$stage.on($.support.transition.end + '.owl.core', $.proxy(this.onTransitionEnd, this));
		}

		if (this.settings.responsive !== false) {
			this.on(window, 'resize', this._handlers.onThrottledResize);
		}

		if (this.settings.mouseDrag) {
			this.$element.addClass(this.options.dragClass);
			this.$stage.on('mousedown.owl.core', $.proxy(this.onDragStart, this));
			this.$stage.on('dragstart.owl.core selectstart.owl.core', function() { return false });
		}

		if (this.settings.touchDrag){
			this.$stage.on('touchstart.owl.core', $.proxy(this.onDragStart, this));
			this.$stage.on('touchcancel.owl.core', $.proxy(this.onDragEnd, this));
		}
	};

	/**
	 * Handles `touchstart` and `mousedown` events.
	 * @todo Horizontal swipe threshold as option
	 * @todo #261
	 * @protected
	 * @param {Event} event - The event arguments.
	 */
	Owl.prototype.onDragStart = function(event) {
		var stage = null;

		if (event.which === 3) {
			return;
		}

		if ($.support.transform) {
			stage = this.$stage.css('transform').replace(/.*\(|\)| /g, '').split(',');
			stage = {
				x: stage[stage.length === 16 ? 12 : 4],
				y: stage[stage.length === 16 ? 13 : 5]
			};
		} else {
			stage = this.$stage.position();
			stage = {
				x: this.settings.rtl ?
					stage.left + this.$stage.width() - this.width() + this.settings.margin :
					stage.left,
				y: stage.top
			};
		}

		if (this.is('animating')) {
			$.support.transform ? this.animate(stage.x) : this.$stage.stop()
			this.invalidate('position');
		}

		this.$element.toggleClass(this.options.grabClass, event.type === 'mousedown');

		this.speed(0);

		this._drag.time = new Date().getTime();
		this._drag.target = $(event.target);
		this._drag.stage.start = stage;
		this._drag.stage.current = stage;
		this._drag.pointer = this.pointer(event);

		$(document).on('mouseup.owl.core touchend.owl.core', $.proxy(this.onDragEnd, this));

		$(document).one('mousemove.owl.core touchmove.owl.core', $.proxy(function(event) {
			var delta = this.difference(this._drag.pointer, this.pointer(event));

			$(document).on('mousemove.owl.core touchmove.owl.core', $.proxy(this.onDragMove, this));

			if (Math.abs(delta.x) < Math.abs(delta.y) && this.is('valid')) {
				return;
			}

			event.preventDefault();

			this.enter('dragging');
			this.trigger('drag');
		}, this));
	};

	/**
	 * Handles the `touchmove` and `mousemove` events.
	 * @todo #261
	 * @protected
	 * @param {Event} event - The event arguments.
	 */
	Owl.prototype.onDragMove = function(event) {
		var minimum = null,
			maximum = null,
			pull = null,
			delta = this.difference(this._drag.pointer, this.pointer(event)),
			stage = this.difference(this._drag.stage.start, delta);

		if (!this.is('dragging')) {
			return;
		}

		event.preventDefault();

		if (this.settings.loop) {
			minimum = this.coordinates(this.minimum());
			maximum = this.coordinates(this.maximum() + 1) - minimum;
			stage.x = (((stage.x - minimum) % maximum + maximum) % maximum) + minimum;
		} else {
			minimum = this.settings.rtl ? this.coordinates(this.maximum()) : this.coordinates(this.minimum());
			maximum = this.settings.rtl ? this.coordinates(this.minimum()) : this.coordinates(this.maximum());
			pull = this.settings.pullDrag ? -1 * delta.x / 5 : 0;
			stage.x = Math.max(Math.min(stage.x, minimum + pull), maximum + pull);
		}

		this._drag.stage.current = stage;

		this.animate(stage.x);
	};

	/**
	 * Handles the `touchend` and `mouseup` events.
	 * @todo #261
	 * @todo Threshold for click event
	 * @protected
	 * @param {Event} event - The event arguments.
	 */
	Owl.prototype.onDragEnd = function(event) {
		var delta = this.difference(this._drag.pointer, this.pointer(event)),
			stage = this._drag.stage.current,
			direction = delta.x > 0 ^ this.settings.rtl ? 'left' : 'right';

		$(document).off('.owl.core');

		this.$element.removeClass(this.options.grabClass);

		if (delta.x !== 0 && this.is('dragging') || !this.is('valid')) {
			this.speed(this.settings.dragEndSpeed || this.settings.smartSpeed);
			this.current(this.closest(stage.x, delta.x !== 0 ? direction : this._drag.direction));
			this.invalidate('position');
			this.update();

			this._drag.direction = direction;

			if (Math.abs(delta.x) > 3 || new Date().getTime() - this._drag.time > 300) {
				this._drag.target.one('click.owl.core', function() { return false; });
			}
		}

		if (!this.is('dragging')) {
			return;
		}

		this.leave('dragging');
		this.trigger('dragged');
	};

	/**
	 * Gets absolute position of the closest item for a coordinate.
	 * @todo Setting `freeDrag` makes `closest` not reusable. See #165.
	 * @protected
	 * @param {Number} coordinate - The coordinate in pixel.
	 * @param {String} direction - The direction to check for the closest item. Ether `left` or `right`.
	 * @return {Number} - The absolute position of the closest item.
	 */
	Owl.prototype.closest = function(coordinate, direction) {
		var position = -1,
			pull = 30,
			width = this.width(),
			coordinates = this.coordinates();

		if (!this.settings.freeDrag) {
			// check closest item
			$.each(coordinates, $.proxy(function(index, value) {
				// on a left pull, check on current index
				if (direction === 'left' && coordinate > value - pull && coordinate < value + pull) {
					position = index;
				// on a right pull, check on previous index
				// to do so, subtract width from value and set position = index + 1
				} else if (direction === 'right' && coordinate > value - width - pull && coordinate < value - width + pull) {
					position = index + 1;
				} else if (this.op(coordinate, '<', value)
					&& this.op(coordinate, '>', coordinates[index + 1] !== undefined ? coordinates[index + 1] : value - width)) {
					position = direction === 'left' ? index + 1 : index;
				}
				return position === -1;
			}, this));
		}

		if (!this.settings.loop) {
			// non loop boundries
			if (this.op(coordinate, '>', coordinates[this.minimum()])) {
				position = coordinate = this.minimum();
			} else if (this.op(coordinate, '<', coordinates[this.maximum()])) {
				position = coordinate = this.maximum();
			}
		}

		return position;
	};

	/**
	 * Animates the stage.
	 * @todo #270
	 * @public
	 * @param {Number} coordinate - The coordinate in pixels.
	 */
	Owl.prototype.animate = function(coordinate) {
		var animate = this.speed() > 0;

		this.is('animating') && this.onTransitionEnd();

		if (animate) {
			this.enter('animating');
			this.trigger('translate');
		}

		if ($.support.transform3d && $.support.transition) {
			this.$stage.css({
				transform: 'translate3d(' + coordinate + 'px,0px,0px)',
				transition: (this.speed() / 1000) + 's' + (
					this.settings.slideTransition ? ' ' + this.settings.slideTransition : ''
				)
			});
		} else if (animate) {
			this.$stage.animate({
				left: coordinate + 'px'
			}, this.speed(), this.settings.fallbackEasing, $.proxy(this.onTransitionEnd, this));
		} else {
			this.$stage.css({
				left: coordinate + 'px'
			});
		}
	};

	/**
	 * Checks whether the carousel is in a specific state or not.
	 * @param {String} state - The state to check.
	 * @returns {Boolean} - The flag which indicates if the carousel is busy.
	 */
	Owl.prototype.is = function(state) {
		return this._states.current[state] && this._states.current[state] > 0;
	};

	/**
	 * Sets the absolute position of the current item.
	 * @public
	 * @param {Number} [position] - The new absolute position or nothing to leave it unchanged.
	 * @returns {Number} - The absolute position of the current item.
	 */
	Owl.prototype.current = function(position) {
		if (position === undefined) {
			return this._current;
		}

		if (this._items.length === 0) {
			return undefined;
		}

		position = this.normalize(position);

		if (this._current !== position) {
			var event = this.trigger('change', { property: { name: 'position', value: position } });

			if (event.data !== undefined) {
				position = this.normalize(event.data);
			}

			this._current = position;

			this.invalidate('position');

			this.trigger('changed', { property: { name: 'position', value: this._current } });
		}

		return this._current;
	};

	/**
	 * Invalidates the given part of the update routine.
	 * @param {String} [part] - The part to invalidate.
	 * @returns {Array.<String>} - The invalidated parts.
	 */
	Owl.prototype.invalidate = function(part) {
		if ($.type(part) === 'string') {
			this._invalidated[part] = true;
			this.is('valid') && this.leave('valid');
		}
		return $.map(this._invalidated, function(v, i) { return i });
	};

	/**
	 * Resets the absolute position of the current item.
	 * @public
	 * @param {Number} position - The absolute position of the new item.
	 */
	Owl.prototype.reset = function(position) {
		position = this.normalize(position);

		if (position === undefined) {
			return;
		}

		this._speed = 0;
		this._current = position;

		this.suppress([ 'translate', 'translated' ]);

		this.animate(this.coordinates(position));

		this.release([ 'translate', 'translated' ]);
	};

	/**
	 * Normalizes an absolute or a relative position of an item.
	 * @public
	 * @param {Number} position - The absolute or relative position to normalize.
	 * @param {Boolean} [relative=false] - Whether the given position is relative or not.
	 * @returns {Number} - The normalized position.
	 */
	Owl.prototype.normalize = function(position, relative) {
		var n = this._items.length,
			m = relative ? 0 : this._clones.length;

		if (!this.isNumeric(position) || n < 1) {
			position = undefined;
		} else if (position < 0 || position >= n + m) {
			position = ((position - m / 2) % n + n) % n + m / 2;
		}

		return position;
	};

	/**
	 * Converts an absolute position of an item into a relative one.
	 * @public
	 * @param {Number} position - The absolute position to convert.
	 * @returns {Number} - The converted position.
	 */
	Owl.prototype.relative = function(position) {
		position -= this._clones.length / 2;
		return this.normalize(position, true);
	};

	/**
	 * Gets the maximum position for the current item.
	 * @public
	 * @param {Boolean} [relative=false] - Whether to return an absolute position or a relative position.
	 * @returns {Number}
	 */
	Owl.prototype.maximum = function(relative) {
		var settings = this.settings,
			maximum = this._coordinates.length,
			iterator,
			reciprocalItemsWidth,
			elementWidth;

		if (settings.loop) {
			maximum = this._clones.length / 2 + this._items.length - 1;
		} else if (settings.autoWidth || settings.merge) {
			iterator = this._items.length;
			if (iterator) {
				reciprocalItemsWidth = this._items[--iterator].width();
				elementWidth = this.$element.width();
				while (iterator--) {
					reciprocalItemsWidth += this._items[iterator].width() + this.settings.margin;
					if (reciprocalItemsWidth > elementWidth) {
						break;
					}
				}
			}
			maximum = iterator + 1;
		} else if (settings.center) {
			maximum = this._items.length - 1;
		} else {
			maximum = this._items.length - settings.items;
		}

		if (relative) {
			maximum -= this._clones.length / 2;
		}

		return Math.max(maximum, 0);
	};

	/**
	 * Gets the minimum position for the current item.
	 * @public
	 * @param {Boolean} [relative=false] - Whether to return an absolute position or a relative position.
	 * @returns {Number}
	 */
	Owl.prototype.minimum = function(relative) {
		return relative ? 0 : this._clones.length / 2;
	};

	/**
	 * Gets an item at the specified relative position.
	 * @public
	 * @param {Number} [position] - The relative position of the item.
	 * @return {jQuery|Array.<jQuery>} - The item at the given position or all items if no position was given.
	 */
	Owl.prototype.items = function(position) {
		if (position === undefined) {
			return this._items.slice();
		}

		position = this.normalize(position, true);
		return this._items[position];
	};

	/**
	 * Gets an item at the specified relative position.
	 * @public
	 * @param {Number} [position] - The relative position of the item.
	 * @return {jQuery|Array.<jQuery>} - The item at the given position or all items if no position was given.
	 */
	Owl.prototype.mergers = function(position) {
		if (position === undefined) {
			return this._mergers.slice();
		}

		position = this.normalize(position, true);
		return this._mergers[position];
	};

	/**
	 * Gets the absolute positions of clones for an item.
	 * @public
	 * @param {Number} [position] - The relative position of the item.
	 * @returns {Array.<Number>} - The absolute positions of clones for the item or all if no position was given.
	 */
	Owl.prototype.clones = function(position) {
		var odd = this._clones.length / 2,
			even = odd + this._items.length,
			map = function(index) { return index % 2 === 0 ? even + index / 2 : odd - (index + 1) / 2 };

		if (position === undefined) {
			return $.map(this._clones, function(v, i) { return map(i) });
		}

		return $.map(this._clones, function(v, i) { return v === position ? map(i) : null });
	};

	/**
	 * Sets the current animation speed.
	 * @public
	 * @param {Number} [speed] - The animation speed in milliseconds or nothing to leave it unchanged.
	 * @returns {Number} - The current animation speed in milliseconds.
	 */
	Owl.prototype.speed = function(speed) {
		if (speed !== undefined) {
			this._speed = speed;
		}

		return this._speed;
	};

	/**
	 * Gets the coordinate of an item.
	 * @todo The name of this method is missleanding.
	 * @public
	 * @param {Number} position - The absolute position of the item within `minimum()` and `maximum()`.
	 * @returns {Number|Array.<Number>} - The coordinate of the item in pixel or all coordinates.
	 */
	Owl.prototype.coordinates = function(position) {
		var multiplier = 1,
			newPosition = position - 1,
			coordinate;

		if (position === undefined) {
			return $.map(this._coordinates, $.proxy(function(coordinate, index) {
				return this.coordinates(index);
			}, this));
		}

		if (this.settings.center) {
			if (this.settings.rtl) {
				multiplier = -1;
				newPosition = position + 1;
			}

			coordinate = this._coordinates[position];
			coordinate += (this.width() - coordinate + (this._coordinates[newPosition] || 0)) / 2 * multiplier;
		} else {
			coordinate = this._coordinates[newPosition] || 0;
		}

		coordinate = Math.ceil(coordinate);

		return coordinate;
	};

	/**
	 * Calculates the speed for a translation.
	 * @protected
	 * @param {Number} from - The absolute position of the start item.
	 * @param {Number} to - The absolute position of the target item.
	 * @param {Number} [factor=undefined] - The time factor in milliseconds.
	 * @returns {Number} - The time in milliseconds for the translation.
	 */
	Owl.prototype.duration = function(from, to, factor) {
		if (factor === 0) {
			return 0;
		}

		return Math.min(Math.max(Math.abs(to - from), 1), 6) * Math.abs((factor || this.settings.smartSpeed));
	};

	/**
	 * Slides to the specified item.
	 * @public
	 * @param {Number} position - The position of the item.
	 * @param {Number} [speed] - The time in milliseconds for the transition.
	 */
	Owl.prototype.to = function(position, speed) {
		var current = this.current(),
			revert = null,
			distance = position - this.relative(current),
			direction = (distance > 0) - (distance < 0),
			items = this._items.length,
			minimum = this.minimum(),
			maximum = this.maximum();

		if (this.settings.loop) {
			if (!this.settings.rewind && Math.abs(distance) > items / 2) {
				distance += direction * -1 * items;
			}

			position = current + distance;
			revert = ((position - minimum) % items + items) % items + minimum;

			if (revert !== position && revert - distance <= maximum && revert - distance > 0) {
				current = revert - distance;
				position = revert;
				this.reset(current);
			}
		} else if (this.settings.rewind) {
			maximum += 1;
			position = (position % maximum + maximum) % maximum;
		} else {
			position = Math.max(minimum, Math.min(maximum, position));
		}

		this.speed(this.duration(current, position, speed));
		this.current(position);

		if (this.isVisible()) {
			this.update();
		}
	};

	/**
	 * Slides to the next item.
	 * @public
	 * @param {Number} [speed] - The time in milliseconds for the transition.
	 */
	Owl.prototype.next = function(speed) {
		speed = speed || false;
		this.to(this.relative(this.current()) + 1, speed);
	};

	/**
	 * Slides to the previous item.
	 * @public
	 * @param {Number} [speed] - The time in milliseconds for the transition.
	 */
	Owl.prototype.prev = function(speed) {
		speed = speed || false;
		this.to(this.relative(this.current()) - 1, speed);
	};

	/**
	 * Handles the end of an animation.
	 * @protected
	 * @param {Event} event - The event arguments.
	 */
	Owl.prototype.onTransitionEnd = function(event) {

		// if css2 animation then event object is undefined
		if (event !== undefined) {
			event.stopPropagation();

			// Catch only owl-stage transitionEnd event
			if ((event.target || event.srcElement || event.originalTarget) !== this.$stage.get(0)) {
				return false;
			}
		}

		this.leave('animating');
		this.trigger('translated');
	};

	/**
	 * Gets viewport width.
	 * @protected
	 * @return {Number} - The width in pixel.
	 */
	Owl.prototype.viewport = function() {
		var width;
		if (this.options.responsiveBaseElement !== window) {
			width = $(this.options.responsiveBaseElement).width();
		} else if (window.innerWidth) {
			width = window.innerWidth;
		} else if (document.documentElement && document.documentElement.clientWidth) {
			width = document.documentElement.clientWidth;
		} else {
			console.warn('Can not detect viewport width.');
		}
		return width;
	};

	/**
	 * Replaces the current content.
	 * @public
	 * @param {HTMLElement|jQuery|String} content - The new content.
	 */
	Owl.prototype.replace = function(content) {
		this.$stage.empty();
		this._items = [];

		if (content) {
			content = (content instanceof jQuery) ? content : $(content);
		}

		if (this.settings.nestedItemSelector) {
			content = content.find('.' + this.settings.nestedItemSelector);
		}

		content.filter(function() {
			return this.nodeType === 1;
		}).each($.proxy(function(index, item) {
			item = this.prepare(item);
			this.$stage.append(item);
			this._items.push(item);
			this._mergers.push(item.find('[data-merge]').addBack('[data-merge]').attr('data-merge') * 1 || 1);
		}, this));

		this.reset(this.isNumeric(this.settings.startPosition) ? this.settings.startPosition : 0);

		this.invalidate('items');
	};

	/**
	 * Adds an item.
	 * @todo Use `item` instead of `content` for the event arguments.
	 * @public
	 * @param {HTMLElement|jQuery|String} content - The item content to add.
	 * @param {Number} [position] - The relative position at which to insert the item otherwise the item will be added to the end.
	 */
	Owl.prototype.add = function(content, position) {
		var current = this.relative(this._current);

		position = position === undefined ? this._items.length : this.normalize(position, true);
		content = content instanceof jQuery ? content : $(content);

		this.trigger('add', { content: content, position: position });

		content = this.prepare(content);

		if (this._items.length === 0 || position === this._items.length) {
			this._items.length === 0 && this.$stage.append(content);
			this._items.length !== 0 && this._items[position - 1].after(content);
			this._items.push(content);
			this._mergers.push(content.find('[data-merge]').addBack('[data-merge]').attr('data-merge') * 1 || 1);
		} else {
			this._items[position].before(content);
			this._items.splice(position, 0, content);
			this._mergers.splice(position, 0, content.find('[data-merge]').addBack('[data-merge]').attr('data-merge') * 1 || 1);
		}

		this._items[current] && this.reset(this._items[current].index());

		this.invalidate('items');

		this.trigger('added', { content: content, position: position });
	};

	/**
	 * Removes an item by its position.
	 * @todo Use `item` instead of `content` for the event arguments.
	 * @public
	 * @param {Number} position - The relative position of the item to remove.
	 */
	Owl.prototype.remove = function(position) {
		position = this.normalize(position, true);

		if (position === undefined) {
			return;
		}

		this.trigger('remove', { content: this._items[position], position: position });

		this._items[position].remove();
		this._items.splice(position, 1);
		this._mergers.splice(position, 1);

		this.invalidate('items');

		this.trigger('removed', { content: null, position: position });
	};

	/**
	 * Preloads images with auto width.
	 * @todo Replace by a more generic approach
	 * @protected
	 */
	Owl.prototype.preloadAutoWidthImages = function(images) {
		images.each($.proxy(function(i, element) {
			this.enter('pre-loading');
			element = $(element);
			$(new Image()).one('load', $.proxy(function(e) {
				element.attr('src', e.target.src);
				element.css('opacity', 1);
				this.leave('pre-loading');
				!this.is('pre-loading') && !this.is('initializing') && this.refresh();
			}, this)).attr('src', element.attr('src') || element.attr('data-src') || element.attr('data-src-retina'));
		}, this));
	};

	/**
	 * Destroys the carousel.
	 * @public
	 */
	Owl.prototype.destroy = function() {

		this.$element.off('.owl.core');
		this.$stage.off('.owl.core');
		$(document).off('.owl.core');

		if (this.settings.responsive !== false) {
			window.clearTimeout(this.resizeTimer);
			this.off(window, 'resize', this._handlers.onThrottledResize);
		}

		for (var i in this._plugins) {
			this._plugins[i].destroy();
		}

		this.$stage.children('.cloned').remove();

		this.$stage.unwrap();
		this.$stage.children().contents().unwrap();
		this.$stage.children().unwrap();
		this.$stage.remove();
		this.$element
			.removeClass(this.options.refreshClass)
			.removeClass(this.options.loadingClass)
			.removeClass(this.options.loadedClass)
			.removeClass(this.options.rtlClass)
			.removeClass(this.options.dragClass)
			.removeClass(this.options.grabClass)
			.attr('class', this.$element.attr('class').replace(new RegExp(this.options.responsiveClass + '-\\S+\\s', 'g'), ''))
			.removeData('owl.carousel');
	};

	/**
	 * Operators to calculate right-to-left and left-to-right.
	 * @protected
	 * @param {Number} [a] - The left side operand.
	 * @param {String} [o] - The operator.
	 * @param {Number} [b] - The right side operand.
	 */
	Owl.prototype.op = function(a, o, b) {
		var rtl = this.settings.rtl;
		switch (o) {
			case '<':
				return rtl ? a > b : a < b;
			case '>':
				return rtl ? a < b : a > b;
			case '>=':
				return rtl ? a <= b : a >= b;
			case '<=':
				return rtl ? a >= b : a <= b;
			default:
				break;
		}
	};

	/**
	 * Attaches to an internal event.
	 * @protected
	 * @param {HTMLElement} element - The event source.
	 * @param {String} event - The event name.
	 * @param {Function} listener - The event handler to attach.
	 * @param {Boolean} capture - Wether the event should be handled at the capturing phase or not.
	 */
	Owl.prototype.on = function(element, event, listener, capture) {
		if (element.addEventListener) {
			element.addEventListener(event, listener, capture);
		} else if (element.attachEvent) {
			element.attachEvent('on' + event, listener);
		}
	};

	/**
	 * Detaches from an internal event.
	 * @protected
	 * @param {HTMLElement} element - The event source.
	 * @param {String} event - The event name.
	 * @param {Function} listener - The attached event handler to detach.
	 * @param {Boolean} capture - Wether the attached event handler was registered as a capturing listener or not.
	 */
	Owl.prototype.off = function(element, event, listener, capture) {
		if (element.removeEventListener) {
			element.removeEventListener(event, listener, capture);
		} else if (element.detachEvent) {
			element.detachEvent('on' + event, listener);
		}
	};

	/**
	 * Triggers a public event.
	 * @todo Remove `status`, `relatedTarget` should be used instead.
	 * @protected
	 * @param {String} name - The event name.
	 * @param {*} [data=null] - The event data.
	 * @param {String} [namespace=carousel] - The event namespace.
	 * @param {String} [state] - The state which is associated with the event.
	 * @param {Boolean} [enter=false] - Indicates if the call enters the specified state or not.
	 * @returns {Event} - The event arguments.
	 */
	Owl.prototype.trigger = function(name, data, namespace, state, enter) {
		var status = {
			item: { count: this._items.length, index: this.current() }
		}, handler = $.camelCase(
			$.grep([ 'on', name, namespace ], function(v) { return v })
				.join('-').toLowerCase()
		), event = $.Event(
			[ name, 'owl', namespace || 'carousel' ].join('.').toLowerCase(),
			$.extend({ relatedTarget: this }, status, data)
		);

		if (!this._supress[name]) {
			$.each(this._plugins, function(name, plugin) {
				if (plugin.onTrigger) {
					plugin.onTrigger(event);
				}
			});

			this.register({ type: Owl.Type.Event, name: name });
			this.$element.trigger(event);

			if (this.settings && typeof this.settings[handler] === 'function') {
				this.settings[handler].call(this, event);
			}
		}

		return event;
	};

	/**
	 * Enters a state.
	 * @param name - The state name.
	 */
	Owl.prototype.enter = function(name) {
		$.each([ name ].concat(this._states.tags[name] || []), $.proxy(function(i, name) {
			if (this._states.current[name] === undefined) {
				this._states.current[name] = 0;
			}

			this._states.current[name]++;
		}, this));
	};

	/**
	 * Leaves a state.
	 * @param name - The state name.
	 */
	Owl.prototype.leave = function(name) {
		$.each([ name ].concat(this._states.tags[name] || []), $.proxy(function(i, name) {
			this._states.current[name]--;
		}, this));
	};

	/**
	 * Registers an event or state.
	 * @public
	 * @param {Object} object - The event or state to register.
	 */
	Owl.prototype.register = function(object) {
		if (object.type === Owl.Type.Event) {
			if (!$.event.special[object.name]) {
				$.event.special[object.name] = {};
			}

			if (!$.event.special[object.name].owl) {
				var _default = $.event.special[object.name]._default;
				$.event.special[object.name]._default = function(e) {
					if (_default && _default.apply && (!e.namespace || e.namespace.indexOf('owl') === -1)) {
						return _default.apply(this, arguments);
					}
					return e.namespace && e.namespace.indexOf('owl') > -1;
				};
				$.event.special[object.name].owl = true;
			}
		} else if (object.type === Owl.Type.State) {
			if (!this._states.tags[object.name]) {
				this._states.tags[object.name] = object.tags;
			} else {
				this._states.tags[object.name] = this._states.tags[object.name].concat(object.tags);
			}

			this._states.tags[object.name] = $.grep(this._states.tags[object.name], $.proxy(function(tag, i) {
				return $.inArray(tag, this._states.tags[object.name]) === i;
			}, this));
		}
	};

	/**
	 * Suppresses events.
	 * @protected
	 * @param {Array.<String>} events - The events to suppress.
	 */
	Owl.prototype.suppress = function(events) {
		$.each(events, $.proxy(function(index, event) {
			this._supress[event] = true;
		}, this));
	};

	/**
	 * Releases suppressed events.
	 * @protected
	 * @param {Array.<String>} events - The events to release.
	 */
	Owl.prototype.release = function(events) {
		$.each(events, $.proxy(function(index, event) {
			delete this._supress[event];
		}, this));
	};

	/**
	 * Gets unified pointer coordinates from event.
	 * @todo #261
	 * @protected
	 * @param {Event} - The `mousedown` or `touchstart` event.
	 * @returns {Object} - Contains `x` and `y` coordinates of current pointer position.
	 */
	Owl.prototype.pointer = function(event) {
		var result = { x: null, y: null };

		event = event.originalEvent || event || window.event;

		event = event.touches && event.touches.length ?
			event.touches[0] : event.changedTouches && event.changedTouches.length ?
				event.changedTouches[0] : event;

		if (event.pageX) {
			result.x = event.pageX;
			result.y = event.pageY;
		} else {
			result.x = event.clientX;
			result.y = event.clientY;
		}

		return result;
	};

	/**
	 * Determines if the input is a Number or something that can be coerced to a Number
	 * @protected
	 * @param {Number|String|Object|Array|Boolean|RegExp|Function|Symbol} - The input to be tested
	 * @returns {Boolean} - An indication if the input is a Number or can be coerced to a Number
	 */
	Owl.prototype.isNumeric = function(number) {
		return !isNaN(parseFloat(number));
	};

	/**
	 * Gets the difference of two vectors.
	 * @todo #261
	 * @protected
	 * @param {Object} - The first vector.
	 * @param {Object} - The second vector.
	 * @returns {Object} - The difference.
	 */
	Owl.prototype.difference = function(first, second) {
		return {
			x: first.x - second.x,
			y: first.y - second.y
		};
	};

	/**
	 * The jQuery Plugin for the Owl Carousel
	 * @todo Navigation plugin `next` and `prev`
	 * @public
	 */
	$.fn.owlCarousel = function(option) {
		var args = Array.prototype.slice.call(arguments, 1);

		return this.each(function() {
			var $this = $(this),
				data = $this.data('owl.carousel');

			if (!data) {
				data = new Owl(this, typeof option == 'object' && option);
				$this.data('owl.carousel', data);

				$.each([
					'next', 'prev', 'to', 'destroy', 'refresh', 'replace', 'add', 'remove'
				], function(i, event) {
					data.register({ type: Owl.Type.Event, name: event });
					data.$element.on(event + '.owl.carousel.core', $.proxy(function(e) {
						if (e.namespace && e.relatedTarget !== this) {
							this.suppress([ event ]);
							data[event].apply(this, [].slice.call(arguments, 1));
							this.release([ event ]);
						}
					}, data));
				});
			}

			if (typeof option == 'string' && option.charAt(0) !== '_') {
				data[option].apply(data, args);
			}
		});
	};

	/**
	 * The constructor for the jQuery Plugin
	 * @public
	 */
	$.fn.owlCarousel.Constructor = Owl;

})(window.Zepto || window.jQuery, window, document);

/**
 * AutoRefresh Plugin
 * @version 2.3.4
 * @author Artus Kolanowski
 * @author David Deutsch
 * @license The MIT License (MIT)
 */
;(function($, window, document, undefined) {

	/**
	 * Creates the auto refresh plugin.
	 * @class The Auto Refresh Plugin
	 * @param {Owl} carousel - The Owl Carousel
	 */
	var AutoRefresh = function(carousel) {
		/**
		 * Reference to the core.
		 * @protected
		 * @type {Owl}
		 */
		this._core = carousel;

		/**
		 * Refresh interval.
		 * @protected
		 * @type {number}
		 */
		this._interval = null;

		/**
		 * Whether the element is currently visible or not.
		 * @protected
		 * @type {Boolean}
		 */
		this._visible = null;

		/**
		 * All event handlers.
		 * @protected
		 * @type {Object}
		 */
		this._handlers = {
			'initialized.owl.carousel': $.proxy(function(e) {
				if (e.namespace && this._core.settings.autoRefresh) {
					this.watch();
				}
			}, this)
		};

		// set default options
		this._core.options = $.extend({}, AutoRefresh.Defaults, this._core.options);

		// register event handlers
		this._core.$element.on(this._handlers);
	};

	/**
	 * Default options.
	 * @public
	 */
	AutoRefresh.Defaults = {
		autoRefresh: true,
		autoRefreshInterval: 500
	};

	/**
	 * Watches the element.
	 */
	AutoRefresh.prototype.watch = function() {
		if (this._interval) {
			return;
		}

		this._visible = this._core.isVisible();
		this._interval = window.setInterval($.proxy(this.refresh, this), this._core.settings.autoRefreshInterval);
	};

	/**
	 * Refreshes the element.
	 */
	AutoRefresh.prototype.refresh = function() {
		if (this._core.isVisible() === this._visible) {
			return;
		}

		this._visible = !this._visible;

		this._core.$element.toggleClass('owl-hidden', !this._visible);

		this._visible && (this._core.invalidate('width') && this._core.refresh());
	};

	/**
	 * Destroys the plugin.
	 */
	AutoRefresh.prototype.destroy = function() {
		var handler, property;

		window.clearInterval(this._interval);

		for (handler in this._handlers) {
			this._core.$element.off(handler, this._handlers[handler]);
		}
		for (property in Object.getOwnPropertyNames(this)) {
			typeof this[property] != 'function' && (this[property] = null);
		}
	};

	$.fn.owlCarousel.Constructor.Plugins.AutoRefresh = AutoRefresh;

})(window.Zepto || window.jQuery, window, document);

/**
 * Lazy Plugin
 * @version 2.3.4
 * @author Bartosz Wojciechowski
 * @author David Deutsch
 * @license The MIT License (MIT)
 */
;(function($, window, document, undefined) {

	/**
	 * Creates the lazy plugin.
	 * @class The Lazy Plugin
	 * @param {Owl} carousel - The Owl Carousel
	 */
	var Lazy = function(carousel) {

		/**
		 * Reference to the core.
		 * @protected
		 * @type {Owl}
		 */
		this._core = carousel;

		/**
		 * Already loaded items.
		 * @protected
		 * @type {Array.<jQuery>}
		 */
		this._loaded = [];

		/**
		 * Event handlers.
		 * @protected
		 * @type {Object}
		 */
		this._handlers = {
			'initialized.owl.carousel change.owl.carousel resized.owl.carousel': $.proxy(function(e) {
				if (!e.namespace) {
					return;
				}

				if (!this._core.settings || !this._core.settings.lazyLoad) {
					return;
				}

				if ((e.property && e.property.name == 'position') || e.type == 'initialized') {
					var settings = this._core.settings,
						n = (settings.center && Math.ceil(settings.items / 2) || settings.items),
						i = ((settings.center && n * -1) || 0),
						position = (e.property && e.property.value !== undefined ? e.property.value : this._core.current()) + i,
						clones = this._core.clones().length,
						load = $.proxy(function(i, v) { this.load(v) }, this);
					//TODO: Need documentation for this new option
					if (settings.lazyLoadEager > 0) {
						n += settings.lazyLoadEager;
						// If the carousel is looping also preload images that are to the "left"
						if (settings.loop) {
              position -= settings.lazyLoadEager;
              n++;
            }
					}

					while (i++ < n) {
						this.load(clones / 2 + this._core.relative(position));
						clones && $.each(this._core.clones(this._core.relative(position)), load);
						position++;
					}
				}
			}, this)
		};

		// set the default options
		this._core.options = $.extend({}, Lazy.Defaults, this._core.options);

		// register event handler
		this._core.$element.on(this._handlers);
	};

	/**
	 * Default options.
	 * @public
	 */
	Lazy.Defaults = {
		lazyLoad: false,
		lazyLoadEager: 0
	};

	/**
	 * Loads all resources of an item at the specified position.
	 * @param {Number} position - The absolute position of the item.
	 * @protected
	 */
	Lazy.prototype.load = function(position) {
		var $item = this._core.$stage.children().eq(position),
			$elements = $item && $item.find('.owl-lazy');

		if (!$elements || $.inArray($item.get(0), this._loaded) > -1) {
			return;
		}

		$elements.each($.proxy(function(index, element) {
			var $element = $(element), image,
                url = (window.devicePixelRatio > 1 && $element.attr('data-src-retina')) || $element.attr('data-src') || $element.attr('data-srcset');

			this._core.trigger('load', { element: $element, url: url }, 'lazy');

			if ($element.is('img')) {
				$element.one('load.owl.lazy', $.proxy(function() {
					$element.css('opacity', 1);
					this._core.trigger('loaded', { element: $element, url: url }, 'lazy');
				}, this)).attr('src', url);
            } else if ($element.is('source')) {
                $element.one('load.owl.lazy', $.proxy(function() {
                    this._core.trigger('loaded', { element: $element, url: url }, 'lazy');
                }, this)).attr('srcset', url);
			} else {
				image = new Image();
				image.onload = $.proxy(function() {
					$element.css({
						'background-image': 'url("' + url + '")',
						'opacity': '1'
					});
					this._core.trigger('loaded', { element: $element, url: url }, 'lazy');
				}, this);
				image.src = url;
			}
		}, this));

		this._loaded.push($item.get(0));
	};

	/**
	 * Destroys the plugin.
	 * @public
	 */
	Lazy.prototype.destroy = function() {
		var handler, property;

		for (handler in this.handlers) {
			this._core.$element.off(handler, this.handlers[handler]);
		}
		for (property in Object.getOwnPropertyNames(this)) {
			typeof this[property] != 'function' && (this[property] = null);
		}
	};

	$.fn.owlCarousel.Constructor.Plugins.Lazy = Lazy;

})(window.Zepto || window.jQuery, window, document);

/**
 * AutoHeight Plugin
 * @version 2.3.4
 * @author Bartosz Wojciechowski
 * @author David Deutsch
 * @license The MIT License (MIT)
 */
;(function($, window, document, undefined) {

	/**
	 * Creates the auto height plugin.
	 * @class The Auto Height Plugin
	 * @param {Owl} carousel - The Owl Carousel
	 */
	var AutoHeight = function(carousel) {
		/**
		 * Reference to the core.
		 * @protected
		 * @type {Owl}
		 */
		this._core = carousel;

		this._previousHeight = null;

		/**
		 * All event handlers.
		 * @protected
		 * @type {Object}
		 */
		this._handlers = {
			'initialized.owl.carousel refreshed.owl.carousel': $.proxy(function(e) {
				if (e.namespace && this._core.settings.autoHeight) {
					this.update();
				}
			}, this),
			'changed.owl.carousel': $.proxy(function(e) {
				if (e.namespace && this._core.settings.autoHeight && e.property.name === 'position'){
					this.update();
				}
			}, this),
			'loaded.owl.lazy': $.proxy(function(e) {
				if (e.namespace && this._core.settings.autoHeight
					&& e.element.closest('.' + this._core.settings.itemClass).index() === this._core.current()) {
					this.update();
				}
			}, this)
		};

		// set default options
		this._core.options = $.extend({}, AutoHeight.Defaults, this._core.options);

		// register event handlers
		this._core.$element.on(this._handlers);
		this._intervalId = null;
		var refThis = this;

		// These changes have been taken from a PR by gavrochelegnou proposed in #1575
		// and have been made compatible with the latest jQuery version
		$(window).on('load', function() {
			if (refThis._core.settings.autoHeight) {
				refThis.update();
			}
		});

		// Autoresize the height of the carousel when window is resized
		// When carousel has images, the height is dependent on the width
		// and should also change on resize
		$(window).resize(function() {
			if (refThis._core.settings.autoHeight) {
				if (refThis._intervalId != null) {
					clearTimeout(refThis._intervalId);
				}

				refThis._intervalId = setTimeout(function() {
					refThis.update();
				}, 250);
			}
		});

	};

	/**
	 * Default options.
	 * @public
	 */
	AutoHeight.Defaults = {
		autoHeight: false,
		autoHeightClass: 'owl-height'
	};

	/**
	 * Updates the view.
	 */
	AutoHeight.prototype.update = function() {
		var start = this._core._current,
			end = start + this._core.settings.items,
			lazyLoadEnabled = this._core.settings.lazyLoad,
			visible = this._core.$stage.children().toArray().slice(start, end),
			heights = [],
			maxheight = 0;

		$.each(visible, function(index, item) {
			heights.push($(item).height());
		});

		maxheight = Math.max.apply(null, heights);

		if (maxheight <= 1 && lazyLoadEnabled && this._previousHeight) {
			maxheight = this._previousHeight;
		}

		this._previousHeight = maxheight;

		this._core.$stage.parent()
			.height(maxheight)
			.addClass(this._core.settings.autoHeightClass);
	};

	AutoHeight.prototype.destroy = function() {
		var handler, property;

		for (handler in this._handlers) {
			this._core.$element.off(handler, this._handlers[handler]);
		}
		for (property in Object.getOwnPropertyNames(this)) {
			typeof this[property] !== 'function' && (this[property] = null);
		}
	};

	$.fn.owlCarousel.Constructor.Plugins.AutoHeight = AutoHeight;

})(window.Zepto || window.jQuery, window, document);

/**
 * Video Plugin
 * @version 2.3.4
 * @author Bartosz Wojciechowski
 * @author David Deutsch
 * @license The MIT License (MIT)
 */
;(function($, window, document, undefined) {

	/**
	 * Creates the video plugin.
	 * @class The Video Plugin
	 * @param {Owl} carousel - The Owl Carousel
	 */
	var Video = function(carousel) {
		/**
		 * Reference to the core.
		 * @protected
		 * @type {Owl}
		 */
		this._core = carousel;

		/**
		 * Cache all video URLs.
		 * @protected
		 * @type {Object}
		 */
		this._videos = {};

		/**
		 * Current playing item.
		 * @protected
		 * @type {jQuery}
		 */
		this._playing = null;

		/**
		 * All event handlers.
		 * @todo The cloned content removale is too late
		 * @protected
		 * @type {Object}
		 */
		this._handlers = {
			'initialized.owl.carousel': $.proxy(function(e) {
				if (e.namespace) {
					this._core.register({ type: 'state', name: 'playing', tags: [ 'interacting' ] });
				}
			}, this),
			'resize.owl.carousel': $.proxy(function(e) {
				if (e.namespace && this._core.settings.video && this.isInFullScreen()) {
					e.preventDefault();
				}
			}, this),
			'refreshed.owl.carousel': $.proxy(function(e) {
				if (e.namespace && this._core.is('resizing')) {
					this._core.$stage.find('.cloned .owl-video-frame').remove();
				}
			}, this),
			'changed.owl.carousel': $.proxy(function(e) {
				if (e.namespace && e.property.name === 'position' && this._playing) {
					this.stop();
				}
			}, this),
			'prepared.owl.carousel': $.proxy(function(e) {
				if (!e.namespace) {
					return;
				}

				var $element = $(e.content).find('.owl-video');

				if ($element.length) {
					$element.css('display', 'none');
					this.fetch($element, $(e.content));
				}
			}, this)
		};

		// set default options
		this._core.options = $.extend({}, Video.Defaults, this._core.options);

		// register event handlers
		this._core.$element.on(this._handlers);

		this._core.$element.on('click.owl.video', '.owl-video-play-icon', $.proxy(function(e) {
			this.play(e);
		}, this));
	};

	/**
	 * Default options.
	 * @public
	 */
	Video.Defaults = {
		video: false,
		videoHeight: false,
		videoWidth: false
	};

	/**
	 * Gets the video ID and the type (YouTube/Vimeo/vzaar only).
	 * @protected
	 * @param {jQuery} target - The target containing the video data.
	 * @param {jQuery} item - The item containing the video.
	 */
	Video.prototype.fetch = function(target, item) {
			var type = (function() {
					if (target.attr('data-vimeo-id')) {
						return 'vimeo';
					} else if (target.attr('data-vzaar-id')) {
						return 'vzaar'
					} else {
						return 'youtube';
					}
				})(),
				id = target.attr('data-vimeo-id') || target.attr('data-youtube-id') || target.attr('data-vzaar-id'),
				width = target.attr('data-width') || this._core.settings.videoWidth,
				height = target.attr('data-height') || this._core.settings.videoHeight,
				url = target.attr('href');

		if (url) {

			/*
					Parses the id's out of the following urls (and probably more):
					https://www.youtube.com/watch?v=:id
					https://youtu.be/:id
					https://vimeo.com/:id
					https://vimeo.com/channels/:channel/:id
					https://vimeo.com/groups/:group/videos/:id
					https://app.vzaar.com/videos/:id

					Visual example: https://regexper.com/#(http%3A%7Chttps%3A%7C)%5C%2F%5C%2F(player.%7Cwww.%7Capp.)%3F(vimeo%5C.com%7Cyoutu(be%5C.com%7C%5C.be%7Cbe%5C.googleapis%5C.com)%7Cvzaar%5C.com)%5C%2F(video%5C%2F%7Cvideos%5C%2F%7Cembed%5C%2F%7Cchannels%5C%2F.%2B%5C%2F%7Cgroups%5C%2F.%2B%5C%2F%7Cwatch%5C%3Fv%3D%7Cv%5C%2F)%3F(%5BA-Za-z0-9._%25-%5D*)(%5C%26%5CS%2B)%3F
			*/

			id = url.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com|be\-nocookie\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/);

			if (id[3].indexOf('youtu') > -1) {
				type = 'youtube';
			} else if (id[3].indexOf('vimeo') > -1) {
				type = 'vimeo';
			} else if (id[3].indexOf('vzaar') > -1) {
				type = 'vzaar';
			} else {
				throw new Error('Video URL not supported.');
			}
			id = id[6];
		} else {
			throw new Error('Missing video URL.');
		}

		this._videos[url] = {
			type: type,
			id: id,
			width: width,
			height: height
		};

		item.attr('data-video', url);

		this.thumbnail(target, this._videos[url]);
	};

	/**
	 * Creates video thumbnail.
	 * @protected
	 * @param {jQuery} target - The target containing the video data.
	 * @param {Object} info - The video info object.
	 * @see `fetch`
	 */
	Video.prototype.thumbnail = function(target, video) {
		var tnLink,
			icon,
			path,
			dimensions = video.width && video.height ? 'width:' + video.width + 'px;height:' + video.height + 'px;' : '',
			customTn = target.find('img'),
			srcType = 'src',
			lazyClass = '',
			settings = this._core.settings,
			create = function(path) {
				icon = '<div class="owl-video-play-icon"></div>';

				if (settings.lazyLoad) {
					tnLink = $('<div/>',{
						"class": 'owl-video-tn ' + lazyClass,
						"srcType": path
					});
				} else {
					tnLink = $( '<div/>', {
						"class": "owl-video-tn",
						"style": 'opacity:1;background-image:url(' + path + ')'
					});
				}
				target.after(tnLink);
				target.after(icon);
			};

		// wrap video content into owl-video-wrapper div
		target.wrap( $( '<div/>', {
			"class": "owl-video-wrapper",
			"style": dimensions
		}));

		if (this._core.settings.lazyLoad) {
			srcType = 'data-src';
			lazyClass = 'owl-lazy';
		}

		// custom thumbnail
		if (customTn.length) {
			create(customTn.attr(srcType));
			customTn.remove();
			return false;
		}

		if (video.type === 'youtube') {
			path = "//img.youtube.com/vi/" + video.id + "/hqdefault.jpg";
			create(path);
		} else if (video.type === 'vimeo') {
			$.ajax({
				type: 'GET',
				url: '//vimeo.com/api/v2/video/' + video.id + '.json',
				jsonp: 'callback',
				dataType: 'jsonp',
				success: function(data) {
					path = data[0].thumbnail_large;
					create(path);
				}
			});
		} else if (video.type === 'vzaar') {
			$.ajax({
				type: 'GET',
				url: '//vzaar.com/api/videos/' + video.id + '.json',
				jsonp: 'callback',
				dataType: 'jsonp',
				success: function(data) {
					path = data.framegrab_url;
					create(path);
				}
			});
		}
	};

	/**
	 * Stops the current video.
	 * @public
	 */
	Video.prototype.stop = function() {
		this._core.trigger('stop', null, 'video');
		this._playing.find('.owl-video-frame').remove();
		this._playing.removeClass('owl-video-playing');
		this._playing = null;
		this._core.leave('playing');
		this._core.trigger('stopped', null, 'video');
	};

	/**
	 * Starts the current video.
	 * @public
	 * @param {Event} event - The event arguments.
	 */
	Video.prototype.play = function(event) {
		var target = $(event.target),
			item = target.closest('.' + this._core.settings.itemClass),
			video = this._videos[item.attr('data-video')],
			width = video.width || '100%',
			height = video.height || this._core.$stage.height(),
			html,
			iframe;

		if (this._playing) {
			return;
		}

		this._core.enter('playing');
		this._core.trigger('play', null, 'video');

		item = this._core.items(this._core.relative(item.index()));

		this._core.reset(item.index());

		html = $( '<iframe frameborder="0" allowfullscreen mozallowfullscreen webkitAllowFullScreen ></iframe>' );
		html.attr( 'height', height );
		html.attr( 'width', width );
		if (video.type === 'youtube') {
			html.attr( 'src', '//www.youtube.com/embed/' + video.id + '?autoplay=1&rel=0&v=' + video.id );
		} else if (video.type === 'vimeo') {
			html.attr( 'src', '//player.vimeo.com/video/' + video.id + '?autoplay=1' );
		} else if (video.type === 'vzaar') {
			html.attr( 'src', '//view.vzaar.com/' + video.id + '/player?autoplay=true' );
		}

		iframe = $(html).wrap( '<div class="owl-video-frame" />' ).insertAfter(item.find('.owl-video'));

		this._playing = item.addClass('owl-video-playing');
	};

	/**
	 * Checks whether an video is currently in full screen mode or not.
	 * @todo Bad style because looks like a readonly method but changes members.
	 * @protected
	 * @returns {Boolean}
	 */
	Video.prototype.isInFullScreen = function() {
		var element = document.fullscreenElement || document.mozFullScreenElement ||
				document.webkitFullscreenElement;

		return element && $(element).parent().hasClass('owl-video-frame');
	};

	/**
	 * Destroys the plugin.
	 */
	Video.prototype.destroy = function() {
		var handler, property;

		this._core.$element.off('click.owl.video');

		for (handler in this._handlers) {
			this._core.$element.off(handler, this._handlers[handler]);
		}
		for (property in Object.getOwnPropertyNames(this)) {
			typeof this[property] != 'function' && (this[property] = null);
		}
	};

	$.fn.owlCarousel.Constructor.Plugins.Video = Video;

})(window.Zepto || window.jQuery, window, document);

/**
 * Animate Plugin
 * @version 2.3.4
 * @author Bartosz Wojciechowski
 * @author David Deutsch
 * @license The MIT License (MIT)
 */
;(function($, window, document, undefined) {

	/**
	 * Creates the animate plugin.
	 * @class The Navigation Plugin
	 * @param {Owl} scope - The Owl Carousel
	 */
	var Animate = function(scope) {
		this.core = scope;
		this.core.options = $.extend({}, Animate.Defaults, this.core.options);
		this.swapping = true;
		this.previous = undefined;
		this.next = undefined;

		this.handlers = {
			'change.owl.carousel': $.proxy(function(e) {
				if (e.namespace && e.property.name == 'position') {
					this.previous = this.core.current();
					this.next = e.property.value;
				}
			}, this),
			'drag.owl.carousel dragged.owl.carousel translated.owl.carousel': $.proxy(function(e) {
				if (e.namespace) {
					this.swapping = e.type == 'translated';
				}
			}, this),
			'translate.owl.carousel': $.proxy(function(e) {
				if (e.namespace && this.swapping && (this.core.options.animateOut || this.core.options.animateIn)) {
					this.swap();
				}
			}, this)
		};

		this.core.$element.on(this.handlers);
	};

	/**
	 * Default options.
	 * @public
	 */
	Animate.Defaults = {
		animateOut: false,
		animateIn: false
	};

	/**
	 * Toggles the animation classes whenever an translations starts.
	 * @protected
	 * @returns {Boolean|undefined}
	 */
	Animate.prototype.swap = function() {

		if (this.core.settings.items !== 1) {
			return;
		}

		if (!$.support.animation || !$.support.transition) {
			return;
		}

		this.core.speed(0);

		var left,
			clear = $.proxy(this.clear, this),
			previous = this.core.$stage.children().eq(this.previous),
			next = this.core.$stage.children().eq(this.next),
			incoming = this.core.settings.animateIn,
			outgoing = this.core.settings.animateOut;

		if (this.core.current() === this.previous) {
			return;
		}

		if (outgoing) {
			left = this.core.coordinates(this.previous) - this.core.coordinates(this.next);
			previous.one($.support.animation.end, clear)
				.css( { 'left': left + 'px' } )
				.addClass('animated owl-animated-out')
				.addClass(outgoing);
		}

		if (incoming) {
			next.one($.support.animation.end, clear)
				.addClass('animated owl-animated-in')
				.addClass(incoming);
		}
	};

	Animate.prototype.clear = function(e) {
		$(e.target).css( { 'left': '' } )
			.removeClass('animated owl-animated-out owl-animated-in')
			.removeClass(this.core.settings.animateIn)
			.removeClass(this.core.settings.animateOut);
		this.core.onTransitionEnd();
	};

	/**
	 * Destroys the plugin.
	 * @public
	 */
	Animate.prototype.destroy = function() {
		var handler, property;

		for (handler in this.handlers) {
			this.core.$element.off(handler, this.handlers[handler]);
		}
		for (property in Object.getOwnPropertyNames(this)) {
			typeof this[property] != 'function' && (this[property] = null);
		}
	};

	$.fn.owlCarousel.Constructor.Plugins.Animate = Animate;

})(window.Zepto || window.jQuery, window, document);

/**
 * Autoplay Plugin
 * @version 2.3.4
 * @author Bartosz Wojciechowski
 * @author Artus Kolanowski
 * @author David Deutsch
 * @author Tom De Caluw
 * @license The MIT License (MIT)
 */
;(function($, window, document, undefined) {

	/**
	 * Creates the autoplay plugin.
	 * @class The Autoplay Plugin
	 * @param {Owl} scope - The Owl Carousel
	 */
	var Autoplay = function(carousel) {
		/**
		 * Reference to the core.
		 * @protected
		 * @type {Owl}
		 */
		this._core = carousel;

		/**
		 * The autoplay timeout id.
		 * @type {Number}
		 */
		this._call = null;

		/**
		 * Depending on the state of the plugin, this variable contains either
		 * the start time of the timer or the current timer value if it's
		 * paused. Since we start in a paused state we initialize the timer
		 * value.
		 * @type {Number}
		 */
		this._time = 0;

		/**
		 * Stores the timeout currently used.
		 * @type {Number}
		 */
		this._timeout = 0;

		/**
		 * Indicates whenever the autoplay is paused.
		 * @type {Boolean}
		 */
		this._paused = true;

		/**
		 * All event handlers.
		 * @protected
		 * @type {Object}
		 */
		this._handlers = {
			'changed.owl.carousel': $.proxy(function(e) {
				if (e.namespace && e.property.name === 'settings') {
					if (this._core.settings.autoplay) {
						this.play();
					} else {
						this.stop();
					}
				} else if (e.namespace && e.property.name === 'position' && this._paused) {
					// Reset the timer. This code is triggered when the position
					// of the carousel was changed through user interaction.
					this._time = 0;
				}
			}, this),
			'initialized.owl.carousel': $.proxy(function(e) {
				if (e.namespace && this._core.settings.autoplay) {
					this.play();
				}
			}, this),
			'play.owl.autoplay': $.proxy(function(e, t, s) {
				if (e.namespace) {
					this.play(t, s);
				}
			}, this),
			'stop.owl.autoplay': $.proxy(function(e) {
				if (e.namespace) {
					this.stop();
				}
			}, this),
			'mouseover.owl.autoplay': $.proxy(function() {
				if (this._core.settings.autoplayHoverPause && this._core.is('rotating')) {
					this.pause();
				}
			}, this),
			'mouseleave.owl.autoplay': $.proxy(function() {
				if (this._core.settings.autoplayHoverPause && this._core.is('rotating')) {
					this.play();
				}
			}, this),
			'touchstart.owl.core': $.proxy(function() {
				if (this._core.settings.autoplayHoverPause && this._core.is('rotating')) {
					this.pause();
				}
			}, this),
			'touchend.owl.core': $.proxy(function() {
				if (this._core.settings.autoplayHoverPause) {
					this.play();
				}
			}, this)
		};

		// register event handlers
		this._core.$element.on(this._handlers);

		// set default options
		this._core.options = $.extend({}, Autoplay.Defaults, this._core.options);
	};

	/**
	 * Default options.
	 * @public
	 */
	Autoplay.Defaults = {
		autoplay: false,
		autoplayTimeout: 5000,
		autoplayHoverPause: false,
		autoplaySpeed: false
	};

	/**
	 * Transition to the next slide and set a timeout for the next transition.
	 * @private
	 * @param {Number} [speed] - The animation speed for the animations.
	 */
	Autoplay.prototype._next = function(speed) {
		this._call = window.setTimeout(
			$.proxy(this._next, this, speed),
			this._timeout * (Math.round(this.read() / this._timeout) + 1) - this.read()
		);

		if (this._core.is('interacting') || document.hidden) {
			return;
		}
		this._core.next(speed || this._core.settings.autoplaySpeed);
	}

	/**
	 * Reads the current timer value when the timer is playing.
	 * @public
	 */
	Autoplay.prototype.read = function() {
		return new Date().getTime() - this._time;
	};

	/**
	 * Starts the autoplay.
	 * @public
	 * @param {Number} [timeout] - The interval before the next animation starts.
	 * @param {Number} [speed] - The animation speed for the animations.
	 */
	Autoplay.prototype.play = function(timeout, speed) {
		var elapsed;

		if (!this._core.is('rotating')) {
			this._core.enter('rotating');
		}

		timeout = timeout || this._core.settings.autoplayTimeout;

		// Calculate the elapsed time since the last transition. If the carousel
		// wasn't playing this calculation will yield zero.
		elapsed = Math.min(this._time % (this._timeout || timeout), timeout);

		if (this._paused) {
			// Start the clock.
			this._time = this.read();
			this._paused = false;
		} else {
			// Clear the active timeout to allow replacement.
			window.clearTimeout(this._call);
		}

		// Adjust the origin of the timer to match the new timeout value.
		this._time += this.read() % timeout - elapsed;

		this._timeout = timeout;
		this._call = window.setTimeout($.proxy(this._next, this, speed), timeout - elapsed);
	};

	/**
	 * Stops the autoplay.
	 * @public
	 */
	Autoplay.prototype.stop = function() {
		if (this._core.is('rotating')) {
			// Reset the clock.
			this._time = 0;
			this._paused = true;

			window.clearTimeout(this._call);
			this._core.leave('rotating');
		}
	};

	/**
	 * Pauses the autoplay.
	 * @public
	 */
	Autoplay.prototype.pause = function() {
		if (this._core.is('rotating') && !this._paused) {
			// Pause the clock.
			this._time = this.read();
			this._paused = true;

			window.clearTimeout(this._call);
		}
	};

	/**
	 * Destroys the plugin.
	 */
	Autoplay.prototype.destroy = function() {
		var handler, property;

		this.stop();

		for (handler in this._handlers) {
			this._core.$element.off(handler, this._handlers[handler]);
		}
		for (property in Object.getOwnPropertyNames(this)) {
			typeof this[property] != 'function' && (this[property] = null);
		}
	};

	$.fn.owlCarousel.Constructor.Plugins.autoplay = Autoplay;

})(window.Zepto || window.jQuery, window, document);

/**
 * Navigation Plugin
 * @version 2.3.4
 * @author Artus Kolanowski
 * @author David Deutsch
 * @license The MIT License (MIT)
 */
;(function($, window, document, undefined) {
	'use strict';

	/**
	 * Creates the navigation plugin.
	 * @class The Navigation Plugin
	 * @param {Owl} carousel - The Owl Carousel.
	 */
	var Navigation = function(carousel) {
		/**
		 * Reference to the core.
		 * @protected
		 * @type {Owl}
		 */
		this._core = carousel;

		/**
		 * Indicates whether the plugin is initialized or not.
		 * @protected
		 * @type {Boolean}
		 */
		this._initialized = false;

		/**
		 * The current paging indexes.
		 * @protected
		 * @type {Array}
		 */
		this._pages = [];

		/**
		 * All DOM elements of the user interface.
		 * @protected
		 * @type {Object}
		 */
		this._controls = {};

		/**
		 * Markup for an indicator.
		 * @protected
		 * @type {Array.<String>}
		 */
		this._templates = [];

		/**
		 * The carousel element.
		 * @type {jQuery}
		 */
		this.$element = this._core.$element;

		/**
		 * Overridden methods of the carousel.
		 * @protected
		 * @type {Object}
		 */
		this._overrides = {
			next: this._core.next,
			prev: this._core.prev,
			to: this._core.to
		};

		/**
		 * All event handlers.
		 * @protected
		 * @type {Object}
		 */
		this._handlers = {
			'prepared.owl.carousel': $.proxy(function(e) {
				if (e.namespace && this._core.settings.dotsData) {
					this._templates.push('<div class="' + this._core.settings.dotClass + '">' +
						$(e.content).find('[data-dot]').addBack('[data-dot]').attr('data-dot') + '</div>');
				}
			}, this),
			'added.owl.carousel': $.proxy(function(e) {
				if (e.namespace && this._core.settings.dotsData) {
					this._templates.splice(e.position, 0, this._templates.pop());
				}
			}, this),
			'remove.owl.carousel': $.proxy(function(e) {
				if (e.namespace && this._core.settings.dotsData) {
					this._templates.splice(e.position, 1);
				}
			}, this),
			'changed.owl.carousel': $.proxy(function(e) {
				if (e.namespace && e.property.name == 'position') {
					this.draw();
				}
			}, this),
			'initialized.owl.carousel': $.proxy(function(e) {
				if (e.namespace && !this._initialized) {
					this._core.trigger('initialize', null, 'navigation');
					this.initialize();
					this.update();
					this.draw();
					this._initialized = true;
					this._core.trigger('initialized', null, 'navigation');
				}
			}, this),
			'refreshed.owl.carousel': $.proxy(function(e) {
				if (e.namespace && this._initialized) {
					this._core.trigger('refresh', null, 'navigation');
					this.update();
					this.draw();
					this._core.trigger('refreshed', null, 'navigation');
				}
			}, this)
		};

		// set default options
		this._core.options = $.extend({}, Navigation.Defaults, this._core.options);

		// register event handlers
		this.$element.on(this._handlers);
	};

	/**
	 * Default options.
	 * @public
	 * @todo Rename `slideBy` to `navBy`
	 */
	Navigation.Defaults = {
		nav: false,
		navText: [
			'<span aria-label="' + 'Previous' + '">&#x2039;</span>',
			'<span aria-label="' + 'Next' + '">&#x203a;</span>'
		],
		navSpeed: false,
		navElement: 'button type="button" role="presentation"',
		navContainer: false,
		navContainerClass: 'owl-nav',
		navClass: [
			'owl-prev',
			'owl-next'
		],
		slideBy: 1,
		dotClass: 'owl-dot',
		dotsClass: 'owl-dots',
		dots: true,
		dotsEach: false,
		dotsData: false,
		dotsSpeed: false,
		dotsContainer: false
	};

	/**
	 * Initializes the layout of the plugin and extends the carousel.
	 * @protected
	 */
	Navigation.prototype.initialize = function() {
		var override,
			settings = this._core.settings;

		// create DOM structure for relative navigation
		this._controls.$relative = (settings.navContainer ? $(settings.navContainer)
			: $('<div>').addClass(settings.navContainerClass).appendTo(this.$element)).addClass('disabled');

		this._controls.$previous = $('<' + settings.navElement + '>')
			.addClass(settings.navClass[0])
			.html(settings.navText[0])
			.prependTo(this._controls.$relative)
			.on('click', $.proxy(function(e) {
				this.prev(settings.navSpeed);
			}, this));
		this._controls.$next = $('<' + settings.navElement + '>')
			.addClass(settings.navClass[1])
			.html(settings.navText[1])
			.appendTo(this._controls.$relative)
			.on('click', $.proxy(function(e) {
				this.next(settings.navSpeed);
			}, this));

		// create DOM structure for absolute navigation
		if (!settings.dotsData) {
			this._templates = [ $('<button role="button">')
				.addClass(settings.dotClass)
				.append($('<span>'))
				.prop('outerHTML') ];
		}

		this._controls.$absolute = (settings.dotsContainer ? $(settings.dotsContainer)
			: $('<div>').addClass(settings.dotsClass).appendTo(this.$element)).addClass('disabled');

		this._controls.$absolute.on('click', 'button', $.proxy(function(e) {
			var index = $(e.target).parent().is(this._controls.$absolute)
				? $(e.target).index() : $(e.target).parent().index();

			e.preventDefault();

			this.to(index, settings.dotsSpeed);
		}, this));

		/*$el.on('focusin', function() {
			$(document).off(".carousel");

			$(document).on('keydown.carousel', function(e) {
				if(e.keyCode == 37) {
					$el.trigger('prev.owl')
				}
				if(e.keyCode == 39) {
					$el.trigger('next.owl')
				}
			});
		});*/

		// override public methods of the carousel
		for (override in this._overrides) {
			this._core[override] = $.proxy(this[override], this);
		}
	};

	/**
	 * Destroys the plugin.
	 * @protected
	 */
	Navigation.prototype.destroy = function() {
		var handler, control, property, override, settings;
		settings = this._core.settings;

		for (handler in this._handlers) {
			this.$element.off(handler, this._handlers[handler]);
		}
		for (control in this._controls) {
			if (control === '$relative' && settings.navContainer) {
				this._controls[control].html('');
			} else {
				this._controls[control].remove();
			}
		}
		for (override in this.overides) {
			this._core[override] = this._overrides[override];
		}
		for (property in Object.getOwnPropertyNames(this)) {
			typeof this[property] != 'function' && (this[property] = null);
		}
	};

	/**
	 * Updates the internal state.
	 * @protected
	 */
	Navigation.prototype.update = function() {
		var i, j, k,
			lower = this._core.clones().length / 2,
			upper = lower + this._core.items().length,
			maximum = this._core.maximum(true),
			settings = this._core.settings,
			size = settings.center || settings.autoWidth || settings.dotsData
				? 1 : settings.dotsEach || settings.items;

		if (settings.slideBy !== 'page') {
			settings.slideBy = Math.min(settings.slideBy, settings.items);
		}

		if (settings.dots || settings.slideBy == 'page') {
			this._pages = [];

			for (i = lower, j = 0, k = 0; i < upper; i++) {
				if (j >= size || j === 0) {
					this._pages.push({
						start: Math.min(maximum, i - lower),
						end: i - lower + size - 1
					});
					if (Math.min(maximum, i - lower) === maximum) {
						break;
					}
					j = 0, ++k;
				}
				j += this._core.mergers(this._core.relative(i));
			}
		}
	};

	/**
	 * Draws the user interface.
	 * @todo The option `dotsData` wont work.
	 * @protected
	 */
	Navigation.prototype.draw = function() {
		var difference,
			settings = this._core.settings,
			disabled = this._core.items().length <= settings.items,
			index = this._core.relative(this._core.current()),
			loop = settings.loop || settings.rewind;

		this._controls.$relative.toggleClass('disabled', !settings.nav || disabled);

		if (settings.nav) {
			this._controls.$previous.toggleClass('disabled', !loop && index <= this._core.minimum(true));
			this._controls.$next.toggleClass('disabled', !loop && index >= this._core.maximum(true));
		}

		this._controls.$absolute.toggleClass('disabled', !settings.dots || disabled);

		if (settings.dots) {
			difference = this._pages.length - this._controls.$absolute.children().length;

			if (settings.dotsData && difference !== 0) {
				this._controls.$absolute.html(this._templates.join(''));
			} else if (difference > 0) {
				this._controls.$absolute.append(new Array(difference + 1).join(this._templates[0]));
			} else if (difference < 0) {
				this._controls.$absolute.children().slice(difference).remove();
			}

			this._controls.$absolute.find('.active').removeClass('active');
			this._controls.$absolute.children().eq($.inArray(this.current(), this._pages)).addClass('active');
		}
	};

	/**
	 * Extends event data.
	 * @protected
	 * @param {Event} event - The event object which gets thrown.
	 */
	Navigation.prototype.onTrigger = function(event) {
		var settings = this._core.settings;

		event.page = {
			index: $.inArray(this.current(), this._pages),
			count: this._pages.length,
			size: settings && (settings.center || settings.autoWidth || settings.dotsData
				? 1 : settings.dotsEach || settings.items)
		};
	};

	/**
	 * Gets the current page position of the carousel.
	 * @protected
	 * @returns {Number}
	 */
	Navigation.prototype.current = function() {
		var current = this._core.relative(this._core.current());
		return $.grep(this._pages, $.proxy(function(page, index) {
			return page.start <= current && page.end >= current;
		}, this)).pop();
	};

	/**
	 * Gets the current succesor/predecessor position.
	 * @protected
	 * @returns {Number}
	 */
	Navigation.prototype.getPosition = function(successor) {
		var position, length,
			settings = this._core.settings;

		if (settings.slideBy == 'page') {
			position = $.inArray(this.current(), this._pages);
			length = this._pages.length;
			successor ? ++position : --position;
			position = this._pages[((position % length) + length) % length].start;
		} else {
			position = this._core.relative(this._core.current());
			length = this._core.items().length;
			successor ? position += settings.slideBy : position -= settings.slideBy;
		}

		return position;
	};

	/**
	 * Slides to the next item or page.
	 * @public
	 * @param {Number} [speed=false] - The time in milliseconds for the transition.
	 */
	Navigation.prototype.next = function(speed) {
		$.proxy(this._overrides.to, this._core)(this.getPosition(true), speed);
	};

	/**
	 * Slides to the previous item or page.
	 * @public
	 * @param {Number} [speed=false] - The time in milliseconds for the transition.
	 */
	Navigation.prototype.prev = function(speed) {
		$.proxy(this._overrides.to, this._core)(this.getPosition(false), speed);
	};

	/**
	 * Slides to the specified item or page.
	 * @public
	 * @param {Number} position - The position of the item or page.
	 * @param {Number} [speed] - The time in milliseconds for the transition.
	 * @param {Boolean} [standard=false] - Whether to use the standard behaviour or not.
	 */
	Navigation.prototype.to = function(position, speed, standard) {
		var length;

		if (!standard && this._pages.length) {
			length = this._pages.length;
			$.proxy(this._overrides.to, this._core)(this._pages[((position % length) + length) % length].start, speed);
		} else {
			$.proxy(this._overrides.to, this._core)(position, speed);
		}
	};

	$.fn.owlCarousel.Constructor.Plugins.Navigation = Navigation;

})(window.Zepto || window.jQuery, window, document);

/**
 * Hash Plugin
 * @version 2.3.4
 * @author Artus Kolanowski
 * @author David Deutsch
 * @license The MIT License (MIT)
 */
;(function($, window, document, undefined) {
	'use strict';

	/**
	 * Creates the hash plugin.
	 * @class The Hash Plugin
	 * @param {Owl} carousel - The Owl Carousel
	 */
	var Hash = function(carousel) {
		/**
		 * Reference to the core.
		 * @protected
		 * @type {Owl}
		 */
		this._core = carousel;

		/**
		 * Hash index for the items.
		 * @protected
		 * @type {Object}
		 */
		this._hashes = {};

		/**
		 * The carousel element.
		 * @type {jQuery}
		 */
		this.$element = this._core.$element;

		/**
		 * All event handlers.
		 * @protected
		 * @type {Object}
		 */
		this._handlers = {
			'initialized.owl.carousel': $.proxy(function(e) {
				if (e.namespace && this._core.settings.startPosition === 'URLHash') {
					$(window).trigger('hashchange.owl.navigation');
				}
			}, this),
			'prepared.owl.carousel': $.proxy(function(e) {
				if (e.namespace) {
					var hash = $(e.content).find('[data-hash]').addBack('[data-hash]').attr('data-hash');

					if (!hash) {
						return;
					}

					this._hashes[hash] = e.content;
				}
			}, this),
			'changed.owl.carousel': $.proxy(function(e) {
				if (e.namespace && e.property.name === 'position') {
					var current = this._core.items(this._core.relative(this._core.current())),
						hash = $.map(this._hashes, function(item, hash) {
							return item === current ? hash : null;
						}).join();

					if (!hash || window.location.hash.slice(1) === hash) {
						return;
					}

					window.location.hash = hash;
				}
			}, this)
		};

		// set default options
		this._core.options = $.extend({}, Hash.Defaults, this._core.options);

		// register the event handlers
		this.$element.on(this._handlers);

		// register event listener for hash navigation
		$(window).on('hashchange.owl.navigation', $.proxy(function(e) {
			var hash = window.location.hash.substring(1),
				items = this._core.$stage.children(),
				position = this._hashes[hash] && items.index(this._hashes[hash]);

			if (position === undefined || position === this._core.current()) {
				return;
			}

			this._core.to(this._core.relative(position), false, true);
		}, this));
	};

	/**
	 * Default options.
	 * @public
	 */
	Hash.Defaults = {
		URLhashListener: false
	};

	/**
	 * Destroys the plugin.
	 * @public
	 */
	Hash.prototype.destroy = function() {
		var handler, property;

		$(window).off('hashchange.owl.navigation');

		for (handler in this._handlers) {
			this._core.$element.off(handler, this._handlers[handler]);
		}
		for (property in Object.getOwnPropertyNames(this)) {
			typeof this[property] != 'function' && (this[property] = null);
		}
	};

	$.fn.owlCarousel.Constructor.Plugins.Hash = Hash;

})(window.Zepto || window.jQuery, window, document);

/**
 * Support Plugin
 *
 * @version 2.3.4
 * @author Vivid Planet Software GmbH
 * @author Artus Kolanowski
 * @author David Deutsch
 * @license The MIT License (MIT)
 */
;(function($, window, document, undefined) {

	var style = $('<support>').get(0).style,
		prefixes = 'Webkit Moz O ms'.split(' '),
		events = {
			transition: {
				end: {
					WebkitTransition: 'webkitTransitionEnd',
					MozTransition: 'transitionend',
					OTransition: 'oTransitionEnd',
					transition: 'transitionend'
				}
			},
			animation: {
				end: {
					WebkitAnimation: 'webkitAnimationEnd',
					MozAnimation: 'animationend',
					OAnimation: 'oAnimationEnd',
					animation: 'animationend'
				}
			}
		},
		tests = {
			csstransforms: function() {
				return !!test('transform');
			},
			csstransforms3d: function() {
				return !!test('perspective');
			},
			csstransitions: function() {
				return !!test('transition');
			},
			cssanimations: function() {
				return !!test('animation');
			}
		};

	function test(property, prefixed) {
		var result = false,
			upper = property.charAt(0).toUpperCase() + property.slice(1);

		$.each((property + ' ' + prefixes.join(upper + ' ') + upper).split(' '), function(i, property) {
			if (style[property] !== undefined) {
				result = prefixed ? property : true;
				return false;
			}
		});

		return result;
	}

	function prefixed(property) {
		return test(property, true);
	}

	if (tests.csstransitions()) {
		/* jshint -W053 */
		$.support.transition = new String(prefixed('transition'))
		$.support.transition.end = events.transition.end[ $.support.transition ];
	}

	if (tests.cssanimations()) {
		/* jshint -W053 */
		$.support.animation = new String(prefixed('animation'))
		$.support.animation.end = events.animation.end[ $.support.animation ];
	}

	if (tests.csstransforms()) {
		/* jshint -W053 */
		$.support.transform = new String(prefixed('transform'));
		$.support.transform3d = tests.csstransforms3d();
	}

})(window.Zepto || window.jQuery, window, document);

/**
 * core-js 3.6.4
 * https://github.com/zloirock/core-js
 * License: http://rock.mit-license.org
 *  2020 Denis Pushkarev (zloirock.ru)
 */
!function(qt){"use strict";function __webpack_require__(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}var e,n;n={},__webpack_require__.m=e=[function(t,r,e){e(1),e(62),e(63),e(64),e(65),e(66),e(67),e(68),e(69),e(70),e(71),e(72),e(73),e(74),e(75),e(76),e(81),e(84),e(87),e(89),e(90),e(91),e(92),e(94),e(95),e(97),e(106),e(107),e(108),e(109),e(117),e(118),e(120),e(121),e(122),e(124),e(125),e(126),e(127),e(128),e(129),e(131),e(132),e(133),e(134),e(141),e(143),e(145),e(146),e(147),e(151),e(152),e(154),e(155),e(157),e(158),e(159),e(160),e(161),e(162),e(169),e(171),e(172),e(173),e(175),e(176),e(178),e(179),e(181),e(182),e(183),e(184),e(185),e(186),e(187),e(188),e(189),e(190),e(191),e(194),e(195),e(197),e(199),e(200),e(201),e(202),e(203),e(205),e(207),e(209),e(210),e(212),e(213),e(215),e(216),e(217),e(218),e(220),e(221),e(222),e(223),e(224),e(225),e(226),e(228),e(229),e(230),e(231),e(232),e(233),e(234),e(235),e(236),e(237),e(239),e(240),e(241),e(242),e(251),e(252),e(253),e(254),e(255),e(256),e(257),e(258),e(259),e(260),e(261),e(262),e(263),e(264),e(265),e(266),e(270),e(272),e(273),e(274),e(275),e(276),e(277),e(279),e(282),e(283),e(284),e(285),e(289),e(290),e(292),e(293),e(294),e(295),e(296),e(297),e(298),e(299),e(301),e(302),e(303),e(306),e(307),e(308),e(309),e(310),e(311),e(312),e(313),e(314),e(315),e(316),e(317),e(318),e(324),e(325),e(326),e(327),e(328),e(329),e(330),e(331),e(332),e(333),e(334),e(335),e(336),e(337),e(338),e(339),e(340),e(341),e(342),e(343),e(344),e(345),e(346),e(347),e(348),e(349),e(350),e(351),e(352),e(353),e(354),e(355),e(356),e(357),e(359),e(360),e(361),e(362),e(363),e(364),e(366),e(368),e(369),e(371),e(372),e(373),e(375),e(376),e(377),e(378),e(379),e(380),e(381),e(382),e(384),e(385),e(386),e(387),e(389),e(390),e(391),e(392),e(393),e(394),e(395),e(396),e(397),e(398),e(399),e(400),e(401),e(403),e(406),e(407),e(408),e(409),e(411),e(412),e(414),e(415),e(416),e(417),e(418),e(419),e(421),e(422),e(423),e(424),e(426),e(427),e(428),e(429),e(430),e(432),e(433),e(434),e(435),e(436),e(437),e(438),e(439),e(440),e(441),e(442),e(444),e(445),e(446),e(447),e(448),e(449),e(450),e(452),e(453),e(454),e(455),e(456),e(457),e(458),e(459),e(460),e(462),e(463),e(464),e(466),e(467),e(468),e(469),e(470),e(471),e(472),e(473),e(474),e(475),e(476),e(477),e(478),e(479),e(480),e(481),e(482),e(483),e(484),e(485),e(486),e(487),e(488),e(489),e(490),e(491),e(492),e(493),e(494),e(495),e(496),e(497),e(499),e(500),e(501),e(502),e(503),e(507),t.exports=e(506)},function(t,r,e){var n=e(2),o=e(3),i=e(34),a=e(29),u=e(5),c=e(45),f=e(46),s=e(6),l=e(15),p=e(47),h=e(14),g=e(20),v=e(48),d=e(9),y=e(13),m=e(8),b=e(49),x=e(51),w=e(36),S=e(53),A=e(43),E=e(4),I=e(19),O=e(7),M=e(18),R=e(21),T=e(28),_=e(27),j=e(31),P=e(30),k=e(54),N=e(55),F=e(56),U=e(57),L=e(25),C=e(58).forEach,D=_("hidden"),B="Symbol",q="prototype",z=k("toPrimitive"),W=L.set,G=L.getterFor(B),V=Object[q],K=o.Symbol,$=i("JSON","stringify"),Y=E.f,J=I.f,X=S.f,H=O.f,Q=T("symbols"),Z=T("op-symbols"),tt=T("string-to-symbol-registry"),rt=T("symbol-to-string-registry"),et=T("wks"),nt=o.QObject,ot=!nt||!nt[q]||!nt[q].findChild,it=u&&s(function(){return 7!=b(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a})?function(t,r,e){var n=Y(V,r);n&&delete V[r],J(t,r,e),n&&t!==V&&J(V,r,n)}:J,at=function(t,r){var e=Q[t]=b(K[q]);return W(e,{type:B,tag:t,description:r}),u||(e.description=r),e},ut=f?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof K},ct=function defineProperty(t,r,e){t===V&&ct(Z,r,e),g(t);var n=y(r,!0);return g(e),l(Q,n)?(e.enumerable?(l(t,D)&&t[D][n]&&(t[D][n]=!1),e=b(e,{enumerable:m(0,!1)})):(l(t,D)||J(t,D,m(1,{})),t[D][n]=!0),it(t,n,e)):J(t,n,e)},ft=function defineProperties(r,t){g(r);var e=d(t),n=x(e).concat(ht(e));return C(n,function(t){u&&!st.call(e,t)||ct(r,t,e[t])}),r},st=function propertyIsEnumerable(t){var r=y(t,!0),e=H.call(this,r);return!(this===V&&l(Q,r)&&!l(Z,r))&&(!(e||!l(this,r)||!l(Q,r)||l(this,D)&&this[D][r])||e)},lt=function getOwnPropertyDescriptor(t,r){var e=d(t),n=y(r,!0);if(e!==V||!l(Q,n)||l(Z,n)){var o=Y(e,n);return!o||!l(Q,n)||l(e,D)&&e[D][n]||(o.enumerable=!0),o}},pt=function getOwnPropertyNames(t){var r=X(d(t)),e=[];return C(r,function(t){l(Q,t)||l(j,t)||e.push(t)}),e},ht=function getOwnPropertySymbols(t){var r=t===V,e=X(r?Z:d(t)),n=[];return C(e,function(t){!l(Q,t)||r&&!l(V,t)||n.push(Q[t])}),n};c||(R((K=function Symbol(){if(this instanceof K)throw TypeError("Symbol is not a constructor");var t=arguments.length&&arguments[0]!==qt?String(arguments[0]):qt,r=P(t),e=function(t){this===V&&e.call(Z,t),l(this,D)&&l(this[D],r)&&(this[D][r]=!1),it(this,r,m(1,t))};return u&&ot&&it(V,r,{configurable:!0,set:e}),at(r,t)})[q],"toString",function toString(){return G(this).tag}),R(K,"withoutSetter",function(t){return at(P(t),t)}),O.f=st,I.f=ct,E.f=lt,w.f=S.f=pt,A.f=ht,N.f=function(t){return at(k(t),t)},u&&(J(K[q],"description",{configurable:!0,get:function description(){return G(this).description}}),a||R(V,"propertyIsEnumerable",st,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:K}),C(x(et),function(t){F(t)}),n({target:B,stat:!0,forced:!c},{"for":function(t){var r=String(t);if(l(tt,r))return tt[r];var e=K(r);return rt[tt[r]=e]=r,e},keyFor:function keyFor(t){if(!ut(t))throw TypeError(t+" is not a symbol");if(l(rt,t))return rt[t]},useSetter:function(){ot=!0},useSimple:function(){ot=!1}}),n({target:"Object",stat:!0,forced:!c,sham:!u},{create:function create(t,r){return r===qt?b(t):ft(b(t),r)},defineProperty:ct,defineProperties:ft,getOwnPropertyDescriptor:lt}),n({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:pt,getOwnPropertySymbols:ht}),n({target:"Object",stat:!0,forced:s(function(){A.f(1)})},{getOwnPropertySymbols:function getOwnPropertySymbols(t){return A.f(v(t))}}),$&&n({target:"JSON",stat:!0,forced:!c||s(function(){var t=K();return"[null]"!=$([t])||"{}"!=$({a:t})||"{}"!=$(Object(t))})},{stringify:function stringify(t,r,e){for(var n,o=[t],i=1;i<arguments.length;)o.push(arguments[i++]);if((h(n=r)||t!==qt)&&!ut(t))return p(r)||(r=function(t,r){if("function"==typeof n&&(r=n.call(this,t,r)),!ut(r))return r}),o[1]=r,$.apply(null,o)}});K[q][z]||M(K[q],z,K[q].valueOf),U(K,B),j[D]=!0},function(t,r,e){var s=e(3),l=e(4).f,p=e(18),h=e(21),g=e(22),v=e(32),d=e(44);t.exports=function(t,r){var e,n,o,i,a,u=t.target,c=t.global,f=t.stat;if(e=c?s:f?s[u]||g(u,{}):(s[u]||{}).prototype)for(n in r){if(i=r[n],o=t.noTargetGet?(a=l(e,n))&&a.value:e[n],!d(c?n:u+(f?".":"#")+n,t.forced)&&o!==qt){if(typeof i==typeof o)continue;v(i,o)}(t.sham||o&&o.sham)&&p(i,"sham",!0),h(e,n,i,t)}}},function(t,r){var e=function(t){return t&&t.Math==Math&&t};t.exports=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof global&&global)||Function("return this")()},function(t,r,e){var n=e(5),o=e(7),i=e(8),a=e(9),u=e(13),c=e(15),f=e(16),s=Object.getOwnPropertyDescriptor;r.f=n?s:function getOwnPropertyDescriptor(t,r){if(t=a(t),r=u(r,!0),f)try{return s(t,r)}catch(e){}if(c(t,r))return i(!o.f.call(t,r),t[r])}},function(t,r,e){var n=e(6);t.exports=!n(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(t,r){t.exports=function(t){try{return!!t()}catch(r){return!0}}},function(t,r,e){var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!n.call({1:2},1);r.f=i?function propertyIsEnumerable(t){var r=o(this,t);return!!r&&r.enumerable}:n},function(t,r){t.exports=function(t,r){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:r}}},function(t,r,e){var n=e(10),o=e(12);t.exports=function(t){return n(o(t))}},function(t,r,e){var n=e(6),o=e(11),i="".split;t.exports=n(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},function(t,r){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},function(t,r){t.exports=function(t){if(t==qt)throw TypeError("Can't call method on "+t);return t}},function(t,r,e){var o=e(14);t.exports=function(t,r){if(!o(t))return t;var e,n;if(r&&"function"==typeof(e=t.toString)&&!o(n=e.call(t)))return n;if("function"==typeof(e=t.valueOf)&&!o(n=e.call(t)))return n;if(!r&&"function"==typeof(e=t.toString)&&!o(n=e.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},function(t,r){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,r){var e={}.hasOwnProperty;t.exports=function(t,r){return e.call(t,r)}},function(t,r,e){var n=e(5),o=e(6),i=e(17);t.exports=!n&&!o(function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})},function(t,r,e){var n=e(3),o=e(14),i=n.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},function(t,r,e){var n=e(5),o=e(19),i=e(8);t.exports=n?function(t,r,e){return o.f(t,r,i(1,e))}:function(t,r,e){return t[r]=e,t}},function(t,r,e){var n=e(5),o=e(16),i=e(20),a=e(13),u=Object.defineProperty;r.f=n?u:function defineProperty(t,r,e){if(i(t),r=a(r,!0),i(e),o)try{return u(t,r,e)}catch(n){}if("get"in e||"set"in e)throw TypeError("Accessors not supported");return"value"in e&&(t[r]=e.value),t}},function(t,r,e){var n=e(14);t.exports=function(t){if(!n(t))throw TypeError(String(t)+" is not an object");return t}},function(t,r,e){var u=e(3),c=e(18),f=e(15),s=e(22),n=e(23),o=e(25),i=o.get,l=o.enforce,p=String(String).split("String");(t.exports=function(t,r,e,n){var o=!!n&&!!n.unsafe,i=!!n&&!!n.enumerable,a=!!n&&!!n.noTargetGet;"function"==typeof e&&("string"!=typeof r||f(e,"name")||c(e,"name",r),l(e).source=p.join("string"==typeof r?r:"")),t!==u?(o?!a&&t[r]&&(i=!0):delete t[r],i?t[r]=e:c(t,r,e)):i?t[r]=e:s(r,e)})(Function.prototype,"toString",function toString(){return"function"==typeof this&&i(this).source||n(this)})},function(t,r,e){var n=e(3),o=e(18);t.exports=function(t,r){try{o(n,t,r)}catch(e){n[t]=r}return r}},function(t,r,e){var n=e(24),o=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(t){return o.call(t)}),t.exports=n.inspectSource},function(t,r,e){var n=e(3),o=e(22),i="__core-js_shared__",a=n[i]||o(i,{});t.exports=a},function(t,r,e){var n,o,i,a=e(26),u=e(3),c=e(14),f=e(18),s=e(15),l=e(27),p=e(31);if(a){var h=new u.WeakMap,g=h.get,v=h.has,d=h.set;n=function(t,r){return d.call(h,t,r),r},o=function(t){return g.call(h,t)||{}},i=function(t){return v.call(h,t)}}else{var y=l("state");p[y]=!0,n=function(t,r){return f(t,y,r),r},o=function(t){return s(t,y)?t[y]:{}},i=function(t){return s(t,y)}}t.exports={set:n,get:o,has:i,enforce:function(t){return i(t)?o(t):n(t,{})},getterFor:function(e){return function(t){var r;if(!c(t)||(r=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}}},function(t,r,e){var n=e(3),o=e(23),i=n.WeakMap;t.exports="function"==typeof i&&/native code/.test(o(i))},function(t,r,e){var n=e(28),o=e(30),i=n("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,r,e){var n=e(29),o=e(24);(t.exports=function(t,r){return o[t]||(o[t]=r!==qt?r:{})})("versions",[]).push({version:"3.6.4",mode:n?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(t,r){t.exports=!1},function(t,r){var e=0,n=Math.random();t.exports=function(t){return"Symbol("+String(t===qt?"":t)+")_"+(++e+n).toString(36)}},function(t,r){t.exports={}},function(t,r,e){var u=e(15),c=e(33),f=e(4),s=e(19);t.exports=function(t,r){for(var e=c(r),n=s.f,o=f.f,i=0;i<e.length;i++){var a=e[i];u(t,a)||n(t,a,o(r,a))}}},function(t,r,e){var n=e(34),o=e(36),i=e(43),a=e(20);t.exports=n("Reflect","ownKeys")||function ownKeys(t){var r=o.f(a(t)),e=i.f;return e?r.concat(e(t)):r}},function(t,r,e){var n=e(35),o=e(3),i=function(t){return"function"==typeof t?t:qt};t.exports=function(t,r){return arguments.length<2?i(n[t])||i(o[t]):n[t]&&n[t][r]||o[t]&&o[t][r]}},function(t,r,e){var n=e(3);t.exports=n},function(t,r,e){var n=e(37),o=e(42).concat("length","prototype");r.f=Object.getOwnPropertyNames||function getOwnPropertyNames(t){return n(t,o)}},function(t,r,e){var a=e(15),u=e(9),c=e(38).indexOf,f=e(31);t.exports=function(t,r){var e,n=u(t),o=0,i=[];for(e in n)!a(f,e)&&a(n,e)&&i.push(e);for(;o<r.length;)a(n,e=r[o++])&&(~c(i,e)||i.push(e));return i}},function(t,r,e){var c=e(9),f=e(39),s=e(41),n=function(u){return function(t,r,e){var n,o=c(t),i=f(o.length),a=s(e,i);if(u&&r!=r){for(;a<i;)if((n=o[a++])!=n)return!0}else for(;a<i;a++)if((u||a in o)&&o[a]===r)return u||a||0;return!u&&-1}};t.exports={includes:n(!0),indexOf:n(!1)}},function(t,r,e){var n=e(40),o=Math.min;t.exports=function(t){return 0<t?o(n(t),9007199254740991):0}},function(t,r){var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?n:e)(t)}},function(t,r,e){var n=e(40),o=Math.max,i=Math.min;t.exports=function(t,r){var e=n(t);return e<0?o(e+r,0):i(e,r)}},function(t,r){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,r){r.f=Object.getOwnPropertySymbols},function(t,r,e){var n=e(6),o=/#|\.prototype\./,i=function(t,r){var e=u[a(t)];return e==f||e!=c&&("function"==typeof r?n(r):!!r)},a=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},u=i.data={},c=i.NATIVE="N",f=i.POLYFILL="P";t.exports=i},function(t,r,e){var n=e(6);t.exports=!!Object.getOwnPropertySymbols&&!n(function(){return!String(Symbol())})},function(t,r,e){var n=e(45);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,r,e){var n=e(11);t.exports=Array.isArray||function isArray(t){return"Array"==n(t)}},function(t,r,e){var n=e(12);t.exports=function(t){return Object(n(t))}},function(t,r,e){var o,n=e(20),i=e(50),a=e(42),u=e(31),c=e(52),f=e(17),s=e(27),l="prototype",p="script",h=s("IE_PROTO"),g=function(){},v=function(t){return"<script>"+t+"</"+p+">"},d=function(){try{o=document.domain&&new ActiveXObject("htmlfile")}catch(n){}var t,r;d=o?function(t){t.write(v("")),t.close();var r=t.parentWindow.Object;return t=null,r}(o):((r=f("iframe")).style.display="none",c.appendChild(r),r.src=String("javascript:"),(t=r.contentWindow.document).open(),t.write(v("document.F=Object")),t.close(),t.F);for(var e=a.length;e--;)delete d[l][a[e]];return d()};u[h]=!0,t.exports=Object.create||function create(t,r){var e;return null!==t?(g[l]=n(t),e=new g,g[l]=null,e[h]=t):e=d(),r===qt?e:i(e,r)}},function(t,r,e){var n=e(5),a=e(19),u=e(20),c=e(51);t.exports=n?Object.defineProperties:function defineProperties(t,r){u(t);for(var e,n=c(r),o=n.length,i=0;i<o;)a.f(t,e=n[i++],r[e]);return t}},function(t,r,e){var n=e(37),o=e(42);t.exports=Object.keys||function keys(t){return n(t,o)}},function(t,r,e){var n=e(34);t.exports=n("document","documentElement")},function(t,r,e){var n=e(9),o=e(36).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function getOwnPropertyNames(t){return a&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(r){return a.slice()}}(t):o(n(t))}},function(t,r,e){var n=e(3),o=e(28),i=e(15),a=e(30),u=e(45),c=e(46),f=o("wks"),s=n.Symbol,l=c?s:s&&s.withoutSetter||a;t.exports=function(t){return i(f,t)||(u&&i(s,t)?f[t]=s[t]:f[t]=l("Symbol."+t)),f[t]}},function(t,r,e){var n=e(54);r.f=n},function(t,r,e){var n=e(35),o=e(15),i=e(55),a=e(19).f;t.exports=function(t){var r=n.Symbol||(n.Symbol={});o(r,t)||a(r,t,{value:i.f(t)})}},function(t,r,e){var n=e(19).f,o=e(15),i=e(54)("toStringTag");t.exports=function(t,r,e){t&&!o(t=e?t:t.prototype,i)&&n(t,i,{configurable:!0,value:r})}},function(t,r,e){var x=e(59),w=e(10),S=e(48),A=e(39),E=e(61),I=[].push,n=function(h){var g=1==h,v=2==h,d=3==h,y=4==h,m=6==h,b=5==h||m;return function(t,r,e,n){for(var o,i,a=S(t),u=w(a),c=x(r,e,3),f=A(u.length),s=0,l=n||E,p=g?l(t,f):v?l(t,0):qt;s<f;s++)if((b||s in u)&&(i=c(o=u[s],s,a),h))if(g)p[s]=i;else if(i)switch(h){case 3:return!0;case 5:return o;case 6:return s;case 2:I.call(p,o)}else if(y)return!1;return m?-1:d||y?y:p}};t.exports={forEach:n(0),map:n(1),filter:n(2),some:n(3),every:n(4),find:n(5),findIndex:n(6)}},function(t,r,e){var i=e(60);t.exports=function(n,o,t){if(i(n),o===qt)return n;switch(t){case 0:return function(){return n.call(o)};case 1:return function(t){return n.call(o,t)};case 2:return function(t,r){return n.call(o,t,r)};case 3:return function(t,r,e){return n.call(o,t,r,e)}}return function(){return n.apply(o,arguments)}}},function(t,r){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,r,e){var n=e(14),o=e(47),i=e(54)("species");t.exports=function(t,r){var e;return o(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!o(e.prototype)?n(e)&&null===(e=e[i])&&(e=qt):e=qt),new(e===qt?Array:e)(0===r?0:r)}},function(t,r,e){var n=e(2),o=e(5),i=e(3),a=e(15),u=e(14),c=e(19).f,f=e(32),s=i.Symbol;if(o&&"function"==typeof s&&(!("description"in s.prototype)||s().description!==qt)){var l={},p=function Symbol(){var t=arguments.length<1||arguments[0]===qt?qt:String(arguments[0]),r=this instanceof p?new s(t):t===qt?s():s(t);return""===t&&(l[r]=!0),r};f(p,s);var h=p.prototype=s.prototype;h.constructor=p;var g=h.toString,v="Symbol(test)"==String(s("test")),d=/^Symbol\((.*)\)[^)]+$/;c(h,"description",{configurable:!0,get:function description(){var t=u(this)?this.valueOf():this,r=g.call(t);if(a(l,t))return"";var e=v?r.slice(7,-1):r.replace(d,"$1");return""===e?qt:e}}),n({global:!0,forced:!0},{Symbol:p})}},function(t,r,e){e(56)("asyncIterator")},function(t,r,e){e(56)("hasInstance")},function(t,r,e){e(56)("isConcatSpreadable")},function(t,r,e){e(56)("iterator")},function(t,r,e){e(56)("match")},function(t,r,e){e(56)("matchAll")},function(t,r,e){e(56)("replace")},function(t,r,e){e(56)("search")},function(t,r,e){e(56)("species")},function(t,r,e){e(56)("split")},function(t,r,e){e(56)("toPrimitive")},function(t,r,e){e(56)("toStringTag")},function(t,r,e){e(56)("unscopables")},function(t,r,e){var n=e(2),o=e(6),i=e(47),a=e(14),f=e(48),s=e(39),l=e(77),p=e(61),u=e(78),c=e(54),h=e(79),g=c("isConcatSpreadable"),v=9007199254740991,d="Maximum allowed index exceeded",y=51<=h||!o(function(){var t=[];return t[g]=!1,t.concat()[0]!==t}),m=u("concat"),b=function(t){if(!a(t))return!1;var r=t[g];return r!==qt?!!r:i(t)};n({target:"Array",proto:!0,forced:!y||!m},{concat:function concat(t){var r,e,n,o,i,a=f(this),u=p(a,0),c=0;for(r=-1,n=arguments.length;r<n;r++)if(b(i=-1===r?a:arguments[r])){if(o=s(i.length),v<c+o)throw TypeError(d);for(e=0;e<o;e++,c++)e in i&&l(u,c,i[e])}else{if(v<=c)throw TypeError(d);l(u,c++,i)}return u.length=c,u}})},function(t,r,e){var o=e(13),i=e(19),a=e(8);t.exports=function(t,r,e){var n=o(r);n in t?i.f(t,n,a(0,e)):t[n]=e}},function(t,r,e){var n=e(6),o=e(54),i=e(79),a=o("species");t.exports=function(r){return 51<=i||!n(function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[r](Boolean).foo})}},function(t,r,e){var n,o,i=e(3),a=e(80),u=i.process,c=u&&u.versions,f=c&&c.v8;f?o=(n=f.split("."))[0]+n[1]:a&&(!(n=a.match(/Edge\/(\d+)/))||74<=n[1])&&(n=a.match(/Chrome\/(\d+)/))&&(o=n[1]),t.exports=o&&+o},function(t,r,e){var n=e(34);t.exports=n("navigator","userAgent")||""},function(t,r,e){var n=e(2),o=e(82),i=e(83);n({target:"Array",proto:!0},{copyWithin:o}),i("copyWithin")},function(t,r,e){var f=e(48),s=e(41),l=e(39),p=Math.min;t.exports=[].copyWithin||function copyWithin(t,r){var e=f(this),n=l(e.length),o=s(t,n),i=s(r,n),a=2<arguments.length?arguments[2]:qt,u=p((a===qt?n:s(a,n))-i,n-o),c=1;for(i<o&&o<i+u&&(c=-1,i+=u-1,o+=u-1);0<u--;)i in e?e[o]=e[i]:delete e[o],o+=c,i+=c;return e}},function(t,r,e){var n=e(54),o=e(49),i=e(19),a=n("unscopables"),u=Array.prototype;u[a]==qt&&i.f(u,a,{configurable:!0,value:o(null)}),t.exports=function(t){u[a][t]=!0}},function(t,r,e){var n=e(2),o=e(58).every,i=e(85),a=e(86),u=i("every"),c=a("every");n({target:"Array",proto:!0,forced:!u||!c},{every:function every(t){return o(this,t,1<arguments.length?arguments[1]:qt)}})},function(t,r,e){var n=e(6);t.exports=function(t,r){var e=[][t];return!!e&&n(function(){e.call(null,r||function(){throw 1},1)})}},function(t,r,e){var a=e(5),u=e(6),c=e(15),f=Object.defineProperty,s={},l=function(t){throw t};t.exports=function(t,r){if(c(s,t))return s[t];var e=[][t],n=!!c(r=r||{},"ACCESSORS")&&r.ACCESSORS,o=c(r,0)?r[0]:l,i=c(r,1)?r[1]:qt;return s[t]=!!e&&!u(function(){if(n&&!a)return!0;var t={length:-1};n?f(t,1,{enumerable:!0,get:l}):t[1]=1,e.call(t,o,i)})}},function(t,r,e){var n=e(2),o=e(88),i=e(83);n({target:"Array",proto:!0},{fill:o}),i("fill")},function(t,r,e){var u=e(48),c=e(41),f=e(39);t.exports=function fill(t){for(var r=u(this),e=f(r.length),n=arguments.length,o=c(1<n?arguments[1]:qt,e),i=2<n?arguments[2]:qt,a=i===qt?e:c(i,e);o<a;)r[o++]=t;return r}},function(t,r,e){var n=e(2),o=e(58).filter,i=e(78),a=e(86),u=i("filter"),c=a("filter");n({target:"Array",proto:!0,forced:!u||!c},{filter:function filter(t){return o(this,t,1<arguments.length?arguments[1]:qt)}})},function(t,r,e){var n=e(2),o=e(58).find,i=e(83),a=e(86),u="find",c=!0,f=a(u);u in[]&&Array(1)[u](function(){c=!1}),n({target:"Array",proto:!0,forced:c||!f},{find:function find(t){return o(this,t,1<arguments.length?arguments[1]:qt)}}),i(u)},function(t,r,e){var n=e(2),o=e(58).findIndex,i=e(83),a=e(86),u="findIndex",c=!0,f=a(u);u in[]&&Array(1)[u](function(){c=!1}),n({target:"Array",proto:!0,forced:c||!f},{findIndex:function findIndex(t){return o(this,t,1<arguments.length?arguments[1]:qt)}}),i(u)},function(t,r,e){var n=e(2),o=e(93),i=e(48),a=e(39),u=e(40),c=e(61);n({target:"Array",proto:!0},{flat:function flat(){var t=arguments.length?arguments[0]:qt,r=i(this),e=a(r.length),n=c(r,0);return n.length=o(n,r,r,e,0,t===qt?1:u(t)),n}})},function(t,r,e){var p=e(47),h=e(39),g=e(59),v=function(t,r,e,n,o,i,a,u){for(var c,f=o,s=0,l=!!a&&g(a,u,3);s<n;){if(s in e){if(c=l?l(e[s],s,r):e[s],0<i&&p(c))f=v(t,r,c,h(c.length),f,i-1)-1;else{if(9007199254740991<=f)throw TypeError("Exceed the acceptable array length");t[f]=c}f++}s++}return f};t.exports=v},function(t,r,e){var n=e(2),o=e(93),i=e(48),a=e(39),u=e(60),c=e(61);n({target:"Array",proto:!0},{flatMap:function flatMap(t){var r,e=i(this),n=a(e.length);return u(t),(r=c(e,0)).length=o(r,e,e,n,0,1,t,1<arguments.length?arguments[1]:qt),r}})},function(t,r,e){var n=e(2),o=e(96);n({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},function(t,r,e){var n=e(58).forEach,o=e(85),i=e(86),a=o("forEach"),u=i("forEach");t.exports=a&&u?[].forEach:function forEach(t){return n(this,t,1<arguments.length?arguments[1]:qt)}},function(t,r,e){var n=e(2),o=e(98);n({target:"Array",stat:!0,forced:!e(105)(function(t){Array.from(t)})},{from:o})},function(t,r,e){var g=e(59),v=e(48),d=e(99),y=e(100),m=e(39),b=e(77),x=e(102);t.exports=function from(t){var r,e,n,o,i,a,u=v(t),c="function"==typeof this?this:Array,f=arguments.length,s=1<f?arguments[1]:qt,l=s!==qt,p=x(u),h=0;if(l&&(s=g(s,2<f?arguments[2]:qt,2)),p==qt||c==Array&&y(p))for(e=new c(r=m(u.length));h<r;h++)a=l?s(u[h],h):u[h],b(e,h,a);else for(i=(o=p.call(u)).next,e=new c;!(n=i.call(o)).done;h++)a=l?d(o,s,[n.value,h],!0):n.value,b(e,h,a);return e.length=h,e}},function(t,r,e){var a=e(20);t.exports=function(t,r,e,n){try{return n?r(a(e)[0],e[1]):r(e)}catch(i){var o=t["return"];throw o!==qt&&a(o.call(t)),i}}},function(t,r,e){var n=e(54),o=e(101),i=n("iterator"),a=Array.prototype;t.exports=function(t){return t!==qt&&(o.Array===t||a[i]===t)}},function(t,r){t.exports={}},function(t,r,e){var n=e(103),o=e(101),i=e(54)("iterator");t.exports=function(t){if(t!=qt)return t[i]||t["@@iterator"]||o[n(t)]}},function(t,r,e){var n=e(104),o=e(11),i=e(54)("toStringTag"),a="Arguments"==o(function(){return arguments}());t.exports=n?o:function(t){var r,e,n;return t===qt?"Undefined":null===t?"Null":"string"==typeof(e=function(t,r){try{return t[r]}catch(e){}}(r=Object(t),i))?e:a?o(r):"Object"==(n=o(r))&&"function"==typeof r.callee?"Arguments":n}},function(t,r,e){var n={};n[e(54)("toStringTag")]="z",t.exports="[object z]"===String(n)},function(t,r,e){var o=e(54)("iterator"),i=!1;try{var n=0,a={next:function(){return{done:!!n++}},"return":function(){i=!0}};a[o]=function(){return this},Array.from(a,function(){throw 2})}catch(u){}t.exports=function(t,r){if(!r&&!i)return!1;var e=!1;try{var n={};n[o]=function(){return{next:function(){return{done:e=!0}}}},t(n)}catch(u){}return e}},function(t,r,e){var n=e(2),o=e(38).includes,i=e(83);n({target:"Array",proto:!0,forced:!e(86)("indexOf",{ACCESSORS:!0,1:0})},{includes:function includes(t){return o(this,t,1<arguments.length?arguments[1]:qt)}}),i("includes")},function(t,r,e){var n=e(2),o=e(38).indexOf,i=e(85),a=e(86),u=[].indexOf,c=!!u&&1/[1].indexOf(1,-0)<0,f=i("indexOf"),s=a("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:c||!f||!s},{indexOf:function indexOf(t){return c?u.apply(this,arguments)||0:o(this,t,1<arguments.length?arguments[1]:qt)}})},function(t,r,e){e(2)({target:"Array",stat:!0},{isArray:e(47)})},function(t,r,e){var n=e(9),o=e(83),i=e(101),a=e(25),u=e(110),c="Array Iterator",f=a.set,s=a.getterFor(c);t.exports=u(Array,"Array",function(t,r){f(this,{type:c,target:n(t),index:0,kind:r})},function(){var t=s(this),r=t.target,e=t.kind,n=t.index++;return!r||r.length<=n?{value:t.target=qt,done:!0}:"keys"==e?{value:n,done:!1}:"values"==e?{value:r[n],done:!1}:{value:[n,r[n]],done:!1}},"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t,r,e){var y=e(2),m=e(111),b=e(113),x=e(115),w=e(57),S=e(18),A=e(21),n=e(54),E=e(29),I=e(101),o=e(112),O=o.IteratorPrototype,M=o.BUGGY_SAFARI_ITERATORS,R=n("iterator"),T="values",_="entries",j=function(){return this};t.exports=function(t,r,e,n,o,i,a){m(e,r,n);var u,c,f,s=function(t){if(t===o&&v)return v;if(!M&&t in h)return h[t];switch(t){case"keys":return function keys(){return new e(this,t)};case T:return function values(){return new e(this,t)};case _:return function entries(){return new e(this,t)}}return function(){return new e(this)}},l=r+" Iterator",p=!1,h=t.prototype,g=h[R]||h["@@iterator"]||o&&h[o],v=!M&&g||s(o),d="Array"==r&&h.entries||g;if(d&&(u=b(d.call(new t)),O!==Object.prototype&&u.next&&(E||b(u)===O||(x?x(u,O):"function"!=typeof u[R]&&S(u,R,j)),w(u,l,!0,!0),E&&(I[l]=j))),o==T&&g&&g.name!==T&&(p=!0,v=function values(){return g.call(this)}),E&&!a||h[R]===v||S(h,R,v),I[r]=v,o)if(c={values:s(T),keys:i?v:s("keys"),entries:s(_)},a)for(f in c)!M&&!p&&f in h||A(h,f,c[f]);else y({target:r,proto:!0,forced:M||p},c);return c}},function(t,r,e){var o=e(112).IteratorPrototype,i=e(49),a=e(8),u=e(57),c=e(101),f=function(){return this};t.exports=function(t,r,e){var n=r+" Iterator";return t.prototype=i(o,{next:a(1,e)}),u(t,n,!1,!0),c[n]=f,t}},function(t,r,e){var n,o,i,a=e(113),u=e(18),c=e(15),f=e(54),s=e(29),l=f("iterator"),p=!1;[].keys&&("next"in(i=[].keys())?(o=a(a(i)))!==Object.prototype&&(n=o):p=!0),n==qt&&(n={}),s||c(n,l)||u(n,l,function(){return this}),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:p}},function(t,r,e){var n=e(15),o=e(48),i=e(27),a=e(114),u=i("IE_PROTO"),c=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=o(t),n(t,u)?t[u]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},function(t,r,e){var n=e(6);t.exports=!n(function(){function F(){}return F.prototype.constructor=null,Object.getPrototypeOf(new F)!==F.prototype})},function(t,r,e){var o=e(20),i=e(116);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,n=!1,t={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),n=t instanceof Array}catch(r){}return function setPrototypeOf(t,r){return o(t),i(r),n?e.call(t,r):t.__proto__=r,t}}():qt)},function(t,r,e){var n=e(14);t.exports=function(t){if(!n(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,r,e){var n=e(2),o=e(10),i=e(9),a=e(85),u=[].join,c=o!=Object,f=a("join",",");n({target:"Array",proto:!0,forced:c||!f},{join:function join(t){return u.call(i(this),t===qt?",":t)}})},function(t,r,e){var n=e(2),o=e(119);n({target:"Array",proto:!0,forced:o!==[].lastIndexOf},{lastIndexOf:o})},function(t,r,e){var o=e(9),i=e(40),a=e(39),n=e(85),u=e(86),c=Math.min,f=[].lastIndexOf,s=!!f&&1/[1].lastIndexOf(1,-0)<0,l=n("lastIndexOf"),p=u("indexOf",{ACCESSORS:!0,1:0});t.exports=s||!l||!p?function lastIndexOf(t){if(s)return f.apply(this,arguments)||0;var r=o(this),e=a(r.length),n=e-1;for(1<arguments.length&&(n=c(n,i(arguments[1]))),n<0&&(n=e+n);0<=n;n--)if(n in r&&r[n]===t)return n||0;return-1}:f},function(t,r,e){var n=e(2),o=e(58).map,i=e(78),a=e(86),u=i("map"),c=a("map");n({target:"Array",proto:!0,forced:!u||!c},{map:function map(t){return o(this,t,1<arguments.length?arguments[1]:qt)}})},function(t,r,e){var n=e(2),o=e(6),i=e(77);n({target:"Array",stat:!0,forced:o(function(){function F(){}return!(Array.of.call(F)instanceof F)})},{of:function of(){for(var t=0,r=arguments.length,e=new("function"==typeof this?this:Array)(r);t<r;)i(e,t,arguments[t++]);return e.length=r,e}})},function(t,r,e){var n=e(2),o=e(123).left,i=e(85),a=e(86),u=i("reduce"),c=a("reduce",{1:0});n({target:"Array",proto:!0,forced:!u||!c},{reduce:function reduce(t){return o(this,t,arguments.length,1<arguments.length?arguments[1]:qt)}})},function(t,r,e){var s=e(60),l=e(48),p=e(10),h=e(39),n=function(f){return function(t,r,e,n){s(r);var o=l(t),i=p(o),a=h(o.length),u=f?a-1:0,c=f?-1:1;if(e<2)for(;;){if(u in i){n=i[u],u+=c;break}if(u+=c,f?u<0:a<=u)throw TypeError("Reduce of empty array with no initial value")}for(;f?0<=u:u<a;u+=c)u in i&&(n=r(n,i[u],u,o));return n}};t.exports={left:n(!1),right:n(!0)}},function(t,r,e){var n=e(2),o=e(123).right,i=e(85),a=e(86),u=i("reduceRight"),c=a("reduce",{1:0});n({target:"Array",proto:!0,forced:!u||!c},{reduceRight:function reduceRight(t){return o(this,t,arguments.length,1<arguments.length?arguments[1]:qt)}})},function(t,r,e){var n=e(2),o=e(47),i=[].reverse,a=[1,2];n({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function reverse(){return o(this)&&(this.length=this.length),i.call(this)}})},function(t,r,e){var n=e(2),f=e(14),s=e(47),l=e(41),p=e(39),h=e(9),g=e(77),o=e(54),i=e(78),a=e(86),u=i("slice"),c=a("slice",{ACCESSORS:!0,0:0,1:2}),v=o("species"),d=[].slice,y=Math.max;n({target:"Array",proto:!0,forced:!u||!c},{slice:function slice(t,r){var e,n,o,i=h(this),a=p(i.length),u=l(t,a),c=l(r===qt?a:r,a);if(s(i)&&("function"!=typeof(e=i.constructor)||e!==Array&&!s(e.prototype)?f(e)&&null===(e=e[v])&&(e=qt):e=qt,e===Array||e===qt))return d.call(i,u,c);for(n=new(e===qt?Array:e)(y(c-u,0)),o=0;u<c;u++,o++)u in i&&g(n,o,i[u]);return n.length=o,n}})},function(t,r,e){var n=e(2),o=e(58).some,i=e(85),a=e(86),u=i("some"),c=a("some");n({target:"Array",proto:!0,forced:!u||!c},{some:function some(t){return o(this,t,1<arguments.length?arguments[1]:qt)}})},function(t,r,e){var n=e(2),o=e(60),i=e(48),a=e(6),u=e(85),c=[],f=c.sort,s=a(function(){c.sort(qt)}),l=a(function(){c.sort(null)}),p=u("sort");n({target:"Array",proto:!0,forced:s||!l||!p},{sort:function sort(t){return t===qt?f.call(i(this)):f.call(i(this),o(t))}})},function(t,r,e){e(130)("Array")},function(t,r,e){var n=e(34),o=e(19),i=e(54),a=e(5),u=i("species");t.exports=function(t){var r=n(t);a&&r&&!r[u]&&(0,o.f)(r,u,{configurable:!0,get:function(){return this}})}},function(t,r,e){var n=e(2),p=e(41),h=e(40),g=e(39),v=e(48),d=e(61),y=e(77),o=e(78),i=e(86),a=o("splice"),u=i("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,b=Math.min;n({target:"Array",proto:!0,forced:!a||!u},{splice:function splice(t,r){var e,n,o,i,a,u,c=v(this),f=g(c.length),s=p(t,f),l=arguments.length;if(0===l?e=n=0:n=1===l?(e=0,f-s):(e=l-2,b(m(h(r),0),f-s)),9007199254740991<f+e-n)throw TypeError("Maximum allowed length exceeded");for(o=d(c,n),i=0;i<n;i++)(a=s+i)in c&&y(o,i,c[a]);if(e<(o.length=n)){for(i=s;i<f-n;i++)u=i+e,(a=i+n)in c?c[u]=c[a]:delete c[u];for(i=f;f-n+e<i;i--)delete c[i-1]}else if(n<e)for(i=f-n;s<i;i--)u=i+e-1,(a=i+n-1
)in c?c[u]=c[a]:delete c[u];for(i=0;i<e;i++)c[i+s]=arguments[i+2];return c.length=f-n+e,o}})},function(t,r,e){e(83)("flat")},function(t,r,e){e(83)("flatMap")},function(t,r,e){var n=e(2),o=e(3),i=e(135),a=e(130),u="ArrayBuffer",c=i[u];n({global:!0,forced:o[u]!==c},{ArrayBuffer:c}),a(u)},function(t,r,e){var n=e(3),i=e(5),o=e(136),a=e(18),u=e(137),c=e(6),f=e(138),s=e(40),l=e(39),p=e(139),h=e(140),g=e(113),v=e(115),d=e(36).f,y=e(19).f,m=e(88),b=e(57),x=e(25),w=x.get,S=x.set,A="ArrayBuffer",E="DataView",I="prototype",O="Wrong index",M=n[A],R=M,T=n[E],_=T&&T[I],j=Object.prototype,P=n.RangeError,k=h.pack,N=h.unpack,F=function(t){return[255&t]},U=function(t){return[255&t,t>>8&255]},L=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},C=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},D=function(t){return k(t,23,4)},B=function(t){return k(t,52,8)},q=function(t,r){y(t[I],r,{get:function(){return w(this)[r]}})},z=function(t,r,e,n){var o=p(e),i=w(t);if(i.byteLength<o+r)throw P(O);var a=w(i.buffer).bytes,u=o+i.byteOffset,c=a.slice(u,u+r);return n?c:c.reverse()},W=function(t,r,e,n,o,i){var a=p(e),u=w(t);if(u.byteLength<a+r)throw P(O);for(var c=w(u.buffer).bytes,f=a+u.byteOffset,s=n(+o),l=0;l<r;l++)c[f+l]=s[i?l:r-l-1]};if(o){if(!c(function(){M(1)})||!c(function(){new M(-1)})||c(function(){return new M,new M(1.5),new M(NaN),M.name!=A})){for(var G,V=(R=function ArrayBuffer(t){return f(this,R),new M(p(t))})[I]=M[I],K=d(M),$=0;$<K.length;)(G=K[$++])in R||a(R,G,M[G]);V.constructor=R}v&&g(_)!==j&&v(_,j);var Y=new T(new R(2)),J=_.setInt8;Y.setInt8(0,2147483648),Y.setInt8(1,2147483649),!Y.getInt8(0)&&Y.getInt8(1)||u(_,{setInt8:function setInt8(t,r){J.call(this,t,r<<24>>24)},setUint8:function setUint8(t,r){J.call(this,t,r<<24>>24)}},{unsafe:!0})}else R=function ArrayBuffer(t){f(this,R,A);var r=p(t);S(this,{bytes:m.call(new Array(r),0),byteLength:r}),i||(this.byteLength=r)},T=function DataView(t,r,e){f(this,T,E),f(t,R,E);var n=w(t).byteLength,o=s(r);if(o<0||n<o)throw P("Wrong offset");if(n<o+(e=e===qt?n-o:l(e)))throw P("Wrong length");S(this,{buffer:t,byteLength:e,byteOffset:o}),i||(this.buffer=t,this.byteLength=e,this.byteOffset=o)},i&&(q(R,"byteLength"),q(T,"buffer"),q(T,"byteLength"),q(T,"byteOffset")),u(T[I],{getInt8:function getInt8(t){return z(this,1,t)[0]<<24>>24},getUint8:function getUint8(t){return z(this,1,t)[0]},getInt16:function getInt16(t){var r=z(this,2,t,1<arguments.length?arguments[1]:qt);return(r[1]<<8|r[0])<<16>>16},getUint16:function getUint16(t){var r=z(this,2,t,1<arguments.length?arguments[1]:qt);return r[1]<<8|r[0]},getInt32:function getInt32(t){return C(z(this,4,t,1<arguments.length?arguments[1]:qt))},getUint32:function getUint32(t){return C(z(this,4,t,1<arguments.length?arguments[1]:qt))>>>0},getFloat32:function getFloat32(t){return N(z(this,4,t,1<arguments.length?arguments[1]:qt),23)},getFloat64:function getFloat64(t){return N(z(this,8,t,1<arguments.length?arguments[1]:qt),52)},setInt8:function setInt8(t,r){W(this,1,t,F,r)},setUint8:function setUint8(t,r){W(this,1,t,F,r)},setInt16:function setInt16(t,r){W(this,2,t,U,r,2<arguments.length?arguments[2]:qt)},setUint16:function setUint16(t,r){W(this,2,t,U,r,2<arguments.length?arguments[2]:qt)},setInt32:function setInt32(t,r){W(this,4,t,L,r,2<arguments.length?arguments[2]:qt)},setUint32:function setUint32(t,r){W(this,4,t,L,r,2<arguments.length?arguments[2]:qt)},setFloat32:function setFloat32(t,r){W(this,4,t,D,r,2<arguments.length?arguments[2]:qt)},setFloat64:function setFloat64(t,r){W(this,8,t,B,r,2<arguments.length?arguments[2]:qt)}});b(R,A),b(T,E),t.exports={ArrayBuffer:R,DataView:T}},function(t,r){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(t,r,e){var o=e(21);t.exports=function(t,r,e){for(var n in r)o(t,n,r[n],e);return t}},function(t,r){t.exports=function(t,r,e){if(!(t instanceof r))throw TypeError("Incorrect "+(e?e+" ":"")+"invocation");return t}},function(t,r,e){var n=e(40),o=e(39);t.exports=function(t){if(t===qt)return 0;var r=n(t),e=o(r);if(r!==e)throw RangeError("Wrong length or index");return e}},function(t,r){var h=Math.abs,g=Math.pow,v=Math.floor,d=Math.log,y=Math.LN2;t.exports={pack:function(t,r,e){var n,o,i,a=new Array(e),u=8*e-r-1,c=(1<<u)-1,f=c>>1,s=23===r?g(2,-24)-g(2,-77):0,l=t<0||0===t&&1/t<0?1:0,p=0;for((t=h(t))!=t||t===1/0?(o=t!=t?1:0,n=c):(n=v(d(t)/y),t*(i=g(2,-n))<1&&(n--,i*=2),2<=(t+=1<=n+f?s/i:s*g(2,1-f))*i&&(n++,i/=2),c<=n+f?(o=0,n=c):1<=n+f?(o=(t*i-1)*g(2,r),n+=f):(o=t*g(2,f-1)*g(2,r),n=0));8<=r;a[p++]=255&o,o/=256,r-=8);for(n=n<<r|o,u+=r;0<u;a[p++]=255&n,n/=256,u-=8);return a[--p]|=128*l,a},unpack:function(t,r){var e,n=t.length,o=8*n-r-1,i=(1<<o)-1,a=i>>1,u=o-7,c=n-1,f=t[c--],s=127&f;for(f>>=7;0<u;s=256*s+t[c],c--,u-=8);for(e=s&(1<<-u)-1,s>>=-u,u+=r;0<u;e=256*e+t[c],c--,u-=8);if(0===s)s=1-a;else{if(s===i)return e?NaN:f?-1/0:1/0;e+=g(2,r),s-=a}return(f?-1:1)*e*g(2,s-r)}}},function(t,r,e){var n=e(2),o=e(142);n({target:"ArrayBuffer",stat:!0,forced:!o.NATIVE_ARRAY_BUFFER_VIEWS},{isView:o.isView})},function(t,r,e){var n,o=e(136),a=e(5),u=e(3),i=e(14),c=e(15),f=e(103),s=e(18),l=e(21),p=e(19).f,h=e(113),g=e(115),v=e(54),d=e(30),y=u.Int8Array,m=y&&y.prototype,b=u.Uint8ClampedArray,x=b&&b.prototype,w=y&&h(y),S=m&&h(m),A=Object.prototype,E=A.isPrototypeOf,I=v("toStringTag"),O=d("TYPED_ARRAY_TAG"),M=o&&!!g&&"Opera"!==f(u.opera),R=!1,T={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},_=function _(t){var r=f(t);return"DataView"===r||c(T,r)},j=function(t){return i(t)&&c(T,f(t))};for(n in T)u[n]||(M=!1);if((!M||"function"!=typeof w||w===Function.prototype)&&(w=function w(){throw TypeError("Incorrect invocation")},M))for(n in T)u[n]&&g(u[n],w);if((!M||!S||S===A)&&(S=w.prototype,M))for(n in T)u[n]&&g(u[n].prototype,S);if(M&&h(x)!==S&&g(x,S),a&&!c(S,I))for(n in R=!0,p(S,I,{get:function(){return i(this)?this[O]:qt}}),T)u[n]&&s(u[n],O,n);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:M,TYPED_ARRAY_TAG:R&&O,aTypedArray:function(t){if(j(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(g){if(E.call(w,t))return t}else for(var r in T)if(c(T,n)){var e=u[r];if(e&&(t===e||E.call(e,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,r,e){if(a){if(e)for(var n in T){var o=u[n];o&&c(o.prototype,t)&&delete o.prototype[t]}S[t]&&!e||l(S,t,e?r:M&&m[t]||r)}},exportTypedArrayStaticMethod:function(t,r,e){var n,o;if(a){if(g){if(e)for(n in T)(o=u[n])&&c(o,t)&&delete o[t];if(w[t]&&!e)return;try{return l(w,t,e?r:M&&y[t]||r)}catch(i){}}for(n in T)!(o=u[n])||o[t]&&!e||l(o,t,r)}},isView:_,isTypedArray:j,TypedArray:w,TypedArrayPrototype:S}},function(t,r,e){var n=e(2),o=e(6),i=e(135),f=e(20),s=e(41),l=e(39),p=e(144),h=i.ArrayBuffer,g=i.DataView,v=h.prototype.slice;n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:o(function(){return!new h(2).slice(1,qt).byteLength})},{slice:function slice(t,r){if(v!==qt&&r===qt)return v.call(f(this),t);for(var e=f(this).byteLength,n=s(t,e),o=s(r===qt?e:r,e),i=new(p(this,h))(l(o-n)),a=new g(this),u=new g(i),c=0;n<o;)u.setUint8(c++,a.getUint8(n++));return i}})},function(t,r,e){var o=e(20),i=e(60),a=e(54)("species");t.exports=function(t,r){var e,n=o(t).constructor;return n===qt||(e=o(n)[a])==qt?r:i(e)}},function(t,r,e){var n=e(2),o=e(135);n({global:!0,forced:!e(136)},{DataView:o.DataView})},function(t,r,e){e(2)({target:"Date",stat:!0},{now:function now(){return(new Date).getTime()}})},function(t,r,e){var n=e(2),o=e(148);n({target:"Date",proto:!0,forced:Date.prototype.toISOString!==o},{toISOString:o})},function(t,r,e){var n=e(6),o=e(149).start,i=Math.abs,a=Date.prototype,u=a.getTime,c=a.toISOString;t.exports=n(function(){return"0385-07-25T07:06:39.999Z"!=c.call(new Date(-5e13-1))})||!n(function(){c.call(new Date(NaN))})?function toISOString(){if(!isFinite(u.call(this)))throw RangeError("Invalid time value");var t=this,r=t.getUTCFullYear(),e=t.getUTCMilliseconds(),n=r<0?"-":9999<r?"+":"";return n+o(i(r),n?6:4,0)+"-"+o(t.getUTCMonth()+1,2,0)+"-"+o(t.getUTCDate(),2,0)+"T"+o(t.getUTCHours(),2,0)+":"+o(t.getUTCMinutes(),2,0)+":"+o(t.getUTCSeconds(),2,0)+"."+o(e,3,0)+"Z"}:c},function(t,r,e){var s=e(39),l=e(150),p=e(12),h=Math.ceil,n=function(f){return function(t,r,e){var n,o,i=String(p(t)),a=i.length,u=e===qt?" ":String(e),c=s(r);return c<=a||""==u?i:((n=c-a)<(o=l.call(u,h(n/u.length))).length&&(o=o.slice(0,n)),f?i+o:o+i)}};t.exports={start:n(!1),end:n(!0)}},function(t,r,e){var o=e(40),i=e(12);t.exports="".repeat||function repeat(t){var r=String(i(this)),e="",n=o(t);if(n<0||n==Infinity)throw RangeError("Wrong number of repetitions");for(;0<n;(n>>>=1)&&(r+=r))1&n&&(e+=r);return e}},function(t,r,e){var n=e(2),o=e(6),i=e(48),a=e(13);n({target:"Date",proto:!0,forced:o(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})},{toJSON:function toJSON(t){var r=i(this),e=a(r);return"number"!=typeof e||isFinite(e)?r.toISOString():null}})},function(t,r,e){var n=e(18),o=e(153),i=e(54)("toPrimitive"),a=Date.prototype;i in a||n(a,i,o)},function(t,r,e){var n=e(20),o=e(13);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return o(n(this),"number"!==t)}},function(t,r,e){var n=e(21),o=Date.prototype,i="Invalid Date",a="toString",u=o[a],c=o.getTime;new Date(NaN)+""!=i&&n(o,a,function toString(){var t=c.call(this);return t==t?u.call(this):i})},function(t,r,e){e(2)({target:"Function",proto:!0},{bind:e(156)})},function(t,r,e){var i=e(60),a=e(14),u=[].slice,c={};t.exports=Function.bind||function bind(r){var e=i(this),n=u.call(arguments,1),o=function bound(){var t=n.concat(u.call(arguments));return this instanceof o?function(t,r,e){if(!(r in c)){for(var n=[],o=0;o<r;o++)n[o]="a["+o+"]";c[r]=Function("C,a","return new C("+n.join(",")+")")}return c[r](t,e)}(e,t.length,t):e.apply(r,t)};return a(e.prototype)&&(o.prototype=e.prototype),o}},function(t,r,e){var n=e(14),o=e(19),i=e(113),a=e(54)("hasInstance"),u=Function.prototype;a in u||o.f(u,a,{value:function(t){if("function"!=typeof this||!n(t))return!1;if(!n(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,r,e){var n=e(5),o=e(19).f,i=Function.prototype,a=i.toString,u=/^\s*function ([^ (]*)/;!n||"name"in i||o(i,"name",{configurable:!0,get:function(){try{return a.call(this).match(u)[1]}catch(t){return""}}})},function(t,r,e){e(2)({global:!0},{globalThis:e(3)})},function(t,r,e){var n=e(2),o=e(34),i=e(6),a=o("JSON","stringify"),u=/[\uD800-\uDFFF]/g,c=/^[\uD800-\uDBFF]$/,f=/^[\uDC00-\uDFFF]$/,s=function(t,r,e){var n=e.charAt(r-1),o=e.charAt(r+1);return c.test(t)&&!f.test(o)||f.test(t)&&!c.test(n)?"\\u"+t.charCodeAt(0).toString(16):t},l=i(function(){return'"\\udf06\\ud834"'!==a("\udf06\ud834")||'"\\udead"'!==a("\udead")});a&&n({target:"JSON",stat:!0,forced:l},{stringify:function stringify(t,r,e){var n=a.apply(null,arguments);return"string"==typeof n?n.replace(u,s):n}})},function(t,r,e){var n=e(3);e(57)(n.JSON,"JSON",!0)},function(t,r,e){var n=e(163),o=e(168);t.exports=n("Map",function(t){return function Map(){return t(this,arguments.length?arguments[0]:qt)}},o)},function(t,r,e){var d=e(2),y=e(3),m=e(44),b=e(21),x=e(164),w=e(166),S=e(138),A=e(14),E=e(6),I=e(105),O=e(57),M=e(167);t.exports=function(n,t,r){var o=-1!==n.indexOf("Map"),i=-1!==n.indexOf("Weak"),a=o?"set":"add",u=y[n],c=u&&u.prototype,f=u,e={},s=function(t){var e=c[t];b(c,t,"add"==t?function add(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(i&&!A(t))&&e.call(this,0===t?0:t)}:"get"==t?function get(t){return i&&!A(t)?qt:e.call(this,0===t?0:t)}:"has"==t?function has(t){return!(i&&!A(t))&&e.call(this,0===t?0:t)}:function set(t,r){return e.call(this,0===t?0:t,r),this})};if(m(n,"function"!=typeof u||!(i||c.forEach&&!E(function(){(new u).entries().next()}))))f=r.getConstructor(t,n,o,a),x.REQUIRED=!0;else if(m(n,!0)){var l=new f,p=l[a](i?{}:-0,1)!=l,h=E(function(){l.has(1)}),g=I(function(t){new u(t)}),v=!i&&E(function(){for(var t=new u,r=5;r--;)t[a](r,r);return!t.has(-0)});g||(((f=t(function(t,r){S(t,f,n);var e=M(new u,t,f);return r!=qt&&w(r,e[a],e,o),e})).prototype=c).constructor=f),(h||v)&&(s("delete"),s("has"),o&&s("get")),(v||p)&&s(a),i&&c.clear&&delete c.clear}return d({global:!0,forced:(e[n]=f)!=u},e),O(f,n),i||r.setStrong(f,n,o),f}},function(t,r,e){var n=e(31),o=e(14),i=e(15),a=e(19).f,u=e(30),c=e(165),f=u("meta"),s=0,l=Object.isExtensible||function(){return!0},p=function(t){a(t,f,{value:{objectID:"O"+ ++s,weakData:{}}})},h=t.exports={REQUIRED:!1,fastKey:function(t,r){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,f)){if(!l(t))return"F";if(!r)return"E";p(t)}return t[f].objectID},getWeakData:function(t,r){if(!i(t,f)){if(!l(t))return!0;if(!r)return!1;p(t)}return t[f].weakData},onFreeze:function(t){return c&&h.REQUIRED&&l(t)&&!i(t,f)&&p(t),t}};n[f]=!0},function(t,r,e){var n=e(6);t.exports=!n(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(t,r,e){var h=e(20),g=e(100),v=e(39),d=e(59),y=e(102),m=e(99),b=function(t,r){this.stopped=t,this.result=r};(t.exports=function(t,r,e,n,o){var i,a,u,c,f,s,l,p=d(r,e,n?2:1);if(o)i=t;else{if("function"!=typeof(a=y(t)))throw TypeError("Target is not iterable");if(g(a)){for(u=0,c=v(t.length);u<c;u++)if((f=n?p(h(l=t[u])[0],l[1]):p(t[u]))&&f instanceof b)return f;return new b(!1)}i=a.call(t)}for(s=i.next;!(l=s.call(i)).done;)if("object"==typeof(f=m(i,p,l.value,n))&&f&&f instanceof b)return f;return new b(!1)}).stop=function(t){return new b(!0,t)}},function(t,r,e){var i=e(14),a=e(115);t.exports=function(t,r,e){var n,o;return a&&"function"==typeof(n=r.constructor)&&n!==e&&i(o=n.prototype)&&o!==e.prototype&&a(t,o),t}},function(t,r,e){var f=e(19).f,s=e(49),l=e(137),p=e(59),h=e(138),g=e(166),a=e(110),u=e(130),v=e(5),d=e(164).fastKey,n=e(25),y=n.set,m=n.getterFor;t.exports={getConstructor:function(t,e,n,o){var i=t(function(t,r){h(t,i,e),y(t,{type:e,index:s(null),first:qt,last:qt,size:0}),v||(t.size=0),r!=qt&&g(r,t[o],t,n)}),u=m(e),a=function(t,r,e){var n,o,i=u(t),a=c(t,r);return a?a.value=e:(i.last=a={index:o=d(r,!0),key:r,value:e,previous:n=i.last,next:qt,removed:!1},i.first||(i.first=a),n&&(n.next=a),v?i.size++:t.size++,"F"!==o&&(i.index[o]=a)),t},c=function(t,r){var e,n=u(t),o=d(r);if("F"!==o)return n.index[o];for(e=n.first;e;e=e.next)if(e.key==r)return e};return l(i.prototype,{clear:function clear(){for(var t=u(this),r=t.index,e=t.first;e;)e.removed=!0,e.previous&&(e.previous=e.previous.next=qt),delete r[e.index],e=e.next;t.first=t.last=qt,v?t.size=0:this.size=0},"delete":function(t){var r=u(this),e=c(this,t);if(e){var n=e.next,o=e.previous;delete r.index[e.index],e.removed=!0,o&&(o.next=n),n&&(n.previous=o),r.first==e&&(r.first=n),r.last==e&&(r.last=o),v?r.size--:this.size--}return!!e},forEach:function forEach(t){for(var r,e=u(this),n=p(t,1<arguments.length?arguments[1]:qt,3);r=r?r.next:e.first;)for(n(r.value,r.key,this);r&&r.removed;)r=r.previous},has:function has(t){return!!c(this,t)}}),l(i.prototype,n?{get:function get(t){var r=c(this,t);return r&&r.value},set:function set(t,r){return a(this,0===t?0:t,r)}}:{add:function add(t){return a(this,t=0===t?0:t,t)}}),v&&f(i.prototype,"size",{get:function(){return u(this).size}}),i},setStrong:function(t,r,e){var n=r+" Iterator",o=m(r),i=m(n);a(t,r,function(t,r){y(this,{type:n,target:t,state:o(t),kind:r,last:qt})},function(){for(var t=i(this),r=t.kind,e=t.last;e&&e.removed;)e=e.previous;return t.target&&(t.last=e=e?e.next:t.state.first)?"keys"==r?{value:e.key,done:!1}:"values"==r?{value:e.value,done:!1}:{value:[e.key,e.value],done:!1}:{value:t.target=qt,done:!0}},e?"entries":"values",!e,!0),u(r)}}},function(t,r,e){var n=e(2),o=e(170),i=Math.acosh,a=Math.log,u=Math.sqrt,c=Math.LN2;n({target:"Math",stat:!0,forced:!i||710!=Math.floor(i(Number.MAX_VALUE))||i(Infinity)!=Infinity},{acosh:function acosh(t){return(t=+t)<1?NaN:94906265.62425156<t?a(t)+c:o(t-1+u(t-1)*u(t+1))}})},function(t,r){var e=Math.log;t.exports=Math.log1p||function log1p(t){return-1e-8<(t=+t)&&t<1e-8?t-t*t/2:e(1+t)}},function(t,r,e){var n=e(2),o=Math.asinh,i=Math.log,a=Math.sqrt;n({target:"Math",stat:!0,forced:!(o&&0<1/o(0))},{asinh:function asinh(t){return isFinite(t=+t)&&0!=t?t<0?-asinh(-t):i(t+a(t*t+1)):t}})},function(t,r,e){var n=e(2),o=Math.atanh,i=Math.log;n({target:"Math",stat:!0,forced:!(o&&1/o(-0)<0)},{atanh:function atanh(t){return 0==(t=+t)?t:i((1+t)/(1-t))/2}})},function(t,r,e){var n=e(2),o=e(174),i=Math.abs,a=Math.pow;n({target:"Math",stat:!0},{cbrt:function cbrt(t){return o(t=+t)*a(i(t),1/3)}})},function(t,r){t.exports=Math.sign||function sign(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,r,e){var n=e(2),o=Math.floor,i=Math.log,a=Math.LOG2E;n({target:"Math",stat:!0},{clz32:function clz32(t){return(t>>>=0)?31-o(i(t+.5)*a):32}})},function(t,r,e){var n=e(2),o=e(177),i=Math.cosh,a=Math.abs,u=Math.E;n({target:"Math",stat:!0,forced:!i||i(710)===Infinity},{cosh:function cosh(t){var r=o(a(t)-1)+1;return(r+1/(r*u*u))*(u/2)}})},function(t,r){var e=Math.expm1,n=Math.exp;t.exports=!e||22025.465794806718<e(10)||e(10)<22025.465794806718||-2e-17!=e(-2e-17)?function expm1(t){return 0==(t=+t)?t:-1e-6<t&&t<1e-6?t+t*t/2:n(t)-1}:e},function(t,r,e){var n=e(2),o=e(177);n({target:"Math",stat:!0,forced:o!=Math.expm1},{expm1:o})},function(t,r,e){e(2)({target:"Math",stat:!0},{fround:e(180)})},function(t,r,e){var i=e(174),a=Math.abs,n=Math.pow,u=n(2,-52),c=n(2,-23),f=n(2,127)*(2-c),s=n(2,-126);t.exports=Math.fround||function fround(t){var r,e,n=a(t),o=i(t);return n<s?o*(n/s/c+1/u-1/u)*s*c:f<(e=(r=(1+c/u)*n)-(r-n))||e!=e?o*Infinity:o*e}},function(t,r,e){var n=e(2),o=Math.hypot,c=Math.abs,f=Math.sqrt;n({target:"Math",stat:!0,forced:!!o&&o(Infinity,NaN)!==Infinity},{hypot:function hypot(t,r){for(var e,n,o=0,i=0,a=arguments.length,u=0;i<a;)u<(e=c(arguments[i++]))?(o=o*(n=u/e)*n+1,u=e):o+=0<e?(n=e/u)*n:e;return u===Infinity?Infinity:u*f(o)}})},function(t,r,e){var n=e(2),o=e(6),i=Math.imul;n({target:"Math",stat:!0,forced:o(function(){return-5!=i(4294967295,5)||2!=i.length})},{imul:function imul(t,r){var e=65535,n=+t,o=+r,i=e&n,a=e&o;return 0|i*a+((e&n>>>16)*a+i*(e&o>>>16)<<16>>>0)}})},function(t,r,e){var n=e(2),o=Math.log,i=Math.LOG10E;n({target:"Math",stat:!0},{log10:function log10(t){return o(t)*i}})},function(t,r,e){e(2)({target:"Math",stat:!0},{log1p:e(170)})},function(t,r,e){var n=e(2),o=Math.log,i=Math.LN2;n({target:"Math",stat:!0},{log2:function log2(t){return o(t)/i}})},function(t,r,e){e(2)({target:"Math",stat:!0},{sign:e(174)})},function(t,r,e){var n=e(2),o=e(6),i=e(177),a=Math.abs,u=Math.exp,c=Math.E;n({target:"Math",stat:!0,forced:o(function(){return-2e-17!=Math.sinh(-2e-17)})},{sinh:function sinh(t){return a(t=+t)<1?(i(t)-i(-t))/2:(u(t-1)-u(-t-1))*(c/2)}})},function(t,r,e){var n=e(2),o=e(177),i=Math.exp;n({target:"Math",stat:!0},{tanh:function tanh(t){var r=o(t=+t),e=o(-t);return r==Infinity?1:e==Infinity?-1:(r-e)/(i(t)+i(-t))}})},function(t,r,e){e(57)(Math,"Math",!0)},function(t,r,e){var n=e(2),o=Math.ceil,i=Math.floor;n({target:"Math",stat:!0},{trunc:function trunc(t){return(0<t?i:o)(t)}})},function(t,r,e){var n=e(5),o=e(3),i=e(44),a=e(21),u=e(15),c=e(11),f=e(167),s=e(13),l=e(6),p=e(49),h=e(36).f,g=e(4).f,v=e(19).f,d=e(192).trim,y="Number",m=o[y],b=m.prototype,x=c(p(b))==y,w=function(t){var r,e,n,o,i,a,u,c,f=s(t,!1);if("string"==typeof f&&2<f.length)if(43===(r=(f=d(f)).charCodeAt(0))||45===r){if(88===(e=f.charCodeAt(2))||120===e)return NaN}else if(48===r){switch(f.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+f}for(a=(i=f.slice(2)).length,u=0;u<a;u++)if((c=i.charCodeAt(u))<48||o<c)return NaN;return parseInt(i,n)}return+f};if(i(y,!m(" 0o1")||!m("0b1")||m("+0x1"))){for(var S,A=function Number(t){var r=arguments.length<1?0:t,e=this;return e instanceof A&&(x?l(function(){b.valueOf.call(e)}):c(e)!=y)?f(new m(w(r)),e,A):w(r)},E=n?h(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;I<E.length;I++)u(m,S=E[I])&&!u(A,S)&&v(A,S,g(m,S));a(o,y,(A.prototype=b).constructor=A)}},function(t,r,e){var n=e(12),o="["+e(193)+"]",i=RegExp("^"+o+o+"*"),a=RegExp(o+o+"*$"),u=function(e){return function(t){var r=String(n(t));return 1&e&&(r=r.replace(i,"")),2&e&&(r=r.replace(a,"")),r}};t.exports={start:u(1),end:u(2),trim:u(3)}},function(t,r){t.exports="\t\n\x0B\f\r \u2028\u2029\ufeff"},function(t,r,e){e(2)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},function(t,r,e){e(2)({target:"Number",stat:!0},{isFinite:e(196)})},function(t,r,e){var n=e(3).isFinite;t.exports=Number.isFinite||function isFinite(t){return"number"==typeof t&&n(t)}},function(t,r,e){e(2)({target:"Number",stat:!0},{isInteger:e(198)})},function(t,r,e){var n=e(14),o=Math.floor;t.exports=function isInteger(t){return!n(t)&&isFinite(t)&&o(t)===t}},function(t,r,e){e(2)({target:"Number",stat:!0},{isNaN:function isNaN(t){return t!=t}})},function(t,r,e){var n=e(2),o=e(198),i=Math.abs;n({target:"Number",stat:!0},{isSafeInteger:function isSafeInteger(t){return o(t)&&i(t)<=9007199254740991}})},function(t,r,e){e(2)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(t,r,e){e(2)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(t,r,e){var n=e(2),o=e(204);n({target:"Number",stat:!0,forced:Number.parseFloat!=o},{parseFloat:o})},function(t,r,e){var n=e(3),o=e(192).trim,i=e(193),a=n.parseFloat,u=1/a(i+"-0")!=-Infinity;t.exports=u?function parseFloat(t){var r=o(String(t)),e=a(r);return 0===e&&"-"==r.charAt(0)?-0:e}:a},function(t,r,e){var n=e(2),o=e(206);n({target:"Number",stat:!0,forced:Number.parseInt!=o},{parseInt:o})},function(t,r,e){var n=e(3),o=e(192).trim,i=e(193),a=n.parseInt,u=/^[+-]?0[Xx]/,c=8!==a(i+"08")||22!==a(i+"0x16");t.exports=c?function parseInt(t,r){var e=o(String(t));return a(e,r>>>0||(u.test(e)?16:10))}:a},function(t,r,e){var n=e(2),h=e(40),g=e(208),v=e(150),o=e(6),i=1..toFixed,d=Math.floor,y=function(t,r,e){return 0===r?e:r%2==1?y(t,r-1,e*t):y(t*t,r/2,e)};n({target:"Number",proto:!0,forced:i&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o(function(){i.call({})})},{toFixed:function toFixed(t){var r,e,n,o,i=g(this),a=h(t),u=[0,0,0,0,0,0],c="",f="0",s=function(t,r){for(var e=-1,n=r;++e<6;)u[e]=(n+=t*u[e])%1e7,n=d(n/1e7)},l=function(t){for(var r=6,e=0;0<=--r;)u[r]=d((e+=u[r])/t),e=e%t*1e7},p=function(){for(var t=6,r="";0<=--t;)if(""!==r||0===t||0!==u[t]){var e=String(u[t]);r=""===r?e:r+v.call("0",7-e.length)+e}return r};if(a<0||20<a)throw RangeError("Incorrect fraction digits");if(i!=i)return"NaN";if(i<=-1e21||1e21<=i)return String(i);if(i<0&&(c="-",i=-i),1e-21<i)if(e=(r=function(t){for(var r=0,e=t;4096<=e;)r+=12,e/=4096;for(;2<=e;)r+=1,e/=2;return r}(i*y(2,69,1))-69)<0?i*y(2,-r,1):i/y(2,r,1),e*=4503599627370496,0<(r=52-r)){for(s(0,e),n=a;7<=n;)s(1e7,0),n-=7;for(s(y(10,n,1),0),n=r-1;23<=n;)l(1<<23),n-=23;l(1<<n),s(1,1),l(2),f=p()}else s(0,e),s(1<<-r,0),f=p()+v.call("0",a);return f=0<a?c+((o=f.length)<=a?"0."+v.call("0",a-o)+f:f.slice(0,o-a)+"."+f.slice(o-a)):c+f}})},function(t,r,e){var n=e(11);t.exports=function(t){if("number"!=typeof t&&"Number"!=n(t))throw TypeError("Incorrect invocation");return+t}},function(t,r,e){var n=e(2),o=e(6),i=e(208),a=1..toPrecision;n({target:"Number",proto:!0,forced:o(function(){return"1"!==a.call(1,qt)})||!o(function(){a.call({})})},{toPrecision:function toPrecision(t){return t===qt?a.call(i(this)):a.call(i(this),t)}})},function(t,r,e){var n=e(2),o=e(211);n({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(t,r,e){var p=e(5),n=e(6),h=e(51),g=e(43),v=e(7),d=e(48),y=e(10),o=Object.assign,i=Object.defineProperty;t.exports=!o||n(function(){if(p&&1!==o({b:1},o(i({},"a",{enumerable:!0,get:function(){i(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},r={},e=Symbol(),n="abcdefghijklmnopqrst";return t[e]=7,n.split("").forEach(function(t){r[t]=t}),7!=o({},t)[e]||h(o({},r)).join("")!=n})?function assign(t,r){for(var e=d(t),n=arguments.length,o=1,i=g.f,a=v.f;o<n;)for(var u,c=y(arguments[o++]),f=i?h(c).concat(i(c)):h(c),s=f.length,l=0;l<s;)u=f[l++],p&&!a.call(c,u)||(e[u]=c[u]);return e}:o},function(t,r,e){e(2)({target:"Object",stat:!0,sham:!e(5)},{create:e(49)})},function(t,r,e){var n=e(2),o=e(5),i=e(214),a=e(48),u=e(60),c=e(19);o&&n({target:"Object",proto:!0,forced:i},{__defineGetter__:function __defineGetter__(t,r){c.f(a(this),t,{get:u(r),enumerable:!0,configurable:!0})}})},function(t,r,e){var n=e(29),o=e(3),i=e(6);t.exports=n||!i(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete o[t]})},function(t,r,e){var n=e(2),o=e(5);n({target:"Object",stat:!0,forced:!o,sham:!o},{defineProperties:e(50)})},function(t,r,e){var n=e(2),o=e(5);n({target:"Object",stat:!0,forced:!o,sham:!o},{defineProperty:e(19).f})},function(t,r,e){var n=e(2),o=e(5),i=e(214),a=e(48),u=e(60),c=e(19);o&&n({target:"Object",proto:!0,forced:i},{__defineSetter__:function __defineSetter__(t,r){c.f(a(this),t,{set:u(r),enumerable:!0,configurable:!0})}})},function(t,r,e){var n=e(2),o=e(219).entries;n({target:"Object",stat:!0},{entries:function entries(t){return o(t)}})},function(t,r,e){var c=e(5),f=e(51),s=e(9),l=e(7).f,n=function(u){return function(t){for(var r,e=s(t),n=f(e),o=n.length,i=0,a=[];i<o;)r=n[i++],c&&!l.call(e,r)||a.push(u?[r,e[r]]:e[r]);return a}};t.exports={entries:n(!0),values:n(!1)}},function(t,r,e){var n=e(2),o=e(165),i=e(6),a=e(14),u=e(164).onFreeze,c=Object.freeze;n({target:"Object",stat:!0,forced:i(function(){c(1)}),sham:!o},{freeze:function freeze(t){return c&&a(t)?c(u(t)):t}})},function(t,r,e){var n=e(2),o=e(166),i=e(77);n({target:"Object",stat:!0},{fromEntries:function fromEntries(t){var e={};return o(t,function(t,r){i(e,t,r)},qt,!0),e}})},function(t,r,e){var n=e(2),o=e(6),i=e(9),a=e(4).f,u=e(5),c=o(function(){a(1)});n({target:"Object",stat:!0,forced:!u||c,sham:!u},{getOwnPropertyDescriptor:function getOwnPropertyDescriptor(t,r){return a(i(t),r)}})},function(t,r,e){var n=e(2),o=e(5),c=e(33),f=e(9),s=e(4),l=e(77);n({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function getOwnPropertyDescriptors(t){for(var r,e,n=f(t),o=s.f,i=c(n),a={},u=0;u<i.length;)(e=o(n,r=i[u++]))!==qt&&l(a,r,e);return a}})},function(t,r,e){var n=e(2),o=e(6),i=e(53).f;n({target:"Object",stat:!0,forced:o(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:i})},function(t,r,e){var n=e(2),o=e(6),i=e(48),a=e(113),u=e(114);n({target:"Object",stat:!0,forced:o(function(){a(1)}),sham:!u},{getPrototypeOf:function getPrototypeOf(t){return a(i(t))}})},function(t,r,e){e(2)({target:"Object",stat:!0},{is:e(227)})},function(t,r){t.exports=Object.is||function is(t,r){return t===r?0!==t||1/t==1/r:t!=t&&r!=r}},function(t,r,e){var n=e(2),o=e(6),i=e(14),a=Object.isExtensible;n({target:"Object",stat:!0,forced:o(function(){a(1)})},{isExtensible:function isExtensible(t){return!!i(t)&&(!a||a(t))}})},function(t,r,e){var n=e(2),o=e(6),i=e(14),a=Object.isFrozen;n({target:"Object",stat:!0,forced:o(function(){a(1)})},{isFrozen:function isFrozen(t){return!i(t)||!!a&&a(t)}})},function(t,r,e){var n=e(2),o=e(6),i=e(14),a=Object.isSealed;n({target:"Object",stat:!0,forced:o(function(){a(1)})},{isSealed:function isSealed(t){return!i(t)||!!a&&a(t)}})},function(t,r,e){var n=e(2),o=e(48),i=e(51);n({target:"Object",stat:!0,forced:e(6)(function(){i(1)})},{keys:function keys(t){return i(o(t))}})},function(t,r,e){var n=e(2),o=e(5),i=e(214),a=e(48),u=e(13),c=e(113),f=e(4).f;o&&n({target:"Object",proto:!0,forced:i},{__lookupGetter__:function __lookupGetter__(t){var r,e=a(this),n=u(t,!0);do{if(r=f(e,n))return r.get}while(e=c(e))}})},function(t,r,e){var n=e(2),o=e(5),i=e(214),a=e(48),u=e(13),c=e(113),f=e(4).f;o&&n({target:"Object",proto:!0,forced:i},{__lookupSetter__:function __lookupSetter__(t){var r,e=a(this),n=u(t,!0);do{if(r=f(e,n))return r.set}while(e=c(e))}})},function(t,r,e){var n=e(2),o=e(14),i=e(164).onFreeze,a=e(165),u=e(6),c=Object.preventExtensions;n({target:"Object",stat:!0,forced:u(function(){c(1)}),sham:!a},{preventExtensions:function preventExtensions(t){return c&&o(t)?c(i(t)):t}})},function(t,r,e){var n=e(2),o=e(14),i=e(164).onFreeze,a=e(165),u=e(6),c=Object.seal;n({target:"Object",stat:!0,forced:u(function(){c(1)}),sham:!a},{seal:function seal(t){return c&&o(t)?c(i(t)):t}})},function(t,r,e){e(2)({target:"Object",stat:!0},{setPrototypeOf:e(115)})},function(t,r,e){var n=e(104),o=e(21),i=e(238);n||o(Object.prototype,"toString",i,{unsafe:!0})},function(t,r,e){var n=e(104),o=e(103);t.exports=n?{}.toString:function toString(){return"[object "+o(this)+"]"}},function(t,r,e){var n=e(2),o=e(219).values;n({target:"Object",stat:!0},{values:function values(t){return o(t)}})},function(t,r,e){var n=e(2),o=e(204);n({global:!0,forced:parseFloat!=o},{parseFloat:o})},function(t,r,e){var n=e(2),o=e(206);n({global:!0,forced:parseInt!=o},{parseInt:o})},function(t,r,e){var n,o,i,a,u=e(2),c=e(29),f=e(3),s=e(34),l=e(243),p=e(21),h=e(137),g=e(57),v=e(130),d=e(14),y=e(60),m=e(138),b=e(11),x=e(23),w=e(166),S=e(105),A=e(144),E=e(244).set,I=e(246),O=e(247),M=e(249),R=e(248),T=e(250),_=e(25),j=e(44),P=e(54),k=e(79),N=P("species"),F="Promise",U=_.get,L=_.set,C=_.getterFor(F),D=l,B=f.TypeError,q=f.document,z=f.process,W=s("fetch"),G=R.f,V=G,K="process"==b(z),$=!!(q&&q.createEvent&&f.dispatchEvent),Y="unhandledrejection",J=j(F,function(){if(!(x(D)!==String(D))){if(66===k)return!0;if(!K&&"function"!=typeof PromiseRejectionEvent)return!0}if(c&&!D.prototype["finally"])return!0;if(51<=k&&/native code/.test(D))return!1;var t=D.resolve(1),r=function(t){t(function(){},function(){})};return(t.constructor={})[N]=r,!(t.then(function(){})instanceof r)}),X=J||!S(function(t){D.all(t)["catch"](function(){})}),H=function(t){var r;return!(!d(t)||"function"!=typeof(r=t.then))&&r},Q=function(p,h,g){if(!h.notified){h.notified=!0;var v=h.reactions;I(function(){for(var t=h.value,r=1==h.state,e=0;e<v.length;){var n,o,i,a=v[e++],u=r?a.ok:a.fail,c=a.resolve,f=a.reject,s=a.domain;try{u?(r||(2===h.rejection&&et(p,h),h.rejection=1),!0===u?n=t:(s&&s.enter(),n=u(t),s&&(s.exit(),i=!0)),n===a.promise?f(B("Promise-chain cycle")):(o=H(n))?o.call(n,c,f):c(n)):f(t)}catch(l){s&&!i&&s.exit(),f(l)}}h.reactions=[],h.notified=!1,g&&!h.rejection&&tt(p,h)})}},Z=function(t,r,e){var n,o;$?((n=q.createEvent("Event")).promise=r,n.reason=e,n.initEvent(t,!1,!0),f.dispatchEvent(n)):n={promise:r,reason:e},(o=f["on"+t])?o(n):t===Y&&M("Unhandled promise rejection",e)},tt=function(e,n){E.call(f,function(){var t,r=n.value;if(rt(n)&&(t=T(function(){K?z.emit("unhandledRejection",r,e):Z(Y,e,r)}),n.rejection=K||rt(n)?2:1,t.error))throw t.value})},rt=function(t){return 1!==t.rejection&&!t.parent},et=function(t,r){E.call(f,function(){K?z.emit("rejectionHandled",t):Z("rejectionhandled",t,r.value)})},nt=function(r,e,n,o){return function(t){r(e,n,t,o)}},ot=function(t,r,e,n){r.done||(r.done=!0,n&&(r=n),r.value=e,r.state=2,Q(t,r,!0))},it=function(e,n,o,t){if(!n.done){n.done=!0,t&&(n=t);try{if(e===o)throw B("Promise can't be resolved itself");var i=H(o);i?I(function(){var t={done:!1};try{i.call(o,nt(it,e,t,n),nt(ot,e,t,n))}catch(r){ot(e,t,r,n)}}):(n.value=o,n.state=1,Q(e,n,!1))}catch(r){ot(e,{done:!1},r,n)}}};J&&(D=function Promise(t){m(this,D,F),y(t),n.call(this);var r=U(this);try{t(nt(it,this,r),nt(ot,this,r))}catch(e){ot(this,r,e)}},(n=function Promise(t){L(this,{type:F,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:qt})}).prototype=h(D.prototype,{then:function then(t,r){var e=C(this),n=G(A(this,D));return n.ok="function"!=typeof t||t,n.fail="function"==typeof r&&r,n.domain=K?z.domain:qt,e.parent=!0,e.reactions.push(n),0!=e.state&&Q(this,e,!1),n.promise},"catch":function(t){return this.then(qt,t)}}),o=function(){
var t=new n,r=U(t);this.promise=t,this.resolve=nt(it,t,r),this.reject=nt(ot,t,r)},R.f=G=function(t){return t===D||t===i?new o(t):V(t)},c||"function"!=typeof l||(a=l.prototype.then,p(l.prototype,"then",function then(t,r){var e=this;return new D(function(t,r){a.call(e,t,r)}).then(t,r)},{unsafe:!0}),"function"==typeof W&&u({global:!0,enumerable:!0,forced:!0},{fetch:function fetch(t){return O(D,W.apply(f,arguments))}}))),u({global:!0,wrap:!0,forced:J},{Promise:D}),g(D,F,!1,!0),v(F),i=s(F),u({target:F,stat:!0,forced:J},{reject:function reject(t){var r=G(this);return r.reject.call(qt,t),r.promise}}),u({target:F,stat:!0,forced:c||J},{resolve:function resolve(t){return O(c&&this===i?D:this,t)}}),u({target:F,stat:!0,forced:X},{all:function all(t){var u=this,r=G(u),c=r.resolve,f=r.reject,e=T(function(){var n=y(u.resolve),o=[],i=0,a=1;w(t,function(t){var r=i++,e=!1;o.push(qt),a++,n.call(u,t).then(function(t){e||(e=!0,o[r]=t,--a||c(o))},f)}),--a||c(o)});return e.error&&f(e.value),r.promise},race:function race(t){var e=this,n=G(e),o=n.reject,r=T(function(){var r=y(e.resolve);w(t,function(t){r.call(e,t).then(n.resolve,o)})});return r.error&&o(r.value),n.promise}})},function(t,r,e){var n=e(3);t.exports=n.Promise},function(t,r,e){var n,o,i,a=e(3),u=e(6),c=e(11),f=e(59),s=e(52),l=e(17),p=e(245),h=a.location,g=a.setImmediate,v=a.clearImmediate,d=a.process,y=a.MessageChannel,m=a.Dispatch,b=0,x={},w="onreadystatechange",S=function(t){if(x.hasOwnProperty(t)){var r=x[t];delete x[t],r()}},A=function(t){return function(){S(t)}},E=function(t){S(t.data)},I=function(t){a.postMessage(t+"",h.protocol+"//"+h.host)};g&&v||(g=function setImmediate(t){for(var r=[],e=1;e<arguments.length;)r.push(arguments[e++]);return x[++b]=function(){("function"==typeof t?t:Function(t)).apply(qt,r)},n(b),b},v=function clearImmediate(t){delete x[t]},"process"==c(d)?n=function(t){d.nextTick(A(t))}:m&&m.now?n=function(t){m.now(A(t))}:y&&!p?(i=(o=new y).port2,o.port1.onmessage=E,n=f(i.postMessage,i,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||u(I)?n=w in l("script")?function(t){s.appendChild(l("script"))[w]=function(){s.removeChild(this),S(t)}}:function(t){setTimeout(A(t),0)}:(n=I,a.addEventListener("message",E,!1))),t.exports={set:g,clear:v}},function(t,r,e){var n=e(80);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},function(t,r,e){var n,o,i,a,u,c,f,s,l=e(3),p=e(4).f,h=e(11),g=e(244).set,v=e(245),d=l.MutationObserver||l.WebKitMutationObserver,y=l.process,m=l.Promise,b="process"==h(y),x=p(l,"queueMicrotask"),w=x&&x.value;w||(n=function(){var t,r;for(b&&(t=y.domain)&&t.exit();o;){r=o.fn,o=o.next;try{r()}catch(e){throw o?a():i=qt,e}}i=qt,t&&t.enter()},a=b?function(){y.nextTick(n)}:d&&!v?(u=!0,c=document.createTextNode(""),new d(n).observe(c,{characterData:!0}),function(){c.data=u=!u}):m&&m.resolve?(f=m.resolve(qt),s=f.then,function(){s.call(f,n)}):function(){g.call(l,n)}),t.exports=w||function(t){var r={fn:t,next:qt};i&&(i.next=r),o||(o=r,a()),i=r}},function(t,r,e){var n=e(20),o=e(14),i=e(248);t.exports=function(t,r){if(n(t),o(r)&&r.constructor===t)return r;var e=i.f(t);return(0,e.resolve)(r),e.promise}},function(t,r,e){var o=e(60),n=function(t){var e,n;this.promise=new t(function(t,r){if(e!==qt||n!==qt)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=o(e),this.reject=o(n)};t.exports.f=function(t){return new n(t)}},function(t,r,e){var n=e(3);t.exports=function(t,r){var e=n.console;e&&e.error&&(1===arguments.length?e.error(t):e.error(t,r))}},function(t,r){t.exports=function(t){try{return{error:!1,value:t()}}catch(r){return{error:!0,value:r}}}},function(t,r,e){var n=e(2),f=e(60),o=e(248),i=e(250),s=e(166);n({target:"Promise",stat:!0},{allSettled:function allSettled(t){var u=this,r=o.f(u),c=r.resolve,e=r.reject,n=i(function(){var n=f(u.resolve),o=[],i=0,a=1;s(t,function(t){var r=i++,e=!1;o.push(qt),a++,n.call(u,t).then(function(t){e||(e=!0,o[r]={status:"fulfilled",value:t},--a||c(o))},function(t){e||(e=!0,o[r]={status:"rejected",reason:t},--a||c(o))})}),--a||c(o)});return n.error&&e(n.value),r.promise}})},function(t,r,e){var n=e(2),o=e(29),i=e(243),a=e(6),u=e(34),c=e(144),f=e(247),s=e(21);n({target:"Promise",proto:!0,real:!0,forced:!!i&&a(function(){i.prototype["finally"].call({then:function(){}},function(){})})},{"finally":function(r){var e=c(this,u("Promise")),t="function"==typeof r;return this.then(t?function(t){return f(e,r()).then(function(){return t})}:r,t?function(t){return f(e,r()).then(function(){throw t})}:r)}}),o||"function"!=typeof i||i.prototype["finally"]||s(i.prototype,"finally",u("Promise").prototype["finally"])},function(t,r,e){var n=e(2),o=e(34),i=e(60),a=e(20),u=e(6),c=o("Reflect","apply"),f=Function.apply;n({target:"Reflect",stat:!0,forced:!u(function(){c(function(){})})},{apply:function apply(t,r,e){return i(t),a(e),c?c(t,r,e):f.call(t,r,e)}})},function(t,r,e){var n=e(2),o=e(34),u=e(60),c=e(20),f=e(14),s=e(49),l=e(156),i=e(6),p=o("Reflect","construct"),h=i(function(){function F(){}return!(p(function(){},[],F)instanceof F)}),g=!i(function(){p(function(){})}),a=h||g;n({target:"Reflect",stat:!0,forced:a,sham:a},{construct:function construct(t,r){u(t),c(r);var e=arguments.length<3?t:u(arguments[2]);if(g&&!h)return p(t,r,e);if(t==e){switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3])}var n=[null];return n.push.apply(n,r),new(l.apply(t,n))}var o=e.prototype,i=s(f(o)?o:Object.prototype),a=Function.apply.call(t,i,r);return f(a)?a:i}})},function(t,r,e){var n=e(2),o=e(5),i=e(20),a=e(13),u=e(19);n({target:"Reflect",stat:!0,forced:e(6)(function(){Reflect.defineProperty(u.f({},1,{value:1}),1,{value:2})}),sham:!o},{defineProperty:function defineProperty(t,r,e){i(t);var n=a(r,!0);i(e);try{return u.f(t,n,e),!0}catch(o){return!1}}})},function(t,r,e){var n=e(2),o=e(20),i=e(4).f;n({target:"Reflect",stat:!0},{deleteProperty:function deleteProperty(t,r){var e=i(o(t),r);return!(e&&!e.configurable)&&delete t[r]}})},function(t,r,e){var n=e(2),i=e(14),a=e(20),u=e(15),c=e(4),f=e(113);n({target:"Reflect",stat:!0},{get:function get(t,r){var e,n,o=arguments.length<3?t:arguments[2];return a(t)===o?t[r]:(e=c.f(t,r))?u(e,"value")?e.value:e.get===qt?qt:e.get.call(o):i(n=f(t))?get(n,r,o):void 0}})},function(t,r,e){var n=e(2),o=e(5),i=e(20),a=e(4);n({target:"Reflect",stat:!0,sham:!o},{getOwnPropertyDescriptor:function getOwnPropertyDescriptor(t,r){return a.f(i(t),r)}})},function(t,r,e){var n=e(2),o=e(20),i=e(113);n({target:"Reflect",stat:!0,sham:!e(114)},{getPrototypeOf:function getPrototypeOf(t){return i(o(t))}})},function(t,r,e){e(2)({target:"Reflect",stat:!0},{has:function has(t,r){return r in t}})},function(t,r,e){var n=e(2),o=e(20),i=Object.isExtensible;n({target:"Reflect",stat:!0},{isExtensible:function isExtensible(t){return o(t),!i||i(t)}})},function(t,r,e){e(2)({target:"Reflect",stat:!0},{ownKeys:e(33)})},function(t,r,e){var n=e(2),o=e(34),i=e(20);n({target:"Reflect",stat:!0,sham:!e(165)},{preventExtensions:function preventExtensions(t){i(t);try{var r=o("Object","preventExtensions");return r&&r(t),!0}catch(e){return!1}}})},function(t,r,e){var n=e(2),u=e(20),c=e(14),f=e(15),o=e(6),s=e(19),l=e(4),p=e(113),h=e(8);n({target:"Reflect",stat:!0,forced:o(function(){var t=s.f({},"a",{configurable:!0});return!1!==Reflect.set(p(t),"a",1,t)})},{set:function set(t,r,e){var n,o,i=arguments.length<4?t:arguments[3],a=l.f(u(t),r);if(!a){if(c(o=p(t)))return set(o,r,e,i);a=h(0)}if(f(a,"value")){if(!1===a.writable||!c(i))return!1;if(n=l.f(i,r)){if(n.get||n.set||!1===n.writable)return!1;n.value=e,s.f(i,r,n)}else s.f(i,r,h(0,e));return!0}return a.set!==qt&&(a.set.call(i,e),!0)}})},function(t,r,e){var n=e(2),o=e(20),i=e(116),a=e(115);a&&n({target:"Reflect",stat:!0},{setPrototypeOf:function setPrototypeOf(t,r){o(t),i(r);try{return a(t,r),!0}catch(e){return!1}}})},function(t,r,e){var n=e(5),o=e(3),i=e(44),u=e(167),a=e(19).f,c=e(36).f,f=e(267),s=e(268),l=e(269),p=e(21),h=e(6),g=e(25).set,v=e(130),d=e(54)("match"),y=o.RegExp,m=y.prototype,b=/a/g,x=/a/g,w=new y(b)!==b,S=l.UNSUPPORTED_Y;if(n&&i("RegExp",!w||S||h(function(){return x[d]=!1,y(b)!=b||y(x)==x||"/a/i"!=y(b,"i")}))){for(var A=function RegExp(t,r){var e,n=this instanceof A,o=f(t),i=r===qt;if(!n&&o&&t.constructor===A&&i)return t;w?o&&!i&&(t=t.source):t instanceof A&&(i&&(r=s.call(t)),t=t.source),S&&(e=!!r&&-1<r.indexOf("y"))&&(r=r.replace(/y/g,""));var a=u(w?new y(t,r):y(t,r),n?this:m,A);return S&&e&&g(a,{sticky:e}),a},E=function(r){r in A||a(A,r,{configurable:!0,get:function(){return y[r]},set:function(t){y[r]=t}})},I=c(y),O=0;O<I.length;)E(I[O++]);(m.constructor=A).prototype=m,p(o,"RegExp",A)}v("RegExp")},function(t,r,e){var n=e(14),o=e(11),i=e(54)("match");t.exports=function(t){var r;return n(t)&&((r=t[i])!==qt?!!r:"RegExp"==o(t))}},function(t,r,e){var n=e(20);t.exports=function(){var t=n(this),r="";return t.global&&(r+="g"),t.ignoreCase&&(r+="i"),t.multiline&&(r+="m"),t.dotAll&&(r+="s"),t.unicode&&(r+="u"),t.sticky&&(r+="y"),r}},function(t,r,e){var n=e(6);function RE(t,r){return RegExp(t,r)}r.UNSUPPORTED_Y=n(function(){var t=RE("a","y");return t.lastIndex=2,null!=t.exec("abcd")}),r.BROKEN_CARET=n(function(){var t=RE("^r","gy");return t.lastIndex=2,null!=t.exec("str")})},function(t,r,e){var n=e(2),o=e(271);n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(t,r,e){var n,o,l=e(268),i=e(269),p=RegExp.prototype.exec,h=String.prototype.replace,a=p,g=(o=/b*/g,p.call(n=/a/,"a"),p.call(o,"a"),0!==n.lastIndex||0!==o.lastIndex),v=i.UNSUPPORTED_Y||i.BROKEN_CARET,d=/()??/.exec("")[1]!==qt;(g||d||v)&&(a=function exec(t){var r,e,n,o,i=this,a=v&&i.sticky,u=l.call(i),c=i.source,f=0,s=t;return a&&(-1===(u=u.replace("y","")).indexOf("g")&&(u+="g"),s=String(t).slice(i.lastIndex),0<i.lastIndex&&(!i.multiline||i.multiline&&"\n"!==t[i.lastIndex-1])&&(c="(?: "+c+")",s=" "+s,f++),e=new RegExp("^(?:"+c+")",u)),d&&(e=new RegExp("^"+c+"$(?!\\s)",u)),g&&(r=i.lastIndex),n=p.call(a?e:i,s),a?n?(n.input=n.input.slice(f),n[0]=n[0].slice(f),n.index=i.lastIndex,i.lastIndex+=n[0].length):i.lastIndex=0:g&&n&&(i.lastIndex=i.global?n.index+n[0].length:r),d&&n&&1<n.length&&h.call(n[0],e,function(){for(o=1;o<arguments.length-2;o++)arguments[o]===qt&&(n[o]=qt)}),n}),t.exports=a},function(t,r,e){var n=e(5),o=e(19),i=e(268),a=e(269).UNSUPPORTED_Y;n&&("g"!=/./g.flags||a)&&o.f(RegExp.prototype,"flags",{configurable:!0,get:i})},function(t,r,e){var n=e(5),o=e(269).UNSUPPORTED_Y,i=e(19).f,a=e(25).get,u=RegExp.prototype;n&&o&&i(RegExp.prototype,"sticky",{configurable:!0,get:function(){if(this===u)return qt;if(this instanceof RegExp)return!!a(this).sticky;throw TypeError("Incompatible receiver, RegExp required")}})},function(t,r,e){e(270);var n,o,i=e(2),a=e(14),u=(n=!1,(o=/[ac]/).exec=function(){return n=!0,/./.exec.apply(this,arguments)},!0===o.test("abc")&&n),c=/./.test;i({target:"RegExp",proto:!0,forced:!u},{test:function(t){if("function"!=typeof this.exec)return c.call(this,t);var r=this.exec(t);if(null!==r&&!a(r))throw new Error("RegExp exec method returned something other than an Object or null");return!!r}})},function(t,r,e){var n=e(21),o=e(20),i=e(6),a=e(268),u="toString",c=RegExp.prototype,f=c[u];!i(function(){return"/a/b"!=f.call({source:"a",flags:"b"})})&&f.name==u||n(RegExp.prototype,u,function toString(){var t=o(this),r=String(t.source),e=t.flags;return"/"+r+"/"+String(e===qt&&t instanceof RegExp&&!("flags"in c)?a.call(t):e)},{unsafe:!0})},function(t,r,e){var n=e(163),o=e(168);t.exports=n("Set",function(t){return function Set(){return t(this,arguments.length?arguments[0]:qt)}},o)},function(t,r,e){var n=e(2),o=e(278).codeAt;n({target:"String",proto:!0},{codePointAt:function codePointAt(t){return o(this,t)}})},function(t,r,e){var c=e(40),f=e(12),n=function(u){return function(t,r){var e,n,o=String(f(t)),i=c(r),a=o.length;return i<0||a<=i?u?"":qt:(e=o.charCodeAt(i))<55296||56319<e||i+1===a||(n=o.charCodeAt(i+1))<56320||57343<n?u?o.charAt(i):e:u?o.slice(i,i+2):n-56320+(e-55296<<10)+65536}};t.exports={codeAt:n(!1),charAt:n(!0)}},function(t,r,e){var n,o=e(2),i=e(4).f,a=e(39),u=e(280),c=e(12),f=e(281),s=e(29),l="".endsWith,p=Math.min,h=f("endsWith");o({target:"String",proto:!0,forced:!!(s||h||(!(n=i(String.prototype,"endsWith"))||n.writable))&&!h},{endsWith:function endsWith(t){var r=String(c(this));u(t);var e=1<arguments.length?arguments[1]:qt,n=a(r.length),o=e===qt?n:p(a(e),n),i=String(t);return l?l.call(r,i,o):r.slice(o-i.length,o)===i}})},function(t,r,e){var n=e(267);t.exports=function(t){if(n(t))throw TypeError("The method doesn't accept regular expressions");return t}},function(t,r,e){var o=e(54)("match");t.exports=function(t){var r=/./;try{"/./"[t](r)}catch(e){try{return r[o]=!1,"/./"[t](r)}catch(n){}}return!1}},function(t,r,e){var n=e(2),i=e(41),a=String.fromCharCode,o=String.fromCodePoint;n({target:"String",stat:!0,forced:!!o&&1!=o.length},{fromCodePoint:function fromCodePoint(t){for(var r,e=[],n=arguments.length,o=0;o<n;){if(r=+arguments[o++],i(r,1114111)!==r)throw RangeError(r+" is not a valid code point");e.push(r<65536?a(r):a(55296+((r-=65536)>>10),r%1024+56320))}return e.join("")}})},function(t,r,e){var n=e(2),o=e(280),i=e(12);n({target:"String",proto:!0,forced:!e(281)("includes")},{includes:function includes(t){return!!~String(i(this)).indexOf(o(t),1<arguments.length?arguments[1]:qt)}})},function(t,r,e){var o=e(278).charAt,n=e(25),i=e(110),a="String Iterator",u=n.set,c=n.getterFor(a);i(String,"String",function(t){u(this,{type:a,string:String(t),index:0})},function next(){var t,r=c(this),e=r.string,n=r.index;return e.length<=n?{value:qt,done:!0}:(t=o(e,n),r.index+=t.length,{value:t,done:!1})})},function(t,r,e){var n=e(286),l=e(20),p=e(39),o=e(12),h=e(287),g=e(288);n("match",1,function(n,f,s){return[function match(t){var r=o(this),e=t==qt?qt:t[n];return e!==qt?e.call(t,r):new RegExp(t)[n](String(r))},function(t){var r=s(f,t,this);if(r.done)return r.value;var e=l(t),n=String(this);if(!e.global)return g(e,n);for(var o,i=e.unicode,a=[],u=e.lastIndex=0;null!==(o=g(e,n));){var c=String(o[0]);""===(a[u]=c)&&(e.lastIndex=h(n,p(e.lastIndex),i)),u++}return 0===u?null:a}]})},function(t,r,e){e(270);var s=e(21),l=e(6),p=e(54),h=e(271),g=e(18),v=p("species"),d=!l(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),y="$0"==="a".replace(/./,"$0"),n=p("replace"),m=!!/./[n]&&""===/./[n]("a","$0"),b=!l(function(){var t=/(?:)/,r=t.exec;t.exec=function(){return r.apply(this,arguments)};var e="ab".split(t);return 2!==e.length||"a"!==e[0]||"b"!==e[1]});t.exports=function(e,t,r,n){var o=p(e),i=!l(function(){var t={};return t[o]=function(){return 7},7!=""[e](t)}),a=i&&!l(function(){var t=!1,r=/a/;return"split"===e&&((r={constructor:{}}).constructor[v]=function(){return r},r.flags="",r[o]=/./[o]),r.exec=function(){return t=!0,null},r[o](""),!t});if(!i||!a||"replace"===e&&(!d||!y||m)||"split"===e&&!b){var u=/./[o],c=r(o,""[e],function(t,r,e,n,o){return r.exec===h?i&&!o?{done:!0,value:u.call(r,e,n)}:{done:!0,value:t.call(e,r,n)}:{done:!1}},{REPLACE_KEEPS_$0:y,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:m}),f=c[1];s(String.prototype,e,c[0]),s(RegExp.prototype,o,2==t?function(t,r){return f.call(t,this,r)}:function(t){return f.call(t,this)})}n&&g(RegExp.prototype[o],"sham",!0)}},function(t,r,e){var n=e(278).charAt;t.exports=function(t,r,e){return r+(e?n(t,r).length:1)}},function(t,r,e){var o=e(11),i=e(271);t.exports=function(t,r){var e=t.exec;if("function"==typeof e){var n=e.call(t,r);if("object"!=typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==o(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,r)}},function(t,r,e){var n=e(2),o=e(111),i=e(12),f=e(39),a=e(60),s=e(20),u=e(11),c=e(267),l=e(268),p=e(18),h=e(6),g=e(54),v=e(144),d=e(287),y=e(25),m=e(29),b=g("matchAll"),x="RegExp String",w=x+" Iterator",S=y.set,A=y.getterFor(w),E=RegExp.prototype,I=E.exec,O="".matchAll,M=!!O&&!h(function(){"a".matchAll(/./)}),R=o(function RegExpStringIterator(t,r,e,n){S(this,{type:w,regexp:t,string:r,global:e,unicode:n,done:!1})},x,function next(){var t=A(this);if(t.done)return{value:qt,done:!0};var r=t.regexp,e=t.string,n=function(t,r){var e,n=t.exec;if("function"!=typeof n)return I.call(t,r);if("object"!=typeof(e=n.call(t,r)))throw TypeError("Incorrect exec result");return e}(r,e);return null===n?{value:qt,done:t.done=!0}:t.global?(""==String(n[0])&&(r.lastIndex=d(e,f(r.lastIndex),t.unicode)),{value:n,done:!1}):{value:n,done:!(t.done=!0)}}),T=function(t){var r,e,n,o,i,a,u=s(this),c=String(t);return r=v(u,RegExp),(e=u.flags)===qt&&u instanceof RegExp&&!("flags"in E)&&(e=l.call(u)),n=e===qt?"":String(e),o=new r(r===RegExp?u.source:u,n),i=!!~n.indexOf("g"),a=!!~n.indexOf("u"),o.lastIndex=f(u.lastIndex),new R(o,c,i,a)};n({target:"String",proto:!0,forced:M},{matchAll:function matchAll(t){var r,e,n,o=i(this);if(null!=t){if(c(t)&&!~String(i("flags"in E?t.flags:l.call(t))).indexOf("g"))throw TypeError("`.matchAll` does not allow non-global regexes");if(M)return O.apply(o,arguments);if((e=t[b])===qt&&m&&"RegExp"==u(t)&&(e=T),null!=e)return a(e).call(t,o)}else if(M)return O.apply(o,arguments);return r=String(o),n=new RegExp(t,"g"),m?T.call(n,r):n[b](r)}}),m||b in E||p(E,b,T)},function(t,r,e){var n=e(2),o=e(149).end;n({target:"String",proto:!0,forced:e(291)},{padEnd:function padEnd(t){return o(this,t,1<arguments.length?arguments[1]:qt)}})},function(t,r,e){var n=e(80);t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n)},function(t,r,e){var n=e(2),o=e(149).start;n({target:"String",proto:!0,forced:e(291)},{padStart:function padStart(t){return o(this,t,1<arguments.length?arguments[1]:qt)}})},function(t,r,e){var n=e(2),a=e(9),u=e(39);n({target:"String",stat:!0},{raw:function raw(t){for(var r=a(t.raw),e=u(r.length),n=arguments.length,o=[],i=0;i<e;)o.push(String(r[i++])),i<n&&o.push(String(arguments[i]));return o.join("")}})},function(t,r,e){e(2)({target:"String",proto:!0},{repeat:e(150)})},function(t,r,e){var n=e(286),O=e(20),p=e(48),M=e(39),R=e(40),i=e(12),T=e(287),_=e(288),j=Math.max,P=Math.min,h=Math.floor,g=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g;n("replace",2,function(o,w,S,t){var A=t.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,E=t.REPLACE_KEEPS_$0,I=A?"$":"$0";return[function replace(t,r){var e=i(this),n=t==qt?qt:t[o];return n!==qt?n.call(t,e,r):w.call(String(e),t,r)},function(t,r){if(!A&&E||"string"==typeof r&&-1===r.indexOf(I)){var e=S(w,t,this,r);if(e.done)return e.value}var n=O(t),o=String(this),i="function"==typeof r;i||(r=String(r));var a=n.global;if(a){var u=n.unicode;n.lastIndex=0}for(var c=[];;){var f=_(n,o);if(null===f)break;if(c.push(f),!a)break;""===String(f[0])&&(n.lastIndex=T(o,M(n.lastIndex),u))}for(var s,l="",p=0,h=0;h<c.length;h++){f=c[h];for(var g=String(f[0]),v=j(P(R(f.index),o.length),0),d=[],y=1;y<f.length;y++)d.push((s=f[y])===qt?s:String(s));var m=f.groups;if(i){var b=[g].concat(d,v,o);m!==qt&&b.push(m);var x=String(r.apply(qt,b))}else x=getSubstitution(g,o,v,d,m,r);p<=v&&(l+=o.slice(p,v)+x,p=v+g.length)}return l+o.slice(p)}];function getSubstitution(i,a,u,c,f,t){var s=u+i.length,l=c.length,r=v;return f!==qt&&(f=p(f),r=g),w.call(t,r,function(t,r){var e;switch(r.charAt(0)){case"$":return"$";case"&":return i;case"`":return a.slice(0,u);case"'":return a.slice(s);case"<":e=f[r.slice(1,-1)];break;default:var n=+r;if(0==n)return t;if(l<n){var o=h(n/10);return 0===o?t:o<=l?c[o-1]===qt?r.charAt(1):c[o-1]+r.charAt(1):t}e=c[n-1]}return e===qt?"":e})}})},function(t,r,e){var n=e(286),c=e(20),o=e(12),f=e(227),s=e(288);n("search",1,function(n,a,u){return[function search(t){var r=o(this),e=t==qt?qt:t[n];return e!==qt?e.call(t,r):new RegExp(t)[n](String(r))},function(t){var r=u(a,t,this);if(r.done)return r.value;var e=c(t),n=String(this),o=e.lastIndex;f(o,0)||(e.lastIndex=0);var i=s(e,n);return f(e.lastIndex,o)||(e.lastIndex=o),null===i?-1:i.index}]})},function(t,r,e){var n=e(286),s=e(267),m=e(20),l=e(12),b=e(144),x=e(287),w=e(39),S=e(288),p=e(271),o=e(6),h=[].push,A=Math.min,E=4294967295,I=!o(function(){return!RegExp(E,"y")});n("split",2,function(o,v,d){var y;return y="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(t,r){var e=String(l(this)),n=r===qt?E:r>>>0;if(0==n)return[];if(t===qt)return[e];if(!s(t))return v.call(e,t,n);for(var o,i,a,u=[],c=0,f=new RegExp(t.source,(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":"")+"g");(o=p.call(f,e))&&!(c<(i=f.lastIndex)&&(u.push(e.slice(c,o.index)),1<o.length&&o.index<e.length&&h.apply(u,o.slice(1)),a=o[0].length,c=i,n<=u.length));)f.lastIndex===o.index&&f.lastIndex++;return c===e.length?!a&&f.test("")||u.push(""):u.push(e.slice(c)),n<u.length?u.slice(0,n):u}:"0".split(qt,0).length?function(t,r){return t===qt&&0===r?[]:v.call(this,t,r)}:v,[function split(t,r){var e=l(this),n=t==qt?qt:t[o];return n!==qt?n.call(t,e,r):y.call(String(e),t,r)},function(t,r){var e=d(y,t,this,r,y!==v);if(e.done)return e.value;var n=m(t),o=String(this),i=b(n,RegExp),a=n.unicode,u=new i(I?n:"^(?:"+n.source+")",(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(I?"y":"g")),c=r===qt?E:r>>>0;if(0==c)return[];if(0===o.length)return null===S(u,o)?[o]:[];for(var f=0,s=0,l=[];s<o.length;){u.lastIndex=I?s:0;var p,h=S(u,I?o:o.slice(s));if(null===h||(p=A(w(u.lastIndex+(I?0:s)),o.length))===f)s=x(o,s,a);else{if(l.push(o.slice(f,s)),l.length===c)return l;for(var g=1;g<=h.length-1;g++)if(l.push(h[g]),l.length===c)return l;s=f=p}}return l.push(o.slice(f)),l}]},!I)},function(t,r,e){var n,o=e(2),i=e(4).f,a=e(39),u=e(280),c=e(12),f=e(281),s=e(29),l="".startsWith,p=Math.min,h=f("startsWith");o({target:"String",proto:!0,forced:!!(s||h||(!(n=i(String.prototype,"startsWith"))||n.writable))&&!h},{startsWith:function startsWith(t){var r=String(c(this));u(t);var e=a(p(1<arguments.length?arguments[1]:qt,r.length)),n=String(t);return l?l.call(r,n,e):r.slice(e,e+n.length)===n}})},function(t,r,e){var n=e(2),o=e(192).trim;n({target:"String",proto:!0,forced:e(300)("trim")},{trim:function trim(){return o(this)}})},function(t,r,e){var n=e(6),o=e(193);t.exports=function(t){return n(function(){return!!o[t]()||""!=""[t]()||o[t].name!==t})}},function(t,r,e){var n=e(2),o=e(192).end,i=e(300)("trimEnd"),a=i?function a(){return o(this)}:"".trimEnd;n({target:"String",proto:!0,forced:i},{trimEnd:a,trimRight:a})},function(t,r,e){var n=e(2),o=e(192).start,i=e(300)("trimStart"),a=i?function a(){return o(this)}:"".trimStart;n({target:"String",proto:!0,forced:i},{trimStart:a,trimLeft:a})},function(t,r,e){var n=e(2),o=e(304);n({target:"String",proto:!0,forced:e(305)("anchor")},{anchor:function anchor(t){return o(this,"a","name",t)}})},function(t,r,e){var a=e(12),u=/"/g;t.exports=function(t,r,e,n){var o=String(a(t)),i="<"+r;return""!==e&&(i+=" "+e+'="'+String(n).replace(u,"&quot;")+'"'),i+">"+o+"</"+r+">"}},function(t,r,e){var n=e(6);t.exports=function(r){return n(function(){var t=""[r]('"');return t!==t.toLowerCase()||3<t.split('"').length})}},function(t,r,e){var n=e(2),o=e(304);n({target:"String",proto:!0,forced:e(305)("big")},{big:function big(){return o(this,"big","","")}})},function(t,r,e){var n=e(2),o=e(304);n({target:"String",proto:!0,forced:e(305)("blink")},{blink:function blink(){return o(this,"blink","","")}})},function(t,r,e){var n=e(2),o=e(304);n({target:"String",proto:!0,forced:e(305)("bold")},{bold:function bold(){return o(this,"b","","")}})},function(t,r,e){var n=e(2),o=e(304);n({target:"String",proto:!0,forced:e(305)("fixed")},{fixed:function fixed(){return o(this,"tt","","")}})},function(t,r,e){var n=e(2),o=e(304);n({target:"String",proto:!0,forced:e(305)("fontcolor")},{fontcolor:function fontcolor(t){return o(this,"font","color",t)}})},function(t,r,e){var n=e(2),o=e(304);n({target:"String",proto:!0,forced:e(305)("fontsize")},{fontsize:function fontsize(t){return o(this,"font","size",t)}})},function(t,r,e){var n=e(2),o=e(304);n({target:"String",proto:!0,forced:e(305)("italics")},{italics:function italics(){return o(this,"i","","")}})},function(t,r,e){var n=e(2),o=e(304);n({target:"String",proto:!0,forced:e(305)("link")},{link:function link(t){return o(this,"a","href",t)}})},function(t,r,e){var n=e(2),o=e(304);n({target:"String",proto:!0,forced:e(305)("small")},{small:function small(){return o(this,"small","","")}})},function(t,r,e){var n=e(2),o=e(304);n({target:"String",proto:!0,forced:e(305)("strike")},{strike:function strike(){return o(this,"strike","","")}})},function(t,r,e){var n=e(2),o=e(304);n({target:"String",proto:!0,forced:e(305)("sub")},{sub:function sub(){return o(this,"sub","","")}})},function(t,r,e){var n=e(2),o=e(304);n({target:"String",proto:!0,forced:e(305)("sup")},{sup:function sup(){return o(this,"sup","","")}})},function(t,r,e){e(319)("Float32",function(n){return function Float32Array(t,r,e){return n(this,t,r,e)}})},function(t,r,e){var c=e(2),f=e(3),n=e(5),g=e(320),o=e(142),i=e(135),v=e(138),a=e(8),d=e(18),y=e(39),m=e(139),b=e(321),u=e(13),s=e(15),l=e(103),x=e(14),w=e(49),S=e(115),A=e(36).f,E=e(323),I=e(58).forEach,O=e(130),p=e(19),h=e(4),M=e(25),R=e(167),T=M.get,_=M.set,j=p.f,P=h.f,k=Math.round,N=f.RangeError,F=i.ArrayBuffer,U=i.DataView,L=o.NATIVE_ARRAY_BUFFER_VIEWS,C=o.TYPED_ARRAY_TAG,D=o.TypedArray,B=o.TypedArrayPrototype,q=o.aTypedArrayConstructor,z=o.isTypedArray,W="BYTES_PER_ELEMENT",G="Wrong length",V=function(t,r){for(var e=0,n=r.length,o=new(q(t))(n);e<n;)o[e]=r[e++];return o},K=function(t,r){j(t,r,{get:function(){return T(this)[r]}})},$=function(t){var r;return t instanceof F||"ArrayBuffer"==(r=l(t))||"SharedArrayBuffer"==r},Y=function(t,r){return z(t)&&"symbol"!=typeof r&&r in t&&String(+r)==String(r)},J=function getOwnPropertyDescriptor(t,r){return Y(t,r=u(r,!0))?a(2,t[r]):P(t,r)},X=function defineProperty(t,r,e){return!(Y(t,r=u(r,!0))&&x(e)&&s(e,"value"))||s(e,"get")||s(e,"set")||e.configurable||s(e,"writable")&&!e.writable||s(e,"enumerable")&&!e.enumerable?j(t,r,e):(t[r]=e.value,t)};n?(L||(h.f=J,p.f=X,K(B,"buffer"),K(B,"byteOffset"),K(B,"byteLength"),K(B,"length")),c({target:"Object",stat:!0,forced:!L},{getOwnPropertyDescriptor:J,defineProperty:X}),t.exports=function(t,r,i){var s=t.match(/\d+$/)[0]/8,l=t+(i?"Clamped":"")+"Array",e="get"+t,a="set"+t,o=f[l],p=o,n=p&&p.prototype,u={},h=function(t,o){j(t,o,{get:function(){return t=o,(r=T(this)).view[e](t*s+r.byteOffset,!0);var t,r},set:function(t){return r=o,e=t,n=T(this),i&&(e=(e=k(e))<0?0:255<e?255:255&e),void n.view[a](r*s+n.byteOffset,e,!0);var r,e,n},enumerable:!0})};L?g&&(p=r(function(t,r,e,n){return v(t,p,l),R(x(r)?$(r)?n!==qt?new o(r,b(e,s),n):e!==qt?new o(r,b(e,s)):new o(r):z(r)?V(p,r):E.call(p,r):new o(m(r)),t,p)}),S&&S(p,D),I(A(o),function(t){t in p||d(p,t,o[t])}),p.prototype=n):(p=r(function(t,r,e,n){v(t,p,l);var o,i,a,u=0,c=0;if(x(r)){if(!$(r))return z(r)?V(p,r):E.call(p,r);o=r,c=b(e,s);var f=r.byteLength;if(n===qt){if(f%s)throw N(G);if((i=f-c)<0)throw N(G)}else if(f<(i=y(n)*s)+c)throw N(G);a=i/s}else a=m(r),o=new F(i=a*s);for(_(t,{buffer:o,byteOffset:c,byteLength:i,length:a,view:new U(o)});u<a;)h(t,u++)}),S&&S(p,D),n=p.prototype=w(B)),n.constructor!==p&&d(n,"constructor",p),C&&d(n,C,l),c({global:!0,forced:(u[l]=p)!=o,sham:!L},u),W in p||d(p,W,s),W in n||d(n,W,s),O(l)}):t.exports=function(){}},function(t,r,e){var n=e(3),o=e(6),i=e(105),a=e(142).NATIVE_ARRAY_BUFFER_VIEWS,u=n.ArrayBuffer,c=n.Int8Array;t.exports=!a||!o(function(){c(1)})||!o(function(){new c(-1)})||!i(function(t){new c,new c(null),new c(1.5),new c(t)},!0)||o(function(){return 1!==new c(new u(2),1,qt).length})},function(t,r,e){var n=e(322);t.exports=function(t,r){var e=n(t);if(e%r)throw RangeError("Wrong offset");return e}},function(t,r,e){var n=e(40);t.exports=function(t){var r=n(t);if(r<0)throw RangeError("The argument can't be less than 0");return r}},function(t,r,e){var p=e(48),h=e(39),g=e(102),v=e(100),d=e(59),y=e(142).aTypedArrayConstructor;t.exports=function from(t){var r,e,n,o,i,a,u=p(t),c=arguments.length,f=1<c?arguments[1]:qt,s=f!==qt,l=g(u);if(l!=qt&&!v(l))for(a=(i=l.call(u)).next,u=[];!(o=a.call(i)).done;)u.push(o.value);for(s&&2<c&&(f=d(f,arguments[2],2)),e=h(u.length),n=new(y(this))(e),r=0;r<e;r++)n[r]=s?f(u[r],r):u[r];return n}},function(t,r,e){e(319)("Float64",function(n){return function Float64Array(t,r,e){return n(this,t,r,e)}})},function(t,r,e){e(319)("Int8",function(n){return function Int8Array(t,r,e){return n(this,t,r,e)}})},function(t,r,e){e(319)("Int16",function(n){return function Int16Array(t,r,e){return n(this,t,r,e)}})},function(t,r,e){e(319)("Int32",function(n){return function Int32Array(t,r,e){return n(this,t,r,e)}})},function(t,r,e){e(319)("Uint8",function(n){return function Uint8Array(t,r,e){return n(this,t,r,e)}})},function(t,r,e){e(319)("Uint8",function(n){return function Uint8ClampedArray(t,r,e){return n(this,t,r,e)}},!0)},function(t,r,e){e(319)("Uint16",function(n){return function Uint16Array(t,r,e){return n(this,t,r,e)}})},function(t,r,e){e(319)("Uint32",function(n){return function Uint32Array(t,r,e){return n(this,t,r,e)}})},function(t,r,e){var n=e(142),o=e(82),i=n.aTypedArray;(0,n.exportTypedArrayMethod)("copyWithin",function copyWithin(t,r){return o.call(i(this),t,r,2<arguments.length?arguments[2]:qt)})},function(t,r,e){var n=e(142),o=e(58).every,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("every",function every(t){return o(i(this),t,1<arguments.length?arguments[1]:qt)})},function(t,r,e){var n=e(142),o=e(88),i=n.aTypedArray;(0,n.exportTypedArrayMethod)("fill",function fill(t){return o.apply(i(this),arguments)})},function(t,r,e){var n=e(142),a=e(58).filter,u=e(144),c=n.aTypedArray,f=n.aTypedArrayConstructor;(0,n.exportTypedArrayMethod)("filter",function filter(t){for(var r=a(c(this),t,1<arguments.length?arguments[1]:qt),e=u(this,this.constructor),n=0,o=r.length,i=new(f(e))(o);n<o;)i[n]=r[n++];return i})},function(t,r,e){var n=e(142),o=e(58).find,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("find",function find(t){return o(i(this),t,1<arguments.length?arguments[1]:qt)})},function(t,r,e){var n=e(142),o=e(58).findIndex,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("findIndex",function findIndex(t){return o(i(this),t,1<arguments.length?arguments[1]:qt)})},function(t,r,e){var n=e(142),o=e(58).forEach,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("forEach",function forEach(t){o(i(this),t,1<arguments.length?arguments[1]:qt)})},function(t,r,e){var n=e(320);(0,e(142).exportTypedArrayStaticMethod)("from",e(323),n)},function(t,r,e){var n=e(142),o=e(38).includes,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("includes",function includes(t){return o(i(this),t,1<arguments.length?arguments[1]:qt)})},function(t,r,e){var n=e(142),o=e(38).indexOf,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("indexOf",function indexOf(t){return o(i(this),t,1<arguments.length?arguments[1]:qt)})},function(t,r,e){var n=e(3),o=e(142),i=e(109),a=e(54)("iterator"),u=n.Uint8Array,c=i.values,f=i.keys,s=i.entries,l=o.aTypedArray,p=o.exportTypedArrayMethod,h=u&&u.prototype[a],g=!!h&&("values"==h.name||h.name==qt),v=function values(){return c.call(l(this))};p("entries",function entries(){return s.call(l(this))}),p("keys",function keys(){return f.call(l(this))}),p("values",v,!g),p(a,v,!g)},function(t,r,e){var n=e(142),o=n.aTypedArray,i=[].join;(0,n.exportTypedArrayMethod)("join",function join(t){return i.apply(o(this),arguments)})},function(t,r,e){var n=e(142),o=e(119),i=n.aTypedArray;(0,n.exportTypedArrayMethod)("lastIndexOf",function lastIndexOf(t){return o.apply(i(this),arguments)})},function(t,r,e){var n=e(142),o=e(58).map,i=e(144),a=n.aTypedArray,u=n.aTypedArrayConstructor;(0,n.exportTypedArrayMethod)("map",function map(t){return o(a(this),t,1<arguments.length?arguments[1]:qt,function(t,r){return new(u(i(t,t.constructor)))(r)})})},function(t,r,e){var n=e(142),o=e(320),i=n.aTypedArrayConstructor;(0,
n.exportTypedArrayStaticMethod)("of",function of(){for(var t=0,r=arguments.length,e=new(i(this))(r);t<r;)e[t]=arguments[t++];return e},o)},function(t,r,e){var n=e(142),o=e(123).left,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduce",function reduce(t){return o(i(this),t,arguments.length,1<arguments.length?arguments[1]:qt)})},function(t,r,e){var n=e(142),o=e(123).right,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduceRight",function reduceRight(t){return o(i(this),t,arguments.length,1<arguments.length?arguments[1]:qt)})},function(t,r,e){var n=e(142),o=n.aTypedArray,i=Math.floor;(0,n.exportTypedArrayMethod)("reverse",function reverse(){for(var t,r=o(this).length,e=i(r/2),n=0;n<e;)t=this[n],this[n++]=this[--r],this[r]=t;return this})},function(t,r,e){var n=e(142),a=e(39),u=e(321),c=e(48),o=e(6),f=n.aTypedArray;(0,n.exportTypedArrayMethod)("set",function set(t){f(this);var r=u(1<arguments.length?arguments[1]:qt,1),e=this.length,n=c(t),o=a(n.length),i=0;if(e<o+r)throw RangeError("Wrong length");for(;i<o;)this[r+i]=n[i++]},o(function(){new Int8Array(1).set({})}))},function(t,r,e){var n=e(142),u=e(144),o=e(6),c=n.aTypedArray,f=n.aTypedArrayConstructor,s=[].slice;(0,n.exportTypedArrayMethod)("slice",function slice(t,r){for(var e=s.call(c(this),t,r),n=u(this,this.constructor),o=0,i=e.length,a=new(f(n))(i);o<i;)a[o]=e[o++];return a},o(function(){new Int8Array(1).slice()}))},function(t,r,e){var n=e(142),o=e(58).some,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("some",function some(t){return o(i(this),t,1<arguments.length?arguments[1]:qt)})},function(t,r,e){var n=e(142),o=n.aTypedArray,i=[].sort;(0,n.exportTypedArrayMethod)("sort",function sort(t){return i.call(o(this),t)})},function(t,r,e){var n=e(142),i=e(39),a=e(41),u=e(144),c=n.aTypedArray;(0,n.exportTypedArrayMethod)("subarray",function subarray(t,r){var e=c(this),n=e.length,o=a(t,n);return new(u(e,e.constructor))(e.buffer,e.byteOffset+o*e.BYTES_PER_ELEMENT,i((r===qt?n:a(r,n))-o))})},function(t,r,e){var n=e(3),o=e(142),i=e(6),a=n.Int8Array,u=o.aTypedArray,c=o.exportTypedArrayMethod,f=[].toLocaleString,s=[].slice,l=!!a&&i(function(){f.call(new a(1))});c("toLocaleString",function toLocaleString(){return f.apply(l?s.call(u(this)):u(this),arguments)},i(function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()})||!i(function(){a.prototype.toLocaleString.call([1,2])}))},function(t,r,e){var n=e(142).exportTypedArrayMethod,o=e(6),i=e(3).Uint8Array,a=i&&i.prototype||{},u=[].toString,c=[].join;o(function(){u.call({})})&&(u=function toString(){return c.call(this)}),n("toString",u,a.toString!=u)},function(t,r,e){var n,o=e(3),i=e(137),a=e(164),u=e(163),c=e(358),f=e(14),s=e(25).enforce,l=e(26),p=!o.ActiveXObject&&"ActiveXObject"in o,h=Object.isExtensible,g=function(t){return function WeakMap(){return t(this,arguments.length?arguments[0]:qt)}},v=t.exports=u("WeakMap",g,c);if(l&&p){n=c.getConstructor(g,"WeakMap",!0),a.REQUIRED=!0;var d=v.prototype,y=d["delete"],m=d.has,b=d.get,x=d.set;i(d,{"delete":function(t){if(!f(t)||h(t))return y.call(this,t);var r=s(this);return r.frozen||(r.frozen=new n),y.call(this,t)||r.frozen["delete"](t)},has:function has(t){if(!f(t)||h(t))return m.call(this,t);var r=s(this);return r.frozen||(r.frozen=new n),m.call(this,t)||r.frozen.has(t)},get:function get(t){if(!f(t)||h(t))return b.call(this,t);var r=s(this);return r.frozen||(r.frozen=new n),m.call(this,t)?b.call(this,t):r.frozen.get(t)},set:function set(t,r){if(f(t)&&!h(t)){var e=s(this);e.frozen||(e.frozen=new n),m.call(this,t)?x.call(this,t,r):e.frozen.set(t,r)}else x.call(this,t,r);return this}})}},function(t,r,e){var c=e(137),f=e(164).getWeakData,s=e(20),l=e(14),p=e(138),h=e(166),n=e(58),g=e(15),o=e(25),v=o.set,d=o.getterFor,i=n.find,a=n.findIndex,y=0,m=function(t){return t.frozen||(t.frozen=new u)},u=function(){this.entries=[]},b=function(t,r){return i(t.entries,function(t){return t[0]===r})};u.prototype={get:function(t){var r=b(this,t);if(r)return r[1]},has:function(t){return!!b(this,t)},set:function(t,r){var e=b(this,t);e?e[1]=r:this.entries.push([t,r])},"delete":function(r){var t=a(this.entries,function(t){return t[0]===r});return~t&&this.entries.splice(t,1),!!~t}},t.exports={getConstructor:function(t,e,n,o){var i=t(function(t,r){p(t,i,e),v(t,{type:e,id:y++,frozen:qt}),r!=qt&&h(r,t[o],t,n)}),a=d(e),u=function(t,r,e){var n=a(t),o=f(s(r),!0);return!0===o?m(n).set(r,e):o[n.id]=e,t};return c(i.prototype,{"delete":function(t){var r=a(this);if(!l(t))return!1;var e=f(t);return!0===e?m(r)["delete"](t):e&&g(e,r.id)&&delete e[r.id]},has:function has(t){var r=a(this);if(!l(t))return!1;var e=f(t);return!0===e?m(r).has(t):e&&g(e,r.id)}}),c(i.prototype,n?{get:function get(t){var r=a(this);if(l(t)){var e=f(t);return!0===e?m(r).get(t):e?e[r.id]:qt}},set:function set(t,r){return u(this,t,r)}}:{add:function add(t){return u(this,t,!0)}}),i}}},function(t,r,e){e(163)("WeakSet",function(t){return function WeakSet(){return t(this,arguments.length?arguments[0]:qt)}},e(358))},function(t,r,e){var n=e(2),o=e(5),i=e(113),a=e(115),u=e(49),c=e(19),f=e(8),s=e(166),l=e(18),p=e(25),h=p.set,g=p.getterFor("AggregateError"),v=function AggregateError(t,r){var e=this;if(!(e instanceof v))return new v(t,r);a&&(e=a(new Error(r),i(e)));var n=[];return s(t,n.push,n),o?h(e,{errors:n,type:"AggregateError"}):e.errors=n,r!==qt&&l(e,"message",String(r)),e};v.prototype=u(Error.prototype,{constructor:f(5,v),message:f(5,""),name:f(5,"AggregateError")}),o&&c.f(v.prototype,"errors",{get:function(){return g(this).errors},configurable:!0}),n({global:!0},{AggregateError:v})},function(t,r,e){var n=e(2),i=e(47),a=Object.isFrozen,o=function(t,r){if(!a||!i(t)||!a(t))return!1;for(var e,n=0,o=t.length;n<o;)if(!("string"==typeof(e=t[n++])||r&&void 0===e))return!1;return 0!==o};n({target:"Array",stat:!0},{isTemplateObject:function isTemplateObject(t){if(!o(t,!0))return!1;var r=t.raw;return!(r.length!==t.length||!o(r,!1))}})},function(t,r,e){var n=e(5),o=e(83),i=e(48),a=e(39),u=e(19).f;!n||"lastIndex"in[]||(u(Array.prototype,"lastIndex",{configurable:!0,get:function lastIndex(){var t=i(this),r=a(t.length);return 0==r?0:r-1}}),o("lastIndex"))},function(t,r,e){var n=e(5),o=e(83),i=e(48),a=e(39),u=e(19).f;!n||"lastItem"in[]||(u(Array.prototype,"lastItem",{configurable:!0,get:function lastItem(){var t=i(this),r=a(t.length);return 0==r?qt:t[r-1]},set:function lastItem(t){var r=i(this),e=a(r.length);return r[0==e?0:e-1]=t}}),o("lastItem"))},function(t,r,e){var n=e(2),o=e(138),i=e(18),a=e(15),u=e(54),c=e(365),f=e(29),s=u("toStringTag"),l=function AsyncIterator(){o(this,l)};a(l.prototype=c,s)||i(c,s,"AsyncIterator"),a(c,"constructor")&&c.constructor!==Object||i(c,"constructor",l),n({global:!0,forced:f},{AsyncIterator:l})},function(t,r,e){var n,o,i=e(3),a=e(24),u=e(113),c=e(15),f=e(18),s=e(54),l=e(29),p="USE_FUNCTION_CONSTRUCTOR",h=s("asyncIterator"),g=i.AsyncIterator,v=a.AsyncIteratorPrototype;if(!l)if(v)n=v;else if("function"==typeof g)n=g.prototype;else if(a[p]||i[p])try{o=u(u(u(Function("return async function*(){}()")()))),u(o)===Object.prototype&&(n=o)}catch(d){}c(n=n||{},h)||f(n,h,function(){return this}),t.exports=n},function(t,r,e){var n=e(2),o=e(20),i=e(367)(function(t,r){var e=this;return r.resolve(o(e.next.call(e.iterator,t))).then(function(t){return o(t).done?{done:e.done=!0,value:qt}:{done:!1,value:[e.index++,t.value]}})});n({target:"AsyncIterator",proto:!0,real:!0},{asIndexedPairs:function asIndexedPairs(){return new i({iterator:o(this),index:0})}})},function(t,r,e){var o=e(35),i=e(60),a=e(20),u=e(49),c=e(18),f=e(137),n=e(54),s=e(25),l=e(34)("Promise"),p=s.set,h=s.get,g=n("toStringTag"),v=function(t){var r=h(this).iterator,e=r["return"];return e===qt?l.resolve({done:!0,value:t}):a(e.call(r,t))},d=function(t){var r=h(this).iterator,e=r["throw"];return e===qt?l.reject(t):e.call(r,t)};t.exports=function(n,t){var r=function AsyncIterator(t){t.next=i(t.iterator.next),t.done=!1,p(this,t)};return r.prototype=f(u(o.AsyncIterator.prototype),{next:function next(t){var r=h(this);if(r.done)return l.resolve({done:!0,value:qt});try{return l.resolve(a(n.call(r,t,l)))}catch(e){return l.reject(e)}},"return":v,"throw":d}),t||c(r.prototype,g,"Generator"),r}},function(t,r,e){var n=e(2),u=e(20),o=e(322),i=e(367)(function(r,i){var a=this;return new i(function(e,n){var o=function(){try{i.resolve(u(a.next.call(a.iterator,a.remaining?qt:r))).then(function(t){try{u(t).done?e({done:a.done=!0,value:qt}):a.remaining?(a.remaining--,o()):e({done:!1,value:t.value})}catch(r){n(r)}},n)}catch(t){n(t)}};o()})});n({target:"AsyncIterator",proto:!0,real:!0},{drop:function drop(t){return new i({iterator:u(this),remaining:o(t)})}})},function(t,r,e){var n=e(2),o=e(370).every;n({target:"AsyncIterator",proto:!0,real:!0},{every:function every(t){return o(this,t)}})},function(t,r,e){var n=e(60),p=e(20),h=e(34)("Promise"),g=[].push,o=function(t){var c=0==t,f=1==t,s=2==t,l=3==t;return function(r,a){p(r);var e=n(r.next),u=c?[]:qt;return c||n(a),new h(function(n,o){var i=function(){try{h.resolve(p(e.call(r))).then(function(t){try{if(p(t).done)n(c?u:!l&&(s||qt));else{var r=t.value;c?(g.call(u,r),i()):h.resolve(a(r)).then(function(t){f?i():s?t?i():n(!1):t?n(l||r):i()},o)}}catch(e){o(e)}},o)}catch(t){o(t)}};i()})}};t.exports={toArray:o(0),forEach:o(1),every:o(2),some:o(3),find:o(4)}},function(t,r,e){var n=e(2),o=e(60),f=e(20),i=e(367)(function(r,a){var u=this,c=u.filterer;return new a(function(n,o){var i=function(){try{a.resolve(f(u.next.call(u.iterator,r))).then(function(t){try{if(f(t).done)n({done:u.done=!0,value:qt});else{var r=t.value;a.resolve(c(r)).then(function(t){t?n({done:!1,value:r}):i()},o)}}catch(e){o(e)}},o)}catch(t){o(t)}};i()})});n({target:"AsyncIterator",proto:!0,real:!0},{filter:function filter(t){return new i({iterator:f(this),filterer:o(t)})}})},function(t,r,e){var n=e(2),o=e(370).find;n({target:"AsyncIterator",proto:!0,real:!0},{find:function find(t){return o(this,t)}})},function(t,r,e){var n=e(2),l=e(60),p=e(20),o=e(367),h=e(374),i=o(function(r,a){var u,c,f=this,s=f.mapper;return new a(function(e,n){var o=function(){try{a.resolve(p(f.next.call(f.iterator,r))).then(function(t){try{p(t).done?e({done:f.done=!0,value:qt}):a.resolve(s(t.value)).then(function(t){try{if((c=h(t))!==qt)return f.innerIterator=u=p(c.call(t)),f.innerNext=l(u.next),i();n(TypeError(".flatMap callback should return an iterable object"))}catch(r){n(r)}},n)}catch(r){n(r)}},n)}catch(t){n(t)}},i=function(){if(u=f.innerIterator)try{a.resolve(p(f.innerNext.call(u))).then(function(t){try{p(t).done?(f.innerIterator=f.innerNext=null,o()):e({done:!1,value:t.value})}catch(r){n(r)}},n)}catch(t){n(t)}else o()};i()})});n({target:"AsyncIterator",proto:!0,real:!0},{flatMap:function flatMap(t){return new i({iterator:p(this),mapper:l(t),innerIterator:null,innerNext:null})}})},function(t,r,e){var n=e(102),o=e(54)("asyncIterator");t.exports=function(t){var r=t[o];return r===qt?n(t):r}},function(t,r,e){var n=e(2),o=e(370).forEach;n({target:"AsyncIterator",proto:!0,real:!0},{forEach:function forEach(t){return o(this,t)}})},function(t,r,e){var n=e(2),o=e(35),i=e(60),a=e(20),u=e(48),c=e(367),f=e(374),s=o.AsyncIterator,l=c(function(t){return a(this.next.call(this.iterator,t))},!0);n({target:"AsyncIterator",stat:!0},{from:function from(t){var r,e=u(t),n=f(e);if(null!=n){if((r=i(n).call(e))instanceof s)return r}else r=e;return new l({iterator:r})}})},function(t,r,e){var n=e(2),o=e(60),i=e(20),a=e(367)(function(t,r){var e=this,n=e.mapper;return r.resolve(i(e.next.call(e.iterator,t))).then(function(t){return i(t).done?{done:e.done=!0,value:qt}:r.resolve(n(t.value)).then(function(t){return{done:!1,value:t}})})});n({target:"AsyncIterator",proto:!0,real:!0},{map:function map(t){return new a({iterator:i(this),mapper:o(t)})}})},function(t,r,e){var n=e(2),o=e(60),f=e(20),s=e(34)("Promise");n({target:"AsyncIterator",proto:!0,real:!0},{reduce:function reduce(a){var r=f(this),e=o(r.next),u=arguments.length<2,c=u?qt:arguments[1];return o(a),new s(function(n,o){var i=function(){try{s.resolve(f(e.call(r))).then(function(t){try{if(f(t).done)u?o(TypeError("Reduce of empty iterator with no initial value")):n(c);else{var r=t.value;u?(u=!1,c=r,i()):s.resolve(a(c,r)).then(function(t){c=t,i()},o)}}catch(e){o(e)}},o)}catch(t){o(t)}};i()})}})},function(t,r,e){var n=e(2),o=e(370).some;n({target:"AsyncIterator",proto:!0,real:!0},{some:function some(t){return o(this,t)}})},function(t,r,e){var n=e(2),o=e(20),i=e(322),a=e(367)(function(t){return this.remaining--?this.next.call(this.iterator,t):{done:this.done=!0,value:qt}});n({target:"AsyncIterator",proto:!0,real:!0},{take:function take(t){return new a({iterator:o(this),remaining:i(t)})}})},function(t,r,e){var n=e(2),o=e(370).toArray;n({target:"AsyncIterator",proto:!0,real:!0},{toArray:function toArray(){return o(this)}})},function(t,r,e){var n=e(2),o=e(383),i=e(34),a=e(49),u=function(){var t=i("Object","freeze");return t?t(a(null)):a(null)};n({global:!0},{compositeKey:function compositeKey(){return o.apply(Object,arguments).get("object",u)}})},function(t,r,e){var i=e(162),a=e(357),n=e(49),o=e(14),u=function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=n(null)};u.prototype.get=function(t,r){return this[t]||(this[t]=r())},u.prototype.next=function(t,r,e){var n=e?this.objectsByIndex[t]||(this.objectsByIndex[t]=new a):this.primitives||(this.primitives=new i),o=n.get(r);return o||n.set(r,o=new u),o};var c=new u;t.exports=function(){var t,r,e=c,n=arguments.length;for(t=0;t<n;t++)o(r=arguments[t])&&(e=e.next(t,r,!0));if(this===Object&&e===c)throw TypeError("Composite keys must contain a non-primitive component");for(t=0;t<n;t++)o(r=arguments[t])||(e=e.next(t,r,!1));return e}},function(t,r,e){var n=e(2),o=e(383),i=e(34);n({global:!0},{compositeSymbol:function compositeSymbol(){return 1===arguments.length&&"string"==typeof arguments[0]?i("Symbol")["for"](arguments[0]):o.apply(null,arguments).get("symbol",i("Symbol"))}})},function(t,r,e){e(159)},function(t,r,e){var n=e(2),o=e(3),i=e(138),a=e(18),u=e(6),c=e(15),f=e(54),s=e(112).IteratorPrototype,l=e(29),p=f("iterator"),h=f("toStringTag"),g=o.Iterator,v=l||"function"!=typeof g||g.prototype!==s||!u(function(){g({})}),d=function Iterator(){i(this,d)};l&&a(s={},p,function(){return this}),c(s,h)||a(s,h,"Iterator"),!v&&c(s,"constructor")&&s.constructor!==Object||a(s,"constructor",d),d.prototype=s,n({global:!0,forced:v},{Iterator:d})},function(t,r,e){var n=e(2),o=e(20),i=e(388)(function(t){var r=o(this.next.call(this.iterator,t));if(!(this.done=!!r.done))return[this.index++,r.value]});n({target:"Iterator",proto:!0,real:!0},{asIndexedPairs:function asIndexedPairs(){return new i({iterator:o(this),index:0})}})},function(t,r,e){var n=e(35),o=e(60),i=e(20),a=e(49),u=e(18),c=e(137),f=e(54),s=e(25),l=s.set,p=s.get,h=f("toStringTag"),g=function(t){var r=p(this).iterator,e=r["return"];return e===qt?{done:!0,value:t}:i(e.call(r,t))},v=function(t){var r=p(this).iterator,e=r["throw"];if(e===qt)throw t;return e.call(r,t)};t.exports=function(e,t){var r=function Iterator(t){t.next=o(t.iterator.next),t.done=!1,l(this,t)};return r.prototype=c(a(n.Iterator.prototype),{next:function next(){var t=p(this),r=t.done?qt:e.apply(t,arguments);return{done:t.done,value:r}},"return":g,"throw":v}),t||u(r.prototype,h,"Generator"),r}},function(t,r,e){var n=e(2),o=e(20),i=e(322),a=e(388)(function(t){for(var r,e=this.iterator,n=this.next;this.remaining;)if(this.remaining--,r=o(n.call(e)),this.done=!!r.done)return;if(r=o(n.call(e,t)),!(this.done=!!r.done))return r.value});n({target:"Iterator",proto:!0,real:!0},{drop:function drop(t){return new a({iterator:o(this),remaining:i(t)})}})},function(t,r,e){var n=e(2),o=e(166),i=e(60),a=e(20);n({target:"Iterator",proto:!0,real:!0},{every:function every(r){return a(this),i(r),!o(this,function(t){if(!r(t))return o.stop()},qt,!1,!0).stopped}})},function(t,r,e){var n=e(2),o=e(60),a=e(20),i=e(388),u=e(99),c=i(function(t){for(var r,e,n=this.iterator,o=this.filterer,i=this.next;;){if(r=a(i.call(n,t)),this.done=!!r.done)return;if(u(n,o,e=r.value))return e}});n({target:"Iterator",proto:!0,real:!0},{filter:function filter(t){return new c({iterator:a(this),filterer:o(t)})}})},function(t,r,e){var n=e(2),o=e(166),i=e(60),a=e(20);n({target:"Iterator",proto:!0,real:!0},{find:function find(r){return a(this),i(r),o(this,function(t){if(r(t))return o.stop(t)},qt,!1,!0).result}})},function(t,r,e){var n=e(2),a=e(60),u=e(20),c=e(102),o=e(388),f=e(99),i=o(function(t){for(var r,e,n,o,i=this.iterator;;){if(o=this.innerIterator){if(!(r=u(this.innerNext.call(o))).done)return r.value;this.innerIterator=this.innerNext=null}if(r=u(this.next.call(i,t)),this.done=!!r.done)return;if(e=f(i,this.mapper,r.value),(n=c(e))===qt)throw TypeError(".flatMap callback should return an iterable object");this.innerIterator=o=u(n.call(e)),this.innerNext=a(o.next)}});n({target:"Iterator",proto:!0,real:!0},{flatMap:function flatMap(t){return new i({iterator:u(this),mapper:a(t),innerIterator:null,innerNext:null})}})},function(t,r,e){var n=e(2),o=e(166),i=e(20);n({target:"Iterator",proto:!0,real:!0},{forEach:function forEach(t){o(i(this),t,qt,!1,!0)}})},function(t,r,e){var n=e(2),o=e(35),i=e(60),a=e(20),u=e(48),c=e(388),f=e(102),s=o.Iterator,l=c(function(t){var r=a(this.next.call(this.iterator,t));if(!(this.done=!!r.done))return r.value},!0);n({target:"Iterator",stat:!0},{from:function from(t){var r,e=u(t),n=f(e);if(null!=n){if((r=i(n).call(e))instanceof s)return r}else r=e;return new l({iterator:r})}})},function(t,r,e){var n=e(2),o=e(60),i=e(20),a=e(388),u=e(99),c=a(function(t){var r=this.iterator,e=i(this.next.call(r,t));if(!(this.done=!!e.done))return u(r,this.mapper,e.value)});n({target:"Iterator",proto:!0,real:!0},{map:function map(t){return new c({iterator:i(this),mapper:o(t)})}})},function(t,r,e){var n=e(2),o=e(166),i=e(60),a=e(20);n({target:"Iterator",proto:!0,real:!0},{reduce:function reduce(r){a(this),i(r);var e=arguments.length<2,n=e?qt:arguments[1];if(o(this,function(t){n=e?(e=!1,t):r(n,t)},qt,!1,!0),e)throw TypeError("Reduce of empty iterator with no initial value");return n}})},function(t,r,e){var n=e(2),o=e(166),i=e(60),a=e(20);n({target:"Iterator",proto:!0,real:!0},{some:function some(r){return a(this),i(r),o(this,function(t){if(r(t))return o.stop()},qt,!1,!0).stopped}})},function(t,r,e){var n=e(2),o=e(20),i=e(322),a=e(388)(function(t){if(this.remaining--){var r=o(this.next.call(this.iterator,t));return(this.done=!!r.done)?void 0:r.value}this.done=!0});n({target:"Iterator",proto:!0,real:!0},{take:function take(t){return new a({iterator:o(this),remaining:i(t)})}})},function(t,r,e){var n=e(2),o=e(166),i=e(20),a=[].push;n({target:"Iterator",proto:!0,real:!0},{toArray:function toArray(){var t=[];return o(i(this),a,t,!1,!0),t}})},function(t,r,e){var n=e(2),o=e(29),i=e(402);n({target:"Map",proto:!0,real:!0,forced:o},{deleteAll:function deleteAll(){return i.apply(this,arguments)}})},function(t,r,e){var a=e(20),u=e(60);t.exports=function(){for(var t,r=a(this),e=u(r["delete"]),n=!0,o=0,i=arguments.length;o<i;o++)t=e.call(r,arguments[o]),n=n&&t;return!!n}},function(t,r,e){var n=e(2),o=e(29),i=e(20),a=e(59),u=e(404),c=e(166);n({target:"Map",proto:!0,real:!0,forced:o},{every:function every(t){var e=i(this),r=u(e),n=a(t,1<arguments.length?arguments[1]:qt,3);return!c(r,function(t,r){if(!n(r,t,e))return c.stop()},qt,!0,!0).stopped}})},function(t,r,e){var n=e(29),o=e(405);t.exports=n?o:function(t){return Map.prototype.entries.call(t)}},function(t,r,e){var n=e(20),o=e(102);t.exports=function(t){var r=o(t);if("function"!=typeof r)throw TypeError(String(t)+" is not iterable");return n(r.call(t))}},function(t,r,e){var n=e(2),o=e(29),a=e(34),u=e(20),c=e(60),f=e(59),s=e(144),l=e(404),p=e(166);n({target:"Map",proto:!0,real:!0,forced:o},{filter:function filter(t){var e=u(this),r=l(e),n=f(t,1<arguments.length?arguments[1]:qt,3),o=new(s(e,a("Map"))),i=c(o.set);return p(r,function(t,r){n(r,t,e)&&i.call(o,t,r)},qt,!0,!0),o}})},function(t,r,e){var n=e(2),o=e(29),i=e(20),a=e(59),u=e(404),c=e(166);n({target:"Map",proto:!0,real:!0,forced:o},{find:function find(t){var e=i(this),r=u(e),n=a(t,1<arguments.length?arguments[1]:qt,3);return c(r,function(t,r){if(n(r,t,e))return c.stop(r)},qt,!0,!0).result}})},function(t,r,e){var n=e(2),o=e(29),i=e(20),a=e(59),u=e(404),c=e(166);n({target:"Map",proto:!0,real:!0,forced:o},{findKey:function findKey(t){var e=i(this),r=u(e),n=a(t,1<arguments.length?arguments[1]:qt,3);return c(r,function(t,r){if(n(r,t,e))return c.stop(t)},qt,!0,!0).result}})},function(t,r,e){e(2)({target:"Map",stat:!0},{from:e(410)})},function(t,r,e){var u=e(60),c=e(59),f=e(166);t.exports=function from(t){var r,e,n,o,i=arguments.length,a=1<i?arguments[1]:qt;return u(this),(r=a!==qt)&&u(a),t==qt?new this:(e=[],r?(n=0,o=c(a,2<i?arguments[2]:qt,2),f(t,function(t){e.push(o(t,n++))})):f(t,e.push,e),new this(e))}},function(t,r,e){var n=e(2),u=e(166),c=e(60);n({target:"Map",stat:!0},{groupBy:function groupBy(t,e){var n=new this;c(e);var o=c(n.has),i=c(n.get),a=c(n.set);return u(t,function(t){var r=e(t);o.call(n,r)?i.call(n,r).push(t):a.call(n,r,[t])}),n}})},function(t,r,e){var n=e(2),o=e(29),i=e(20),a=e(404),u=e(413),c=e(166);n({target:"Map",proto:!0,real:!0,forced:o},{includes:function includes(e){return c(a(i(this)),function(t,r){if(u(r,e))return c.stop()},qt,!0,!0).stopped}})},function(t,r){t.exports=function(t,r){return t===r||t!=t&&r!=r}},function(t,r,e){var n=e(2),o=e(166),i=e(60);n({target:"Map",stat:!0},{keyBy:function keyBy(t,r){var e=new this;i(r);var n=i(e.set);return o(t,function(t){n.call(e,r(t),t)}),e}})},function(t,r,e){var n=e(2),o=e(29),i=e(20),a=e(404),u=e(166);n({target:"Map",proto:!0,real:!0,forced:o},{keyOf:function keyOf(e){return u(a(i(this)),function(t,r){if(r===e)return u.stop(t)},qt,!0,!0).result}})},function(t,r,e){var n=e(2),o=e(29),a=e(34),u=e(20),c=e(60),f=e(59),s=e(144),l=e(404),p=e(166);n({target:"Map",proto:!0,real:!0,forced:o},{mapKeys:function mapKeys(t){var e=u(this),r=l(e),n=f(t,1<arguments.length?arguments[1]:qt,3),o=new(s(e,a("Map"))),i=c(o.set);return p(r,function(t,r){i.call(o,n(r,t,e),r)},qt,!0,!0),o}})},function(t,r,e){var n=e(2),o=e(29),a=e(34),u=e(20),c=e(60),f=e(59),s=e(144),l=e(404),p=e(166);n({target:"Map",proto:!0,real:!0,forced:o},{mapValues:function mapValues(t){var e=u(this),r=l(e),n=f(t,1<arguments.length?arguments[1]:qt,3),o=new(s(e,a("Map"))),i=c(o.set);return p(r,function(t,r){i.call(o,t,n(r,t,e))},qt,!0,!0),o}})},function(t,r,e){var n=e(2),o=e(29),i=e(20),a=e(60),u=e(166);n({target:"Map",proto:!0,real:!0,forced:o},{merge:function merge(t){for(var r=i(this),e=a(r.set),n=0;n<arguments.length;)u(arguments[n++],e,r,!0);return r}})},function(t,r,e){e(2)({target:"Map",stat:!0},{of:e(420)})},function(t,r,e){t.exports=function of(){for(var t=arguments.length,r=new Array(t);t--;)r[t]=arguments[t];return new this(r)}},function(t,r,e){var n=e(2),o=e(29),a=e(20),u=e(60),c=e(404),f=e(166);n({target:"Map",proto:!0,real:!0,forced:o},{reduce:function reduce(e){var n=a(this),t=c(n),o=arguments.length<2,i=o?qt:arguments[1];if(u(e),f(t,function(t,r){i=o?(o=!1,r):e(i,r,t,n)},qt,!0,!0),o)throw TypeError("Reduce of empty map with no initial value");return i}})},function(t,r,e){var n=e(2),o=e(29),i=e(20),a=e(59),u=e(404),c=e(166);n({target:"Map",proto:!0,real:!0,forced:o},{some:function some(t){var e=i(this),r=u(e),n=a(t,1<arguments.length?arguments[1]:qt,3);return c(r,function(t,r){if(n(r,t,e))return c.stop()},qt,!0,!0).stopped}})},function(t,r,e){var n=e(2),o=e(29),a=e(20),u=e(60);n({target:"Map",proto:!0,real:!0,forced:o},{update:function update(t,r){var e=a(this),n=arguments.length;u(r);var o=e.has(t);if(!o&&n<3)throw TypeError("Updating absent value");var i=o?e.get(t):u(2<n?arguments[2]:qt)(t,e);return e.set(t,r(i,t,e)),e}})},function(t,r,e){e(2)({target:"Map",proto:!0,real:!0,forced:e(29)},{updateOrInsert:e(425)})},function(t,r,e){var i=e(20);t.exports=function upsert(t,r){var e,n=i(this),o=2<arguments.length?arguments[2]:qt;if("function"!=typeof r&&"function"!=typeof o)throw TypeError("At least one callback required");return n.has(t)?(e=n.get(t),"function"==typeof r&&(e=r(e),n.set(t,e))):"function"==typeof o&&(e=o(),n.set(t,e)),e}},function(t,r,e){e(2)({target:"Map",proto:!0,real:!0,forced:e(29)},{upsert:e(425)})},function(t,r,e){var n=e(2),o=Math.min,i=Math.max;n({target:"Math",stat:!0},{clamp:function clamp(t,r,e){return o(e,i(r,t))}})},function(t,r,e){e(2)({target:"Math",stat:!0},{DEG_PER_RAD:Math.PI/180})},function(t,r,e){var n=e(2),o=180/Math.PI;n({target:"Math",stat:!0},{degrees:function degrees(t){return t*o}})},function(t,r,e){var n=e(2),i=e(431),a=e(180);n({target:"Math",stat:!0},{fscale:function fscale(t,r,e,n,o){return a(i(t,r,e,n,o))}})},function(t,r){t.exports=Math.scale||function scale(t,r,e,n,o){return 0===arguments.length||t!=t||r!=r||e!=e||n!=n||o!=o?NaN:t===Infinity||t===-Infinity?t:(t-r)*(o-n)/(e-r)+n}},function(t,r,e){e(2)({target:"Math",stat:!0},{iaddh:function iaddh(t,r,e,n){var o=t>>>0,i=e>>>0;return(r>>>0)+(n>>>0)+((o&i|(o|i)&~(o+i>>>0))>>>31)|0}})},function(t,r,e){e(2)({target:"Math",stat:!0},{imulh:function imulh(t,r){var e=+t,n=+r,o=65535&e,i=65535&n,a=e>>16,u=n>>16,c=(a*i>>>0)+(o*i>>>16);return a*u+(c>>16)+((o*u>>>0)+(65535&c)>>16)}})},function(t,r,e){e(2)({target:"Math",stat:!0},{isubh:function isubh(t,r,e,n){var o=t>>>0,i=e>>>0;return(r>>>0)-(n>>>0)-((~o&i|~(o^i)&o-i>>>0)>>>31)|0}})},function(t,r,e){e(2)({target:"Math",stat:!0},{RAD_PER_DEG:180/Math.PI})},function(t,r,e){var n=e(2),o=Math.PI/180;n({target:"Math",stat:!0},{radians:function radians(t){return t*o}})},function(t,r,e){e(2)({target:"Math",stat:!0},{scale:e(431)})},function(t,r,e){var n=e(2),o=e(20),i=e(196),a=e(111),u=e(25),c="Seeded Random",f=c+" Generator",s=u.set,l=u.getterFor(f),p=a(function SeededRandomGenerator(t){s(this,{type:f,seed:t%2147483647})},c,function next(){var t=l(this);return{value:(1073741823&(t.seed=(1103515245*t.seed+12345)%2147483647))/1073741823,done:!1}});n({target:"Math",stat:!0,forced:!0},{seededPRNG:function seededPRNG(t){var r=o(t).seed;if(!i(r))throw TypeError('Math.seededPRNG() argument should have a "seed" field with a finite value.');return new p(r)}})},function(t,r,e){e(2)({target:"Math",stat:!0},{signbit:function signbit(t){return(t=+t)==t&&0==t?1/t==-Infinity:t<0}})},function(t,r,e){e(2)({target:"Math",stat:!0},{umulh:function umulh(t,r){var e=+t,n=+r,o=65535&e,i=65535&n,a=e>>>16,u=n>>>16,c=(a*i>>>0)+(o*i>>>16);return a*u+(c>>>16)+((o*u>>>0)+(65535&c)>>>16)}})},function(t,r,e){var n=e(2),i=e(40),a=e(206),u="Invalid number representation",c=/^[\da-z]+$/;n({target:"Number",stat:!0},{fromString:function fromString(t,r){var e,n,o=1;if("string"!=typeof t)throw TypeError(u);if(!t.length)throw SyntaxError(u);if("-"==t.charAt(0)&&(o=-1,!(t=t.slice(1)).length))throw SyntaxError(u);if((e=r===qt?10:i(r))<2||36<e)throw RangeError("Invalid radix");if(!c.test(t)||(n=a(t,e)).toString(e)!==t)throw SyntaxError(u);return o*n}})},function(t,r,e){var n=e(2),o=e(443);n({target:"Object",stat:!0},{iterateEntries:function iterateEntries(t){return new o(t,"entries")}})},function(t,r,e){var n=e(25),o=e(111),i=e(15),a=e(51),u=e(48),c="Object Iterator",f=n.set,s=n.getterFor(c);t.exports=o(function ObjectIterator(t,r){var e=u(t);f(this,{type:c,mode:r,object:e,keys:a(e),index:0})},"Object",function next(){for(var t=s(this),r=t.keys;;){if(null===r||r.length<=t.index)return t.object=t.keys=null,{value:qt,done:!0};var e=r[t.index++],n=t.object;if(i(n,e)){switch(t.mode){case"keys":return{value:e,done:!1};case"values":return{value:n[e],done:!1}}return{value:[e,n[e]],done:!1}}}})},function(t,r,e){var n=e(2),o=e(443);n({target:"Object",stat:!0},{iterateKeys:function iterateKeys(t){return new o(t,"keys")}})},function(t,r,e){var n=e(2),o=e(443);n({target:"Object",stat:!0},{iterateValues:function iterateValues(t){return new o(t,"values")}})},function(t,r,e){var n=e(2),c=e(5),o=e(130),f=e(60),s=e(20),i=e(14),a=e(138),u=e(19).f,l=e(18),p=e(137),h=e(405),g=e(166),v=e(249),d=e(54),y=e(25),m=d("observable"),b=y.get,x=y.set,w=function(t){return null==t?qt:f(t)},S=function(t){var r=t.cleanup;if(r){t.cleanup=qt;try{r()}catch(e){v(e)}}},A=function(t){return t.observer===qt},E=function(t,r){if(!c){t.closed=!0;var e=r.subscriptionObserver;e&&(e.closed=!0)}r.observer=qt},I=function(t,r){var e,n=x(this,{cleanup:qt,observer:s(t),subscriptionObserver:qt});c||(this.closed=!1);try{(e=w(t.start))&&e.call(t,this)}catch(u){v(u)}if(!A(n)){var o=n.subscriptionObserver=new O(this);try{var i=r(o),a=i;null!=i&&(n.cleanup="function"==typeof i.unsubscribe?function(){a.unsubscribe()}:f(i))}catch(u){return void o.error(u)}A(n)&&S(n)}};I.prototype=p({},{unsubscribe:function unsubscribe(){var t=b(this);A(t)||(E(this,t),S(t))}}),c&&u(I.prototype,"closed",{configurable:!0,get:function(){return A(b(this))}});var O=function(t){x(this,{subscription:t}),c||(this.closed=!1)};O.prototype=p({},{next:function next(t){var r=b(b(this).subscription);if(!A(r)){var e=r.observer;try{var n=w(e.next);n&&n.call(e,t)}catch(o){v(o)}}},error:function error(t){var r=b(this).subscription,e=b(r);if(!A(e)){var n=e.observer;E(r,e);try{var o=w(n.error);o?o.call(n,t):v(t)}catch(i){v(i)}S(e)}},complete:function complete(){var t=b(this).subscription,r=b(t);if(!A(r)){var e=r.observer;E(t,r);try{var n=w(e.complete);n&&n.call(e)}catch(error){v(error)}S(r)}}}),c&&u(O.prototype,"closed",{configurable:!0,get:function(){return A(b(b(this).subscription))}});var M=function Observable(t){a(this,M,"Observable"),x(this,{subscriber:f(t)})};p(M.prototype,{subscribe:function subscribe(t){var r=arguments.length;return new I("function"==typeof t?{next:t,error:1<r?arguments[1]:qt,complete:2<r?arguments[2]:qt}:i(t)?t:{},b(this).subscriber)}}),p(M,{from:function from(t){var r="function"==typeof this?this:M,e=w(s(t)[m]);if(e){var n=s(e.call(t));return n.constructor===r?n:new r(function(t){return n.subscribe(t)})}var o=h(t);return new r(function(r){g(o,function(t){if(r.next(t),r.closed)return g.stop()},qt,!1,!0),r.complete()})},of:function of(){for(var t="function"==typeof this?this:M,e=arguments.length,n=new Array(e),r=0;r<e;)n[r]=arguments[r++];return new t(function(t){for(var r=0;r<e;r++)if(t.next(n[r]),t.closed)return;t.complete()})}}),l(M.prototype,m,function(){return this}),n({global:!0},{Observable:M}),o("Observable")},function(t,r,e){e(251)},function(t,r,e){var n=e(2),l=e(60),p=e(34),o=e(248),i=e(250),h=e(166),g="No one promise resolved";n({target:"Promise",stat:!0},{any:function any(t){var c=this,r=o.f(c),f=r.resolve,s=r.reject,e=i(function(){var n=l(c.resolve),o=[],i=0,a=1,u=!1;h(t,function(t){var r=i++,e=!1;o.push(qt),a++,n.call(c,t).then(function(t){e||u||(u=!0,f(t))},function(t){e||u||(e=!0,o[r]=t,--a||s(new(p("AggregateError"))(o,g)))})}),--a||s(new(p("AggregateError"))(o,g))});return e.error&&s(e.value),r.promise}})},function(t,r,e){var n=e(2),o=e(248),i=e(250);n({target:"Promise",stat:!0},{"try":function(t){var r=o.f(this),e=i(t);return(e.error?r.reject:r.resolve)(e.value),r.promise}})},function(t,r,e){var n=e(2),o=e(451),i=e(20),a=o.toKey,u=o.set;n({target:"Reflect",stat:!0},{defineMetadata:function defineMetadata(t,r,e){var n=arguments.length<4?qt:a(arguments[3]);u(t,r,i(e),n)}})},function(t,r,e){var i=e(162),n=e(357),o=e(28)("metadata"),a=o.store||(o.store=new n),u=function(t,r,e){var n=a.get(t);if(!n){if(!e)return;a.set(t,n=new i)}var o=n.get(r);if(!o){if(!e)return;n.set(r,o=new i)}return o};t.exports={store:a,getMap:u,has:function(t,r,e){var n=u(r,e,!1);return n!==qt&&n.has(t)},get:function(t,r,e){var n=u(r,e,!1);return n===qt?qt:n.get(t)},set:function(t,r,e,n){u(e,n,!0).set(t,r)},keys:function(t,r){var e=u(t,r,!1),n=[];return e&&e.forEach(function(t,r){n.push(r)}),n},toKey:function(t){return t===qt||"symbol"==typeof t?t:String(t)}}},function(t,r,e){var n=e(2),o=e(451),i=e(20),a=o.toKey,u=o.getMap,c=o.store;n({target:"Reflect",stat:!0},{deleteMetadata:function deleteMetadata(t,r){var e=arguments.length<3?qt:a(arguments[2]),n=u(i(r),e,!1);if(n===qt||!n["delete"](t))return!1;if(n.size)return!0
;var o=c.get(r);return o["delete"](e),!!o.size||c["delete"](r)}})},function(t,r,e){var n=e(2),o=e(451),i=e(20),a=e(113),u=o.has,c=o.get,f=o.toKey,s=function(t,r,e){if(u(t,r,e))return c(t,r,e);var n=a(r);return null!==n?s(t,n,e):qt};n({target:"Reflect",stat:!0},{getMetadata:function getMetadata(t,r){var e=arguments.length<3?qt:f(arguments[2]);return s(t,i(r),e)}})},function(t,r,e){var n=e(2),u=e(276),o=e(451),i=e(20),c=e(113),f=e(166),s=o.keys,a=o.toKey,l=function(t,r){var e=s(t,r),n=c(t);if(null===n)return e;var o,i,a=l(n,r);return a.length?e.length?(o=new u(e.concat(a)),f(o,(i=[]).push,i),i):a:e};n({target:"Reflect",stat:!0},{getMetadataKeys:function getMetadataKeys(t){var r=arguments.length<2?qt:a(arguments[1]);return l(i(t),r)}})},function(t,r,e){var n=e(2),o=e(451),i=e(20),a=o.get,u=o.toKey;n({target:"Reflect",stat:!0},{getOwnMetadata:function getOwnMetadata(t,r){var e=arguments.length<3?qt:u(arguments[2]);return a(t,i(r),e)}})},function(t,r,e){var n=e(2),o=e(451),i=e(20),a=o.keys,u=o.toKey;n({target:"Reflect",stat:!0},{getOwnMetadataKeys:function getOwnMetadataKeys(t){var r=arguments.length<2?qt:u(arguments[1]);return a(i(t),r)}})},function(t,r,e){var n=e(2),o=e(451),i=e(20),a=e(113),u=o.has,c=o.toKey,f=function(t,r,e){if(u(t,r,e))return!0;var n=a(r);return null!==n&&f(t,n,e)};n({target:"Reflect",stat:!0},{hasMetadata:function hasMetadata(t,r){var e=arguments.length<3?qt:c(arguments[2]);return f(t,i(r),e)}})},function(t,r,e){var n=e(2),o=e(451),i=e(20),a=o.has,u=o.toKey;n({target:"Reflect",stat:!0},{hasOwnMetadata:function hasOwnMetadata(t,r){var e=arguments.length<3?qt:u(arguments[2]);return a(t,i(r),e)}})},function(t,r,e){var n=e(2),o=e(451),i=e(20),a=o.toKey,u=o.set;n({target:"Reflect",stat:!0},{metadata:function metadata(e,n){return function decorator(t,r){u(e,n,i(t),a(r))}}})},function(t,r,e){var n=e(2),o=e(29),i=e(461);n({target:"Set",proto:!0,real:!0,forced:o},{addAll:function addAll(){return i.apply(this,arguments)}})},function(t,r,e){var o=e(20),i=e(60);t.exports=function(){for(var t=o(this),r=i(t.add),e=0,n=arguments.length;e<n;e++)r.call(t,arguments[e]);return t}},function(t,r,e){var n=e(2),o=e(29),i=e(402);n({target:"Set",proto:!0,real:!0,forced:o},{deleteAll:function deleteAll(){return i.apply(this,arguments)}})},function(t,r,e){var n=e(2),o=e(29),i=e(34),a=e(20),u=e(60),c=e(144),f=e(166);n({target:"Set",proto:!0,real:!0,forced:o},{difference:function difference(t){var r=a(this),e=new(c(r,i("Set")))(r),n=u(e["delete"]);return f(t,function(t){n.call(e,t)}),e}})},function(t,r,e){var n=e(2),o=e(29),i=e(20),a=e(59),u=e(465),c=e(166);n({target:"Set",proto:!0,real:!0,forced:o},{every:function every(t){var r=i(this),e=u(r),n=a(t,1<arguments.length?arguments[1]:qt,3);return!c(e,function(t){if(!n(t,t,r))return c.stop()},qt,!1,!0).stopped}})},function(t,r,e){var n=e(29),o=e(405);t.exports=n?o:function(t){return Set.prototype.values.call(t)}},function(t,r,e){var n=e(2),o=e(29),a=e(34),u=e(20),c=e(60),f=e(59),s=e(144),l=e(465),p=e(166);n({target:"Set",proto:!0,real:!0,forced:o},{filter:function filter(t){var r=u(this),e=l(r),n=f(t,1<arguments.length?arguments[1]:qt,3),o=new(s(r,a("Set"))),i=c(o.add);return p(e,function(t){n(t,t,r)&&i.call(o,t)},qt,!1,!0),o}})},function(t,r,e){var n=e(2),o=e(29),i=e(20),a=e(59),u=e(465),c=e(166);n({target:"Set",proto:!0,real:!0,forced:o},{find:function find(t){var r=i(this),e=u(r),n=a(t,1<arguments.length?arguments[1]:qt,3);return c(e,function(t){if(n(t,t,r))return c.stop(t)},qt,!1,!0).result}})},function(t,r,e){e(2)({target:"Set",stat:!0},{from:e(410)})},function(t,r,e){var n=e(2),o=e(29),i=e(34),a=e(20),u=e(60),c=e(144),f=e(166);n({target:"Set",proto:!0,real:!0,forced:o},{intersection:function intersection(t){var r=a(this),e=new(c(r,i("Set"))),n=u(r.has),o=u(e.add);return f(t,function(t){n.call(r,t)&&o.call(e,t)}),e}})},function(t,r,e){var n=e(2),o=e(29),i=e(20),a=e(60),u=e(166);n({target:"Set",proto:!0,real:!0,forced:o},{isDisjointFrom:function isDisjointFrom(t){var r=i(this),e=a(r.has);return!u(t,function(t){if(!0===e.call(r,t))return u.stop()}).stopped}})},function(t,r,e){var n=e(2),o=e(29),i=e(34),a=e(20),u=e(60),c=e(405),f=e(166);n({target:"Set",proto:!0,real:!0,forced:o},{isSubsetOf:function isSubsetOf(t){var r=c(this),e=a(t),n=e.has;return"function"!=typeof n&&(e=new(i("Set"))(t),n=u(e.has)),!f(r,function(t){if(!1===n.call(e,t))return f.stop()},qt,!1,!0).stopped}})},function(t,r,e){var n=e(2),o=e(29),i=e(20),a=e(60),u=e(166);n({target:"Set",proto:!0,real:!0,forced:o},{isSupersetOf:function isSupersetOf(t){var r=i(this),e=a(r.has);return!u(t,function(t){if(!1===e.call(r,t))return u.stop()}).stopped}})},function(t,r,e){var n=e(2),o=e(29),i=e(20),a=e(465),u=e(166);n({target:"Set",proto:!0,real:!0,forced:o},{join:function join(t){var r=i(this),e=a(r),n=t===qt?",":String(t),o=[];return u(e,o.push,o,!1,!0),o.join(n)}})},function(t,r,e){var n=e(2),o=e(29),a=e(34),u=e(20),c=e(60),f=e(59),s=e(144),l=e(465),p=e(166);n({target:"Set",proto:!0,real:!0,forced:o},{map:function map(t){var r=u(this),e=l(r),n=f(t,1<arguments.length?arguments[1]:qt,3),o=new(s(r,a("Set"))),i=c(o.add);return p(e,function(t){i.call(o,n(t,t,r))},qt,!1,!0),o}})},function(t,r,e){e(2)({target:"Set",stat:!0},{of:e(420)})},function(t,r,e){var n=e(2),o=e(29),i=e(20),a=e(60),u=e(465),c=e(166);n({target:"Set",proto:!0,real:!0,forced:o},{reduce:function reduce(r){var e=i(this),t=u(e),n=arguments.length<2,o=n?qt:arguments[1];if(a(r),c(t,function(t){o=n?(n=!1,t):r(o,t,t,e)},qt,!1,!0),n)throw TypeError("Reduce of empty set with no initial value");return o}})},function(t,r,e){var n=e(2),o=e(29),i=e(20),a=e(59),u=e(465),c=e(166);n({target:"Set",proto:!0,real:!0,forced:o},{some:function some(t){var r=i(this),e=u(r),n=a(t,1<arguments.length?arguments[1]:qt,3);return c(e,function(t){if(n(t,t,r))return c.stop()},qt,!1,!0).stopped}})},function(t,r,e){var n=e(2),o=e(29),i=e(34),a=e(20),u=e(60),c=e(144),f=e(166);n({target:"Set",proto:!0,real:!0,forced:o},{symmetricDifference:function symmetricDifference(t){var r=a(this),e=new(c(r,i("Set")))(r),n=u(e["delete"]),o=u(e.add);return f(t,function(t){n.call(e,t)||o.call(e,t)}),e}})},function(t,r,e){var n=e(2),o=e(29),i=e(34),a=e(20),u=e(60),c=e(144),f=e(166);n({target:"Set",proto:!0,real:!0,forced:o},{union:function union(t){var r=a(this),e=new(c(r,i("Set")))(r);return f(t,u(e.add),e),e}})},function(t,r,e){var n=e(2),o=e(278).charAt;n({target:"String",proto:!0},{at:function at(t){return o(this,t)}})},function(t,r,e){var n=e(2),o=e(111),i=e(12),a=e(25),u=e(278),c=u.codeAt,f=u.charAt,s="String Iterator",l=a.set,p=a.getterFor(s),h=o(function StringIterator(t){l(this,{type:s,string:t,index:0})},"String",function next(){var t,r=p(this),e=r.string,n=r.index;return e.length<=n?{value:qt,done:!0}:(t=f(e,n),r.index+=t.length,{value:{codePoint:c(t,0),position:n},done:!1})});n({target:"String",proto:!0},{codePoints:function codePoints(){return new h(String(i(this)))}})},function(t,r,e){e(289)},function(t,r,e){var n=e(2),l=e(12),p=e(267),h=e(268),o=e(54),g=e(29),v=o("replace"),d=RegExp.prototype;n({target:"String",proto:!0},{replaceAll:function replaceAll(t,r){var e,n,o,i,a,u,c,f,s=l(this);if(null!=t){if((e=p(t))&&!~String(l("flags"in d?t.flags:h.call(t))).indexOf("g"))throw TypeError("`.replaceAll` does not allow non-global regexes");if((n=t[v])!==qt)return n.call(t,s,r);if(g&&e)return String(s).replace(t,r)}if(o=String(s),""===(i=String(t)))return replaceAll.call(o,/(?:)/g,r);if(a=o.split(i),"function"!=typeof r)return a.join(String(r));for(c=(u=a[0]).length,f=1;f<a.length;f++)u+=String(r(i,c,o)),c+=i.length+a[f].length,u+=a[f];return u}})},function(t,r,e){e(56)("asyncDispose")},function(t,r,e){e(56)("dispose")},function(t,r,e){e(56)("observable")},function(t,r,e){e(56)("patternMatch")},function(t,r,e){e(56)("replaceAll")},function(t,r,e){var n=e(2),o=e(29),i=e(402);n({target:"WeakMap",proto:!0,real:!0,forced:o},{deleteAll:function deleteAll(){return i.apply(this,arguments)}})},function(t,r,e){e(2)({target:"WeakMap",stat:!0},{from:e(410)})},function(t,r,e){e(2)({target:"WeakMap",stat:!0},{of:e(420)})},function(t,r,e){e(2)({target:"WeakMap",proto:!0,real:!0,forced:e(29)},{upsert:e(425)})},function(t,r,e){var n=e(2),o=e(29),i=e(461);n({target:"WeakSet",proto:!0,real:!0,forced:o},{addAll:function addAll(){return i.apply(this,arguments)}})},function(t,r,e){var n=e(2),o=e(29),i=e(402);n({target:"WeakSet",proto:!0,real:!0,forced:o},{deleteAll:function deleteAll(){return i.apply(this,arguments)}})},function(t,r,e){e(2)({target:"WeakSet",stat:!0},{from:e(410)})},function(t,r,e){e(2)({target:"WeakSet",stat:!0},{of:e(420)})},function(t,r,e){var n=e(3),o=e(498),i=e(96),a=e(18);for(var u in o){var c=n[u],f=c&&c.prototype;if(f&&f.forEach!==i)try{a(f,"forEach",i)}catch(s){f.forEach=i}}},function(t,r){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,r,e){var n=e(3),o=e(498),i=e(109),a=e(18),u=e(54),c=u("iterator"),f=u("toStringTag"),s=i.values;for(var l in o){var p=n[l],h=p&&p.prototype;if(h){if(h[c]!==s)try{a(h,c,s)}catch(v){h[c]=s}if(h[f]||a(h,f,l),o[l])for(var g in i)if(h[g]!==i[g])try{a(h,g,i[g])}catch(v){h[g]=i[g]}}}},function(t,r,e){var n=e(2),o=e(3),i=e(244);n({global:!0,bind:!0,enumerable:!0,forced:!o.setImmediate||!o.clearImmediate},{setImmediate:i.set,clearImmediate:i.clear})},function(t,r,e){var n=e(2),o=e(3),i=e(246),a=e(11),u=o.process,c="process"==a(u);n({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function queueMicrotask(t){var r=c&&u.domain;i(r?r.bind(t):t)}})},function(t,r,e){var n=e(2),o=e(3),i=e(80),a=[].slice,u=function(o){return function(t,r){var e=2<arguments.length,n=e?a.call(arguments,2):qt;return o(e?function(){("function"==typeof t?t:Function(t)).apply(this,n)}:t,r)}};n({global:!0,bind:!0,forced:/MSIE .\./.test(i)},{setTimeout:u(o.setTimeout),setInterval:u(o.setInterval)})},function(t,r,e){e(284);var x,n=e(2),f=e(5),o=e(504),i=e(3),a=e(50),u=e(21),s=e(138),w=e(15),c=e(211),S=e(98),l=e(278).codeAt,p=e(505),h=e(57),g=e(506),v=e(25),d=i.URL,y=g.URLSearchParams,m=g.getState,b=v.set,A=v.getterFor("URL"),E=Math.floor,I=Math.pow,O="Invalid scheme",M="Invalid host",R="Invalid port",T=/[A-Za-z]/,_=/[\d+\-.A-Za-z]/,j=/\d/,P=/^(0x|0X)/,k=/^[0-7]+$/,N=/^\d+$/,F=/^[\dA-Fa-f]+$/,U=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,L=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,C=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,D=/[\u0009\u000A\u000D]/g,B=function(t,r){var e,n,o;if("["==r.charAt(0)){if("]"!=r.charAt(r.length-1))return M;if(!(e=z(r.slice(1,-1))))return M;t.host=e}else if(X(t)){if(r=p(r),U.test(r))return M;if(null===(e=q(r)))return M;t.host=e}else{if(L.test(r))return M;for(e="",n=S(r),o=0;o<n.length;o++)e+=Y(n[o],G);t.host=e}},q=function(t){var r,e,n,o,i,a,u,c=t.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),4<(r=c.length))return t;for(e=[],n=0;n<r;n++){if(""==(o=c[n]))return t;if(i=10,1<o.length&&"0"==o.charAt(0)&&(i=P.test(o)?16:8,o=o.slice(8==i?1:2)),""===o)a=0;else{if(!(10==i?N:8==i?k:F).test(o))return t;a=parseInt(o,i)}e.push(a)}for(n=0;n<r;n++)if(a=e[n],n==r-1){if(a>=I(256,5-r))return null}else if(255<a)return null;for(u=e.pop(),n=0;n<e.length;n++)u+=e[n]*I(256,3-n);return u},z=function(t){var r,e,n,o,i,a,u,c=[0,0,0,0,0,0,0,0],f=0,s=null,l=0,p=function(){return t.charAt(l)};if(":"==p()){if(":"!=t.charAt(1))return;l+=2,s=++f}for(;p();){if(8==f)return;if(":"!=p()){for(r=e=0;e<4&&F.test(p());)r=16*r+parseInt(p(),16),l++,e++;if("."==p()){if(0==e)return;if(l-=e,6<f)return;for(n=0;p();){if(o=null,0<n){if(!("."==p()&&n<4))return;l++}if(!j.test(p()))return;for(;j.test(p());){if(i=parseInt(p(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(255<o)return;l++}c[f]=256*c[f]+o,2!=++n&&4!=n||f++}if(4!=n)return;break}if(":"==p()){if(l++,!p())return}else if(p())return;c[f++]=r}else{if(null!==s)return;l++,s=++f}}if(null!==s)for(a=f-s,f=7;0!=f&&0<a;)u=c[f],c[f--]=c[s+a-1],c[s+--a]=u;else if(8!=f)return;return c},W=function(t){var r,e,n,o;if("number"==typeof t){for(r=[],e=0;e<4;e++)r.unshift(t%256),t=E(t/256);return r.join(".")}if("object"!=typeof t)return t;for(r="",n=function(t){for(var r=null,e=1,n=null,o=0,i=0;i<8;i++)0!==t[i]?(e<o&&(r=n,e=o),n=null,o=0):(null===n&&(n=i),++o);return e<o&&(r=n,e=o),r}(t),e=0;e<8;e++)o&&0===t[e]||(o=o&&!1,n===e?(r+=e?":":"::",o=!0):(r+=t[e].toString(16),e<7&&(r+=":")));return"["+r+"]"},G={},V=c({},G,{" ":1,'"':1,"<":1,">":1,"`":1}),K=c({},V,{"#":1,"?":1,"{":1,"}":1}),$=c({},K,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Y=function(t,r){var e=l(t,0);return 32<e&&e<127&&!w(r,t)?t:encodeURIComponent(t)},J={ftp:21,file:null,http:80,https:443,ws:80,wss:443},X=function(t){return w(J,t.scheme)},H=function(t){return""!=t.username||""!=t.password},Q=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},Z=function(t,r){var e;return 2==t.length&&T.test(t.charAt(0))&&(":"==(e=t.charAt(1))||!r&&"|"==e)},tt=function(t){var r;return 1<t.length&&Z(t.slice(0,2))&&(2==t.length||"/"===(r=t.charAt(2))||"\\"===r||"?"===r||"#"===r)},rt=function(t){var r=t.path,e=r.length;!e||"file"==t.scheme&&1==e&&Z(r[0],!0)||r.pop()},et={},nt={},ot={},it={},at={},ut={},ct={},ft={},st={},lt={},pt={},ht={},gt={},vt={},dt={},yt={},mt={},bt={},xt={},wt={},St={},At=function(t,r,e,n){var o,i,a,u,c,f,s=e||et,l=0,p="",h=!1,g=!1,v=!1;for(e||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,r=r.replace(C,"")),r=r.replace(D,""),o=S(r);l<=o.length;){switch(i=o[l],s){case et:if(!i||!T.test(i)){if(e)return O;s=ot;continue}p+=i.toLowerCase(),s=nt;break;case nt:if(i&&(_.test(i)||"+"==i||"-"==i||"."==i))p+=i.toLowerCase();else{if(":"!=i){if(e)return O;p="",s=ot,l=0;continue}if(e&&(X(t)!=w(J,p)||"file"==p&&(H(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=p,e)return void(X(t)&&J[t.scheme]==t.port&&(t.port=null));p="","file"==t.scheme?s=vt:X(t)&&n&&n.scheme==t.scheme?s=it:X(t)?s=ft:"/"==o[l+1]?(s=at,l++):(t.cannotBeABaseURL=!0,t.path.push(""),s=xt)}break;case ot:if(!n||n.cannotBeABaseURL&&"#"!=i)return O;if(n.cannotBeABaseURL&&"#"==i){t.scheme=n.scheme,t.path=n.path.slice(),t.query=n.query,t.fragment="",t.cannotBeABaseURL=!0,s=St;break}s="file"==n.scheme?vt:ut;continue;case it:if("/"!=i||"/"!=o[l+1]){s=ut;continue}s=st,l++;break;case at:if("/"==i){s=lt;break}s=bt;continue;case ut:if(t.scheme=n.scheme,i==x)t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,t.path=n.path.slice(),t.query=n.query;else if("/"==i||"\\"==i&&X(t))s=ct;else if("?"==i)t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,t.path=n.path.slice(),t.query="",s=wt;else{if("#"!=i){t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,t.path=n.path.slice(),t.path.pop(),s=bt;continue}t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,t.path=n.path.slice(),t.query=n.query,t.fragment="",s=St}break;case ct:if(!X(t)||"/"!=i&&"\\"!=i){if("/"!=i){t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,s=bt;continue}s=lt}else s=st;break;case ft:if(s=st,"/"!=i||"/"!=p.charAt(l+1))continue;l++;break;case st:if("/"==i||"\\"==i)break;s=lt;continue;case lt:if("@"==i){h&&(p="%40"+p),h=!0,a=S(p);for(var d=0;d<a.length;d++){var y=a[d];if(":"!=y||v){var m=Y(y,$);v?t.password+=m:t.username+=m}else v=!0}p=""}else if(i==x||"/"==i||"?"==i||"#"==i||"\\"==i&&X(t)){if(h&&""==p)return"Invalid authority";l-=S(p).length+1,p="",s=pt}else p+=i;break;case pt:case ht:if(e&&"file"==t.scheme){s=yt;continue}if(":"!=i||g){if(i==x||"/"==i||"?"==i||"#"==i||"\\"==i&&X(t)){if(X(t)&&""==p)return M;if(e&&""==p&&(H(t)||null!==t.port))return;if(u=B(t,p))return u;if(p="",s=mt,e)return;continue}"["==i?g=!0:"]"==i&&(g=!1),p+=i}else{if(""==p)return M;if(u=B(t,p))return u;if(p="",s=gt,e==ht)return}break;case gt:if(!j.test(i)){if(i==x||"/"==i||"?"==i||"#"==i||"\\"==i&&X(t)||e){if(""!=p){var b=parseInt(p,10);if(65535<b)return R;t.port=X(t)&&b===J[t.scheme]?null:b,p=""}if(e)return;s=mt;continue}return R}p+=i;break;case vt:if(t.scheme="file","/"==i||"\\"==i)s=dt;else{if(!n||"file"!=n.scheme){s=bt;continue}if(i==x)t.host=n.host,t.path=n.path.slice(),t.query=n.query;else if("?"==i)t.host=n.host,t.path=n.path.slice(),t.query="",s=wt;else{if("#"!=i){tt(o.slice(l).join(""))||(t.host=n.host,t.path=n.path.slice(),rt(t)),s=bt;continue}t.host=n.host,t.path=n.path.slice(),t.query=n.query,t.fragment="",s=St}}break;case dt:if("/"==i||"\\"==i){s=yt;break}n&&"file"==n.scheme&&!tt(o.slice(l).join(""))&&(Z(n.path[0],!0)?t.path.push(n.path[0]):t.host=n.host),s=bt;continue;case yt:if(i==x||"/"==i||"\\"==i||"?"==i||"#"==i){if(!e&&Z(p))s=bt;else if(""==p){if(t.host="",e)return;s=mt}else{if(u=B(t,p))return u;if("localhost"==t.host&&(t.host=""),e)return;p="",s=mt}continue}p+=i;break;case mt:if(X(t)){if(s=bt,"/"!=i&&"\\"!=i)continue}else if(e||"?"!=i)if(e||"#"!=i){if(i!=x&&(s=bt,"/"!=i))continue}else t.fragment="",s=St;else t.query="",s=wt;break;case bt:if(i==x||"/"==i||"\\"==i&&X(t)||!e&&("?"==i||"#"==i)){if(".."===(f=(f=p).toLowerCase())||"%2e."===f||".%2e"===f||"%2e%2e"===f?(rt(t),"/"==i||"\\"==i&&X(t)||t.path.push("")):"."===(c=p)||"%2e"===c.toLowerCase()?"/"==i||"\\"==i&&X(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&Z(p)&&(t.host&&(t.host=""),p=p.charAt(0)+":"),t.path.push(p)),p="","file"==t.scheme&&(i==x||"?"==i||"#"==i))for(;1<t.path.length&&""===t.path[0];)t.path.shift();"?"==i?(t.query="",s=wt):"#"==i&&(t.fragment="",s=St)}else p+=Y(i,K);break;case xt:"?"==i?(t.query="",s=wt):"#"==i?(t.fragment="",s=St):i!=x&&(t.path[0]+=Y(i,G));break;case wt:e||"#"!=i?i!=x&&("'"==i&&X(t)?t.query+="%27":t.query+="#"==i?"%23":Y(i,G)):(t.fragment="",s=St);break;case St:i!=x&&(t.fragment+=Y(i,V))}l++}},Et=function URL(t){var r,e,n=s(this,Et,"URL"),o=1<arguments.length?arguments[1]:qt,i=String(t),a=b(n,{type:"URL"});if(o!==qt)if(o instanceof Et)r=A(o);else if(e=At(r={},String(o)))throw TypeError(e);if(e=At(a,i,null,r))throw TypeError(e);var u=a.searchParams=new y,c=m(u);c.updateSearchParams(a.query),c.updateURL=function(){a.query=String(u)||null},f||(n.href=Ot.call(n),n.origin=Mt.call(n),n.protocol=Rt.call(n),n.username=Tt.call(n),n.password=_t.call(n),n.host=jt.call(n),n.hostname=Pt.call(n),n.port=kt.call(n),n.pathname=Nt.call(n),n.search=Ft.call(n),n.searchParams=Ut.call(n),n.hash=Lt.call(n))},It=Et.prototype,Ot=function(){var t=A(this),r=t.scheme,e=t.username,n=t.password,o=t.host,i=t.port,a=t.path,u=t.query,c=t.fragment,f=r+":";return null!==o?(f+="//",H(t)&&(f+=e+(n?":"+n:"")+"@"),f+=W(o),null!==i&&(f+=":"+i)):"file"==r&&(f+="//"),f+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==u&&(f+="?"+u),null!==c&&(f+="#"+c),f},Mt=function(){var t=A(this),r=t.scheme,e=t.port;if("blob"==r)try{return new URL(r.path[0]).origin}catch(n){return"null"}return"file"!=r&&X(t)?r+"://"+W(t.host)+(null!==e?":"+e:""):"null"},Rt=function(){return A(this).scheme+":"},Tt=function(){return A(this).username},_t=function(){return A(this).password},jt=function(){var t=A(this),r=t.host,e=t.port;return null===r?"":null===e?W(r):W(r)+":"+e},Pt=function(){var t=A(this).host;return null===t?"":W(t)},kt=function(){var t=A(this).port;return null===t?"":String(t)},Nt=function(){var t=A(this),r=t.path;return t.cannotBeABaseURL?r[0]:r.length?"/"+r.join("/"):""},Ft=function(){var t=A(this).query;return t?"?"+t:""},Ut=function(){return A(this).searchParams},Lt=function(){var t=A(this).fragment;return t?"#"+t:""},Ct=function(t,r){return{get:t,set:r,configurable:!0,enumerable:!0}};if(f&&a(It,{href:Ct(Ot,function(t){var r=A(this),e=String(t),n=At(r,e);if(n)throw TypeError(n);m(r.searchParams).updateSearchParams(r.query)}),origin:Ct(Mt),protocol:Ct(Rt,function(t){var r=A(this);At(r,String(t)+":",et)}),username:Ct(Tt,function(t){var r=A(this),e=S(String(t));if(!Q(r)){r.username="";for(var n=0;n<e.length;n++)r.username+=Y(e[n],$)}}),password:Ct(_t,function(t){var r=A(this),e=S(String(t));if(!Q(r)){r.password="";for(var n=0;n<e.length;n++)r.password+=Y(e[n],$)}}),host:Ct(jt,function(t){var r=A(this);r.cannotBeABaseURL||At(r,String(t),pt)}),hostname:Ct(Pt,function(t){var r=A(this);r.cannotBeABaseURL||At(r,String(t),ht)}),port:Ct(kt,function(t){var r=A(this);Q(r)||(""==(t=String(t))?r.port=null:At(r,t,gt))}),pathname:Ct(Nt,function(t){var r=A(this);r.cannotBeABaseURL||(r.path=[],At(r,t+"",mt))}),search:Ct(Ft,function(t){var r=A(this);""==(t=String(t))?r.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),r.query="",At(r,t,wt)),m(r.searchParams).updateSearchParams(r.query)}),searchParams:Ct(Ut),hash:Ct(Lt,function(t){var r=A(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),r.fragment="",At(r,t,St)):r.fragment=null})}),u(It,"toJSON",function toJSON(){return Ot.call(this)},{enumerable:!0}),u(It,"toString",function toString(){return Ot.call(this)},{enumerable:!0}),d){var Dt=d.createObjectURL,Bt=d.revokeObjectURL;Dt&&u(Et,"createObjectURL",function createObjectURL(t){return Dt.apply(d,arguments)}),Bt&&u(Et,"revokeObjectURL",function revokeObjectURL(t){return Bt.apply(d,arguments)})}h(Et,"URL"),n({global:!0,forced:!o,sham:!f},{URL:Et})},function(t,r,e){var n=e(6),o=e(54),i=e(29),a=o("iterator");t.exports=!n(function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach(function(t,r){e["delete"]("b"),n+=r+t}),i&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==n||"x"!==new URL("http://x",qt).host})},function(t,r,e){var y=2147483647,i=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,m="Overflow: input needs wider integers to process",b=Math.floor,x=String.fromCharCode,w=function(t){return t+22+75*(t<26)},S=function(t,r,e){var n=0;for(t=e?b(t/700):t>>1,t+=b(t/r);455<t;n+=36)t=b(t/35);return b(n+36*t/(t+38))},u=function(t){var r,e,n=[],o=(t=function(t){for(var r=[],e=0,n=t.length;e<n;){var o=t.charCodeAt(e++);if(55296<=o&&o<=56319&&e<n){var i=t.charCodeAt(e++);56320==(64512&i)?r.push(((1023&o)<<10)+(1023&i)+65536):(r.push(o),e--)}else r.push(o)}return r}(t)).length,i=128,a=0,u=72;for(r=0;r<t.length;r++)(e=t[r])<128&&n.push(x(e));var c=n.length,f=c;for(c&&n.push("-");f<o;){var s=y;for(r=0;r<t.length;r++)i<=(e=t[r])&&e<s&&(s=e);var l=f+1;if(s-i>b((y-a)/l))throw RangeError(m);for(a+=(s-i)*l,i=s,r=0;r<t.length;r++){if((e=t[r])<i&&++a>y)throw RangeError(m);if(e==i){for(var p=a,h=36;;h+=36){var g=h<=u?1:u+26<=h?26:h-u;if(p<g)break;var v=p-g,d=36-g;n.push(x(w(g+v%d))),p=b(v/d)}n.push(x(w(p))),u=S(a,l,f==c),a=0,++f}}++a,++i}return n.join("")};t.exports=function(t){var r,e,n=[],o=t.toLowerCase().replace(a,".").split(".");for(r=0;r<o.length;r++)n.push(i.test(e=o[r])?"xn--"+u(e):e);return n.join(".")}},function(t,r,e){e(109);var n=e(2),o=e(34),i=e(504),a=e(21),u=e(137),c=e(57),f=e(111),s=e(25),l=e(138),p=e(15),h=e(59),g=e(103),v=e(20),d=e(14),y=e(49),m=e(8),b=e(405),x=e(102),w=e(54),S=o("fetch"),A=o("Headers"),E=w("iterator"),I="URLSearchParams",O=I+"Iterator",M=s.set,R=s.getterFor(I),T=s.getterFor(O),_=/\+/g,j=Array(4),P=function(t){return j[t-1]||(j[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},k=function(t){try{return decodeURIComponent(t)}catch(r){return t}},N=function(t){var r=t.replace(_," "),e=4;try{return decodeURIComponent(r)}catch(n){for(;e;)r=r.replace(P(e--),k);return r}},F=/[!'()~]|%20/g,U={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},L=function(t){return U[t]},C=function(t){return encodeURIComponent(t).replace(F,L)},D=function(t,r){if(r)for(var e,n,o=r.split("&"),i=0;i<o.length;)(e=o[i++]).length&&(n=e.split("="),t.push({key:N(n.shift()),value:N(n.join("="))}))},B=function(t){this.entries.length=0,D(this.entries,t)},q=function(t,r){if(t<r)throw TypeError("Not enough arguments")},z=f(function Iterator(t,r){M(this,{type:O,iterator:b(R(t).entries),kind:r})},"Iterator",function next(){var t=T(this),r=t.kind,e=t.iterator.next(),n=e.value;return e.done||(e.value="keys"===r?n.key:"values"===r?n.value:[n.key,n.value]),e}),W=function URLSearchParams(){l(this,W,I);var t,r,e,n,o,i,a,u,c,f=0<arguments.length?arguments[0]:qt,s=[];if(M(this,{type:I,entries:s,updateURL:function(){},updateSearchParams:B}),f!==qt)if(d(f))if("function"==typeof(t=x(f)))for(e=(r=t.call(f)).next;!(n=e.call(r)).done;){if((a=(i=(o=b(v(n.value))).next).call(o)).done||(u=i.call(o)).done||!i.call(o).done)throw TypeError("Expected sequence with length 2");s.push({key:a.value+"",value:u.value+""})}else for(c in f)p(f,c)&&s.push({key:c,value:f[c]+""});else D(s,"string"==typeof f?"?"===f.charAt(0)?f.slice(1):f:f+"")},G=W.prototype;u(G,{append:function append(t,r){q(arguments.length,2);var e=R(this);e.entries.push({key:t+"",value:r+""}),e.updateURL()},"delete":function(t){q(arguments.length,1);for(var r=R(this),e=r.entries,n=t+"",o=0;o<e.length;)e[o].key===n?e.splice(o,1):o++;r.updateURL()},get:function get(t){q(arguments.length,1);for(var r=R(this).entries,e=t+"",n=0;n<r.length;n++)if(r[n].key===e)return r[n].value;return null},getAll:function getAll(t){q(arguments.length,1);for(var r=R(this).entries,e=t+"",n=[],o=0;o<r.length;o++)r[o].key===e&&n.push(r[o].value);return n},has:function has(t){q(arguments.length,1);for(var r=R(this).entries,e=t+"",n=0;n<r.length;)if(r[n++].key===e)return!0;return!1},set:function set(t,r){q(arguments.length,1);for(var e,n=R(this),o=n.entries,i=!1,a=t+"",u=r+"",c=0;c<o.length;c++)(e=o[c]).key===a&&(i?o.splice(c--,1):(i=!0,e.value=u));i||o.push({key:a,value:u}),n.updateURL()},sort:function sort(){var t,r,e,n=R(this),o=n.entries,i=o.slice();for(e=o.length=0;e<i.length;e++){for(t=i[e],r=0;r<e;r++)if(t.key<o[r].key){o.splice(r,0,t);break}r===e&&o.push(t)}n.updateURL()},forEach:function forEach(t){for(var r,e=R(this).entries,n=h(t,1<arguments.length?arguments[1]:qt,3),o=0;o<e.length;)n((r=e[o++]).value,r.key,this)},keys:function keys(){return new z(this,"keys")},values:function values(){return new z(this,"values")},entries:function entries(){return new z(this,"entries")}},{enumerable:!0}),a(G,E,G.entries),a(G,"toString",function toString(){for(var t,r=R(this).entries,e=[],n=0;n<r.length;)t=r[n++],e.push(C(t.key)+"="+C(t.value));return e.join("&")},{enumerable:!0}),c(W,I),n({global:!0,forced:!i},{URLSearchParams:W}),i||"function"!=typeof S||"function"!=typeof A||n({global:!0,enumerable:!0,forced:!0},{fetch:function fetch(t){var r,e,n,o=[t];return 1<arguments.length&&(d(r=arguments[1])&&g(e=r.body)===I&&((n=r.headers?new A(r.headers):new A).has("content-type")||n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),r=y(r,{body:m(0,String(e)),headers:m(0,n)})),o.push(r)),S.apply(this,o)}}),t.exports={URLSearchParams:W,getState:R}},function(t,r,e){e(2)({target:"URL",proto:!0,enumerable:!0},{toJSON:function toJSON(){return URL.prototype.toString.call(this)}})}],__webpack_require__.c=n,__webpack_require__.d=function(t,r,e){__webpack_require__.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:e})},__webpack_require__.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.t=function(r,t){if(1&t&&(r=__webpack_require__(r)),8&t)return r;if(4&t&&"object"==typeof r&&r&&r.__esModule)return r;var e=Object.create(null);if(__webpack_require__.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:r}),2&t&&"string"!=typeof r)for(var n in r)__webpack_require__.d(e,n,function(t){return r[t]}.bind(null,n));return e},__webpack_require__.n=function(t){var r=t&&t.__esModule?function getDefault(){return t["default"]}:function getModuleExports(){return t};return __webpack_require__.d(r,"a",r),r},__webpack_require__.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=0)}();
//# sourceMappingURL=minified.js.map
/**
 * Copyright 2016 Google Inc. All Rights Reserved.
 *
 * Licensed under the W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE.
 *
 *  https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
 *
 */
(function() {
'use strict';

// Exit early if we're not running in a browser.
if (typeof window !== 'object') {
  return;
}

// Exit early if all IntersectionObserver and IntersectionObserverEntry
// features are natively supported.
if ('IntersectionObserver' in window &&
    'IntersectionObserverEntry' in window &&
    'intersectionRatio' in window.IntersectionObserverEntry.prototype) {

  // Minimal polyfill for Edge 15's lack of `isIntersecting`
  // See: https://github.com/w3c/IntersectionObserver/issues/211
  if (!('isIntersecting' in window.IntersectionObserverEntry.prototype)) {
    Object.defineProperty(window.IntersectionObserverEntry.prototype,
      'isIntersecting', {
      get: function () {
        return this.intersectionRatio > 0;
      }
    });
  }
  return;
}


/**
 * A local reference to the document.
 */
var document = window.document;


/**
 * An IntersectionObserver registry. This registry exists to hold a strong
 * reference to IntersectionObserver instances currently observing a target
 * element. Without this registry, instances without another reference may be
 * garbage collected.
 */
var registry = [];


/**
 * Creates the global IntersectionObserverEntry constructor.
 * https://w3c.github.io/IntersectionObserver/#intersection-observer-entry
 * @param {Object} entry A dictionary of instance properties.
 * @constructor
 */
function IntersectionObserverEntry(entry) {
  this.time = entry.time;
  this.target = entry.target;
  this.rootBounds = entry.rootBounds;
  this.boundingClientRect = entry.boundingClientRect;
  this.intersectionRect = entry.intersectionRect || getEmptyRect();
  this.isIntersecting = !!entry.intersectionRect;

  // Calculates the intersection ratio.
  var targetRect = this.boundingClientRect;
  var targetArea = targetRect.width * targetRect.height;
  var intersectionRect = this.intersectionRect;
  var intersectionArea = intersectionRect.width * intersectionRect.height;

  // Sets intersection ratio.
  if (targetArea) {
    // Round the intersection ratio to avoid floating point math issues:
    // https://github.com/w3c/IntersectionObserver/issues/324
    this.intersectionRatio = Number((intersectionArea / targetArea).toFixed(4));
  } else {
    // If area is zero and is intersecting, sets to 1, otherwise to 0
    this.intersectionRatio = this.isIntersecting ? 1 : 0;
  }
}


/**
 * Creates the global IntersectionObserver constructor.
 * https://w3c.github.io/IntersectionObserver/#intersection-observer-interface
 * @param {Function} callback The function to be invoked after intersection
 *     changes have queued. The function is not invoked if the queue has
 *     been emptied by calling the `takeRecords` method.
 * @param {Object=} opt_options Optional configuration options.
 * @constructor
 */
function IntersectionObserver(callback, opt_options) {

  var options = opt_options || {};

  if (typeof callback != 'function') {
    throw new Error('callback must be a function');
  }

  if (options.root && options.root.nodeType != 1) {
    throw new Error('root must be an Element');
  }

  // Binds and throttles `this._checkForIntersections`.
  this._checkForIntersections = throttle(
      this._checkForIntersections.bind(this), this.THROTTLE_TIMEOUT);

  // Private properties.
  this._callback = callback;
  this._observationTargets = [];
  this._queuedEntries = [];
  this._rootMarginValues = this._parseRootMargin(options.rootMargin);

  // Public properties.
  this.thresholds = this._initThresholds(options.threshold);
  this.root = options.root || null;
  this.rootMargin = this._rootMarginValues.map(function(margin) {
    return margin.value + margin.unit;
  }).join(' ');
}


/**
 * The minimum interval within which the document will be checked for
 * intersection changes.
 */
IntersectionObserver.prototype.THROTTLE_TIMEOUT = 100;


/**
 * The frequency in which the polyfill polls for intersection changes.
 * this can be updated on a per instance basis and must be set prior to
 * calling `observe` on the first target.
 */
IntersectionObserver.prototype.POLL_INTERVAL = null;

/**
 * Use a mutation observer on the root element
 * to detect intersection changes.
 */
IntersectionObserver.prototype.USE_MUTATION_OBSERVER = true;


/**
 * Starts observing a target element for intersection changes based on
 * the thresholds values.
 * @param {Element} target The DOM element to observe.
 */
IntersectionObserver.prototype.observe = function(target) {
  var isTargetAlreadyObserved = this._observationTargets.some(function(item) {
    return item.element == target;
  });

  if (isTargetAlreadyObserved) {
    return;
  }

  if (!(target && target.nodeType == 1)) {
    throw new Error('target must be an Element');
  }

  this._registerInstance();
  this._observationTargets.push({element: target, entry: null});
  this._monitorIntersections();
  this._checkForIntersections();
};


/**
 * Stops observing a target element for intersection changes.
 * @param {Element} target The DOM element to observe.
 */
IntersectionObserver.prototype.unobserve = function(target) {
  this._observationTargets =
      this._observationTargets.filter(function(item) {

    return item.element != target;
  });
  if (!this._observationTargets.length) {
    this._unmonitorIntersections();
    this._unregisterInstance();
  }
};


/**
 * Stops observing all target elements for intersection changes.
 */
IntersectionObserver.prototype.disconnect = function() {
  this._observationTargets = [];
  this._unmonitorIntersections();
  this._unregisterInstance();
};


/**
 * Returns any queue entries that have not yet been reported to the
 * callback and clears the queue. This can be used in conjunction with the
 * callback to obtain the absolute most up-to-date intersection information.
 * @return {Array} The currently queued entries.
 */
IntersectionObserver.prototype.takeRecords = function() {
  var records = this._queuedEntries.slice();
  this._queuedEntries = [];
  return records;
};


/**
 * Accepts the threshold value from the user configuration object and
 * returns a sorted array of unique threshold values. If a value is not
 * between 0 and 1 and error is thrown.
 * @private
 * @param {Array|number=} opt_threshold An optional threshold value or
 *     a list of threshold values, defaulting to [0].
 * @return {Array} A sorted list of unique and valid threshold values.
 */
IntersectionObserver.prototype._initThresholds = function(opt_threshold) {
  var threshold = opt_threshold || [0];
  if (!Array.isArray(threshold)) threshold = [threshold];

  return threshold.sort().filter(function(t, i, a) {
    if (typeof t != 'number' || isNaN(t) || t < 0 || t > 1) {
      throw new Error('threshold must be a number between 0 and 1 inclusively');
    }
    return t !== a[i - 1];
  });
};


/**
 * Accepts the rootMargin value from the user configuration object
 * and returns an array of the four margin values as an object containing
 * the value and unit properties. If any of the values are not properly
 * formatted or use a unit other than px or %, and error is thrown.
 * @private
 * @param {string=} opt_rootMargin An optional rootMargin value,
 *     defaulting to '0px'.
 * @return {Array<Object>} An array of margin objects with the keys
 *     value and unit.
 */
IntersectionObserver.prototype._parseRootMargin = function(opt_rootMargin) {
  var marginString = opt_rootMargin || '0px';
  var margins = marginString.split(/\s+/).map(function(margin) {
    var parts = /^(-?\d*\.?\d+)(px|%)$/.exec(margin);
    if (!parts) {
      throw new Error('rootMargin must be specified in pixels or percent');
    }
    return {value: parseFloat(parts[1]), unit: parts[2]};
  });

  // Handles shorthand.
  margins[1] = margins[1] || margins[0];
  margins[2] = margins[2] || margins[0];
  margins[3] = margins[3] || margins[1];

  return margins;
};


/**
 * Starts polling for intersection changes if the polling is not already
 * happening, and if the page's visibility state is visible.
 * @private
 */
IntersectionObserver.prototype._monitorIntersections = function() {
  if (!this._monitoringIntersections) {
    this._monitoringIntersections = true;

    // If a poll interval is set, use polling instead of listening to
    // resize and scroll events or DOM mutations.
    if (this.POLL_INTERVAL) {
      this._monitoringInterval = setInterval(
          this._checkForIntersections, this.POLL_INTERVAL);
    }
    else {
      addEvent(window, 'resize', this._checkForIntersections, true);
      addEvent(document, 'scroll', this._checkForIntersections, true);

      if (this.USE_MUTATION_OBSERVER && 'MutationObserver' in window) {
        this._domObserver = new MutationObserver(this._checkForIntersections);
        this._domObserver.observe(document, {
          attributes: true,
          childList: true,
          characterData: true,
          subtree: true
        });
      }
    }
  }
};


/**
 * Stops polling for intersection changes.
 * @private
 */
IntersectionObserver.prototype._unmonitorIntersections = function() {
  if (this._monitoringIntersections) {
    this._monitoringIntersections = false;

    clearInterval(this._monitoringInterval);
    this._monitoringInterval = null;

    removeEvent(window, 'resize', this._checkForIntersections, true);
    removeEvent(document, 'scroll', this._checkForIntersections, true);

    if (this._domObserver) {
      this._domObserver.disconnect();
      this._domObserver = null;
    }
  }
};


/**
 * Scans each observation target for intersection changes and adds them
 * to the internal entries queue. If new entries are found, it
 * schedules the callback to be invoked.
 * @private
 */
IntersectionObserver.prototype._checkForIntersections = function() {
  var rootIsInDom = this._rootIsInDom();
  var rootRect = rootIsInDom ? this._getRootRect() : getEmptyRect();

  this._observationTargets.forEach(function(item) {
    var target = item.element;
    var targetRect = getBoundingClientRect(target);
    var rootContainsTarget = this._rootContainsTarget(target);
    var oldEntry = item.entry;
    var intersectionRect = rootIsInDom && rootContainsTarget &&
        this._computeTargetAndRootIntersection(target, rootRect);

    var newEntry = item.entry = new IntersectionObserverEntry({
      time: now(),
      target: target,
      boundingClientRect: targetRect,
      rootBounds: rootRect,
      intersectionRect: intersectionRect
    });

    if (!oldEntry) {
      this._queuedEntries.push(newEntry);
    } else if (rootIsInDom && rootContainsTarget) {
      // If the new entry intersection ratio has crossed any of the
      // thresholds, add a new entry.
      if (this._hasCrossedThreshold(oldEntry, newEntry)) {
        this._queuedEntries.push(newEntry);
      }
    } else {
      // If the root is not in the DOM or target is not contained within
      // root but the previous entry for this target had an intersection,
      // add a new record indicating removal.
      if (oldEntry && oldEntry.isIntersecting) {
        this._queuedEntries.push(newEntry);
      }
    }
  }, this);

  if (this._queuedEntries.length) {
    this._callback(this.takeRecords(), this);
  }
};


/**
 * Accepts a target and root rect computes the intersection between then
 * following the algorithm in the spec.
 * TODO(philipwalton): at this time clip-path is not considered.
 * https://w3c.github.io/IntersectionObserver/#calculate-intersection-rect-algo
 * @param {Element} target The target DOM element
 * @param {Object} rootRect The bounding rect of the root after being
 *     expanded by the rootMargin value.
 * @return {?Object} The final intersection rect object or undefined if no
 *     intersection is found.
 * @private
 */
IntersectionObserver.prototype._computeTargetAndRootIntersection =
    function(target, rootRect) {

  // If the element isn't displayed, an intersection can't happen.
  if (window.getComputedStyle(target).display == 'none') return;

  var targetRect = getBoundingClientRect(target);
  var intersectionRect = targetRect;
  var parent = getParentNode(target);
  var atRoot = false;

  while (!atRoot) {
    var parentRect = null;
    var parentComputedStyle = parent.nodeType == 1 ?
        window.getComputedStyle(parent) : {};

    // If the parent isn't displayed, an intersection can't happen.
    if (parentComputedStyle.display == 'none') return;

    if (parent == this.root || parent == document) {
      atRoot = true;
      parentRect = rootRect;
    } else {
      // If the element has a non-visible overflow, and it's not the <body>
      // or <html> element, update the intersection rect.
      // Note: <body> and <html> cannot be clipped to a rect that's not also
      // the document rect, so no need to compute a new intersection.
      if (parent != document.body &&
          parent != document.documentElement &&
          parentComputedStyle.overflow != 'visible') {
        parentRect = getBoundingClientRect(parent);
      }
    }

    // If either of the above conditionals set a new parentRect,
    // calculate new intersection data.
    if (parentRect) {
      intersectionRect = computeRectIntersection(parentRect, intersectionRect);

      if (!intersectionRect) break;
    }
    parent = getParentNode(parent);
  }
  return intersectionRect;
};


/**
 * Returns the root rect after being expanded by the rootMargin value.
 * @return {Object} The expanded root rect.
 * @private
 */
IntersectionObserver.prototype._getRootRect = function() {
  var rootRect;
  if (this.root) {
    rootRect = getBoundingClientRect(this.root);
  } else {
    // Use <html>/<body> instead of window since scroll bars affect size.
    var html = document.documentElement;
    var body = document.body;
    rootRect = {
      top: 0,
      left: 0,
      right: html.clientWidth || body.clientWidth,
      width: html.clientWidth || body.clientWidth,
      bottom: html.clientHeight || body.clientHeight,
      height: html.clientHeight || body.clientHeight
    };
  }
  return this._expandRectByRootMargin(rootRect);
};


/**
 * Accepts a rect and expands it by the rootMargin value.
 * @param {Object} rect The rect object to expand.
 * @return {Object} The expanded rect.
 * @private
 */
IntersectionObserver.prototype._expandRectByRootMargin = function(rect) {
  var margins = this._rootMarginValues.map(function(margin, i) {
    return margin.unit == 'px' ? margin.value :
        margin.value * (i % 2 ? rect.width : rect.height) / 100;
  });
  var newRect = {
    top: rect.top - margins[0],
    right: rect.right + margins[1],
    bottom: rect.bottom + margins[2],
    left: rect.left - margins[3]
  };
  newRect.width = newRect.right - newRect.left;
  newRect.height = newRect.bottom - newRect.top;

  return newRect;
};


/**
 * Accepts an old and new entry and returns true if at least one of the
 * threshold values has been crossed.
 * @param {?IntersectionObserverEntry} oldEntry The previous entry for a
 *    particular target element or null if no previous entry exists.
 * @param {IntersectionObserverEntry} newEntry The current entry for a
 *    particular target element.
 * @return {boolean} Returns true if a any threshold has been crossed.
 * @private
 */
IntersectionObserver.prototype._hasCrossedThreshold =
    function(oldEntry, newEntry) {

  // To make comparing easier, an entry that has a ratio of 0
  // but does not actually intersect is given a value of -1
  var oldRatio = oldEntry && oldEntry.isIntersecting ?
      oldEntry.intersectionRatio || 0 : -1;
  var newRatio = newEntry.isIntersecting ?
      newEntry.intersectionRatio || 0 : -1;

  // Ignore unchanged ratios
  if (oldRatio === newRatio) return;

  for (var i = 0; i < this.thresholds.length; i++) {
    var threshold = this.thresholds[i];

    // Return true if an entry matches a threshold or if the new ratio
    // and the old ratio are on the opposite sides of a threshold.
    if (threshold == oldRatio || threshold == newRatio ||
        threshold < oldRatio !== threshold < newRatio) {
      return true;
    }
  }
};


/**
 * Returns whether or not the root element is an element and is in the DOM.
 * @return {boolean} True if the root element is an element and is in the DOM.
 * @private
 */
IntersectionObserver.prototype._rootIsInDom = function() {
  return !this.root || containsDeep(document, this.root);
};


/**
 * Returns whether or not the target element is a child of root.
 * @param {Element} target The target element to check.
 * @return {boolean} True if the target element is a child of root.
 * @private
 */
IntersectionObserver.prototype._rootContainsTarget = function(target) {
  return containsDeep(this.root || document, target);
};


/**
 * Adds the instance to the global IntersectionObserver registry if it isn't
 * already present.
 * @private
 */
IntersectionObserver.prototype._registerInstance = function() {
  if (registry.indexOf(this) < 0) {
    registry.push(this);
  }
};


/**
 * Removes the instance from the global IntersectionObserver registry.
 * @private
 */
IntersectionObserver.prototype._unregisterInstance = function() {
  var index = registry.indexOf(this);
  if (index != -1) registry.splice(index, 1);
};


/**
 * Returns the result of the performance.now() method or null in browsers
 * that don't support the API.
 * @return {number} The elapsed time since the page was requested.
 */
function now() {
  return window.performance && performance.now && performance.now();
}


/**
 * Throttles a function and delays its execution, so it's only called at most
 * once within a given time period.
 * @param {Function} fn The function to throttle.
 * @param {number} timeout The amount of time that must pass before the
 *     function can be called again.
 * @return {Function} The throttled function.
 */
function throttle(fn, timeout) {
  var timer = null;
  return function () {
    if (!timer) {
      timer = setTimeout(function() {
        fn();
        timer = null;
      }, timeout);
    }
  };
}


/**
 * Adds an event handler to a DOM node ensuring cross-browser compatibility.
 * @param {Node} node The DOM node to add the event handler to.
 * @param {string} event The event name.
 * @param {Function} fn The event handler to add.
 * @param {boolean} opt_useCapture Optionally adds the even to the capture
 *     phase. Note: this only works in modern browsers.
 */
function addEvent(node, event, fn, opt_useCapture) {
  if (typeof node.addEventListener == 'function') {
    node.addEventListener(event, fn, opt_useCapture || false);
  }
  else if (typeof node.attachEvent == 'function') {
    node.attachEvent('on' + event, fn);
  }
}


/**
 * Removes a previously added event handler from a DOM node.
 * @param {Node} node The DOM node to remove the event handler from.
 * @param {string} event The event name.
 * @param {Function} fn The event handler to remove.
 * @param {boolean} opt_useCapture If the event handler was added with this
 *     flag set to true, it should be set to true here in order to remove it.
 */
function removeEvent(node, event, fn, opt_useCapture) {
  if (typeof node.removeEventListener == 'function') {
    node.removeEventListener(event, fn, opt_useCapture || false);
  }
  else if (typeof node.detatchEvent == 'function') {
    node.detatchEvent('on' + event, fn);
  }
}


/**
 * Returns the intersection between two rect objects.
 * @param {Object} rect1 The first rect.
 * @param {Object} rect2 The second rect.
 * @return {?Object} The intersection rect or undefined if no intersection
 *     is found.
 */
function computeRectIntersection(rect1, rect2) {
  var top = Math.max(rect1.top, rect2.top);
  var bottom = Math.min(rect1.bottom, rect2.bottom);
  var left = Math.max(rect1.left, rect2.left);
  var right = Math.min(rect1.right, rect2.right);
  var width = right - left;
  var height = bottom - top;

  return (width >= 0 && height >= 0) && {
    top: top,
    bottom: bottom,
    left: left,
    right: right,
    width: width,
    height: height
  };
}


/**
 * Shims the native getBoundingClientRect for compatibility with older IE.
 * @param {Element} el The element whose bounding rect to get.
 * @return {Object} The (possibly shimmed) rect of the element.
 */
function getBoundingClientRect(el) {
  var rect;

  try {
    rect = el.getBoundingClientRect();
  } catch (err) {
    // Ignore Windows 7 IE11 "Unspecified error"
    // https://github.com/w3c/IntersectionObserver/pull/205
  }

  if (!rect) return getEmptyRect();

  // Older IE
  if (!(rect.width && rect.height)) {
    rect = {
      top: rect.top,
      right: rect.right,
      bottom: rect.bottom,
      left: rect.left,
      width: rect.right - rect.left,
      height: rect.bottom - rect.top
    };
  }
  return rect;
}


/**
 * Returns an empty rect object. An empty rect is returned when an element
 * is not in the DOM.
 * @return {Object} The empty rect.
 */
function getEmptyRect() {
  return {
    top: 0,
    bottom: 0,
    left: 0,
    right: 0,
    width: 0,
    height: 0
  };
}

/**
 * Checks to see if a parent element contains a child element (including inside
 * shadow DOM).
 * @param {Node} parent The parent element.
 * @param {Node} child The child element.
 * @return {boolean} True if the parent node contains the child node.
 */
function containsDeep(parent, child) {
  var node = child;
  while (node) {
    if (node == parent) return true;

    node = getParentNode(node);
  }
  return false;
}


/**
 * Gets the parent node of an element or its host element if the parent node
 * is a shadow root.
 * @param {Node} node The node whose parent to get.
 * @return {Node|null} The parent node or null if no parent exists.
 */
function getParentNode(node) {
  var parent = node.parentNode;

  if (parent && parent.nodeType == 11 && parent.host) {
    // If the parent is a shadow root, return the host element.
    return parent.host;
  }

  if (parent && parent.assignedSlot) {
    // If the parent is distributed in a <slot>, return the parent of a slot.
    return parent.assignedSlot.parentNode;
  }

  return parent;
}


// Exposes the constructors globally.
window.IntersectionObserver = IntersectionObserver;
window.IntersectionObserverEntry = IntersectionObserverEntry;

}());

/**!

 @license
 handlebars v4.7.3

Copyright (C) 2011-2019 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
!function(a,b){a.Handlebars=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";function d(){var a=r();return a.compile=function(b,c){return k.compile(b,c,a)},a.precompile=function(b,c){return k.precompile(b,c,a)},a.AST=i["default"],a.Compiler=k.Compiler,a.JavaScriptCompiler=m["default"],a.Parser=j.parser,a.parse=j.parse,a.parseWithoutProcessing=j.parseWithoutProcessing,a}var e=c(1)["default"];b.__esModule=!0;var f=c(2),g=e(f),h=c(45),i=e(h),j=c(46),k=c(51),l=c(52),m=e(l),n=c(49),o=e(n),p=c(44),q=e(p),r=g["default"].create,s=d();s.create=d,q["default"](s),s.Visitor=o["default"],s["default"]=s,b["default"]=s,a.exports=b["default"]},function(a,b){"use strict";b["default"]=function(a){return a&&a.__esModule?a:{"default":a}},b.__esModule=!0},function(a,b,c){"use strict";function d(){var a=new h.HandlebarsEnvironment;return n.extend(a,h),a.SafeString=j["default"],a.Exception=l["default"],a.Utils=n,a.escapeExpression=n.escapeExpression,a.VM=p,a.template=function(b){return p.template(b,a)},a}var e=c(3)["default"],f=c(1)["default"];b.__esModule=!0;var g=c(4),h=e(g),i=c(37),j=f(i),k=c(6),l=f(k),m=c(5),n=e(m),o=c(38),p=e(o),q=c(44),r=f(q),s=d();s.create=d,r["default"](s),s["default"]=s,b["default"]=s,a.exports=b["default"]},function(a,b){"use strict";b["default"]=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b},b.__esModule=!0},function(a,b,c){"use strict";function d(a,b,c){this.helpers=a||{},this.partials=b||{},this.decorators=c||{},i.registerDefaultHelpers(this),j.registerDefaultDecorators(this)}var e=c(1)["default"];b.__esModule=!0,b.HandlebarsEnvironment=d;var f=c(5),g=c(6),h=e(g),i=c(10),j=c(30),k=c(32),l=e(k),m=c(33),n="4.7.3";b.VERSION=n;var o=8;b.COMPILER_REVISION=o;var p=7;b.LAST_COMPATIBLE_COMPILER_REVISION=p;var q={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};b.REVISION_CHANGES=q;var r="[object Object]";d.prototype={constructor:d,logger:l["default"],log:l["default"].log,registerHelper:function(a,b){if(f.toString.call(a)===r){if(b)throw new h["default"]("Arg not supported with multiple helpers");f.extend(this.helpers,a)}else this.helpers[a]=b},unregisterHelper:function(a){delete this.helpers[a]},registerPartial:function(a,b){if(f.toString.call(a)===r)f.extend(this.partials,a);else{if("undefined"==typeof b)throw new h["default"]('Attempting to register a partial called "'+a+'" as undefined');this.partials[a]=b}},unregisterPartial:function(a){delete this.partials[a]},registerDecorator:function(a,b){if(f.toString.call(a)===r){if(b)throw new h["default"]("Arg not supported with multiple decorators");f.extend(this.decorators,a)}else this.decorators[a]=b},unregisterDecorator:function(a){delete this.decorators[a]},resetLoggedPropertyAccesses:function(){m.resetLoggedProperties()}};var s=l["default"].log;b.log=s,b.createFrame=f.createFrame,b.logger=l["default"]},function(a,b){"use strict";function c(a){return k[a]}function d(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],c)&&(a[c]=arguments[b][c]);return a}function e(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1}function f(a){if("string"!=typeof a){if(a&&a.toHTML)return a.toHTML();if(null==a)return"";if(!a)return a+"";a=""+a}return m.test(a)?a.replace(l,c):a}function g(a){return!a&&0!==a||!(!p(a)||0!==a.length)}function h(a){var b=d({},a);return b._parent=a,b}function i(a,b){return a.path=b,a}function j(a,b){return(a?a+".":"")+b}b.__esModule=!0,b.extend=d,b.indexOf=e,b.escapeExpression=f,b.isEmpty=g,b.createFrame=h,b.blockParams=i,b.appendContextPath=j;var k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},l=/[&<>"'`=]/g,m=/[&<>"'`=]/,n=Object.prototype.toString;b.toString=n;var o=function(a){return"function"==typeof a};o(/x/)&&(b.isFunction=o=function(a){return"function"==typeof a&&"[object Function]"===n.call(a)}),b.isFunction=o;var p=Array.isArray||function(a){return!(!a||"object"!=typeof a)&&"[object Array]"===n.call(a)};b.isArray=p},function(a,b,c){"use strict";function d(a,b){var c=b&&b.loc,g=void 0,h=void 0,i=void 0,j=void 0;c&&(g=c.start.line,h=c.end.line,i=c.start.column,j=c.end.column,a+=" - "+g+":"+i);for(var k=Error.prototype.constructor.call(this,a),l=0;l<f.length;l++)this[f[l]]=k[f[l]];Error.captureStackTrace&&Error.captureStackTrace(this,d);try{c&&(this.lineNumber=g,this.endLineNumber=h,e?(Object.defineProperty(this,"column",{value:i,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:j,enumerable:!0})):(this.column=i,this.endColumn=j))}catch(m){}}var e=c(7)["default"];b.__esModule=!0;var f=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];d.prototype=new Error,b["default"]=d,a.exports=b["default"]},function(a,b,c){a.exports={"default":c(8),__esModule:!0}},function(a,b,c){var d=c(9);a.exports=function(a,b,c){return d.setDesc(a,b,c)}},function(a,b){var c=Object;a.exports={create:c.create,getProto:c.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:c.getOwnPropertyDescriptor,setDesc:c.defineProperty,setDescs:c.defineProperties,getKeys:c.keys,getNames:c.getOwnPropertyNames,getSymbols:c.getOwnPropertySymbols,each:[].forEach}},function(a,b,c){"use strict";function d(a){h["default"](a),j["default"](a),l["default"](a),n["default"](a),p["default"](a),r["default"](a),t["default"](a)}function e(a,b,c){a.helpers[b]&&(a.hooks[b]=a.helpers[b],c||delete a.helpers[b])}var f=c(1)["default"];b.__esModule=!0,b.registerDefaultHelpers=d,b.moveHelperToHooks=e;var g=c(11),h=f(g),i=c(12),j=f(i),k=c(25),l=f(k),m=c(26),n=f(m),o=c(27),p=f(o),q=c(28),r=f(q),s=c(29),t=f(s)},function(a,b,c){"use strict";b.__esModule=!0;var d=c(5);b["default"]=function(a){a.registerHelper("blockHelperMissing",function(b,c){var e=c.inverse,f=c.fn;if(b===!0)return f(this);if(b===!1||null==b)return e(this);if(d.isArray(b))return b.length>0?(c.ids&&(c.ids=[c.name]),a.helpers.each(b,c)):e(this);if(c.data&&c.ids){var g=d.createFrame(c.data);g.contextPath=d.appendContextPath(c.data.contextPath,c.name),c={data:g}}return f(b,c)})},a.exports=b["default"]},function(a,b,c){(function(d){"use strict";var e=c(13)["default"],f=c(1)["default"];b.__esModule=!0;var g=c(5),h=c(6),i=f(h);b["default"]=function(a){a.registerHelper("each",function(a,b){function c(b,c,d){l&&(l.key=b,l.index=c,l.first=0===c,l.last=!!d,m&&(l.contextPath=m+b)),k+=f(a[b],{data:l,blockParams:g.blockParams([a[b],b],[m+b,null])})}if(!b)throw new i["default"]("Must pass iterator to #each");var f=b.fn,h=b.inverse,j=0,k="",l=void 0,m=void 0;if(b.data&&b.ids&&(m=g.appendContextPath(b.data.contextPath,b.ids[0])+"."),g.isFunction(a)&&(a=a.call(this)),b.data&&(l=g.createFrame(b.data)),a&&"object"==typeof a)if(g.isArray(a))for(var n=a.length;j<n;j++)j in a&&c(j,j,j===a.length-1);else if(d.Symbol&&a[d.Symbol.iterator]){for(var o=[],p=a[d.Symbol.iterator](),q=p.next();!q.done;q=p.next())o.push(q.value);a=o;for(var n=a.length;j<n;j++)c(j,j,j===a.length-1)}else!function(){var b=void 0;e(a).forEach(function(a){void 0!==b&&c(b,j-1),b=a,j++}),void 0!==b&&c(b,j-1,!0)}();return 0===j&&(k=h(this)),k})},a.exports=b["default"]}).call(b,function(){return this}())},function(a,b,c){a.exports={"default":c(14),__esModule:!0}},function(a,b,c){c(15),a.exports=c(21).Object.keys},function(a,b,c){var d=c(16);c(18)("keys",function(a){return function(b){return a(d(b))}})},function(a,b,c){var d=c(17);a.exports=function(a){return Object(d(a))}},function(a,b){a.exports=function(a){if(void 0==a)throw TypeError("Can't call method on  "+a);return a}},function(a,b,c){var d=c(19),e=c(21),f=c(24);a.exports=function(a,b){var c=(e.Object||{})[a]||Object[a],g={};g[a]=b(c),d(d.S+d.F*f(function(){c(1)}),"Object",g)}},function(a,b,c){var d=c(20),e=c(21),f=c(22),g="prototype",h=function(a,b,c){var i,j,k,l=a&h.F,m=a&h.G,n=a&h.S,o=a&h.P,p=a&h.B,q=a&h.W,r=m?e:e[b]||(e[b]={}),s=m?d:n?d[b]:(d[b]||{})[g];m&&(c=b);for(i in c)j=!l&&s&&i in s,j&&i in r||(k=j?s[i]:c[i],r[i]=m&&"function"!=typeof s[i]?c[i]:p&&j?f(k,d):q&&s[i]==k?function(a){var b=function(b){return this instanceof a?new a(b):a(b)};return b[g]=a[g],b}(k):o&&"function"==typeof k?f(Function.call,k):k,o&&((r[g]||(r[g]={}))[i]=k))};h.F=1,h.G=2,h.S=4,h.P=8,h.B=16,h.W=32,a.exports=h},function(a,b){var c=a.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=c)},function(a,b){var c=a.exports={version:"1.2.6"};"number"==typeof __e&&(__e=c)},function(a,b,c){var d=c(23);a.exports=function(a,b,c){if(d(a),void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)}}return function(){return a.apply(b,arguments)}}},function(a,b){a.exports=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a}},function(a,b){a.exports=function(a){try{return!!a()}catch(b){return!0}}},function(a,b,c){"use strict";var d=c(1)["default"];b.__esModule=!0;var e=c(6),f=d(e);b["default"]=function(a){a.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new f["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},a.exports=b["default"]},function(a,b,c){"use strict";var d=c(1)["default"];b.__esModule=!0;var e=c(5),f=c(6),g=d(f);b["default"]=function(a){a.registerHelper("if",function(a,b){if(2!=arguments.length)throw new g["default"]("#if requires exactly one argument");return e.isFunction(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||e.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper("unless",function(b,c){if(2!=arguments.length)throw new g["default"]("#unless requires exactly one argument");return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})})},a.exports=b["default"]},function(a,b){"use strict";b.__esModule=!0,b["default"]=function(a){a.registerHelper("log",function(){for(var b=[void 0],c=arguments[arguments.length-1],d=0;d<arguments.length-1;d++)b.push(arguments[d]);var e=1;null!=c.hash.level?e=c.hash.level:c.data&&null!=c.data.level&&(e=c.data.level),b[0]=e,a.log.apply(a,b)})},a.exports=b["default"]},function(a,b){"use strict";b.__esModule=!0,b["default"]=function(a){a.registerHelper("lookup",function(a,b,c){return a?c.lookupProperty(a,b):a})},a.exports=b["default"]},function(a,b,c){"use strict";var d=c(1)["default"];b.__esModule=!0;var e=c(5),f=c(6),g=d(f);b["default"]=function(a){a.registerHelper("with",function(a,b){if(2!=arguments.length)throw new g["default"]("#with requires exactly one argument");e.isFunction(a)&&(a=a.call(this));var c=b.fn;if(e.isEmpty(a))return b.inverse(this);var d=b.data;return b.data&&b.ids&&(d=e.createFrame(b.data),d.contextPath=e.appendContextPath(b.data.contextPath,b.ids[0])),c(a,{data:d,blockParams:e.blockParams([a],[d&&d.contextPath])})})},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){g["default"](a)}var e=c(1)["default"];b.__esModule=!0,b.registerDefaultDecorators=d;var f=c(31),g=e(f)},function(a,b,c){"use strict";b.__esModule=!0;var d=c(5);b["default"]=function(a){a.registerDecorator("inline",function(a,b,c,e){var f=a;return b.partials||(b.partials={},f=function(e,f){var g=c.partials;c.partials=d.extend({},g,b.partials);var h=a(e,f);return c.partials=g,h}),b.partials[e.args[0]]=e.fn,f})},a.exports=b["default"]},function(a,b,c){"use strict";b.__esModule=!0;var d=c(5),e={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(a){if("string"==typeof a){var b=d.indexOf(e.methodMap,a.toLowerCase());a=b>=0?b:parseInt(a,10)}return a},log:function(a){if(a=e.lookupLevel(a),"undefined"!=typeof console&&e.lookupLevel(e.level)<=a){var b=e.methodMap[a];console[b]||(b="log");for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];console[b].apply(console,d)}}};b["default"]=e,a.exports=b["default"]},function(a,b,c){"use strict";function d(a){var b=i(null);b.constructor=!1,b.__defineGetter__=!1,b.__defineSetter__=!1,b.__lookupGetter__=!1;var c=i(null);return c.__proto__=!1,{properties:{whitelist:l.createNewLookupObject(c,a.allowedProtoProperties),defaultValue:a.allowProtoPropertiesByDefault},methods:{whitelist:l.createNewLookupObject(b,a.allowedProtoMethods),defaultValue:a.allowProtoMethodsByDefault}}}function e(a,b,c){return"function"==typeof a?f(b.methods,c):f(b.properties,c)}function f(a,b){return void 0!==a.whitelist[b]?a.whitelist[b]===!0:void 0!==a.defaultValue?a.defaultValue:(g(b),!1)}function g(a){o[a]!==!0&&(o[a]=!0,n.log("error",'Handlebars: Access has been denied to resolve the property "'+a+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}function h(){j(o).forEach(function(a){delete o[a]})}var i=c(34)["default"],j=c(13)["default"],k=c(3)["default"];b.__esModule=!0,b.createProtoAccessControl=d,b.resultIsAllowed=e,b.resetLoggedProperties=h;var l=c(36),m=c(32),n=k(m),o=i(null)},function(a,b,c){a.exports={"default":c(35),__esModule:!0}},function(a,b,c){var d=c(9);a.exports=function(a,b){return d.create(a,b)}},function(a,b,c){"use strict";function d(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return f.extend.apply(void 0,[e(null)].concat(b))}var e=c(34)["default"];b.__esModule=!0,b.createNewLookupObject=d;var f=c(5)},function(a,b){"use strict";function c(a){this.string=a}b.__esModule=!0,c.prototype.toString=c.prototype.toHTML=function(){return""+this.string},b["default"]=c,a.exports=b["default"]},function(a,b,c){"use strict";function d(a){var b=a&&a[0]||1,c=v.COMPILER_REVISION;if(!(b>=v.LAST_COMPATIBLE_COMPILER_REVISION&&b<=v.COMPILER_REVISION)){if(b<v.LAST_COMPATIBLE_COMPILER_REVISION){var d=v.REVISION_CHANGES[c],e=v.REVISION_CHANGES[b];throw new u["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+d+") or downgrade your runtime to an older version ("+e+").")}throw new u["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").")}}function e(a,b){function c(c,d,e){e.hash&&(d=s.extend({},d,e.hash),e.ids&&(e.ids[0]=!0)),c=b.VM.resolvePartial.call(this,c,d,e);var f=s.extend({},e,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),g=b.VM.invokePartial.call(this,c,d,f);if(null==g&&b.compile&&(e.partials[e.name]=b.compile(c,a.compilerOptions,b),g=e.partials[e.name](d,f)),null!=g){if(e.indent){for(var h=g.split("\n"),i=0,j=h.length;i<j&&(h[i]||i+1!==j);i++)h[i]=e.indent+h[i];g=h.join("\n")}return g}throw new u["default"]("The partial "+e.name+" could not be compiled when running in runtime-only mode")}function d(b){function c(b){return""+a.main(g,b,g.helpers,g.partials,f,i,h)}var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],f=e.data;d._setup(e),!e.partial&&a.useData&&(f=j(b,f));var h=void 0,i=a.useBlockParams?[]:void 0;return a.useDepths&&(h=e.depths?b!=e.depths[0]?[b].concat(e.depths):e.depths:[b]),(c=k(a.main,c,g,e.depths||[],f,i))(b,e)}if(!b)throw new u["default"]("No environment passed to template");if(!a||!a.main)throw new u["default"]("Unknown template object: "+typeof a);a.main.decorator=a.main_d,b.VM.checkRevision(a.compiler);var e=a.compiler&&7===a.compiler[0],g={strict:function(a,b,c){if(!(a&&b in a))throw new u["default"]('"'+b+'" not defined in '+a,{loc:c});return a[b]},lookupProperty:function(a,b){var c=a[b];return null==c?c:Object.prototype.hasOwnProperty.call(a,b)?c:y.resultIsAllowed(c,g.protoAccessControl,b)?c:void 0},lookup:function(a,b){for(var c=a.length,d=0;d<c;d++){var e=a[d]&&g.lookupProperty(a[d],b);if(null!=e)return a[d][b]}},lambda:function(a,b){return"function"==typeof a?a.call(b):a},escapeExpression:s.escapeExpression,invokePartial:c,fn:function(b){var c=a[b];return c.decorator=a[b+"_d"],c},programs:[],program:function(a,b,c,d,e){var g=this.programs[a],h=this.fn(a);return b||e||d||c?g=f(this,a,h,b,c,d,e):g||(g=this.programs[a]=f(this,a,h)),g},data:function(a,b){for(;a&&b--;)a=a._parent;return a},mergeIfNeeded:function(a,b){var c=a||b;return a&&b&&a!==b&&(c=s.extend({},b,a)),c},nullContext:n({}),noop:b.VM.noop,compilerInfo:a.compiler};return d.isTop=!0,d._setup=function(c){if(c.partial)g.protoAccessControl=c.protoAccessControl,g.helpers=c.helpers,g.partials=c.partials,g.decorators=c.decorators,g.hooks=c.hooks;else{var d=s.extend({},b.helpers,c.helpers);l(d,g),g.helpers=d,a.usePartial&&(g.partials=g.mergeIfNeeded(c.partials,b.partials)),(a.usePartial||a.useDecorators)&&(g.decorators=s.extend({},b.decorators,c.decorators)),g.hooks={},g.protoAccessControl=y.createProtoAccessControl(c);var f=c.allowCallsToHelperMissing||e;w.moveHelperToHooks(g,"helperMissing",f),w.moveHelperToHooks(g,"blockHelperMissing",f)}},d._child=function(b,c,d,e){if(a.useBlockParams&&!d)throw new u["default"]("must pass block params");if(a.useDepths&&!e)throw new u["default"]("must pass parent depths");return f(g,b,a[b],c,0,d,e)},d}function f(a,b,c,d,e,f,g){function h(b){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],h=g;return!g||b==g[0]||b===a.nullContext&&null===g[0]||(h=[b].concat(g)),c(a,b,a.helpers,a.partials,e.data||d,f&&[e.blockParams].concat(f),h)}return h=k(c,h,a,g,d,f),h.program=b,h.depth=g?g.length:0,h.blockParams=e||0,h}function g(a,b,c){return a?a.call||c.name||(c.name=a,a=c.partials[a]):a="@partial-block"===c.name?c.data["partial-block"]:c.partials[c.name],a}function h(a,b,c){var d=c.data&&c.data["partial-block"];c.partial=!0,c.ids&&(c.data.contextPath=c.ids[0]||c.data.contextPath);var e=void 0;if(c.fn&&c.fn!==i&&!function(){c.data=v.createFrame(c.data);var a=c.fn;e=c.data["partial-block"]=function(b){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return c.data=v.createFrame(c.data),c.data["partial-block"]=d,a(b,c)},a.partials&&(c.partials=s.extend({},c.partials,a.partials))}(),void 0===a&&e&&(a=e),void 0===a)throw new u["default"]("The partial "+c.name+" could not be found");if(a instanceof Function)return a(b,c)}function i(){return""}function j(a,b){return b&&"root"in b||(b=b?v.createFrame(b):{},b.root=a),b}function k(a,b,c,d,e,f){if(a.decorator){var g={};b=a.decorator(b,g,c,d&&d[0],e,f,d),s.extend(b,g)}return b}function l(a,b){o(a).forEach(function(c){var d=a[c];a[c]=m(d,b)})}function m(a,b){var c=b.lookupProperty;return x.wrapHelper(a,function(a){return s.extend({lookupProperty:c},a)})}var n=c(39)["default"],o=c(13)["default"],p=c(3)["default"],q=c(1)["default"];b.__esModule=!0,b.checkRevision=d,b.template=e,b.wrapProgram=f,b.resolvePartial=g,b.invokePartial=h,b.noop=i;var r=c(5),s=p(r),t=c(6),u=q(t),v=c(4),w=c(10),x=c(43),y=c(33)},function(a,b,c){a.exports={"default":c(40),__esModule:!0}},function(a,b,c){c(41),a.exports=c(21).Object.seal},function(a,b,c){var d=c(42);c(18)("seal",function(a){return function(b){return a&&d(b)?a(b):b}})},function(a,b){a.exports=function(a){return"object"==typeof a?null!==a:"function"==typeof a}},function(a,b){"use strict";function c(a,b){if("function"!=typeof a)return a;var c=function(){var c=arguments[arguments.length-1];return arguments[arguments.length-1]=b(c),a.apply(this,arguments)};return c}b.__esModule=!0,b.wrapHelper=c},function(a,b){(function(c){"use strict";b.__esModule=!0,b["default"]=function(a){var b="undefined"!=typeof c?c:window,d=b.Handlebars;a.noConflict=function(){return b.Handlebars===a&&(b.Handlebars=d),a}},a.exports=b["default"]}).call(b,function(){return this}())},function(a,b){"use strict";b.__esModule=!0;var c={helpers:{helperExpression:function(a){return"SubExpression"===a.type||("MustacheStatement"===a.type||"BlockStatement"===a.type)&&!!(a.params&&a.params.length||a.hash)},scopedId:function(a){return/^\.|this\b/.test(a.original)},simpleId:function(a){return 1===a.parts.length&&!c.helpers.scopedId(a)&&!a.depth}}};b["default"]=c,a.exports=b["default"]},function(a,b,c){"use strict";function d(a,b){if("Program"===a.type)return a;i["default"].yy=o,o.locInfo=function(a){return new o.SourceLocation(b&&b.srcName,a)};var c=i["default"].parse(a);return c}function e(a,b){var c=d(a,b),e=new k["default"](b);return e.accept(c)}var f=c(1)["default"],g=c(3)["default"];b.__esModule=!0,b.parseWithoutProcessing=d,b.parse=e;var h=c(47),i=f(h),j=c(48),k=f(j),l=c(50),m=g(l),n=c(5);b.parser=i["default"];var o={};n.extend(o,m)},function(a,b){"use strict";b.__esModule=!0;var c=function(){function a(){this.yy={}}var b={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(a,b,c,d,e,f,g){var h=f.length-1;switch(e){case 1:return f[h-1];case 2:this.$=d.prepareProgram(f[h]);break;case 3:this.$=f[h];break;case 4:this.$=f[h];break;case 5:this.$=f[h];break;case 6:this.$=f[h];break;case 7:this.$=f[h];break;case 8:this.$=f[h];break;case 9:this.$={type:"CommentStatement",value:d.stripComment(f[h]),strip:d.stripFlags(f[h],f[h]),loc:d.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:f[h],value:f[h],loc:d.locInfo(this._$)};break;case 11:this.$=d.prepareRawBlock(f[h-2],f[h-1],f[h],this._$);break;case 12:this.$={path:f[h-3],params:f[h-2],hash:f[h-1]};break;case 13:this.$=d.prepareBlock(f[h-3],f[h-2],f[h-1],f[h],!1,this._$);break;case 14:this.$=d.prepareBlock(f[h-3],f[h-2],f[h-1],f[h],!0,this._$);break;case 15:this.$={open:f[h-5],path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 16:this.$={path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 17:this.$={path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 18:this.$={strip:d.stripFlags(f[h-1],f[h-1]),program:f[h]};break;case 19:var i=d.prepareBlock(f[h-2],f[h-1],f[h],f[h],!1,this._$),j=d.prepareProgram([i],f[h-1].loc);j.chained=!0,this.$={strip:f[h-2].strip,program:j,chain:!0};break;case 20:this.$=f[h];break;case 21:this.$={path:f[h-1],strip:d.stripFlags(f[h-2],f[h])};break;case 22:this.$=d.prepareMustache(f[h-3],f[h-2],f[h-1],f[h-4],d.stripFlags(f[h-4],f[h]),this._$);break;case 23:this.$=d.prepareMustache(f[h-3],f[h-2],f[h-1],f[h-4],d.stripFlags(f[h-4],f[h]),this._$);break;case 24:this.$={type:"PartialStatement",name:f[h-3],params:f[h-2],hash:f[h-1],indent:"",strip:d.stripFlags(f[h-4],f[h]),loc:d.locInfo(this._$)};break;case 25:this.$=d.preparePartialBlock(f[h-2],f[h-1],f[h],this._$);break;case 26:this.$={path:f[h-3],params:f[h-2],hash:f[h-1],strip:d.stripFlags(f[h-4],f[h])};break;case 27:this.$=f[h];break;case 28:this.$=f[h];break;case 29:this.$={type:"SubExpression",path:f[h-3],params:f[h-2],hash:f[h-1],loc:d.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:f[h],loc:d.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:d.id(f[h-2]),value:f[h],loc:d.locInfo(this._$)};break;case 32:this.$=d.id(f[h-1]);break;case 33:this.$=f[h];break;case 34:this.$=f[h];break;case 35:this.$={type:"StringLiteral",value:f[h],original:f[h],loc:d.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(f[h]),original:Number(f[h]),loc:d.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===f[h],original:"true"===f[h],loc:d.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:d.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:d.locInfo(this._$)};break;case 40:this.$=f[h];break;case 41:this.$=f[h];break;case 42:this.$=d.preparePath(!0,f[h],this._$);break;case 43:this.$=d.preparePath(!1,f[h],this._$);break;case 44:f[h-2].push({part:d.id(f[h]),original:f[h],separator:f[h-1]}),this.$=f[h-2];break;case 45:this.$=[{part:d.id(f[h]),original:f[h]}];break;case 46:this.$=[];break;case 47:f[h-1].push(f[h]);break;case 48:this.$=[];break;case 49:f[h-1].push(f[h]);break;case 50:this.$=[];break;case 51:f[h-1].push(f[h]);break;case 58:this.$=[];break;case 59:f[h-1].push(f[h]);break;case 64:this.$=[];break;case 65:f[h-1].push(f[h]);break;case 70:this.$=[];break;case 71:f[h-1].push(f[h]);break;case 78:this.$=[];break;case 79:f[h-1].push(f[h]);break;case 82:this.$=[];break;case 83:f[h-1].push(f[h]);break;case 86:this.$=[];break;case 87:f[h-1].push(f[h]);break;case 90:this.$=[];break;case 91:f[h-1].push(f[h]);break;case 94:this.$=[];break;case 95:f[h-1].push(f[h]);break;case 98:this.$=[f[h]];break;case 99:f[h-1].push(f[h]);break;case 100:this.$=[f[h]];break;case 101:f[h-1].push(f[h])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],
72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(a,b){throw new Error(a)},parse:function(a){function b(){var a;return a=c.lexer.lex()||1,"number"!=typeof a&&(a=c.symbols_[a]||a),a}var c=this,d=[0],e=[null],f=[],g=this.table,h="",i=0,j=0,k=0;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var l=this.lexer.yylloc;f.push(l);var m=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var n,o,p,q,r,s,t,u,v,w={};;){if(p=d[d.length-1],this.defaultActions[p]?q=this.defaultActions[p]:(null!==n&&"undefined"!=typeof n||(n=b()),q=g[p]&&g[p][n]),"undefined"==typeof q||!q.length||!q[0]){var x="";if(!k){v=[];for(s in g[p])this.terminals_[s]&&s>2&&v.push("'"+this.terminals_[s]+"'");x=this.lexer.showPosition?"Parse error on line "+(i+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+v.join(", ")+", got '"+(this.terminals_[n]||n)+"'":"Parse error on line "+(i+1)+": Unexpected "+(1==n?"end of input":"'"+(this.terminals_[n]||n)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[n]||n,line:this.lexer.yylineno,loc:l,expected:v})}}if(q[0]instanceof Array&&q.length>1)throw new Error("Parse Error: multiple actions possible at state: "+p+", token: "+n);switch(q[0]){case 1:d.push(n),e.push(this.lexer.yytext),f.push(this.lexer.yylloc),d.push(q[1]),n=null,o?(n=o,o=null):(j=this.lexer.yyleng,h=this.lexer.yytext,i=this.lexer.yylineno,l=this.lexer.yylloc,k>0&&k--);break;case 2:if(t=this.productions_[q[1]][1],w.$=e[e.length-t],w._$={first_line:f[f.length-(t||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(t||1)].first_column,last_column:f[f.length-1].last_column},m&&(w._$.range=[f[f.length-(t||1)].range[0],f[f.length-1].range[1]]),r=this.performAction.call(w,h,j,i,this.yy,q[1],e,f),"undefined"!=typeof r)return r;t&&(d=d.slice(0,-1*t*2),e=e.slice(0,-1*t),f=f.slice(0,-1*t)),d.push(this.productions_[q[1]][0]),e.push(w.$),f.push(w._$),u=g[d[d.length-2]][d[d.length-1]],d.push(u);break;case 3:return!0}}return!0}},c=function(){var a={EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a;var b=a.match(/(?:\r\n?|\n).*/g);return b?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b-1),this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d,e;this._more||(this.yytext="",this.match="");for(var f=this._currentRules(),g=0;g<f.length&&(c=this._input.match(this.rules[f[g]]),!c||b&&!(c[0].length>b[0].length)||(b=c,d=g,this.options.flex));g++);return b?(e=b[0].match(/(?:\r\n?|\n).*/g),e&&(this.yylineno+=e.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,this.yy,this,f[d],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a?a:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!=typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return a.options={},a.performAction=function(a,b,c,d){function e(a,c){return b.yytext=b.yytext.substring(a,b.yyleng-c+a)}switch(c){case 0:if("\\\\"===b.yytext.slice(-2)?(e(0,1),this.begin("mu")):"\\"===b.yytext.slice(-1)?(e(0,1),this.begin("emu")):this.begin("mu"),b.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(e(5,9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(b.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return b.yytext=e(1,2).replace(/\\"/g,'"'),80;case 32:return b.yytext=e(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return b.yytext=b.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},a.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},a}();return b.lexer=c,a.prototype=b,b.Parser=a,new a}();b["default"]=c,a.exports=b["default"]},function(a,b,c){"use strict";function d(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=a}function e(a,b,c){void 0===b&&(b=a.length);var d=a[b-1],e=a[b-2];return d?"ContentStatement"===d.type?(e||!c?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(d.original):void 0:c}function f(a,b,c){void 0===b&&(b=-1);var d=a[b+1],e=a[b+2];return d?"ContentStatement"===d.type?(e||!c?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(d.original):void 0:c}function g(a,b,c){var d=a[null==b?0:b+1];if(d&&"ContentStatement"===d.type&&(c||!d.rightStripped)){var e=d.value;d.value=d.value.replace(c?/^\s+/:/^[ \t]*\r?\n?/,""),d.rightStripped=d.value!==e}}function h(a,b,c){var d=a[null==b?a.length-1:b-1];if(d&&"ContentStatement"===d.type&&(c||!d.leftStripped)){var e=d.value;return d.value=d.value.replace(c?/\s+$/:/[ \t]+$/,""),d.leftStripped=d.value!==e,d.leftStripped}}var i=c(1)["default"];b.__esModule=!0;var j=c(49),k=i(j);d.prototype=new k["default"],d.prototype.Program=function(a){var b=!this.options.ignoreStandalone,c=!this.isRootSeen;this.isRootSeen=!0;for(var d=a.body,i=0,j=d.length;i<j;i++){var k=d[i],l=this.accept(k);if(l){var m=e(d,i,c),n=f(d,i,c),o=l.openStandalone&&m,p=l.closeStandalone&&n,q=l.inlineStandalone&&m&&n;l.close&&g(d,i,!0),l.open&&h(d,i,!0),b&&q&&(g(d,i),h(d,i)&&"PartialStatement"===k.type&&(k.indent=/([ \t]+$)/.exec(d[i-1].original)[1])),b&&o&&(g((k.program||k.inverse).body),h(d,i)),b&&p&&(g(d,i),h((k.inverse||k.program).body))}}return a},d.prototype.BlockStatement=d.prototype.DecoratorBlock=d.prototype.PartialBlockStatement=function(a){this.accept(a.program),this.accept(a.inverse);var b=a.program||a.inverse,c=a.program&&a.inverse,d=c,i=c;if(c&&c.chained)for(d=c.body[0].program;i.chained;)i=i.body[i.body.length-1].program;var j={open:a.openStrip.open,close:a.closeStrip.close,openStandalone:f(b.body),closeStandalone:e((d||b).body)};if(a.openStrip.close&&g(b.body,null,!0),c){var k=a.inverseStrip;k.open&&h(b.body,null,!0),k.close&&g(d.body,null,!0),a.closeStrip.open&&h(i.body,null,!0),!this.options.ignoreStandalone&&e(b.body)&&f(d.body)&&(h(b.body),g(d.body))}else a.closeStrip.open&&h(b.body,null,!0);return j},d.prototype.Decorator=d.prototype.MustacheStatement=function(a){return a.strip},d.prototype.PartialStatement=d.prototype.CommentStatement=function(a){var b=a.strip||{};return{inlineStandalone:!0,open:b.open,close:b.close}},b["default"]=d,a.exports=b["default"]},function(a,b,c){"use strict";function d(){this.parents=[]}function e(a){this.acceptRequired(a,"path"),this.acceptArray(a.params),this.acceptKey(a,"hash")}function f(a){e.call(this,a),this.acceptKey(a,"program"),this.acceptKey(a,"inverse")}function g(a){this.acceptRequired(a,"name"),this.acceptArray(a.params),this.acceptKey(a,"hash")}var h=c(1)["default"];b.__esModule=!0;var i=c(6),j=h(i);d.prototype={constructor:d,mutating:!1,acceptKey:function(a,b){var c=this.accept(a[b]);if(this.mutating){if(c&&!d.prototype[c.type])throw new j["default"]('Unexpected node type "'+c.type+'" found when accepting '+b+" on "+a.type);a[b]=c}},acceptRequired:function(a,b){if(this.acceptKey(a,b),!a[b])throw new j["default"](a.type+" requires "+b)},acceptArray:function(a){for(var b=0,c=a.length;b<c;b++)this.acceptKey(a,b),a[b]||(a.splice(b,1),b--,c--)},accept:function(a){if(a){if(!this[a.type])throw new j["default"]("Unknown type: "+a.type,a);this.current&&this.parents.unshift(this.current),this.current=a;var b=this[a.type](a);return this.current=this.parents.shift(),!this.mutating||b?b:b!==!1?a:void 0}},Program:function(a){this.acceptArray(a.body)},MustacheStatement:e,Decorator:e,BlockStatement:f,DecoratorBlock:f,PartialStatement:g,PartialBlockStatement:function(a){g.call(this,a),this.acceptKey(a,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:e,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(a){this.acceptArray(a.pairs)},HashPair:function(a){this.acceptRequired(a,"value")}},b["default"]=d,a.exports=b["default"]},function(a,b,c){"use strict";function d(a,b){if(b=b.path?b.path.original:b,a.path.original!==b){var c={loc:a.path.loc};throw new q["default"](a.path.original+" doesn't match "+b,c)}}function e(a,b){this.source=a,this.start={line:b.first_line,column:b.first_column},this.end={line:b.last_line,column:b.last_column}}function f(a){return/^\[.*\]$/.test(a)?a.substring(1,a.length-1):a}function g(a,b){return{open:"~"===a.charAt(2),close:"~"===b.charAt(b.length-3)}}function h(a){return a.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function i(a,b,c){c=this.locInfo(c);for(var d=a?"@":"",e=[],f=0,g=0,h=b.length;g<h;g++){var i=b[g].part,j=b[g].original!==i;if(d+=(b[g].separator||"")+i,j||".."!==i&&"."!==i&&"this"!==i)e.push(i);else{if(e.length>0)throw new q["default"]("Invalid path: "+d,{loc:c});".."===i&&f++}}return{type:"PathExpression",data:a,depth:f,parts:e,original:d,loc:c}}function j(a,b,c,d,e,f){var g=d.charAt(3)||d.charAt(2),h="{"!==g&&"&"!==g,i=/\*/.test(d);return{type:i?"Decorator":"MustacheStatement",path:a,params:b,hash:c,escaped:h,strip:e,loc:this.locInfo(f)}}function k(a,b,c,e){d(a,c),e=this.locInfo(e);var f={type:"Program",body:b,strip:{},loc:e};return{type:"BlockStatement",path:a.path,params:a.params,hash:a.hash,program:f,openStrip:{},inverseStrip:{},closeStrip:{},loc:e}}function l(a,b,c,e,f,g){e&&e.path&&d(a,e);var h=/\*/.test(a.open);b.blockParams=a.blockParams;var i=void 0,j=void 0;if(c){if(h)throw new q["default"]("Unexpected inverse block on decorator",c);c.chain&&(c.program.body[0].closeStrip=e.strip),j=c.strip,i=c.program}return f&&(f=i,i=b,b=f),{type:h?"DecoratorBlock":"BlockStatement",path:a.path,params:a.params,hash:a.hash,program:b,inverse:i,openStrip:a.strip,inverseStrip:j,closeStrip:e&&e.strip,loc:this.locInfo(g)}}function m(a,b){if(!b&&a.length){var c=a[0].loc,d=a[a.length-1].loc;c&&d&&(b={source:c.source,start:{line:c.start.line,column:c.start.column},end:{line:d.end.line,column:d.end.column}})}return{type:"Program",body:a,strip:{},loc:b}}function n(a,b,c,e){return d(a,c),{type:"PartialBlockStatement",name:a.path,params:a.params,hash:a.hash,program:b,openStrip:a.strip,closeStrip:c&&c.strip,loc:this.locInfo(e)}}var o=c(1)["default"];b.__esModule=!0,b.SourceLocation=e,b.id=f,b.stripFlags=g,b.stripComment=h,b.preparePath=i,b.prepareMustache=j,b.prepareRawBlock=k,b.prepareBlock=l,b.prepareProgram=m,b.preparePartialBlock=n;var p=c(6),q=o(p)},function(a,b,c){"use strict";function d(){}function e(a,b,c){if(null==a||"string"!=typeof a&&"Program"!==a.type)throw new l["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+a);b=b||{},"data"in b||(b.data=!0),b.compat&&(b.useDepths=!0);var d=c.parse(a,b),e=(new c.Compiler).compile(d,b);return(new c.JavaScriptCompiler).compile(e,b)}function f(a,b,c){function d(){var d=c.parse(a,b),e=(new c.Compiler).compile(d,b),f=(new c.JavaScriptCompiler).compile(e,b,void 0,!0);return c.template(f)}function e(a,b){return f||(f=d()),f.call(this,a,b)}if(void 0===b&&(b={}),null==a||"string"!=typeof a&&"Program"!==a.type)throw new l["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+a);b=m.extend({},b),"data"in b||(b.data=!0),b.compat&&(b.useDepths=!0);var f=void 0;return e._setup=function(a){return f||(f=d()),f._setup(a)},e._child=function(a,b,c,e){return f||(f=d()),f._child(a,b,c,e)},e}function g(a,b){if(a===b)return!0;if(m.isArray(a)&&m.isArray(b)&&a.length===b.length){for(var c=0;c<a.length;c++)if(!g(a[c],b[c]))return!1;return!0}}function h(a){if(!a.path.parts){var b=a.path;a.path={type:"PathExpression",data:!1,depth:0,parts:[b.original+""],original:b.original+"",loc:b.loc}}}var i=c(34)["default"],j=c(1)["default"];b.__esModule=!0,b.Compiler=d,b.precompile=e,b.compile=f;var k=c(6),l=j(k),m=c(5),n=c(45),o=j(n),p=[].slice;d.prototype={compiler:d,equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==b)return!1;for(var c=0;c<b;c++){var d=this.opcodes[c],e=a.opcodes[c];if(d.opcode!==e.opcode||!g(d.args,e.args))return!1}b=this.children.length;for(var c=0;c<b;c++)if(!this.children[c].equals(a.children[c]))return!1;return!0},guid:0,compile:function(a,b){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=b,this.stringParams=b.stringParams,this.trackIds=b.trackIds,b.blockParams=b.blockParams||[],b.knownHelpers=m.extend(i(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},b.knownHelpers),this.accept(a)},compileProgram:function(a){var b=new this.compiler,c=b.compile(a,this.options),d=this.guid++;return this.usePartial=this.usePartial||c.usePartial,this.children[d]=c,this.useDepths=this.useDepths||c.useDepths,d},accept:function(a){if(!this[a.type])throw new l["default"]("Unknown type: "+a.type,a);this.sourceNode.unshift(a);var b=this[a.type](a);return this.sourceNode.shift(),b},Program:function(a){this.options.blockParams.unshift(a.blockParams);for(var b=a.body,c=b.length,d=0;d<c;d++)this.accept(b[d]);return this.options.blockParams.shift(),this.isSimple=1===c,this.blockParams=a.blockParams?a.blockParams.length:0,this},BlockStatement:function(a){h(a);var b=a.program,c=a.inverse;b=b&&this.compileProgram(b),c=c&&this.compileProgram(c);var d=this.classifySexpr(a);"helper"===d?this.helperSexpr(a,b,c):"simple"===d?(this.simpleSexpr(a),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("blockValue",a.path.original)):(this.ambiguousSexpr(a,b,c),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(a){var b=a.program&&this.compileProgram(a.program),c=this.setupFullMustacheParams(a,b,void 0),d=a.path;this.useDecorators=!0,this.opcode("registerDecorator",c.length,d.original)},PartialStatement:function(a){this.usePartial=!0;var b=a.program;b&&(b=this.compileProgram(a.program));var c=a.params;if(c.length>1)throw new l["default"]("Unsupported number of partial arguments: "+c.length,a);c.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):c.push({type:"PathExpression",parts:[],depth:0}));var d=a.name.original,e="SubExpression"===a.name.type;e&&this.accept(a.name),this.setupFullMustacheParams(a,b,void 0,!0);var f=a.indent||"";this.options.preventIndent&&f&&(this.opcode("appendContent",f),f=""),this.opcode("invokePartial",e,d,f),this.opcode("append")},PartialBlockStatement:function(a){this.PartialStatement(a)},MustacheStatement:function(a){this.SubExpression(a),a.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(a){this.DecoratorBlock(a)},ContentStatement:function(a){a.value&&this.opcode("appendContent",a.value)},CommentStatement:function(){},SubExpression:function(a){h(a);var b=this.classifySexpr(a);"simple"===b?this.simpleSexpr(a):"helper"===b?this.helperSexpr(a):this.ambiguousSexpr(a)},ambiguousSexpr:function(a,b,c){var d=a.path,e=d.parts[0],f=null!=b||null!=c;this.opcode("getContext",d.depth),this.opcode("pushProgram",b),this.opcode("pushProgram",c),d.strict=!0,this.accept(d),this.opcode("invokeAmbiguous",e,f)},simpleSexpr:function(a){var b=a.path;b.strict=!0,this.accept(b),this.opcode("resolvePossibleLambda")},helperSexpr:function(a,b,c){var d=this.setupFullMustacheParams(a,b,c),e=a.path,f=e.parts[0];if(this.options.knownHelpers[f])this.opcode("invokeKnownHelper",d.length,f);else{if(this.options.knownHelpersOnly)throw new l["default"]("You specified knownHelpersOnly, but used the unknown helper "+f,a);e.strict=!0,e.falsy=!0,this.accept(e),this.opcode("invokeHelper",d.length,e.original,o["default"].helpers.simpleId(e))}},PathExpression:function(a){this.addDepth(a.depth),this.opcode("getContext",a.depth);var b=a.parts[0],c=o["default"].helpers.scopedId(a),d=!a.depth&&!c&&this.blockParamIndex(b);d?this.opcode("lookupBlockParam",d,a.parts):b?a.data?(this.options.data=!0,this.opcode("lookupData",a.depth,a.parts,a.strict)):this.opcode("lookupOnContext",a.parts,a.falsy,a.strict,c):this.opcode("pushContext")},StringLiteral:function(a){this.opcode("pushString",a.value)},NumberLiteral:function(a){this.opcode("pushLiteral",a.value)},BooleanLiteral:function(a){this.opcode("pushLiteral",a.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(a){var b=a.pairs,c=0,d=b.length;for(this.opcode("pushHash");c<d;c++)this.pushParam(b[c].value);for(;c--;)this.opcode("assignToHash",b[c].key);this.opcode("popHash")},opcode:function(a){this.opcodes.push({opcode:a,args:p.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(a){a&&(this.useDepths=!0)},classifySexpr:function(a){var b=o["default"].helpers.simpleId(a.path),c=b&&!!this.blockParamIndex(a.path.parts[0]),d=!c&&o["default"].helpers.helperExpression(a),e=!c&&(d||b);if(e&&!d){var f=a.path.parts[0],g=this.options;g.knownHelpers[f]?d=!0:g.knownHelpersOnly&&(e=!1)}return d?"helper":e?"ambiguous":"simple"},pushParams:function(a){for(var b=0,c=a.length;b<c;b++)this.pushParam(a[b])},pushParam:function(a){var b=null!=a.value?a.value:a.original||"";if(this.stringParams)b.replace&&(b=b.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),a.depth&&this.addDepth(a.depth),this.opcode("getContext",a.depth||0),this.opcode("pushStringParam",b,a.type),"SubExpression"===a.type&&this.accept(a);else{if(this.trackIds){var c=void 0;if(!a.parts||o["default"].helpers.scopedId(a)||a.depth||(c=this.blockParamIndex(a.parts[0])),c){var d=a.parts.slice(1).join(".");this.opcode("pushId","BlockParam",c,d)}else b=a.original||b,b.replace&&(b=b.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",a.type,b)}this.accept(a)}},setupFullMustacheParams:function(a,b,c,d){var e=a.params;return this.pushParams(e),this.opcode("pushProgram",b),this.opcode("pushProgram",c),a.hash?this.accept(a.hash):this.opcode("emptyHash",d),e},blockParamIndex:function(a){for(var b=0,c=this.options.blockParams.length;b<c;b++){var d=this.options.blockParams[b],e=d&&m.indexOf(d,a);if(d&&e>=0)return[b,e]}}}},function(a,b,c){"use strict";function d(a){this.value=a}function e(){}function f(a,b,c,d){var e=b.popStack(),f=0,g=c.length;for(a&&g--;f<g;f++)e=b.nameLookup(e,c[f],d);return a?[b.aliasable("container.strict"),"(",e,", ",b.quotedString(c[f]),", ",JSON.stringify(b.source.currentLocation)," )"]:e}var g=c(13)["default"],h=c(1)["default"];b.__esModule=!0;var i=c(4),j=c(6),k=h(j),l=c(5),m=c(53),n=h(m);e.prototype={nameLookup:function(a,b){return this.internalNameLookup(a,b)},depthedLookup:function(a){return[this.aliasable("container.lookup"),'(depths, "',a,'")']},compilerInfo:function(){var a=i.COMPILER_REVISION,b=i.REVISION_CHANGES[a];return[a,b]},appendToBuffer:function(a,b,c){return l.isArray(a)||(a=[a]),a=this.source.wrap(a,b),this.environment.isSimple?["return ",a,";"]:c?["buffer += ",a,";"]:(a.appendToBuffer=!0,a)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(a,b){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",a,",",JSON.stringify(b),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(a,b,c,d){this.environment=a,this.options=b,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!d,this.name=this.environment.name,this.isChild=!!c,this.context=c||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(a,b),this.useDepths=this.useDepths||a.useDepths||a.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||a.useBlockParams;var e=a.opcodes,f=void 0,g=void 0,h=void 0,i=void 0;for(h=0,i=e.length;h<i;h++)f=e[h],this.source.currentLocation=f.loc,g=g||f.loc,this[f.opcode].apply(this,f.args);if(this.source.currentLocation=g,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new k["default"]("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),";\n"]),
this.decorators.push("return fn;"),d?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var j=this.createFunctionContext(d);if(this.isChild)return j;var l={compiler:this.compilerInfo(),main:j};this.decorators&&(l.main_d=this.decorators,l.useDecorators=!0);var m=this.context,n=m.programs,o=m.decorators;for(h=0,i=n.length;h<i;h++)n[h]&&(l[h]=n[h],o[h]&&(l[h+"_d"]=o[h],l.useDecorators=!0));return this.environment.usePartial&&(l.usePartial=!0),this.options.data&&(l.useData=!0),this.useDepths&&(l.useDepths=!0),this.useBlockParams&&(l.useBlockParams=!0),this.options.compat&&(l.compat=!0),d?l.compilerOptions=this.options:(l.compiler=JSON.stringify(l.compiler),this.source.currentLocation={start:{line:1,column:0}},l=this.objectLiteral(l),b.srcName?(l=l.toStringWithSourceMap({file:b.destName}),l.map=l.map&&l.map.toString()):l=l.toString()),l},preamble:function(){this.lastContext=0,this.source=new n["default"](this.options.srcName),this.decorators=new n["default"](this.options.srcName)},createFunctionContext:function(a){var b=this,c="",d=this.stackVars.concat(this.registers.list);d.length>0&&(c+=", "+d.join(", "));var e=0;g(this.aliases).forEach(function(a){var d=b.aliases[a];d.children&&d.referenceCount>1&&(c+=", alias"+ ++e+"="+a,d.children[0]="alias"+e)}),this.lookupPropertyFunctionIsUsed&&(c+=", "+this.lookupPropertyFunctionVarDeclaration());var f=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&f.push("blockParams"),this.useDepths&&f.push("depths");var h=this.mergeSource(c);return a?(f.push(h),Function.apply(this,f)):this.source.wrap(["function(",f.join(","),") {\n  ",h,"}"])},mergeSource:function(a){var b=this.environment.isSimple,c=!this.forceBuffer,d=void 0,e=void 0,f=void 0,g=void 0;return this.source.each(function(a){a.appendToBuffer?(f?a.prepend("  + "):f=a,g=a):(f&&(e?f.prepend("buffer += "):d=!0,g.add(";"),f=g=void 0),e=!0,b||(c=!1))}),c?f?(f.prepend("return "),g.add(";")):e||this.source.push('return "";'):(a+=", buffer = "+(d?"":this.initializeBuffer()),f?(f.prepend("return buffer + "),g.add(";")):this.source.push("return buffer;")),a&&this.source.prepend("var "+a.substring(2)+(d?"":";\n")),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return"\n      lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    }\n    ".trim()},blockValue:function(a){var b=this.aliasable("container.hooks.blockHelperMissing"),c=[this.contextName(0)];this.setupHelperArgs(a,0,c);var d=this.popStack();c.splice(1,0,d),this.push(this.source.functionCall(b,"call",c))},ambiguousBlockValue:function(){var a=this.aliasable("container.hooks.blockHelperMissing"),b=[this.contextName(0)];this.setupHelperArgs("",0,b,!0),this.flushInline();var c=this.topStack();b.splice(1,0,c),this.pushSource(["if (!",this.lastHelper,") { ",c," = ",this.source.functionCall(a,"call",b),"}"])},appendContent:function(a){this.pendingContent?a=this.pendingContent+a:this.pendingLocation=this.source.currentLocation,this.pendingContent=a},append:function(){if(this.isInline())this.replaceStack(function(a){return[" != null ? ",a,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var a=this.popStack();this.pushSource(["if (",a," != null) { ",this.appendToBuffer(a,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(a){this.lastContext=a},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(a,b,c,d){var e=0;d||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(a[e++])),this.resolvePath("context",a,e,b,c)},lookupBlockParam:function(a,b){this.useBlockParams=!0,this.push(["blockParams[",a[0],"][",a[1],"]"]),this.resolvePath("context",b,1)},lookupData:function(a,b,c){a?this.pushStackLiteral("container.data(data, "+a+")"):this.pushStackLiteral("data"),this.resolvePath("data",b,0,!0,c)},resolvePath:function(a,b,c,d,e){var g=this;if(this.options.strict||this.options.assumeObjects)return void this.push(f(this.options.strict&&e,this,b,a));for(var h=b.length;c<h;c++)this.replaceStack(function(e){var f=g.nameLookup(e,b[c],a);return d?[" && ",f]:[" != null ? ",f," : ",e]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(a,b){this.pushContext(),this.pushString(b),"SubExpression"!==b&&("string"==typeof a?this.pushString(a):this.pushStackLiteral(a))},emptyHash:function(a){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(a?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var a=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(a.ids)),this.stringParams&&(this.push(this.objectLiteral(a.contexts)),this.push(this.objectLiteral(a.types))),this.push(this.objectLiteral(a.values))},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},registerDecorator:function(a,b){var c=this.nameLookup("decorators",b,"decorator"),d=this.setupHelperArgs(b,a);this.decorators.push(["fn = ",this.decorators.functionCall(c,"",["fn","props","container",d])," || fn;"])},invokeHelper:function(a,b,c){var d=this.popStack(),e=this.setupHelper(a,b),f=[];c&&f.push(e.name),f.push(d),this.options.strict||f.push(this.aliasable("container.hooks.helperMissing"));var g=["(",this.itemsSeparatedBy(f,"||"),")"],h=this.source.functionCall(g,"call",e.callParams);this.push(h)},itemsSeparatedBy:function(a,b){var c=[];c.push(a[0]);for(var d=1;d<a.length;d++)c.push(b,a[d]);return c},invokeKnownHelper:function(a,b){var c=this.setupHelper(a,b);this.push(this.source.functionCall(c.name,"call",c.callParams))},invokeAmbiguous:function(a,b){this.useRegister("helper");var c=this.popStack();this.emptyHash();var d=this.setupHelper(0,a,b),e=this.lastHelper=this.nameLookup("helpers",a,"helper"),f=["(","(helper = ",e," || ",c,")"];this.options.strict||(f[0]="(helper = ",f.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",f,d.paramsInit?["),(",d.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",d.callParams)," : helper))"])},invokePartial:function(a,b,c){var d=[],e=this.setupParams(b,1,d);a&&(b=this.popStack(),delete e.name),c&&(e.indent=JSON.stringify(c)),e.helpers="helpers",e.partials="partials",e.decorators="container.decorators",a?d.unshift(b):d.unshift(this.nameLookup("partials",b,"partial")),this.options.compat&&(e.depths="depths"),e=this.objectLiteral(e),d.push(e),this.push(this.source.functionCall("container.invokePartial","",d))},assignToHash:function(a){var b=this.popStack(),c=void 0,d=void 0,e=void 0;this.trackIds&&(e=this.popStack()),this.stringParams&&(d=this.popStack(),c=this.popStack());var f=this.hash;c&&(f.contexts[a]=c),d&&(f.types[a]=d),e&&(f.ids[a]=e),f.values[a]=b},pushId:function(a,b,c){"BlockParam"===a?this.pushStackLiteral("blockParams["+b[0]+"].path["+b[1]+"]"+(c?" + "+JSON.stringify("."+c):"")):"PathExpression"===a?this.pushString(b):"SubExpression"===a?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:e,compileChildren:function(a,b){for(var c=a.children,d=void 0,e=void 0,f=0,g=c.length;f<g;f++){d=c[f],e=new this.compiler;var h=this.matchExistingProgram(d);if(null==h){this.context.programs.push("");var i=this.context.programs.length;d.index=i,d.name="program"+i,this.context.programs[i]=e.compile(d,b,this.context,!this.precompile),this.context.decorators[i]=e.decorators,this.context.environments[i]=d,this.useDepths=this.useDepths||e.useDepths,this.useBlockParams=this.useBlockParams||e.useBlockParams,d.useDepths=this.useDepths,d.useBlockParams=this.useBlockParams}else d.index=h.index,d.name="program"+h.index,this.useDepths=this.useDepths||h.useDepths,this.useBlockParams=this.useBlockParams||h.useBlockParams}},matchExistingProgram:function(a){for(var b=0,c=this.context.environments.length;b<c;b++){var d=this.context.environments[b];if(d&&d.equals(a))return d}},programExpression:function(a){var b=this.environment.children[a],c=[b.index,"data",b.blockParams];return(this.useBlockParams||this.useDepths)&&c.push("blockParams"),this.useDepths&&c.push("depths"),"container.program("+c.join(", ")+")"},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},push:function(a){return a instanceof d||(a=this.source.wrap(a)),this.inlineStack.push(a),a},pushStackLiteral:function(a){this.push(new d(a))},pushSource:function(a){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),a&&this.source.push(a)},replaceStack:function(a){var b=["("],c=void 0,e=void 0,f=void 0;if(!this.isInline())throw new k["default"]("replaceStack on non-inline");var g=this.popStack(!0);if(g instanceof d)c=[g.value],b=["(",c],f=!0;else{e=!0;var h=this.incrStack();b=["((",this.push(h)," = ",g,")"],c=this.topStack()}var i=a.call(this,c);f||this.popStack(),e&&this.stackSlot--,this.push(b.concat(i,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;this.inlineStack=[];for(var b=0,c=a.length;b<c;b++){var e=a[b];if(e instanceof d)this.compileStack.push(e);else{var f=this.incrStack();this.pushSource([f," = ",e,";"]),this.compileStack.push(f)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var b=this.isInline(),c=(b?this.inlineStack:this.compileStack).pop();if(!a&&c instanceof d)return c.value;if(!b){if(!this.stackSlot)throw new k["default"]("Invalid stack pop");this.stackSlot--}return c},topStack:function(){var a=this.isInline()?this.inlineStack:this.compileStack,b=a[a.length-1];return b instanceof d?b.value:b},contextName:function(a){return this.useDepths&&a?"depths["+a+"]":"depth"+a},quotedString:function(a){return this.source.quotedString(a)},objectLiteral:function(a){return this.source.objectLiteral(a)},aliasable:function(a){var b=this.aliases[a];return b?(b.referenceCount++,b):(b=this.aliases[a]=this.source.wrap(a),b.aliasable=!0,b.referenceCount=1,b)},setupHelper:function(a,b,c){var d=[],e=this.setupHelperArgs(b,a,d,c),f=this.nameLookup("helpers",b,"helper"),g=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:d,paramsInit:e,name:f,callParams:[g].concat(d)}},setupParams:function(a,b,c){var d={},e=[],f=[],g=[],h=!c,i=void 0;h&&(c=[]),d.name=this.quotedString(a),d.hash=this.popStack(),this.trackIds&&(d.hashIds=this.popStack()),this.stringParams&&(d.hashTypes=this.popStack(),d.hashContexts=this.popStack());var j=this.popStack(),k=this.popStack();(k||j)&&(d.fn=k||"container.noop",d.inverse=j||"container.noop");for(var l=b;l--;)i=this.popStack(),c[l]=i,this.trackIds&&(g[l]=this.popStack()),this.stringParams&&(f[l]=this.popStack(),e[l]=this.popStack());return h&&(d.args=this.source.generateArray(c)),this.trackIds&&(d.ids=this.source.generateArray(g)),this.stringParams&&(d.types=this.source.generateArray(f),d.contexts=this.source.generateArray(e)),this.options.data&&(d.data="data"),this.useBlockParams&&(d.blockParams="blockParams"),d},setupHelperArgs:function(a,b,c,d){var e=this.setupParams(a,b,c);return e.loc=JSON.stringify(this.source.currentLocation),e=this.objectLiteral(e),d?(this.useRegister("options"),c.push("options"),["options=",e]):c?(c.push(e),""):e}},function(){for(var a="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),b=e.RESERVED_WORDS={},c=0,d=a.length;c<d;c++)b[a[c]]=!0}(),e.isValidJavaScriptVariableName=function(a){return!e.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(a)},b["default"]=e,a.exports=b["default"]},function(a,b,c){"use strict";function d(a,b,c){if(g.isArray(a)){for(var d=[],e=0,f=a.length;e<f;e++)d.push(b.wrap(a[e],c));return d}return"boolean"==typeof a||"number"==typeof a?a+"":a}function e(a){this.srcFile=a,this.source=[]}var f=c(13)["default"];b.__esModule=!0;var g=c(5),h=void 0;try{}catch(i){}h||(h=function(a,b,c,d){this.src="",d&&this.add(d)},h.prototype={add:function(a){g.isArray(a)&&(a=a.join("")),this.src+=a},prepend:function(a){g.isArray(a)&&(a=a.join("")),this.src=a+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),e.prototype={isEmpty:function(){return!this.source.length},prepend:function(a,b){this.source.unshift(this.wrap(a,b))},push:function(a,b){this.source.push(this.wrap(a,b))},merge:function(){var a=this.empty();return this.each(function(b){a.add(["  ",b,"\n"])}),a},each:function(a){for(var b=0,c=this.source.length;b<c;b++)a(this.source[b])},empty:function(){var a=this.currentLocation||{start:{}};return new h(a.start.line,a.start.column,this.srcFile)},wrap:function(a){var b=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return a instanceof h?a:(a=d(a,this,b),new h(b.start.line,b.start.column,this.srcFile,a))},functionCall:function(a,b,c){return c=this.generateList(c),this.wrap([a,b?"."+b+"(":"(",c,")"])},quotedString:function(a){return'"'+(a+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(a){var b=this,c=[];f(a).forEach(function(e){var f=d(a[e],b);"undefined"!==f&&c.push([b.quotedString(e),":",f])});var e=this.generateList(c);return e.prepend("{"),e.add("}"),e},generateList:function(a){for(var b=this.empty(),c=0,e=a.length;c<e;c++)c&&b.add(","),b.add(d(a[c],this));return b},generateArray:function(a){var b=this.generateList(a);return b.prepend("["),b.add("]"),b}},b["default"]=e,a.exports=b["default"]}])});
/*!
 * currentExecutingScript
 * Get the currently executing script, regardless of its source/trigger/synchronicity. Similar to HTML5's `document.currentScript` but arguably much more useful!
 * Copyright (c) 2015 James M. Greene
 * Licensed MIT
 * https://github.com/JamesMGreene/currentExecutingScript
 * v0.1.3
 */
!function(a,b){a.currentExecutingScript=b()}(
// Current context/scope
this||window,
// Factory function to return the export
function(){
// Normalize whitespace within a string
function a(a){return a?a.replace(/^\s+$|\s+$/g,"").replace(/\s\s+/g," "):""}
// Get script object based on the `src` URL
function b(a,b){var c,d=null;if(b=b||m,"string"==typeof a&&a)for(c=b.length;c--;)if(b[c].src===a){
// NOTE: Could check if the same script URL is used by more than one `script` element
// here... but let's not. That would yield less useful results in "loose" detection. ;)
d=b[c];break}return d}
// Get script object based on the caller function's source code body (text)
function c(b,c){var d,e,f=null,g=a(b);if(c=c||m,b&&g)for(d=c.length;d--;)
// Only look at inline scripts
if(!c[d].hasAttribute("src")&&(e=a(c[d].text),-1!==e.indexOf(g))){
// If more than one match is found, don't return any
if(f){f=null;break}f=c[d]}return f}
// If there is only a single inline script on the page, return it; otherwise `null`
function d(a){var b,c,d=null;for(a=a||m,b=0,c=a.length;c>b;b++)if(!a[b].hasAttribute("src")){if(d){d=null;break}d=a[b]}return d}
// Get the currently executing script URL from an Error stack trace
function e(a,b){var c,d,f=null,g="number"==typeof b;return b=g?Math.round(b):0,"string"==typeof a&&a&&(g?c=a.match(/(data:text\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/):(c=a.match(/^(?:|[^:@]*@|.+\)@(?=data:text\/javascript|blob|http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)(data:text\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),c&&c[1]||(c=a.match(/\)@(data:text\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/))),c&&c[1]&&(b>0?(d=a.slice(a.indexOf(c[0])+c[0].length),f=e(d,b-1)):f=c[1])),f}
// Get the farthest currently executing (i.e. yes, EXECUTING) `script` DOM
// element for the caller function, regardless of whether it is that `script`
// DOM element is currently being evaluated for the first time. The farthest
// currently executing `script` DOM element would typically be considered the
// originator of the current execution stack.
function f(){/*jshint noarg:false */
// TODO: Implement!
// Fixes #3
// See https://github.com/JamesMGreene/currentExecutingScript/issues/3
return null}
// Get the originating currently executing (i.e. yes, EXECUTING) `script` DOM
// element or attribute node (e.g. `onclick`) for the caller function,
// regardless of whether it is that `script` DOM element is currently being
// evaluated for the first time. The originating currently executing `script`
// DOM element [or attribute node] is the originator of the current execution stack.
function g(){
// TODO: Implement!
// Fixes #2
// See https://github.com/JamesMGreene/currentExecutingScript/issues/2
return null}
// Get the nearest currently executing (i.e. yes, EXECUTING) `script` DOM
// element for the caller function, regardless of whether it is that `script`
// DOM element is currently being evaluated for the first time.
function h(){/*jshint noarg:false */
// Yes, this IS possible, i.e. if a script removes other scripts (or itself)
if(0===m.length)return null;var a,f,g,i,k,s=[],t=h.skipStackDepth||1,
// TODO: Implement!
// Fixes #4 in part
// See https://github.com/JamesMGreene/currentExecutingScript/issues/4
u=null;//("" + (_nearestExecutingScript.caller || "")) || null;
// This part will only help in IE 6-10.
for(a=0;a<m.length;a++)o&&n?j.test(m[a].readyState)&&s.push(m[a]):s.push(m[a]);if(f=new Error,q&&(g=f.stack),!g&&r)try{throw f}catch(v){
// NOTE: Cannot use `err.sourceURL` or `err.fileName` as they will always be THIS script
g=v.stack}if(g&&(i=e(g,t),k=b(i,s),!k&&l&&i===l&&(k=u?c(u,s):d(s))),
//
// Welcome to the Island of Inaccurate Assumptions!
// NOTE: ALL of the following are loose assumptions that could be inaccurate!
//
k||
// Inaccuracies:
//  - If the inline script that initiated the call was also removed from the DOM.
//  - If the call was initiated by an element's inline event handler,
//    e.g. `<a onclick="(function() { alert(currentExecutingScript()); }()">click</a>`
1===s.length&&(k=s[0]),k||
// Inaccuracies:
//  - If script currently being synchronously evaluated by the parser is the
//    originator of this call stack but NOT the source script of the caller/invocation
//    e.g.
//    ```html
//    <script id="a">
//    function getCurrentScriptCallerFn() {
//      return currentExecutingScript.near();
//    }
//    </script>
//    <script id="b">
//    // Should get `script[id="a"]` but will get `script[id="b"]` instead
//    getCurrentScriptCallerFn();
//    </script>
p&&(k=document.currentScript),!k&&o&&n)for(a=s.length;a--;)if("interactive"===s[a].readyState){k=s[a];break}
// Inaccuracies:
//  - If a script is created dynamically and appended to some position
//    other than the very end of the document.
//  - If multiple scripts are created dynamically and all appended to the
//    same position within the document (and do not have their `async` attributes
//    set to `false`, at least in browsers that support async script evaluation.
//    other than the very end of the document.
//  - If any scripts are added with the `async` attribute set to `true` in a browser
//    that supports it.
//  - May get confused by `script` elements within `svg` elements
//  - If script currently being synchronously evaluated by the parser is the
//    originator of this call stack but NOT the source script of the caller/invocation
//    e.g.
//    ```html
//    <script id="a">
//    function getCurrentScriptCallerFn() {
//      return currentExecutingScript.near();
//    }
//    </script>
//    <script id="b">
//    // Should get `script[id="a"]` but will get `script[id="b"]` instead
//    getCurrentScriptCallerFn();
//    </script>
//    ```
return k||(k=s[s.length-1]||null),k}var i,j=/^(interactive|loaded|complete)$/,k=window.location?window.location.href:null,l=k?k.replace(/#.*$/,"").replace(/\?.*$/,"")||null:null,m=document.getElementsByTagName("script"),n="readyState"in(m[0]||document.createElement("script")),o=!window.opera||"[object Opera]"!==window.opera.toString(),p="currentScript"in document;
// Detect if the V8 Error Stack Trace API is supported
"stackTraceLimit"in Error&&Error.stackTraceLimit!==1/0&&(i=Error.stackTraceLimit,Error.stackTraceLimit=1/0);
// In some browsers (e.g. Chrome), you can get the current stack from an Error
// object instance without needing to throw it. Avoiding an unnecessary
// use of `throw` saves time and performance.
var q=!1,r=!1;!function(){try{var a=new Error;throw q="string"==typeof a.stack&&!!a.stack,a}catch(b){r="string"==typeof b.stack&&!!b.stack}}(),
// Default stack depth to skip over when analyzing call stack frames
h.skipStackDepth=1;
//
// Export the API
//
var s=h;
// Just return a value to define the module export.
// This example returns an object, but the module
// can return a function as the exported value.
// default
return s.near=h,s.far=f,s.origin=g,s});
!function(e,t){e.moment=t()}(this,function(){"use strict";var e,i;function c(){return e.apply(null,arguments)}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function u(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function l(e){return void 0===e}function h(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function d(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function f(e,t){var n,s=[];for(n=0;n<e.length;++n)s.push(t(e[n],n));return s}function m(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _(e,t){for(var n in t)m(t,n)&&(e[n]=t[n]);return m(t,"toString")&&(e.toString=t.toString),m(t,"valueOf")&&(e.valueOf=t.valueOf),e}function y(e,t,n,s){return Tt(e,t,n,s,!0).utc()}function g(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function v(e){if(null==e._isValid){var t=g(e),n=i.call(t.parsedDateParts,function(e){return null!=e}),s=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(s=s&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return s;e._isValid=s}return e._isValid}function p(e){var t=y(NaN);return null!=e?_(g(t),e):g(t).userInvalidated=!0,t}i=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,s=0;s<n;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1};var r=c.momentProperties=[];function w(e,t){var n,s,i;if(l(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),l(t._i)||(e._i=t._i),l(t._f)||(e._f=t._f),l(t._l)||(e._l=t._l),l(t._strict)||(e._strict=t._strict),l(t._tzm)||(e._tzm=t._tzm),l(t._isUTC)||(e._isUTC=t._isUTC),l(t._offset)||(e._offset=t._offset),l(t._pf)||(e._pf=g(t)),l(t._locale)||(e._locale=t._locale),0<r.length)for(n=0;n<r.length;n++)l(i=t[s=r[n]])||(e[s]=i);return e}var t=!1;function M(e){w(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===t&&(t=!0,c.updateOffset(this),t=!1)}function k(e){return e instanceof M||null!=e&&null!=e._isAMomentObject}function S(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function D(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=S(t)),n}function a(e,t,n){var s,i=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),a=0;for(s=0;s<i;s++)(n&&e[s]!==t[s]||!n&&D(e[s])!==D(t[s]))&&a++;return a+r}function Y(e){!1===c.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function n(i,r){var a=!0;return _(function(){if(null!=c.deprecationHandler&&c.deprecationHandler(null,i),a){for(var e,t=[],n=0;n<arguments.length;n++){if(e="","object"==typeof arguments[n]){for(var s in e+="\n["+n+"] ",arguments[0])e+=s+": "+arguments[0][s]+", ";e=e.slice(0,-2)}else e=arguments[n];t.push(e)}Y(i+"\nArguments: "+Array.prototype.slice.call(t).join("")+"\n"+(new Error).stack),a=!1}return r.apply(this,arguments)},r)}var s,O={};function T(e,t){null!=c.deprecationHandler&&c.deprecationHandler(e,t),O[e]||(Y(t),O[e]=!0)}function b(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function x(e,t){var n,s=_({},e);for(n in t)m(t,n)&&(u(e[n])&&u(t[n])?(s[n]={},_(s[n],e[n]),_(s[n],t[n])):null!=t[n]?s[n]=t[n]:delete s[n]);for(n in e)m(e,n)&&!m(t,n)&&u(e[n])&&(s[n]=_({},s[n]));return s}function P(e){null!=e&&this.set(e)}c.suppressDeprecationWarnings=!1,c.deprecationHandler=null,s=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)m(e,t)&&n.push(t);return n};var W={};function C(e,t){var n=e.toLowerCase();W[n]=W[n+"s"]=W[t]=e}function H(e){return"string"==typeof e?W[e]||W[e.toLowerCase()]:void 0}function R(e){var t,n,s={};for(n in e)m(e,n)&&(t=H(n))&&(s[t]=e[n]);return s}var U={};function F(e,t){U[e]=t}function L(e,t,n){var s=""+Math.abs(e),i=t-s.length;return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+s}var N=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,G=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,V={},E={};function I(e,t,n,s){var i=s;"string"==typeof s&&(i=function(){return this[s]()}),e&&(E[e]=i),t&&(E[t[0]]=function(){return L(i.apply(this,arguments),t[1],t[2])}),n&&(E[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function A(e,t){return e.isValid()?(t=j(t,e.localeData()),V[t]=V[t]||function(s){var e,i,t,r=s.match(N);for(e=0,i=r.length;e<i;e++)E[r[e]]?r[e]=E[r[e]]:r[e]=(t=r[e]).match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"");return function(e){var t,n="";for(t=0;t<i;t++)n+=b(r[t])?r[t].call(e,s):r[t];return n}}(t),V[t](e)):e.localeData().invalidDate()}function j(e,t){var n=5;function s(e){return t.longDateFormat(e)||e}for(G.lastIndex=0;0<=n&&G.test(e);)e=e.replace(G,s),G.lastIndex=0,n-=1;return e}var Z=/\d/,z=/\d\d/,$=/\d{3}/,q=/\d{4}/,J=/[+-]?\d{6}/,B=/\d\d?/,Q=/\d\d\d\d?/,X=/\d\d\d\d\d\d?/,K=/\d{1,3}/,ee=/\d{1,4}/,te=/[+-]?\d{1,6}/,ne=/\d+/,se=/[+-]?\d+/,ie=/Z|[+-]\d\d:?\d\d/gi,re=/Z|[+-]\d\d(?::?\d\d)?/gi,ae=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,oe={};function ue(e,n,s){oe[e]=b(n)?n:function(e,t){return e&&s?s:n}}function le(e,t){return m(oe,e)?oe[e](t._strict,t._locale):new RegExp(he(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,s,i){return t||n||s||i})))}function he(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var de={};function ce(e,n){var t,s=n;for("string"==typeof e&&(e=[e]),h(n)&&(s=function(e,t){t[n]=D(e)}),t=0;t<e.length;t++)de[e[t]]=s}function fe(e,i){ce(e,function(e,t,n,s){n._w=n._w||{},i(e,n._w,n,s)})}var me=0,_e=1,ye=2,ge=3,ve=4,pe=5,we=6,Me=7,ke=8;function Se(e){return De(e)?366:365}function De(e){return e%4==0&&e%100!=0||e%400==0}I("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),I(0,["YY",2],0,function(){return this.year()%100}),I(0,["YYYY",4],0,"year"),I(0,["YYYYY",5],0,"year"),I(0,["YYYYYY",6,!0],0,"year"),C("year","y"),F("year",1),ue("Y",se),ue("YY",B,z),ue("YYYY",ee,q),ue("YYYYY",te,J),ue("YYYYYY",te,J),ce(["YYYYY","YYYYYY"],me),ce("YYYY",function(e,t){t[me]=2===e.length?c.parseTwoDigitYear(e):D(e)}),ce("YY",function(e,t){t[me]=c.parseTwoDigitYear(e)}),ce("Y",function(e,t){t[me]=parseInt(e,10)}),c.parseTwoDigitYear=function(e){return D(e)+(68<D(e)?1900:2e3)};var Ye,Oe=Te("FullYear",!0);function Te(t,n){return function(e){return null!=e?(xe(this,t,e),c.updateOffset(this,n),this):be(this,t)}}function be(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function xe(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&De(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Pe(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Pe(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,s=(t%(n=12)+n)%n;return e+=(t-s)/12,1===s?De(e)?29:28:31-s%7%2}Ye=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},I("M",["MM",2],"Mo",function(){return this.month()+1}),I("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),I("MMMM",0,0,function(e){return this.localeData().months(this,e)}),C("month","M"),F("month",8),ue("M",B),ue("MM",B,z),ue("MMM",function(e,t){return t.monthsShortRegex(e)}),ue("MMMM",function(e,t){return t.monthsRegex(e)}),ce(["M","MM"],function(e,t){t[_e]=D(e)-1}),ce(["MMM","MMMM"],function(e,t,n,s){var i=n._locale.monthsParse(e,s,n._strict);null!=i?t[_e]=i:g(n).invalidMonth=e});var We=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ce="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var He="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Re(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=D(t);else if(!h(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Pe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Ue(e){return null!=e?(Re(this,e),c.updateOffset(this,!0),this):be(this,"Month")}var Fe=ae;var Le=ae;function Ne(){function e(e,t){return t.length-e.length}var t,n,s=[],i=[],r=[];for(t=0;t<12;t++)n=y([2e3,t]),s.push(this.monthsShort(n,"")),i.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(s.sort(e),i.sort(e),r.sort(e),t=0;t<12;t++)s[t]=he(s[t]),i[t]=he(i[t]);for(t=0;t<24;t++)r[t]=he(r[t]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Ge(e){var t;if(e<100&&0<=e){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function Ve(e,t,n){var s=7+t-n;return-((7+Ge(e,0,s).getUTCDay()-t)%7)+s-1}function Ee(e,t,n,s,i){var r,a,o=1+7*(t-1)+(7+n-s)%7+Ve(e,s,i);return a=o<=0?Se(r=e-1)+o:o>Se(e)?(r=e+1,o-Se(e)):(r=e,o),{year:r,dayOfYear:a}}function Ie(e,t,n){var s,i,r=Ve(e.year(),t,n),a=Math.floor((e.dayOfYear()-r-1)/7)+1;return a<1?s=a+Ae(i=e.year()-1,t,n):a>Ae(e.year(),t,n)?(s=a-Ae(e.year(),t,n),i=e.year()+1):(i=e.year(),s=a),{week:s,year:i}}function Ae(e,t,n){var s=Ve(e,t,n),i=Ve(e+1,t,n);return(Se(e)-s+i)/7}I("w",["ww",2],"wo","week"),I("W",["WW",2],"Wo","isoWeek"),C("week","w"),C("isoWeek","W"),F("week",5),F("isoWeek",5),ue("w",B),ue("ww",B,z),ue("W",B),ue("WW",B,z),fe(["w","ww","W","WW"],function(e,t,n,s){t[s.substr(0,1)]=D(e)});function je(e,t){return e.slice(t,7).concat(e.slice(0,t))}I("d",0,"do","day"),I("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),I("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),I("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),I("e",0,0,"weekday"),I("E",0,0,"isoWeekday"),C("day","d"),C("weekday","e"),C("isoWeekday","E"),F("day",11),F("weekday",11),F("isoWeekday",11),ue("d",B),ue("e",B),ue("E",B),ue("dd",function(e,t){return t.weekdaysMinRegex(e)}),ue("ddd",function(e,t){return t.weekdaysShortRegex(e)}),ue("dddd",function(e,t){return t.weekdaysRegex(e)}),fe(["dd","ddd","dddd"],function(e,t,n,s){var i=n._locale.weekdaysParse(e,s,n._strict);null!=i?t.d=i:g(n).invalidWeekday=e}),fe(["d","e","E"],function(e,t,n,s){t[s]=D(e)});var Ze="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var ze="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var $e="Su_Mo_Tu_We_Th_Fr_Sa".split("_");var qe=ae;var Je=ae;var Be=ae;function Qe(){function e(e,t){return t.length-e.length}var t,n,s,i,r,a=[],o=[],u=[],l=[];for(t=0;t<7;t++)n=y([2e3,1]).day(t),s=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),r=this.weekdays(n,""),a.push(s),o.push(i),u.push(r),l.push(s),l.push(i),l.push(r);for(a.sort(e),o.sort(e),u.sort(e),l.sort(e),t=0;t<7;t++)o[t]=he(o[t]),u[t]=he(u[t]),l[t]=he(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Xe(){return this.hours()%12||12}function Ke(e,t){I(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function et(e,t){return t._meridiemParse}I("H",["HH",2],0,"hour"),I("h",["hh",2],0,Xe),I("k",["kk",2],0,function(){return this.hours()||24}),I("hmm",0,0,function(){return""+Xe.apply(this)+L(this.minutes(),2)}),I("hmmss",0,0,function(){return""+Xe.apply(this)+L(this.minutes(),2)+L(this.seconds(),2)}),I("Hmm",0,0,function(){return""+this.hours()+L(this.minutes(),2)}),I("Hmmss",0,0,function(){return""+this.hours()+L(this.minutes(),2)+L(this.seconds(),2)}),Ke("a",!0),Ke("A",!1),C("hour","h"),F("hour",13),ue("a",et),ue("A",et),ue("H",B),ue("h",B),ue("k",B),ue("HH",B,z),ue("hh",B,z),ue("kk",B,z),ue("hmm",Q),ue("hmmss",X),ue("Hmm",Q),ue("Hmmss",X),ce(["H","HH"],ge),ce(["k","kk"],function(e,t,n){var s=D(e);t[ge]=24===s?0:s}),ce(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),ce(["h","hh"],function(e,t,n){t[ge]=D(e),g(n).bigHour=!0}),ce("hmm",function(e,t,n){var s=e.length-2;t[ge]=D(e.substr(0,s)),t[ve]=D(e.substr(s)),g(n).bigHour=!0}),ce("hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[ge]=D(e.substr(0,s)),t[ve]=D(e.substr(s,2)),t[pe]=D(e.substr(i)),g(n).bigHour=!0}),ce("Hmm",function(e,t,n){var s=e.length-2;t[ge]=D(e.substr(0,s)),t[ve]=D(e.substr(s))}),ce("Hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[ge]=D(e.substr(0,s)),t[ve]=D(e.substr(s,2)),t[pe]=D(e.substr(i))});var tt,nt=Te("Hours",!0),st={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ce,monthsShort:He,week:{dow:0,doy:6},weekdays:Ze,weekdaysMin:$e,weekdaysShort:ze,meridiemParse:/[ap]\.?m?\.?/i},it={},rt={};function at(e){return e?e.toLowerCase().replace("_","-"):e}function ot(e){var t=null;if(!it[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=tt._abbr,require("./locale/"+e),ut(t)}catch(e){}return it[e]}function ut(e,t){var n;return e&&((n=l(t)?ht(e):lt(e,t))?tt=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),tt._abbr}function lt(e,t){if(null===t)return delete it[e],null;var n,s=st;if(t.abbr=e,null!=it[e])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=it[e]._config;else if(null!=t.parentLocale)if(null!=it[t.parentLocale])s=it[t.parentLocale]._config;else{if(null==(n=ot(t.parentLocale)))return rt[t.parentLocale]||(rt[t.parentLocale]=[]),rt[t.parentLocale].push({name:e,config:t}),null;s=n._config}return it[e]=new P(x(s,t)),rt[e]&&rt[e].forEach(function(e){lt(e.name,e.config)}),ut(e),it[e]}function ht(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return tt;if(!o(e)){if(t=ot(e))return t;e=[e]}return function(e){for(var t,n,s,i,r=0;r<e.length;){for(t=(i=at(e[r]).split("-")).length,n=(n=at(e[r+1]))?n.split("-"):null;0<t;){if(s=ot(i.slice(0,t).join("-")))return s;if(n&&n.length>=t&&a(i,n,!0)>=t-1)break;t--}r++}return tt}(e)}function dt(e){var t,n=e._a;return n&&-2===g(e).overflow&&(t=n[_e]<0||11<n[_e]?_e:n[ye]<1||n[ye]>Pe(n[me],n[_e])?ye:n[ge]<0||24<n[ge]||24===n[ge]&&(0!==n[ve]||0!==n[pe]||0!==n[we])?ge:n[ve]<0||59<n[ve]?ve:n[pe]<0||59<n[pe]?pe:n[we]<0||999<n[we]?we:-1,g(e)._overflowDayOfYear&&(t<me||ye<t)&&(t=ye),g(e)._overflowWeeks&&-1===t&&(t=Me),g(e)._overflowWeekday&&-1===t&&(t=ke),g(e).overflow=t),e}function ct(e,t,n){return null!=e?e:null!=t?t:n}function ft(e){var t,n,s,i,r,a=[];if(!e._d){var o,u;for(o=e,u=new Date(c.now()),s=o._useUTC?[u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()]:[u.getFullYear(),u.getMonth(),u.getDate()],e._w&&null==e._a[ye]&&null==e._a[_e]&&function(e){var t,n,s,i,r,a,o,u;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)r=1,a=4,n=ct(t.GG,e._a[me],Ie(bt(),1,4).year),s=ct(t.W,1),((i=ct(t.E,1))<1||7<i)&&(u=!0);else{r=e._locale._week.dow,a=e._locale._week.doy;var l=Ie(bt(),r,a);n=ct(t.gg,e._a[me],l.year),s=ct(t.w,l.week),null!=t.d?((i=t.d)<0||6<i)&&(u=!0):null!=t.e?(i=t.e+r,(t.e<0||6<t.e)&&(u=!0)):i=r}s<1||s>Ae(n,r,a)?g(e)._overflowWeeks=!0:null!=u?g(e)._overflowWeekday=!0:(o=Ee(n,s,i,r,a),e._a[me]=o.year,e._dayOfYear=o.dayOfYear)}(e),null!=e._dayOfYear&&(r=ct(e._a[me],s[me]),(e._dayOfYear>Se(r)||0===e._dayOfYear)&&(g(e)._overflowDayOfYear=!0),n=Ge(r,0,e._dayOfYear),e._a[_e]=n.getUTCMonth(),e._a[ye]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=s[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ge]&&0===e._a[ve]&&0===e._a[pe]&&0===e._a[we]&&(e._nextDay=!0,e._a[ge]=0),e._d=(e._useUTC?Ge:function(e,t,n,s,i,r,a){var o;return e<100&&0<=e?(o=new Date(e+400,t,n,s,i,r,a),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,n,s,i,r,a),o}).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ge]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(g(e).weekdayMismatch=!0)}}var mt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_t=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yt=/Z|[+-]\d\d(?::?\d\d)?/,gt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],vt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],pt=/^\/?Date\((\-?\d+)/i;function wt(e){var t,n,s,i,r,a,o=e._i,u=mt.exec(o)||_t.exec(o);if(u){for(g(e).iso=!0,t=0,n=gt.length;t<n;t++)if(gt[t][1].exec(u[1])){i=gt[t][0],s=!1!==gt[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=vt.length;t<n;t++)if(vt[t][1].exec(u[3])){r=(u[2]||" ")+vt[t][0];break}if(null==r)return void(e._isValid=!1)}if(!s&&null!=r)return void(e._isValid=!1);if(u[4]){if(!yt.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(r||"")+(a||""),Yt(e)}else e._isValid=!1}var Mt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function kt(e,t,n,s,i,r){var a=[function(e){var t=parseInt(e,10);{if(t<=49)return 2e3+t;if(t<=999)return 1900+t}return t}(e),He.indexOf(t),parseInt(n,10),parseInt(s,10),parseInt(i,10)];return r&&a.push(parseInt(r,10)),a}var St={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Dt(e){var t,n,s,i=Mt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(i){var r=kt(i[4],i[3],i[2],i[5],i[6],i[7]);if(t=i[1],n=r,s=e,t&&ze.indexOf(t)!==new Date(n[0],n[1],n[2]).getDay()&&(g(s).weekdayMismatch=!0,!(s._isValid=!1)))return;e._a=r,e._tzm=function(e,t,n){if(e)return St[e];if(t)return 0;var s=parseInt(n,10),i=s%100;return(s-i)/100*60+i}(i[8],i[9],i[10]),e._d=Ge.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),g(e).rfc2822=!0}else e._isValid=!1}function Yt(e){if(e._f!==c.ISO_8601)if(e._f!==c.RFC_2822){e._a=[],g(e).empty=!0;var t,n,s,i,r,a,o,u,l=""+e._i,h=l.length,d=0;for(s=j(e._f,e._locale).match(N)||[],t=0;t<s.length;t++)i=s[t],(n=(l.match(le(i,e))||[])[0])&&(0<(r=l.substr(0,l.indexOf(n))).length&&g(e).unusedInput.push(r),l=l.slice(l.indexOf(n)+n.length),d+=n.length),E[i]?(n?g(e).empty=!1:g(e).unusedTokens.push(i),a=i,u=e,null!=(o=n)&&m(de,a)&&de[a](o,u._a,u,a)):e._strict&&!n&&g(e).unusedTokens.push(i);g(e).charsLeftOver=h-d,0<l.length&&g(e).unusedInput.push(l),e._a[ge]<=12&&!0===g(e).bigHour&&0<e._a[ge]&&(g(e).bigHour=void 0),g(e).parsedDateParts=e._a.slice(0),g(e).meridiem=e._meridiem,e._a[ge]=function(e,t,n){var s;if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):(null!=e.isPM&&((s=e.isPM(n))&&t<12&&(t+=12),s||12!==t||(t=0)),t)}(e._locale,e._a[ge],e._meridiem),ft(e),dt(e)}else Dt(e);else wt(e)}function Ot(e){var t,n,s,i,r=e._i,a=e._f;return e._locale=e._locale||ht(e._l),null===r||void 0===a&&""===r?p({nullInput:!0}):("string"==typeof r&&(e._i=r=e._locale.preparse(r)),k(r)?new M(dt(r)):(d(r)?e._d=r:o(a)?function(e){var t,n,s,i,r;if(0===e._f.length)return g(e).invalidFormat=!0,e._d=new Date(NaN);for(i=0;i<e._f.length;i++)r=0,t=w({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Yt(t),v(t)&&(r+=g(t).charsLeftOver,r+=10*g(t).unusedTokens.length,g(t).score=r,(null==s||r<s)&&(s=r,n=t));_(e,n||t)}(e):a?Yt(e):l(n=(t=e)._i)?t._d=new Date(c.now()):d(n)?t._d=new Date(n.valueOf()):"string"==typeof n?(s=t,null===(i=pt.exec(s._i))?(wt(s),!1===s._isValid&&(delete s._isValid,Dt(s),!1===s._isValid&&(delete s._isValid,c.createFromInputFallback(s)))):s._d=new Date(+i[1])):o(n)?(t._a=f(n.slice(0),function(e){return parseInt(e,10)}),ft(t)):u(n)?function(e){if(!e._d){var t=R(e._i);e._a=f([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ft(e)}}(t):h(n)?t._d=new Date(n):c.createFromInputFallback(t),v(e)||(e._d=null),e))}function Tt(e,t,n,s,i){var r,a={};return!0!==n&&!1!==n||(s=n,n=void 0),(u(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||o(e)&&0===e.length)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=n,a._i=e,a._f=t,a._strict=s,(r=new M(dt(Ot(a))))._nextDay&&(r.add(1,"d"),r._nextDay=void 0),r}function bt(e,t,n,s){return Tt(e,t,n,s,!1)}c.createFromInputFallback=n("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),c.ISO_8601=function(){},c.RFC_2822=function(){};var xt=n("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=bt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:p()}),Pt=n("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=bt.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:p()});function Wt(e,t){var n,s;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return bt();for(n=t[0],s=1;s<t.length;++s)t[s].isValid()&&!t[s][e](n)||(n=t[s]);return n}var Ct=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ht(e){var t=R(e),n=t.year||0,s=t.quarter||0,i=t.month||0,r=t.week||t.isoWeek||0,a=t.day||0,o=t.hour||0,u=t.minute||0,l=t.second||0,h=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Ye.call(Ct,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,s=0;s<Ct.length;++s)if(e[Ct[s]]){if(n)return!1;parseFloat(e[Ct[s]])!==D(e[Ct[s]])&&(n=!0)}return!0}(t),this._milliseconds=+h+1e3*l+6e4*u+1e3*o*60*60,this._days=+a+7*r,this._months=+i+3*s+12*n,this._data={},this._locale=ht(),this._bubble()}function Rt(e){return e instanceof Ht}function Ut(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ft(e,n){I(e,0,0,function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+L(~~(e/60),2)+n+L(~~e%60,2)})}Ft("Z",":"),Ft("ZZ",""),ue("Z",re),ue("ZZ",re),ce(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Nt(re,e)});var Lt=/([\+\-]|\d\d)/gi;function Nt(e,t){var n=(t||"").match(e);if(null===n)return null;var s=((n[n.length-1]||[])+"").match(Lt)||["-",0,0],i=60*s[1]+D(s[2]);return 0===i?0:"+"===s[0]?i:-i}function Gt(e,t){var n,s;return t._isUTC?(n=t.clone(),s=(k(e)||d(e)?e.valueOf():bt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+s),c.updateOffset(n,!1),n):bt(e).local()}function Vt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Et(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}c.updateOffset=function(){};var It=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,At=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function jt(e,t){var n,s,i,r=e,a=null;return Rt(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:h(e)?(r={},t?r[t]=e:r.milliseconds=e):(a=It.exec(e))?(n="-"===a[1]?-1:1,r={y:0,d:D(a[ye])*n,h:D(a[ge])*n,m:D(a[ve])*n,s:D(a[pe])*n,ms:D(Ut(1e3*a[we]))*n}):(a=At.exec(e))?(n="-"===a[1]?-1:1,r={y:Zt(a[2],n),M:Zt(a[3],n),w:Zt(a[4],n),d:Zt(a[5],n),h:Zt(a[6],n),m:Zt(a[7],n),s:Zt(a[8],n)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(i=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=Gt(t,e),e.isBefore(t)?n=zt(e,t):((n=zt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(bt(r.from),bt(r.to)),(r={}).ms=i.milliseconds,r.M=i.months),s=new Ht(r),Rt(e)&&m(e,"_locale")&&(s._locale=e._locale),s}function Zt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function zt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function $t(s,i){return function(e,t){var n;return null===t||isNaN(+t)||(T(i,"moment()."+i+"(period, number) is deprecated. Please use moment()."+i+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=e,e=t,t=n),qt(this,jt(e="string"==typeof e?+e:e,t),s),this}}function qt(e,t,n,s){var i=t._milliseconds,r=Ut(t._days),a=Ut(t._months);e.isValid()&&(s=null==s||s,a&&Re(e,be(e,"Month")+a*n),r&&xe(e,"Date",be(e,"Date")+r*n),i&&e._d.setTime(e._d.valueOf()+i*n),s&&c.updateOffset(e,r||a))}jt.fn=Ht.prototype,jt.invalid=function(){return jt(NaN)};var Jt=$t(1,"add"),Bt=$t(-1,"subtract");function Qt(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),s=e.clone().add(n,"months");return-(n+(t-s<0?(t-s)/(s-e.clone().add(n-1,"months")):(t-s)/(e.clone().add(n+1,"months")-s)))||0}function Xt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ht(e))&&(this._locale=t),this)}c.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",c.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Kt=n("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function en(){return this._locale}var tn=126227808e5;function nn(e,t){return(e%t+t)%t}function sn(e,t,n){return e<100&&0<=e?new Date(e+400,t,n)-tn:new Date(e,t,n).valueOf()}function rn(e,t,n){return e<100&&0<=e?Date.UTC(e+400,t,n)-tn:Date.UTC(e,t,n)}function an(e,t){I(0,[e,e.length],0,t)}function on(e,t,n,s,i){var r;return null==e?Ie(this,s,i).year:((r=Ae(e,s,i))<t&&(t=r),function(e,t,n,s,i){var r=Ee(e,t,n,s,i),a=Ge(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,e,t,n,s,i))}I(0,["gg",2],0,function(){return this.weekYear()%100}),I(0,["GG",2],0,function(){return this.isoWeekYear()%100}),an("gggg","weekYear"),an("ggggg","weekYear"),an("GGGG","isoWeekYear"),an("GGGGG","isoWeekYear"),C("weekYear","gg"),C("isoWeekYear","GG"),F("weekYear",1),F("isoWeekYear",1),ue("G",se),ue("g",se),ue("GG",B,z),ue("gg",B,z),ue("GGGG",ee,q),ue("gggg",ee,q),ue("GGGGG",te,J),ue("ggggg",te,J),fe(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,s){t[s.substr(0,2)]=D(e)}),fe(["gg","GG"],function(e,t,n,s){t[s]=c.parseTwoDigitYear(e)}),I("Q",0,"Qo","quarter"),C("quarter","Q"),F("quarter",7),ue("Q",Z),ce("Q",function(e,t){t[_e]=3*(D(e)-1)}),I("D",["DD",2],"Do","date"),C("date","D"),F("date",9),ue("D",B),ue("DD",B,z),ue("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),ce(["D","DD"],ye),ce("Do",function(e,t){t[ye]=D(e.match(B)[0])});var un=Te("Date",!0);I("DDD",["DDDD",3],"DDDo","dayOfYear"),C("dayOfYear","DDD"),F("dayOfYear",4),ue("DDD",K),ue("DDDD",$),ce(["DDD","DDDD"],function(e,t,n){n._dayOfYear=D(e)}),I("m",["mm",2],0,"minute"),C("minute","m"),F("minute",14),ue("m",B),ue("mm",B,z),ce(["m","mm"],ve);var ln=Te("Minutes",!1);I("s",["ss",2],0,"second"),C("second","s"),F("second",15),ue("s",B),ue("ss",B,z),ce(["s","ss"],pe);var hn,dn=Te("Seconds",!1);for(I("S",0,0,function(){return~~(this.millisecond()/100)}),I(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),I(0,["SSS",3],0,"millisecond"),I(0,["SSSS",4],0,function(){return 10*this.millisecond()}),I(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),I(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),I(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),I(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),I(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),C("millisecond","ms"),F("millisecond",16),ue("S",K,Z),ue("SS",K,z),ue("SSS",K,$),hn="SSSS";hn.length<=9;hn+="S")ue(hn,ne);function cn(e,t){t[we]=D(1e3*("0."+e))}for(hn="S";hn.length<=9;hn+="S")ce(hn,cn);var fn=Te("Milliseconds",!1);I("z",0,0,"zoneAbbr"),I("zz",0,0,"zoneName");var mn=M.prototype;function _n(e){return e}mn.add=Jt,mn.calendar=function(e,t){var n=e||bt(),s=Gt(n,this).startOf("day"),i=c.calendarFormat(this,s)||"sameElse",r=t&&(b(t[i])?t[i].call(this,n):t[i]);return this.format(r||this.localeData().calendar(i,this,bt(n)))},mn.clone=function(){return new M(this)},mn.diff=function(e,t,n){var s,i,r;if(!this.isValid())return NaN;if(!(s=Gt(e,this)).isValid())return NaN;switch(i=6e4*(s.utcOffset()-this.utcOffset()),t=H(t)){case"year":r=Qt(this,s)/12;break;case"month":r=Qt(this,s);break;case"quarter":r=Qt(this,s)/3;break;case"second":r=(this-s)/1e3;break;case"minute":r=(this-s)/6e4;break;case"hour":r=(this-s)/36e5;break;case"day":r=(this-s-i)/864e5;break;case"week":r=(this-s-i)/6048e5;break;default:r=this-s}return n?r:S(r)},mn.endOf=function(e){var t;if(void 0===(e=H(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?rn:sn;switch(e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-nn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-nn(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-nn(t,1e3)-1;break}return this._d.setTime(t),c.updateOffset(this,!0),this},mn.format=function(e){e||(e=this.isUtc()?c.defaultFormatUtc:c.defaultFormat);var t=A(this,e);return this.localeData().postformat(t)},mn.from=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||bt(e).isValid())?jt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},mn.fromNow=function(e){return this.from(bt(),e)},mn.to=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||bt(e).isValid())?jt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},mn.toNow=function(e){return this.to(bt(),e)},mn.get=function(e){return b(this[e=H(e)])?this[e]():this},mn.invalidAt=function(){return g(this).overflow},mn.isAfter=function(e,t){var n=k(e)?e:bt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},mn.isBefore=function(e,t){var n=k(e)?e:bt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},mn.isBetween=function(e,t,n,s){var i=k(e)?e:bt(e),r=k(t)?t:bt(t);return!!(this.isValid()&&i.isValid()&&r.isValid())&&("("===(s=s||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===s[1]?this.isBefore(r,n):!this.isAfter(r,n))},mn.isSame=function(e,t){var n,s=k(e)?e:bt(e);return!(!this.isValid()||!s.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()===s.valueOf():(n=s.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},mn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},mn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},mn.isValid=function(){return v(this)},mn.lang=Kt,mn.locale=Xt,mn.localeData=en,mn.max=Pt,mn.min=xt,mn.parsingFlags=function(){return _({},g(this))},mn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:U[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=R(e)),s=0;s<n.length;s++)this[n[s].unit](e[n[s].unit]);else if(b(this[e=H(e)]))return this[e](t);return this},mn.startOf=function(e){var t;if(void 0===(e=H(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?rn:sn;switch(e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=nn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=nn(t,6e4);break;case"second":t=this._d.valueOf(),t-=nn(t,1e3);break}return this._d.setTime(t),c.updateOffset(this,!0),this},mn.subtract=Bt,mn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},mn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},mn.toDate=function(){return new Date(this.valueOf())},mn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||9999<n.year()?A(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):b(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",A(n,"Z")):A(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},mn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+s+"-MM-DD[T]HH:mm:ss.SSS"+i)},mn.toJSON=function(){return this.isValid()?this.toISOString():null},mn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},mn.unix=function(){return Math.floor(this.valueOf()/1e3)},mn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},mn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},mn.year=Oe,mn.isLeapYear=function(){return De(this.year())},mn.weekYear=function(e){return on.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},mn.isoWeekYear=function(e){return on.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},mn.quarter=mn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},mn.month=Ue,mn.daysInMonth=function(){return Pe(this.year(),this.month())},mn.week=mn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},mn.isoWeek=mn.isoWeeks=function(e){var t=Ie(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},mn.weeksInYear=function(){var e=this.localeData()._week;return Ae(this.year(),e.dow,e.doy)},mn.isoWeeksInYear=function(){return Ae(this.year(),1,4)},mn.date=un,mn.day=mn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,n,s=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,n=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=n.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-s,"d")):s},mn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},mn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null==e)return this.day()||7;var t,n,s=(t=e,n=this.localeData(),"string"==typeof t?n.weekdaysParse(t)%7||7:isNaN(t)?null:t);return this.day(this.day()%7?s:s-7)},mn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},mn.hour=mn.hours=nt,mn.minute=mn.minutes=ln,mn.second=mn.seconds=dn,mn.millisecond=mn.milliseconds=fn,mn.utcOffset=function(e,t,n){var s,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?i:Vt(this);if("string"==typeof e){if(null===(e=Nt(re,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(s=Vt(this)),this._offset=e,this._isUTC=!0,null!=s&&this.add(s,"m"),i!==e&&(!t||this._changeInProgress?qt(this,jt(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,c.updateOffset(this,!0),this._changeInProgress=null)),this},mn.utc=function(e){return this.utcOffset(0,e)},mn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Vt(this),"m")),this},mn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Nt(ie,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},mn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?bt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},mn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},mn.isLocal=function(){return!!this.isValid()&&!this._isUTC},mn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},mn.isUtc=Et,mn.isUTC=Et,mn.zoneAbbr=function(){return this._isUTC?"UTC":""},mn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},mn.dates=n("dates accessor is deprecated. Use date instead.",un),mn.months=n("months accessor is deprecated. Use month instead",Ue),mn.years=n("years accessor is deprecated. Use year instead",Oe),mn.zone=n("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),mn.isDSTShifted=n("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!l(this._isDSTShifted))return this._isDSTShifted;var e={};if(w(e,this),(e=Ot(e))._a){var t=e._isUTC?y(e._a):bt(e._a);this._isDSTShifted=this.isValid()&&0<a(e._a,t.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var yn=P.prototype;function gn(e,t,n,s){var i=ht(),r=y().set(s,t);return i[n](r,e)}function vn(e,t,n){if(h(e)&&(t=e,e=void 0),e=e||"",null!=t)return gn(e,t,n,"month");var s,i=[];for(s=0;s<12;s++)i[s]=gn(e,s,n,"month");return i}function pn(e,t,n,s){t=("boolean"==typeof e?h(t)&&(n=t,t=void 0):(t=e,e=!1,h(n=t)&&(n=t,t=void 0)),t||"");var i,r=ht(),a=e?r._week.dow:0;if(null!=n)return gn(t,(n+a)%7,s,"day");var o=[];for(i=0;i<7;i++)o[i]=gn(t,(i+a)%7,s,"day");return o}yn.calendar=function(e,t,n){var s=this._calendar[e]||this._calendar.sameElse;return b(s)?s.call(t,n):s},yn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},yn.invalidDate=function(){return this._invalidDate},yn.ordinal=function(e){return this._ordinal.replace("%d",e)},yn.preparse=_n,yn.postformat=_n,yn.relativeTime=function(e,t,n,s){var i=this._relativeTime[n];return b(i)?i(e,t,n,s):i.replace(/%d/i,e)},yn.pastFuture=function(e,t){var n=this._relativeTime[0<e?"future":"past"];return b(n)?n(t):n.replace(/%s/i,t)},yn.set=function(e){var t,n;for(n in e)b(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},yn.months=function(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||We).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone},yn.monthsShort=function(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[We.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},yn.monthsParse=function(e,t,n){var s,i,r;if(this._monthsParseExact)return function(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)r=y([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Ye.call(this._shortMonthsParse,a))?i:null:-1!==(i=Ye.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=Ye.call(this._shortMonthsParse,a))?i:-1!==(i=Ye.call(this._longMonthsParse,a))?i:null:-1!==(i=Ye.call(this._longMonthsParse,a))?i:-1!==(i=Ye.call(this._shortMonthsParse,a))?i:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=y([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[s]||(r="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[s].test(e))return s;if(n&&"MMM"===t&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s}},yn.monthsRegex=function(e){return this._monthsParseExact?(m(this,"_monthsRegex")||Ne.call(this),e?this._monthsStrictRegex:this._monthsRegex):(m(this,"_monthsRegex")||(this._monthsRegex=Le),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},yn.monthsShortRegex=function(e){return this._monthsParseExact?(m(this,"_monthsRegex")||Ne.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(m(this,"_monthsShortRegex")||(this._monthsShortRegex=Fe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},yn.week=function(e){return Ie(e,this._week.dow,this._week.doy).week},yn.firstDayOfYear=function(){return this._week.doy},yn.firstDayOfWeek=function(){return this._week.dow},yn.weekdays=function(e,t){var n=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?je(n,this._week.dow):e?n[e.day()]:n},yn.weekdaysMin=function(e){return!0===e?je(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},yn.weekdaysShort=function(e){return!0===e?je(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},yn.weekdaysParse=function(e,t,n){var s,i,r;if(this._weekdaysParseExact)return function(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)r=y([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Ye.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Ye.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=Ye.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=Ye.call(this._weekdaysParse,a))?i:-1!==(i=Ye.call(this._shortWeekdaysParse,a))?i:-1!==(i=Ye.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Ye.call(this._shortWeekdaysParse,a))?i:-1!==(i=Ye.call(this._weekdaysParse,a))?i:-1!==(i=Ye.call(this._minWeekdaysParse,a))?i:null:-1!==(i=Ye.call(this._minWeekdaysParse,a))?i:-1!==(i=Ye.call(this._weekdaysParse,a))?i:-1!==(i=Ye.call(this._shortWeekdaysParse,a))?i:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=y([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(r="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[s].test(e))return s;if(n&&"ddd"===t&&this._shortWeekdaysParse[s].test(e))return s;if(n&&"dd"===t&&this._minWeekdaysParse[s].test(e))return s;if(!n&&this._weekdaysParse[s].test(e))return s}},yn.weekdaysRegex=function(e){return this._weekdaysParseExact?(m(this,"_weekdaysRegex")||Qe.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(m(this,"_weekdaysRegex")||(this._weekdaysRegex=qe),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},yn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(m(this,"_weekdaysRegex")||Qe.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(m(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Je),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},yn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(m(this,"_weekdaysRegex")||Qe.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(m(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Be),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},yn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},yn.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},ut("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===D(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),c.lang=n("moment.lang is deprecated. Use moment.locale instead.",ut),c.langData=n("moment.langData is deprecated. Use moment.localeData instead.",ht);var wn=Math.abs;function Mn(e,t,n,s){var i=jt(t,n);return e._milliseconds+=s*i._milliseconds,e._days+=s*i._days,e._months+=s*i._months,e._bubble()}function kn(e){return e<0?Math.floor(e):Math.ceil(e)}function Sn(e){return 4800*e/146097}function Dn(e){return 146097*e/4800}function Yn(e){return function(){return this.as(e)}}var On=Yn("ms"),Tn=Yn("s"),bn=Yn("m"),xn=Yn("h"),Pn=Yn("d"),Wn=Yn("w"),Cn=Yn("M"),Hn=Yn("Q"),Rn=Yn("y");function Un(e){return function(){return this.isValid()?this._data[e]:NaN}}var Fn=Un("milliseconds"),Ln=Un("seconds"),Nn=Un("minutes"),Gn=Un("hours"),Vn=Un("days"),En=Un("months"),In=Un("years");var An=Math.round,jn={ss:44,s:45,m:45,h:22,d:26,M:11};var Zn=Math.abs;function zn(e){return(0<e)-(e<0)||+e}function $n(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Zn(this._milliseconds)/1e3,s=Zn(this._days),i=Zn(this._months);t=S((e=S(n/60))/60),n%=60,e%=60;var r=S(i/12),a=i%=12,o=s,u=t,l=e,h=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var c=d<0?"-":"",f=zn(this._months)!==zn(d)?"-":"",m=zn(this._days)!==zn(d)?"-":"",_=zn(this._milliseconds)!==zn(d)?"-":"";return c+"P"+(r?f+r+"Y":"")+(a?f+a+"M":"")+(o?m+o+"D":"")+(u||l||h?"T":"")+(u?_+u+"H":"")+(l?_+l+"M":"")+(h?_+h+"S":"")}var qn=Ht.prototype;return qn.isValid=function(){return this._isValid},qn.abs=function(){var e=this._data;return this._milliseconds=wn(this._milliseconds),this._days=wn(this._days),this._months=wn(this._months),e.milliseconds=wn(e.milliseconds),e.seconds=wn(e.seconds),e.minutes=wn(e.minutes),e.hours=wn(e.hours),e.months=wn(e.months),e.years=wn(e.years),this},qn.add=function(e,t){return Mn(this,e,t,1)},qn.subtract=function(e,t){return Mn(this,e,t,-1)},qn.as=function(e){if(!this.isValid())return NaN;var t,n,s=this._milliseconds;if("month"===(e=H(e))||"quarter"===e||"year"===e)switch(t=this._days+s/864e5,n=this._months+Sn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Dn(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return 24*t+s/36e5;case"minute":return 1440*t+s/6e4;case"second":return 86400*t+s/1e3;case"millisecond":return Math.floor(864e5*t)+s;default:throw new Error("Unknown unit "+e)}},qn.asMilliseconds=On,qn.asSeconds=Tn,qn.asMinutes=bn,qn.asHours=xn,qn.asDays=Pn,qn.asWeeks=Wn,qn.asMonths=Cn,qn.asQuarters=Hn,qn.asYears=Rn,qn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*D(this._months/12):NaN},qn._bubble=function(){var e,t,n,s,i,r=this._milliseconds,a=this._days,o=this._months,u=this._data;return 0<=r&&0<=a&&0<=o||r<=0&&a<=0&&o<=0||(r+=864e5*kn(Dn(o)+a),o=a=0),u.milliseconds=r%1e3,e=S(r/1e3),u.seconds=e%60,t=S(e/60),u.minutes=t%60,n=S(t/60),u.hours=n%24,o+=i=S(Sn(a+=S(n/24))),a-=kn(Dn(i)),s=S(o/12),o%=12,u.days=a,u.months=o,u.years=s,this},qn.clone=function(){return jt(this)},qn.get=function(e){return e=H(e),this.isValid()?this[e+"s"]():NaN},qn.milliseconds=Fn,qn.seconds=Ln,qn.minutes=Nn,qn.hours=Gn,qn.days=Vn,qn.weeks=function(){return S(this.days()/7)},qn.months=En,qn.years=In,qn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t,n,s,i,r,a,o,u,l,h,d,c=this.localeData(),f=(n=!e,s=c,i=jt(t=this).abs(),r=An(i.as("s")),a=An(i.as("m")),o=An(i.as("h")),u=An(i.as("d")),l=An(i.as("M")),h=An(i.as("y")),(d=r<=jn.ss&&["s",r]||r<jn.s&&["ss",r]||a<=1&&["m"]||a<jn.m&&["mm",a]||o<=1&&["h"]||o<jn.h&&["hh",o]||u<=1&&["d"]||u<jn.d&&["dd",u]||l<=1&&["M"]||l<jn.M&&["MM",l]||h<=1&&["y"]||["yy",h])[2]=n,d[3]=0<+t,d[4]=s,function(e,t,n,s,i){return i.relativeTime(t||1,!!n,e,s)}.apply(null,d));return e&&(f=c.pastFuture(+this,f)),c.postformat(f)},qn.toISOString=$n,qn.toString=$n,qn.toJSON=$n,qn.locale=Xt,qn.localeData=en,qn.toIsoString=n("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",$n),qn.lang=Kt,I("X",0,0,"unix"),I("x",0,0,"valueOf"),ue("x",se),ue("X",/[+-]?\d+(\.\d{1,3})?/),ce("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),ce("x",function(e,t,n){n._d=new Date(D(e))}),c.version="2.24.0",e=bt,c.fn=mn,c.min=function(){return Wt("isBefore",[].slice.call(arguments,0))},c.max=function(){return Wt("isAfter",[].slice.call(arguments,0))},c.now=function(){return Date.now?Date.now():+new Date},c.utc=y,c.unix=function(e){return bt(1e3*e)},c.months=function(e,t){return vn(e,t,"months")},c.isDate=d,c.locale=ut,c.invalid=p,c.duration=jt,c.isMoment=k,c.weekdays=function(e,t,n){return pn(e,t,n,"weekdays")},c.parseZone=function(){return bt.apply(null,arguments).parseZone()},c.localeData=ht,c.isDuration=Rt,c.monthsShort=function(e,t){return vn(e,t,"monthsShort")},c.weekdaysMin=function(e,t,n){return pn(e,t,n,"weekdaysMin")},c.defineLocale=lt,c.updateLocale=function(e,t){if(null!=t){var n,s,i=st;null!=(s=ot(e))&&(i=s._config),(n=new P(t=x(i,t))).parentLocale=it[e],it[e]=n,ut(e)}else null!=it[e]&&(null!=it[e].parentLocale?it[e]=it[e].parentLocale:null!=it[e]&&delete it[e]);return it[e]},c.locales=function(){return s(it)},c.weekdaysShort=function(e,t,n){return pn(e,t,n,"weekdaysShort")},c.normalizeUnits=H,c.relativeTimeRounding=function(e){return void 0===e?An:"function"==typeof e&&(An=e,!0)},c.relativeTimeThreshold=function(e,t){return void 0!==jn[e]&&(void 0===t?jn[e]:(jn[e]=t,"s"===e&&(jn.ss=t-1),!0))},c.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},c.prototype=mn,c.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},c});
//! moment.js locale configuration

;(function (global, factory) {
   factory(global.moment)
}(this, (function (moment) { 'use strict';


    var fr = moment.defineLocale('fr', {
        months : 'janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre'.split('_'),
        monthsShort : 'janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.'.split('_'),
        monthsParseExact : true,
        weekdays : 'dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi'.split('_'),
        weekdaysShort : 'dim._lun._mar._mer._jeu._ven._sam.'.split('_'),
        weekdaysMin : 'di_lu_ma_me_je_ve_sa'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd D MMMM YYYY HH:mm'
        },
        calendar : {
            sameDay : '[Aujourdhui ] LT',
            nextDay : '[Demain ] LT',
            nextWeek : 'dddd [] LT',
            lastDay : '[Hier ] LT',
            lastWeek : 'dddd [dernier ] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : 'dans %s',
            past : 'il y a %s',
            s : 'quelques secondes',
            ss : '%d secondes',
            m : 'une minute',
            mm : '%d minutes',
            h : 'une heure',
            hh : '%d heures',
            d : 'un jour',
            dd : '%d jours',
            M : 'un mois',
            MM : '%d mois',
            y : 'un an',
            yy : '%d ans'
        },
        dayOfMonthOrdinalParse: /\d{1,2}(er|)/,
        ordinal : function (number, period) {
            switch (period) {
                // TODO: Return 'e' when day of month > 1. Move this case inside
                // block for masculine words below.
                // See https://github.com/moment/moment/issues/3375
                case 'D':
                    return number + (number === 1 ? 'er' : '');

                // Words with masculine grammatical gender: mois, trimestre, jour
                default:
                case 'M':
                case 'Q':
                case 'DDD':
                case 'd':
                    return number + (number === 1 ? 'er' : 'e');

                // Words with feminine grammatical gender: semaine
                case 'w':
                case 'W':
                    return number + (number === 1 ? 're' : 'e');
            }
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return fr;

})));

/*
     _ _      _       _
 ___| (_) ___| | __  (_)___
/ __| | |/ __| |/ /  | / __|
\__ \ | | (__|   < _ | \__ \
|___/_|_|\___|_|\_(_)/ |___/
                   |__/

 Version: 1.8.0
  Author: Ken Wheeler
 Website: http://kenwheeler.github.io
    Docs: http://kenwheeler.github.io/slick
    Repo: http://github.com/kenwheeler/slick
  Issues: http://github.com/kenwheeler/slick/issues

 */
/* global window, document, define, jQuery, setInterval, clearInterval */
;(function(factory) {
    'use strict';
    factory(jQuery);
}(function($) {
    'use strict';
    var Slick = window.Slick || {};

    Slick = (function() {

        var instanceUid = 0;

        function Slick(element, settings) {

            var _ = this, dataSettings;

            _.defaults = {
                accessibility: true,
                adaptiveHeight: false,
                appendArrows: $(element),
                appendDots: $(element),
                arrows: true,
                asNavFor: null,
                prevArrow: '<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',
                nextArrow: '<button class="slick-next" aria-label="Next" type="button">Next</button>',
                autoplay: false,
                autoplaySpeed: 3000,
                centerMode: false,
                centerPadding: '50px',
                cssEase: 'ease',
                customPaging: function(slider, i) {
                    return $('<button type="button" />').text(i + 1);
                },
                dots: false,
                dotsClass: 'slick-dots',
                draggable: true,
                easing: 'linear',
                edgeFriction: 0.35,
                fade: false,
                focusOnSelect: false,
                focusOnChange: false,
                infinite: true,
                initialSlide: 0,
                lazyLoad: 'ondemand',
                mobileFirst: false,
                pauseOnHover: true,
                pauseOnFocus: true,
                pauseOnDotsHover: false,
                respondTo: 'window',
                responsive: null,
                rows: 1,
                rtl: false,
                slide: '',
                slidesPerRow: 1,
                slidesToShow: 1,
                slidesToScroll: 1,
                speed: 500,
                swipe: true,
                swipeToSlide: false,
                touchMove: true,
                touchThreshold: 5,
                useCSS: true,
                useTransform: true,
                variableWidth: false,
                vertical: false,
                verticalSwiping: false,
                waitForAnimate: true,
                zIndex: 1000
            };

            _.initials = {
                animating: false,
                dragging: false,
                autoPlayTimer: null,
                currentDirection: 0,
                currentLeft: null,
                currentSlide: 0,
                direction: 1,
                $dots: null,
                listWidth: null,
                listHeight: null,
                loadIndex: 0,
                $nextArrow: null,
                $prevArrow: null,
                scrolling: false,
                slideCount: null,
                slideWidth: null,
                $slideTrack: null,
                $slides: null,
                sliding: false,
                slideOffset: 0,
                swipeLeft: null,
                swiping: false,
                $list: null,
                touchObject: {},
                transformsEnabled: false,
                unslicked: false
            };

            $.extend(_, _.initials);

            _.activeBreakpoint = null;
            _.animType = null;
            _.animProp = null;
            _.breakpoints = [];
            _.breakpointSettings = [];
            _.cssTransitions = false;
            _.focussed = false;
            _.interrupted = false;
            _.hidden = 'hidden';
            _.paused = true;
            _.positionProp = null;
            _.respondTo = null;
            _.rowCount = 1;
            _.shouldClick = true;
            _.$slider = $(element);
            _.$slidesCache = null;
            _.transformType = null;
            _.transitionType = null;
            _.visibilityChange = 'visibilitychange';
            _.windowWidth = 0;
            _.windowTimer = null;

            dataSettings = $(element).data('slick') || {};

            _.options = $.extend({}, _.defaults, settings, dataSettings);

            _.currentSlide = _.options.initialSlide;

            _.originalSettings = _.options;

            if (typeof document.mozHidden !== 'undefined') {
                _.hidden = 'mozHidden';
                _.visibilityChange = 'mozvisibilitychange';
            } else if (typeof document.webkitHidden !== 'undefined') {
                _.hidden = 'webkitHidden';
                _.visibilityChange = 'webkitvisibilitychange';
            }

            _.autoPlay = $.proxy(_.autoPlay, _);
            _.autoPlayClear = $.proxy(_.autoPlayClear, _);
            _.autoPlayIterator = $.proxy(_.autoPlayIterator, _);
            _.changeSlide = $.proxy(_.changeSlide, _);
            _.clickHandler = $.proxy(_.clickHandler, _);
            _.selectHandler = $.proxy(_.selectHandler, _);
            _.setPosition = $.proxy(_.setPosition, _);
            _.swipeHandler = $.proxy(_.swipeHandler, _);
            _.dragHandler = $.proxy(_.dragHandler, _);
            _.keyHandler = $.proxy(_.keyHandler, _);

            _.instanceUid = instanceUid++;

            // A simple way to check for HTML strings
            // Strict HTML recognition (must start with <)
            // Extracted from jQuery v1.11 source
            _.htmlExpr = /^(?:\s*(<[\w\W]+>)[^>]*)$/;


            _.registerBreakpoints();
            _.init(true);

        }

        return Slick;

    }());

    Slick.prototype.activateADA = function() {
        var _ = this;

        _.$slideTrack.find('.slick-active').attr({
            'aria-hidden': 'false'
        }).find('a, input, button, select').attr({
            'tabindex': '0'
        });

    };

    Slick.prototype.addSlide = Slick.prototype.slickAdd = function(markup, index, addBefore) {

        var _ = this;

        if (typeof(index) === 'boolean') {
            addBefore = index;
            index = null;
        } else if (index < 0 || (index >= _.slideCount)) {
            return false;
        }

        _.unload();

        if (typeof(index) === 'number') {
            if (index === 0 && _.$slides.length === 0) {
                $(markup).appendTo(_.$slideTrack);
            } else if (addBefore) {
                $(markup).insertBefore(_.$slides.eq(index));
            } else {
                $(markup).insertAfter(_.$slides.eq(index));
            }
        } else {
            if (addBefore === true) {
                $(markup).prependTo(_.$slideTrack);
            } else {
                $(markup).appendTo(_.$slideTrack);
            }
        }

        _.$slides = _.$slideTrack.children(this.options.slide);

        _.$slideTrack.children(this.options.slide).detach();

        _.$slideTrack.append(_.$slides);

        _.$slides.each(function(index, element) {
            $(element).attr('data-slick-index', index);
        });

        _.$slidesCache = _.$slides;

        _.reinit();

    };

    Slick.prototype.animateHeight = function() {
        var _ = this;
        if (_.options.slidesToShow === 1 && _.options.adaptiveHeight === true && _.options.vertical === false) {
            var targetHeight = _.$slides.eq(_.currentSlide).outerHeight(true);
            _.$list.animate({
                height: targetHeight
            }, _.options.speed);
        }
    };

    Slick.prototype.animateSlide = function(targetLeft, callback) {

        var animProps = {},
            _ = this;

        _.animateHeight();

        if (_.options.rtl === true && _.options.vertical === false) {
            targetLeft = -targetLeft;
        }
        if (_.transformsEnabled === false) {
            if (_.options.vertical === false) {
                _.$slideTrack.animate({
                    left: targetLeft
                }, _.options.speed, _.options.easing, callback);
            } else {
                _.$slideTrack.animate({
                    top: targetLeft
                }, _.options.speed, _.options.easing, callback);
            }

        } else {

            if (_.cssTransitions === false) {
                if (_.options.rtl === true) {
                    _.currentLeft = -(_.currentLeft);
                }
                $({
                    animStart: _.currentLeft
                }).animate({
                    animStart: targetLeft
                }, {
                    duration: _.options.speed,
                    easing: _.options.easing,
                    step: function(now) {
                        now = Math.ceil(now);
                        if (_.options.vertical === false) {
                            animProps[_.animType] = 'translate(' +
                                now + 'px, 0px)';
                            _.$slideTrack.css(animProps);
                        } else {
                            animProps[_.animType] = 'translate(0px,' +
                                now + 'px)';
                            _.$slideTrack.css(animProps);
                        }
                    },
                    complete: function() {
                        if (callback) {
                            callback.call();
                        }
                    }
                });

            } else {

                _.applyTransition();
                targetLeft = Math.ceil(targetLeft);

                if (_.options.vertical === false) {
                    animProps[_.animType] = 'translate3d(' + targetLeft + 'px, 0px, 0px)';
                } else {
                    animProps[_.animType] = 'translate3d(0px,' + targetLeft + 'px, 0px)';
                }
                _.$slideTrack.css(animProps);

                if (callback) {
                    setTimeout(function() {

                        _.disableTransition();

                        callback.call();
                    }, _.options.speed);
                }

            }

        }

    };

    Slick.prototype.getNavTarget = function() {

        var _ = this,
            asNavFor = _.options.asNavFor;

        if ( asNavFor && asNavFor !== null ) {
            asNavFor = $(asNavFor).not(_.$slider);
        }

        return asNavFor;

    };

    Slick.prototype.asNavFor = function(index) {

        var _ = this,
            asNavFor = _.getNavTarget();

        if ( asNavFor !== null && typeof asNavFor === 'object' ) {
            asNavFor.each(function() {
                var target = $(this).slick('getSlick');
                if(!target.unslicked) {
                    target.slideHandler(index, true);
                }
            });
        }

    };

    Slick.prototype.applyTransition = function(slide) {

        var _ = this,
            transition = {};

        if (_.options.fade === false) {
            transition[_.transitionType] = _.transformType + ' ' + _.options.speed + 'ms ' + _.options.cssEase;
        } else {
            transition[_.transitionType] = 'opacity ' + _.options.speed + 'ms ' + _.options.cssEase;
        }

        if (_.options.fade === false) {
            _.$slideTrack.css(transition);
        } else {
            _.$slides.eq(slide).css(transition);
        }

    };

    Slick.prototype.autoPlay = function() {

        var _ = this;

        _.autoPlayClear();

        if ( _.slideCount > _.options.slidesToShow ) {
            _.autoPlayTimer = setInterval( _.autoPlayIterator, _.options.autoplaySpeed );
        }

    };

    Slick.prototype.autoPlayClear = function() {

        var _ = this;

        if (_.autoPlayTimer) {
            clearInterval(_.autoPlayTimer);
        }

    };

    Slick.prototype.autoPlayIterator = function() {

        var _ = this,
            slideTo = _.currentSlide + _.options.slidesToScroll;

        if ( !_.paused && !_.interrupted && !_.focussed ) {

            if ( _.options.infinite === false ) {

                if ( _.direction === 1 && ( _.currentSlide + 1 ) === ( _.slideCount - 1 )) {
                    _.direction = 0;
                }

                else if ( _.direction === 0 ) {

                    slideTo = _.currentSlide - _.options.slidesToScroll;

                    if ( _.currentSlide - 1 === 0 ) {
                        _.direction = 1;
                    }

                }

            }

            _.slideHandler( slideTo );

        }

    };

    Slick.prototype.buildArrows = function() {

        var _ = this;

        if (_.options.arrows === true ) {

            _.$prevArrow = $(_.options.prevArrow).addClass('slick-arrow');
            _.$nextArrow = $(_.options.nextArrow).addClass('slick-arrow');

            if( _.slideCount > _.options.slidesToShow ) {

                _.$prevArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex');
                _.$nextArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex');

                if (_.htmlExpr.test(_.options.prevArrow)) {
                    _.$prevArrow.prependTo(_.options.appendArrows);
                }

                if (_.htmlExpr.test(_.options.nextArrow)) {
                    _.$nextArrow.appendTo(_.options.appendArrows);
                }

                if (_.options.infinite !== true) {
                    _.$prevArrow
                        .addClass('slick-disabled')
                        .attr('aria-disabled', 'true');
                }

            } else {

                _.$prevArrow.add( _.$nextArrow )

                    .addClass('slick-hidden')
                    .attr({
                        'aria-disabled': 'true',
                        'tabindex': '-1'
                    });

            }

        }

    };

    Slick.prototype.buildDots = function() {

        var _ = this,
            i, dot;

        if (_.options.dots === true) {

            _.$slider.addClass('slick-dotted');

            dot = $('<ul />').addClass(_.options.dotsClass);

            for (i = 0; i <= _.getDotCount(); i += 1) {
                dot.append($('<li />').append(_.options.customPaging.call(this, _, i)));
            }

            _.$dots = dot.appendTo(_.options.appendDots);

            _.$dots.find('li').first().addClass('slick-active');

        }

    };

    Slick.prototype.buildOut = function() {

        var _ = this;

        _.$slides =
            _.$slider
                .children( _.options.slide + ':not(.slick-cloned)')
                .addClass('slick-slide');

        _.slideCount = _.$slides.length;

        _.$slides.each(function(index, element) {
            $(element)
                .attr('data-slick-index', index)
                .data('originalStyling', $(element).attr('style') || '');
        });

        _.$slider.addClass('slick-slider');

        _.$slideTrack = (_.slideCount === 0) ?
            $('<div class="slick-track"/>').appendTo(_.$slider) :
            _.$slides.wrapAll('<div class="slick-track"/>').parent();

        _.$list = _.$slideTrack.wrap(
            '<div class="slick-list"/>').parent();
        _.$slideTrack.css('opacity', 0);

        if (_.options.centerMode === true || _.options.swipeToSlide === true) {
            _.options.slidesToScroll = 1;
        }

        $('img[data-lazy]', _.$slider).not('[src]').addClass('slick-loading');

        _.setupInfinite();

        _.buildArrows();

        _.buildDots();

        _.updateDots();


        _.setSlideClasses(typeof _.currentSlide === 'number' ? _.currentSlide : 0);

        if (_.options.draggable === true) {
            _.$list.addClass('draggable');
        }

    };

    Slick.prototype.buildRows = function() {

        var _ = this, a, b, c, newSlides, numOfSlides, originalSlides,slidesPerSection;

        newSlides = document.createDocumentFragment();
        originalSlides = _.$slider.children();

        if(_.options.rows > 1) {

            slidesPerSection = _.options.slidesPerRow * _.options.rows;
            numOfSlides = Math.ceil(
                originalSlides.length / slidesPerSection
            );

            for(a = 0; a < numOfSlides; a++){
                var slide = document.createElement('div');
                for(b = 0; b < _.options.rows; b++) {
                    var row = document.createElement('div');
                    for(c = 0; c < _.options.slidesPerRow; c++) {
                        var target = (a * slidesPerSection + ((b * _.options.slidesPerRow) + c));
                        if (originalSlides.get(target)) {
                            row.appendChild(originalSlides.get(target));
                        }
                    }
                    slide.appendChild(row);
                }
                newSlides.appendChild(slide);
            }

            _.$slider.empty().append(newSlides);
            _.$slider.children().children().children()
                .css({
                    'width':(100 / _.options.slidesPerRow) + '%',
                    'display': 'inline-block'
                });

        }

    };

    Slick.prototype.checkResponsive = function(initial, forceUpdate) {

        var _ = this,
            breakpoint, targetBreakpoint, respondToWidth, triggerBreakpoint = false;
        var sliderWidth = _.$slider.width();
        var windowWidth = window.innerWidth || $(window).width();

        if (_.respondTo === 'window') {
            respondToWidth = windowWidth;
        } else if (_.respondTo === 'slider') {
            respondToWidth = sliderWidth;
        } else if (_.respondTo === 'min') {
            respondToWidth = Math.min(windowWidth, sliderWidth);
        }

        if ( _.options.responsive &&
            _.options.responsive.length &&
            _.options.responsive !== null) {

            targetBreakpoint = null;

            for (breakpoint in _.breakpoints) {
                if (_.breakpoints.hasOwnProperty(breakpoint)) {
                    if (_.originalSettings.mobileFirst === false) {
                        if (respondToWidth < _.breakpoints[breakpoint]) {
                            targetBreakpoint = _.breakpoints[breakpoint];
                        }
                    } else {
                        if (respondToWidth > _.breakpoints[breakpoint]) {
                            targetBreakpoint = _.breakpoints[breakpoint];
                        }
                    }
                }
            }

            if (targetBreakpoint !== null) {
                if (_.activeBreakpoint !== null) {
                    if (targetBreakpoint !== _.activeBreakpoint || forceUpdate) {
                        _.activeBreakpoint =
                            targetBreakpoint;
                        if (_.breakpointSettings[targetBreakpoint] === 'unslick') {
                            _.unslick(targetBreakpoint);
                        } else {
                            _.options = $.extend({}, _.originalSettings,
                                _.breakpointSettings[
                                    targetBreakpoint]);
                            if (initial === true) {
                                _.currentSlide = _.options.initialSlide;
                            }
                            _.refresh(initial);
                        }
                        triggerBreakpoint = targetBreakpoint;
                    }
                } else {
                    _.activeBreakpoint = targetBreakpoint;
                    if (_.breakpointSettings[targetBreakpoint] === 'unslick') {
                        _.unslick(targetBreakpoint);
                    } else {
                        _.options = $.extend({}, _.originalSettings,
                            _.breakpointSettings[
                                targetBreakpoint]);
                        if (initial === true) {
                            _.currentSlide = _.options.initialSlide;
                        }
                        _.refresh(initial);
                    }
                    triggerBreakpoint = targetBreakpoint;
                }
            } else {
                if (_.activeBreakpoint !== null) {
                    _.activeBreakpoint = null;
                    _.options = _.originalSettings;
                    if (initial === true) {
                        _.currentSlide = _.options.initialSlide;
                    }
                    _.refresh(initial);
                    triggerBreakpoint = targetBreakpoint;
                }
            }

            // only trigger breakpoints during an actual break. not on initialize.
            if( !initial && triggerBreakpoint !== false ) {
                _.$slider.trigger('breakpoint', [_, triggerBreakpoint]);
            }
        }

    };

    Slick.prototype.changeSlide = function(event, dontAnimate) {

        var _ = this,
            $target = $(event.currentTarget),
            indexOffset, slideOffset, unevenOffset;

        // If target is a link, prevent default action.
        if($target.is('a')) {
            event.preventDefault();
        }

        // If target is not the <li> element (ie: a child), find the <li>.
        if(!$target.is('li')) {
            $target = $target.closest('li');
        }

        unevenOffset = (_.slideCount % _.options.slidesToScroll !== 0);
        indexOffset = unevenOffset ? 0 : (_.slideCount - _.currentSlide) % _.options.slidesToScroll;

        switch (event.data.message) {

            case 'previous':
                slideOffset = indexOffset === 0 ? _.options.slidesToScroll : _.options.slidesToShow - indexOffset;
                if (_.slideCount > _.options.slidesToShow) {
                    _.slideHandler(_.currentSlide - slideOffset, false, dontAnimate);
                }
                break;

            case 'next':
                slideOffset = indexOffset === 0 ? _.options.slidesToScroll : indexOffset;
                if (_.slideCount > _.options.slidesToShow) {
                    _.slideHandler(_.currentSlide + slideOffset, false, dontAnimate);
                }
                break;

            case 'index':
                var index = event.data.index === 0 ? 0 :
                    event.data.index || $target.index() * _.options.slidesToScroll;

                _.slideHandler(_.checkNavigable(index), false, dontAnimate);
                $target.children().trigger('focus');
                break;

            default:
                return;
        }

    };

    Slick.prototype.checkNavigable = function(index) {

        var _ = this,
            navigables, prevNavigable;

        navigables = _.getNavigableIndexes();
        prevNavigable = 0;
        if (index > navigables[navigables.length - 1]) {
            index = navigables[navigables.length - 1];
        } else {
            for (var n in navigables) {
                if (index < navigables[n]) {
                    index = prevNavigable;
                    break;
                }
                prevNavigable = navigables[n];
            }
        }

        return index;
    };

    Slick.prototype.cleanUpEvents = function() {

        var _ = this;

        if (_.options.dots && _.$dots !== null) {

            $('li', _.$dots)
                .off('click.slick', _.changeSlide)
                .off('mouseenter.slick', $.proxy(_.interrupt, _, true))
                .off('mouseleave.slick', $.proxy(_.interrupt, _, false));

            if (_.options.accessibility === true) {
                _.$dots.off('keydown.slick', _.keyHandler);
            }
        }

        _.$slider.off('focus.slick blur.slick');

        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {
            _.$prevArrow && _.$prevArrow.off('click.slick', _.changeSlide);
            _.$nextArrow && _.$nextArrow.off('click.slick', _.changeSlide);

            if (_.options.accessibility === true) {
                _.$prevArrow && _.$prevArrow.off('keydown.slick', _.keyHandler);
                _.$nextArrow && _.$nextArrow.off('keydown.slick', _.keyHandler);
            }
        }

        _.$list.off('touchstart.slick mousedown.slick', _.swipeHandler);
        _.$list.off('touchmove.slick mousemove.slick', _.swipeHandler);
        _.$list.off('touchend.slick mouseup.slick', _.swipeHandler);
        _.$list.off('touchcancel.slick mouseleave.slick', _.swipeHandler);

        _.$list.off('click.slick', _.clickHandler);

        $(document).off(_.visibilityChange, _.visibility);

        _.cleanUpSlideEvents();

        if (_.options.accessibility === true) {
            _.$list.off('keydown.slick', _.keyHandler);
        }

        if (_.options.focusOnSelect === true) {
            $(_.$slideTrack).children().off('click.slick', _.selectHandler);
        }

        $(window).off('orientationchange.slick.slick-' + _.instanceUid, _.orientationChange);

        $(window).off('resize.slick.slick-' + _.instanceUid, _.resize);

        $('[draggable!=true]', _.$slideTrack).off('dragstart', _.preventDefault);

        $(window).off('load.slick.slick-' + _.instanceUid, _.setPosition);

    };

    Slick.prototype.cleanUpSlideEvents = function() {

        var _ = this;

        _.$list.off('mouseenter.slick', $.proxy(_.interrupt, _, true));
        _.$list.off('mouseleave.slick', $.proxy(_.interrupt, _, false));

    };

    Slick.prototype.cleanUpRows = function() {

        var _ = this, originalSlides;

        if(_.options.rows > 1) {
            originalSlides = _.$slides.children().children();
            originalSlides.removeAttr('style');
            _.$slider.empty().append(originalSlides);
        }

    };

    Slick.prototype.clickHandler = function(event) {

        var _ = this;

        if (_.shouldClick === false) {
            event.stopImmediatePropagation();
            event.stopPropagation();
            event.preventDefault();
        }

    };

    Slick.prototype.destroy = function(refresh) {

        var _ = this;

        _.autoPlayClear();

        _.touchObject = {};

        _.cleanUpEvents();

        $('.slick-cloned', _.$slider).detach();

        if (_.$dots) {
            _.$dots.remove();
        }

        if ( _.$prevArrow && _.$prevArrow.length ) {

            _.$prevArrow
                .removeClass('slick-disabled slick-arrow slick-hidden')
                .removeAttr('aria-hidden aria-disabled tabindex')
                .css('display','');

            if ( _.htmlExpr.test( _.options.prevArrow )) {
                _.$prevArrow.remove();
            }
        }

        if ( _.$nextArrow && _.$nextArrow.length ) {

            _.$nextArrow
                .removeClass('slick-disabled slick-arrow slick-hidden')
                .removeAttr('aria-hidden aria-disabled tabindex')
                .css('display','');

            if ( _.htmlExpr.test( _.options.nextArrow )) {
                _.$nextArrow.remove();
            }
        }


        if (_.$slides) {

            _.$slides
                .removeClass('slick-slide slick-active slick-center slick-visible slick-current')
                .removeAttr('aria-hidden')
                .removeAttr('data-slick-index')
                .each(function(){
                    $(this).attr('style', $(this).data('originalStyling'));
                });

            _.$slideTrack.children(this.options.slide).detach();

            _.$slideTrack.detach();

            _.$list.detach();

            _.$slider.append(_.$slides);
        }

        _.cleanUpRows();

        _.$slider.removeClass('slick-slider');
        _.$slider.removeClass('slick-initialized');
        _.$slider.removeClass('slick-dotted');

        _.unslicked = true;

        if(!refresh) {
            _.$slider.trigger('destroy', [_]);
        }

    };

    Slick.prototype.disableTransition = function(slide) {

        var _ = this,
            transition = {};

        transition[_.transitionType] = '';

        if (_.options.fade === false) {
            _.$slideTrack.css(transition);
        } else {
            _.$slides.eq(slide).css(transition);
        }

    };

    Slick.prototype.fadeSlide = function(slideIndex, callback) {

        var _ = this;

        if (_.cssTransitions === false) {

            _.$slides.eq(slideIndex).css({
                zIndex: _.options.zIndex
            });

            _.$slides.eq(slideIndex).animate({
                opacity: 1
            }, _.options.speed, _.options.easing, callback);

        } else {

            _.applyTransition(slideIndex);

            _.$slides.eq(slideIndex).css({
                opacity: 1,
                zIndex: _.options.zIndex
            });

            if (callback) {
                setTimeout(function() {

                    _.disableTransition(slideIndex);

                    callback.call();
                }, _.options.speed);
            }

        }

    };

    Slick.prototype.fadeSlideOut = function(slideIndex) {

        var _ = this;

        if (_.cssTransitions === false) {

            _.$slides.eq(slideIndex).animate({
                opacity: 0,
                zIndex: _.options.zIndex - 2
            }, _.options.speed, _.options.easing);

        } else {

            _.applyTransition(slideIndex);

            _.$slides.eq(slideIndex).css({
                opacity: 0,
                zIndex: _.options.zIndex - 2
            });

        }

    };

    Slick.prototype.filterSlides = Slick.prototype.slickFilter = function(filter) {

        var _ = this;

        if (filter !== null) {

            _.$slidesCache = _.$slides;

            _.unload();

            _.$slideTrack.children(this.options.slide).detach();

            _.$slidesCache.filter(filter).appendTo(_.$slideTrack);

            _.reinit();

        }

    };

    Slick.prototype.focusHandler = function() {

        var _ = this;

        _.$slider
            .off('focus.slick blur.slick')
            .on('focus.slick blur.slick', '*', function(event) {

            event.stopImmediatePropagation();
            var $sf = $(this);

            setTimeout(function() {

                if( _.options.pauseOnFocus ) {
                    _.focussed = $sf.is(':focus');
                    _.autoPlay();
                }

            }, 0);

        });
    };

    Slick.prototype.getCurrent = Slick.prototype.slickCurrentSlide = function() {

        var _ = this;
        return _.currentSlide;

    };

    Slick.prototype.getDotCount = function() {

        var _ = this;

        var breakPoint = 0;
        var counter = 0;
        var pagerQty = 0;

        if (_.options.infinite === true) {
            if (_.slideCount <= _.options.slidesToShow) {
                 ++pagerQty;
            } else {
                while (breakPoint < _.slideCount) {
                    ++pagerQty;
                    breakPoint = counter + _.options.slidesToScroll;
                    counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;
                }
            }
        } else if (_.options.centerMode === true) {
            pagerQty = _.slideCount;
        } else if(!_.options.asNavFor) {
            pagerQty = 1 + Math.ceil((_.slideCount - _.options.slidesToShow) / _.options.slidesToScroll);
        }else {
            while (breakPoint < _.slideCount) {
                ++pagerQty;
                breakPoint = counter + _.options.slidesToScroll;
                counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;
            }
        }

        return pagerQty - 1;

    };

    Slick.prototype.getLeft = function(slideIndex) {

        var _ = this,
            targetLeft,
            verticalHeight,
            verticalOffset = 0,
            targetSlide,
            coef;

        _.slideOffset = 0;
        verticalHeight = _.$slides.first().outerHeight(true);

        if (_.options.infinite === true) {
            if (_.slideCount > _.options.slidesToShow) {
                _.slideOffset = (_.slideWidth * _.options.slidesToShow) * -1;
                coef = -1

                if (_.options.vertical === true && _.options.centerMode === true) {
                    if (_.options.slidesToShow === 2) {
                        coef = -1.5;
                    } else if (_.options.slidesToShow === 1) {
                        coef = -2
                    }
                }
                verticalOffset = (verticalHeight * _.options.slidesToShow) * coef;
            }
            if (_.slideCount % _.options.slidesToScroll !== 0) {
                if (slideIndex + _.options.slidesToScroll > _.slideCount && _.slideCount > _.options.slidesToShow) {
                    if (slideIndex > _.slideCount) {
                        _.slideOffset = ((_.options.slidesToShow - (slideIndex - _.slideCount)) * _.slideWidth) * -1;
                        verticalOffset = ((_.options.slidesToShow - (slideIndex - _.slideCount)) * verticalHeight) * -1;
                    } else {
                        _.slideOffset = ((_.slideCount % _.options.slidesToScroll) * _.slideWidth) * -1;
                        verticalOffset = ((_.slideCount % _.options.slidesToScroll) * verticalHeight) * -1;
                    }
                }
            }
        } else {
            if (slideIndex + _.options.slidesToShow > _.slideCount) {
                _.slideOffset = ((slideIndex + _.options.slidesToShow) - _.slideCount) * _.slideWidth;
                verticalOffset = ((slideIndex + _.options.slidesToShow) - _.slideCount) * verticalHeight;
            }
        }

        if (_.slideCount <= _.options.slidesToShow) {
            _.slideOffset = 0;
            verticalOffset = 0;
        }

        if (_.options.centerMode === true && _.slideCount <= _.options.slidesToShow) {
            _.slideOffset = ((_.slideWidth * Math.floor(_.options.slidesToShow)) / 2) - ((_.slideWidth * _.slideCount) / 2);
        } else if (_.options.centerMode === true && _.options.infinite === true) {
            _.slideOffset += _.slideWidth * Math.floor(_.options.slidesToShow / 2) - _.slideWidth;
        } else if (_.options.centerMode === true) {
            _.slideOffset = 0;
            _.slideOffset += _.slideWidth * Math.floor(_.options.slidesToShow / 2);
        }

        if (_.options.vertical === false) {
            targetLeft = ((slideIndex * _.slideWidth) * -1) + _.slideOffset;
        } else {
            targetLeft = ((slideIndex * verticalHeight) * -1) + verticalOffset;
        }

        if (_.options.variableWidth === true) {

            if (_.slideCount <= _.options.slidesToShow || _.options.infinite === false) {
                targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex);
            } else {
                targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex + _.options.slidesToShow);
            }

            if (_.options.rtl === true) {
                if (targetSlide[0]) {
                    targetLeft = (_.$slideTrack.width() - targetSlide[0].offsetLeft - targetSlide.width()) * -1;
                } else {
                    targetLeft =  0;
                }
            } else {
                targetLeft = targetSlide[0] ? targetSlide[0].offsetLeft * -1 : 0;
            }

            if (_.options.centerMode === true) {
                if (_.slideCount <= _.options.slidesToShow || _.options.infinite === false) {
                    targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex);
                } else {
                    targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex + _.options.slidesToShow + 1);
                }

                if (_.options.rtl === true) {
                    if (targetSlide[0]) {
                        targetLeft = (_.$slideTrack.width() - targetSlide[0].offsetLeft - targetSlide.width()) * -1;
                    } else {
                        targetLeft =  0;
                    }
                } else {
                    targetLeft = targetSlide[0] ? targetSlide[0].offsetLeft * -1 : 0;
                }

                targetLeft += (_.$list.width() - targetSlide.outerWidth()) / 2;
            }
        }

        return targetLeft;

    };

    Slick.prototype.getOption = Slick.prototype.slickGetOption = function(option) {

        var _ = this;

        return _.options[option];

    };

    Slick.prototype.getNavigableIndexes = function() {

        var _ = this,
            breakPoint = 0,
            counter = 0,
            indexes = [],
            max;

        if (_.options.infinite === false) {
            max = _.slideCount;
        } else {
            breakPoint = _.options.slidesToScroll * -1;
            counter = _.options.slidesToScroll * -1;
            max = _.slideCount * 2;
        }

        while (breakPoint < max) {
            indexes.push(breakPoint);
            breakPoint = counter + _.options.slidesToScroll;
            counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;
        }

        return indexes;

    };

    Slick.prototype.getSlick = function() {

        return this;

    };

    Slick.prototype.getSlideCount = function() {

        var _ = this,
            slidesTraversed, swipedSlide, centerOffset;

        centerOffset = _.options.centerMode === true ? _.slideWidth * Math.floor(_.options.slidesToShow / 2) : 0;

        if (_.options.swipeToSlide === true) {
            _.$slideTrack.find('.slick-slide').each(function(index, slide) {
                if (slide.offsetLeft - centerOffset + ($(slide).outerWidth() / 2) > (_.swipeLeft * -1)) {
                    swipedSlide = slide;
                    return false;
                }
            });

            slidesTraversed = Math.abs($(swipedSlide).attr('data-slick-index') - _.currentSlide) || 1;

            return slidesTraversed;

        } else {
            return _.options.slidesToScroll;
        }

    };

    Slick.prototype.goTo = Slick.prototype.slickGoTo = function(slide, dontAnimate) {

        var _ = this;

        _.changeSlide({
            data: {
                message: 'index',
                index: parseInt(slide)
            }
        }, dontAnimate);

    };

    Slick.prototype.init = function(creation) {

        var _ = this;

        if (!$(_.$slider).hasClass('slick-initialized')) {

            $(_.$slider).addClass('slick-initialized');

            _.buildRows();
            _.buildOut();
            _.setProps();
            _.startLoad();
            _.loadSlider();
            _.initializeEvents();
            _.updateArrows();
            _.updateDots();
            _.checkResponsive(true);
            _.focusHandler();

        }

        if (creation) {
            _.$slider.trigger('init', [_]);
        }

        if (_.options.accessibility === true) {
            _.initADA();
        }

        if ( _.options.autoplay ) {

            _.paused = false;
            _.autoPlay();

        }

    };

    Slick.prototype.initADA = function() {
        var _ = this,
                numDotGroups = Math.ceil(_.slideCount / _.options.slidesToShow),
                tabControlIndexes = _.getNavigableIndexes().filter(function(val) {
                    return (val >= 0) && (val < _.slideCount);
                });

        _.$slides.add(_.$slideTrack.find('.slick-cloned')).attr({
            'aria-hidden': 'true',
            'tabindex': '-1'
        }).find('a, input, button, select').attr({
            'tabindex': '-1'
        });

        if (_.$dots !== null) {
            _.$slides.not(_.$slideTrack.find('.slick-cloned')).each(function(i) {
                var slideControlIndex = tabControlIndexes.indexOf(i);

                $(this).attr({
                    'role': 'tabpanel',
                    'id': 'slick-slide' + _.instanceUid + i,
                    'tabindex': -1
                });

                if (slideControlIndex !== -1) {
                    $(this).attr({
                        'aria-describedby': 'slick-slide-control' + _.instanceUid + slideControlIndex
                    });
                }
            });

            _.$dots.attr('role', 'tablist').find('li').each(function(i) {
                var mappedSlideIndex = tabControlIndexes[i];

                $(this).attr({
                    'role': 'presentation'
                });

                $(this).find('button').first().attr({
                    'role': 'tab',
                    'id': 'slick-slide-control' + _.instanceUid + i,
                    'aria-controls': 'slick-slide' + _.instanceUid + mappedSlideIndex,
                    'aria-label': (i + 1) + ' of ' + numDotGroups,
                    'aria-selected': null,
                    'tabindex': '-1'
                });

            }).eq(_.currentSlide).find('button').attr({
                'aria-selected': 'true',
                'tabindex': '0'
            }).end();
        }

        for (var i=_.currentSlide, max=i+_.options.slidesToShow; i < max; i++) {
            _.$slides.eq(i).attr('tabindex', 0);
        }

        _.activateADA();

    };

    Slick.prototype.initArrowEvents = function() {

        var _ = this;

        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {
            _.$prevArrow
               .off('click.slick')
               .on('click.slick', {
                    message: 'previous'
               }, _.changeSlide);
            _.$nextArrow
               .off('click.slick')
               .on('click.slick', {
                    message: 'next'
               }, _.changeSlide);

            if (_.options.accessibility === true) {
                _.$prevArrow.on('keydown.slick', _.keyHandler);
                _.$nextArrow.on('keydown.slick', _.keyHandler);
            }
        }

    };

    Slick.prototype.initDotEvents = function() {

        var _ = this;

        if (_.options.dots === true) {
            $('li', _.$dots).on('click.slick', {
                message: 'index'
            }, _.changeSlide);

            if (_.options.accessibility === true) {
                _.$dots.on('keydown.slick', _.keyHandler);
            }
        }

        if ( _.options.dots === true && _.options.pauseOnDotsHover === true ) {

            $('li', _.$dots)
                .on('mouseenter.slick', $.proxy(_.interrupt, _, true))
                .on('mouseleave.slick', $.proxy(_.interrupt, _, false));

        }

    };

    Slick.prototype.initSlideEvents = function() {

        var _ = this;

        if ( _.options.pauseOnHover ) {

            _.$list.on('mouseenter.slick', $.proxy(_.interrupt, _, true));
            _.$list.on('mouseleave.slick', $.proxy(_.interrupt, _, false));

        }

    };

    Slick.prototype.initializeEvents = function() {

        var _ = this;

        _.initArrowEvents();

        _.initDotEvents();
        _.initSlideEvents();

        _.$list.on('touchstart.slick mousedown.slick', {
            action: 'start'
        }, _.swipeHandler);
        _.$list.on('touchmove.slick mousemove.slick', {
            action: 'move'
        }, _.swipeHandler);
        _.$list.on('touchend.slick mouseup.slick', {
            action: 'end'
        }, _.swipeHandler);
        _.$list.on('touchcancel.slick mouseleave.slick', {
            action: 'end'
        }, _.swipeHandler);

        _.$list.on('click.slick', _.clickHandler);

        $(document).on(_.visibilityChange, $.proxy(_.visibility, _));

        if (_.options.accessibility === true) {
            _.$list.on('keydown.slick', _.keyHandler);
        }

        if (_.options.focusOnSelect === true) {
            $(_.$slideTrack).children().on('click.slick', _.selectHandler);
        }

        $(window).on('orientationchange.slick.slick-' + _.instanceUid, $.proxy(_.orientationChange, _));

        $(window).on('resize.slick.slick-' + _.instanceUid, $.proxy(_.resize, _));

        $('[draggable!=true]', _.$slideTrack).on('dragstart', _.preventDefault);

        $(window).on('load.slick.slick-' + _.instanceUid, _.setPosition);
        $(_.setPosition);

    };

    Slick.prototype.initUI = function() {

        var _ = this;

        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {

            _.$prevArrow.show();
            _.$nextArrow.show();

        }

        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {

            _.$dots.show();

        }

    };

    Slick.prototype.keyHandler = function(event) {

        var _ = this;
         //Dont slide if the cursor is inside the form fields and arrow keys are pressed
        if(!event.target.tagName.match('TEXTAREA|INPUT|SELECT')) {
            if (event.keyCode === 37 && _.options.accessibility === true) {
                _.changeSlide({
                    data: {
                        message: _.options.rtl === true ? 'next' :  'previous'
                    }
                });
            } else if (event.keyCode === 39 && _.options.accessibility === true) {
                _.changeSlide({
                    data: {
                        message: _.options.rtl === true ? 'previous' : 'next'
                    }
                });
            }
        }

    };

    Slick.prototype.lazyLoad = function() {

        var _ = this,
            loadRange, cloneRange, rangeStart, rangeEnd;

        function loadImages(imagesScope) {

            $('img[data-lazy]', imagesScope).each(function() {

                var image = $(this),
                    imageSource = $(this).attr('data-lazy'),
                    imageSrcSet = $(this).attr('data-srcset'),
                    imageSizes  = $(this).attr('data-sizes') || _.$slider.attr('data-sizes'),
                    imageToLoad = document.createElement('img');

                imageToLoad.onload = function() {

                    image
                        .animate({ opacity: 0 }, 100, function() {

                            if (imageSrcSet) {
                                image
                                    .attr('srcset', imageSrcSet );

                                if (imageSizes) {
                                    image
                                        .attr('sizes', imageSizes );
                                }
                            }

                            image
                                .attr('src', imageSource)
                                .animate({ opacity: 1 }, 200, function() {
                                    image
                                        .removeAttr('data-lazy data-srcset data-sizes')
                                        .removeClass('slick-loading');
                                });
                            _.$slider.trigger('lazyLoaded', [_, image, imageSource]);
                        });

                };

                imageToLoad.onerror = function() {

                    image
                        .removeAttr( 'data-lazy' )
                        .removeClass( 'slick-loading' )
                        .addClass( 'slick-lazyload-error' );

                    _.$slider.trigger('lazyLoadError', [ _, image, imageSource ]);

                };

                imageToLoad.src = imageSource;

            });

        }

        if (_.options.centerMode === true) {
            if (_.options.infinite === true) {
                rangeStart = _.currentSlide + (_.options.slidesToShow / 2 + 1);
                rangeEnd = rangeStart + _.options.slidesToShow + 2;
            } else {
                rangeStart = Math.max(0, _.currentSlide - (_.options.slidesToShow / 2 + 1));
                rangeEnd = 2 + (_.options.slidesToShow / 2 + 1) + _.currentSlide;
            }
        } else {
            rangeStart = _.options.infinite ? _.options.slidesToShow + _.currentSlide : _.currentSlide;
            rangeEnd = Math.ceil(rangeStart + _.options.slidesToShow);
            if (_.options.fade === true) {
                if (rangeStart > 0) rangeStart--;
                if (rangeEnd <= _.slideCount) rangeEnd++;
            }
        }

        loadRange = _.$slider.find('.slick-slide').slice(rangeStart, rangeEnd);

        if (_.options.lazyLoad === 'anticipated') {
            var prevSlide = rangeStart - 1,
                nextSlide = rangeEnd,
                $slides = _.$slider.find('.slick-slide');

            for (var i = 0; i < _.options.slidesToScroll; i++) {
                if (prevSlide < 0) prevSlide = _.slideCount - 1;
                loadRange = loadRange.add($slides.eq(prevSlide));
                loadRange = loadRange.add($slides.eq(nextSlide));
                prevSlide--;
                nextSlide++;
            }
        }

        loadImages(loadRange);

        if (_.slideCount <= _.options.slidesToShow) {
            cloneRange = _.$slider.find('.slick-slide');
            loadImages(cloneRange);
        } else
        if (_.currentSlide >= _.slideCount - _.options.slidesToShow) {
            cloneRange = _.$slider.find('.slick-cloned').slice(0, _.options.slidesToShow);
            loadImages(cloneRange);
        } else if (_.currentSlide === 0) {
            cloneRange = _.$slider.find('.slick-cloned').slice(_.options.slidesToShow * -1);
            loadImages(cloneRange);
        }

    };

    Slick.prototype.loadSlider = function() {

        var _ = this;

        _.setPosition();

        _.$slideTrack.css({
            opacity: 1
        });

        _.$slider.removeClass('slick-loading');

        _.initUI();

        if (_.options.lazyLoad === 'progressive') {
            _.progressiveLazyLoad();
        }

    };

    Slick.prototype.next = Slick.prototype.slickNext = function() {

        var _ = this;

        _.changeSlide({
            data: {
                message: 'next'
            }
        });

    };

    Slick.prototype.orientationChange = function() {

        var _ = this;

        _.checkResponsive();
        _.setPosition();

    };

    Slick.prototype.pause = Slick.prototype.slickPause = function() {

        var _ = this;

        _.autoPlayClear();
        _.paused = true;

    };

    Slick.prototype.play = Slick.prototype.slickPlay = function() {

        var _ = this;

        _.autoPlay();
        _.options.autoplay = true;
        _.paused = false;
        _.focussed = false;
        _.interrupted = false;

    };

    Slick.prototype.postSlide = function(index) {

        var _ = this;

        if( !_.unslicked ) {

            _.$slider.trigger('afterChange', [_, index]);

            _.animating = false;

            if (_.slideCount > _.options.slidesToShow) {
                _.setPosition();
            }

            _.swipeLeft = null;

            if ( _.options.autoplay ) {
                _.autoPlay();
            }

            if (_.options.accessibility === true) {
                _.initADA();
                
                if (_.options.focusOnChange) {
                    var $currentSlide = $(_.$slides.get(_.currentSlide));
                    $currentSlide.attr('tabindex', 0).focus();
                }
            }

        }

    };

    Slick.prototype.prev = Slick.prototype.slickPrev = function() {

        var _ = this;

        _.changeSlide({
            data: {
                message: 'previous'
            }
        });

    };

    Slick.prototype.preventDefault = function(event) {

        event.preventDefault();

    };

    Slick.prototype.progressiveLazyLoad = function( tryCount ) {

        tryCount = tryCount || 1;

        var _ = this,
            $imgsToLoad = $( 'img[data-lazy]', _.$slider ),
            image,
            imageSource,
            imageSrcSet,
            imageSizes,
            imageToLoad;

        if ( $imgsToLoad.length ) {

            image = $imgsToLoad.first();
            imageSource = image.attr('data-lazy');
            imageSrcSet = image.attr('data-srcset');
            imageSizes  = image.attr('data-sizes') || _.$slider.attr('data-sizes');
            imageToLoad = document.createElement('img');

            imageToLoad.onload = function() {

                if (imageSrcSet) {
                    image
                        .attr('srcset', imageSrcSet );

                    if (imageSizes) {
                        image
                            .attr('sizes', imageSizes );
                    }
                }

                image
                    .attr( 'src', imageSource )
                    .removeAttr('data-lazy data-srcset data-sizes')
                    .removeClass('slick-loading');

                if ( _.options.adaptiveHeight === true ) {
                    _.setPosition();
                }

                _.$slider.trigger('lazyLoaded', [ _, image, imageSource ]);
                _.progressiveLazyLoad();

            };

            imageToLoad.onerror = function() {

                if ( tryCount < 3 ) {

                    /**
                     * try to load the image 3 times,
                     * leave a slight delay so we don't get
                     * servers blocking the request.
                     */
                    setTimeout( function() {
                        _.progressiveLazyLoad( tryCount + 1 );
                    }, 500 );

                } else {

                    image
                        .removeAttr( 'data-lazy' )
                        .removeClass( 'slick-loading' )
                        .addClass( 'slick-lazyload-error' );

                    _.$slider.trigger('lazyLoadError', [ _, image, imageSource ]);

                    _.progressiveLazyLoad();

                }

            };

            imageToLoad.src = imageSource;

        } else {

            _.$slider.trigger('allImagesLoaded', [ _ ]);

        }

    };

    Slick.prototype.refresh = function( initializing ) {

        var _ = this, currentSlide, lastVisibleIndex;

        lastVisibleIndex = _.slideCount - _.options.slidesToShow;

        // in non-infinite sliders, we don't want to go past the
        // last visible index.
        if( !_.options.infinite && ( _.currentSlide > lastVisibleIndex )) {
            _.currentSlide = lastVisibleIndex;
        }

        // if less slides than to show, go to start.
        if ( _.slideCount <= _.options.slidesToShow ) {
            _.currentSlide = 0;

        }

        currentSlide = _.currentSlide;

        _.destroy(true);

        $.extend(_, _.initials, { currentSlide: currentSlide });

        _.init();

        if( !initializing ) {

            _.changeSlide({
                data: {
                    message: 'index',
                    index: currentSlide
                }
            }, false);

        }

    };

    Slick.prototype.registerBreakpoints = function() {

        var _ = this, breakpoint, currentBreakpoint, l,
            responsiveSettings = _.options.responsive || null;

        if ( $.type(responsiveSettings) === 'array' && responsiveSettings.length ) {

            _.respondTo = _.options.respondTo || 'window';

            for ( breakpoint in responsiveSettings ) {

                l = _.breakpoints.length-1;

                if (responsiveSettings.hasOwnProperty(breakpoint)) {
                    currentBreakpoint = responsiveSettings[breakpoint].breakpoint;

                    // loop through the breakpoints and cut out any existing
                    // ones with the same breakpoint number, we don't want dupes.
                    while( l >= 0 ) {
                        if( _.breakpoints[l] && _.breakpoints[l] === currentBreakpoint ) {
                            _.breakpoints.splice(l,1);
                        }
                        l--;
                    }

                    _.breakpoints.push(currentBreakpoint);
                    _.breakpointSettings[currentBreakpoint] = responsiveSettings[breakpoint].settings;

                }

            }

            _.breakpoints.sort(function(a, b) {
                return ( _.options.mobileFirst ) ? a-b : b-a;
            });

        }

    };

    Slick.prototype.reinit = function() {

        var _ = this;

        _.$slides =
            _.$slideTrack
                .children(_.options.slide)
                .addClass('slick-slide');

        _.slideCount = _.$slides.length;

        if (_.currentSlide >= _.slideCount && _.currentSlide !== 0) {
            _.currentSlide = _.currentSlide - _.options.slidesToScroll;
        }

        if (_.slideCount <= _.options.slidesToShow) {
            _.currentSlide = 0;
        }

        _.registerBreakpoints();

        _.setProps();
        _.setupInfinite();
        _.buildArrows();
        _.updateArrows();
        _.initArrowEvents();
        _.buildDots();
        _.updateDots();
        _.initDotEvents();
        _.cleanUpSlideEvents();
        _.initSlideEvents();

        _.checkResponsive(false, true);

        if (_.options.focusOnSelect === true) {
            $(_.$slideTrack).children().on('click.slick', _.selectHandler);
        }

        _.setSlideClasses(typeof _.currentSlide === 'number' ? _.currentSlide : 0);

        _.setPosition();
        _.focusHandler();

        _.paused = !_.options.autoplay;
        _.autoPlay();

        _.$slider.trigger('reInit', [_]);

    };

    Slick.prototype.resize = function() {

        var _ = this;

        if ($(window).width() !== _.windowWidth) {
            clearTimeout(_.windowDelay);
            _.windowDelay = window.setTimeout(function() {
                _.windowWidth = $(window).width();
                _.checkResponsive();
                if( !_.unslicked ) { _.setPosition(); }
            }, 50);
        }
    };

    Slick.prototype.removeSlide = Slick.prototype.slickRemove = function(index, removeBefore, removeAll) {

        var _ = this;

        if (typeof(index) === 'boolean') {
            removeBefore = index;
            index = removeBefore === true ? 0 : _.slideCount - 1;
        } else {
            index = removeBefore === true ? --index : index;
        }

        if (_.slideCount < 1 || index < 0 || index > _.slideCount - 1) {
            return false;
        }

        _.unload();

        if (removeAll === true) {
            _.$slideTrack.children().remove();
        } else {
            _.$slideTrack.children(this.options.slide).eq(index).remove();
        }

        _.$slides = _.$slideTrack.children(this.options.slide);

        _.$slideTrack.children(this.options.slide).detach();

        _.$slideTrack.append(_.$slides);

        _.$slidesCache = _.$slides;

        _.reinit();

    };

    Slick.prototype.setCSS = function(position) {

        var _ = this,
            positionProps = {},
            x, y;

        if (_.options.rtl === true) {
            position = -position;
        }
        x = _.positionProp == 'left' ? Math.ceil(position) + 'px' : '0px';
        y = _.positionProp == 'top' ? Math.ceil(position) + 'px' : '0px';

        positionProps[_.positionProp] = position;

        if (_.transformsEnabled === false) {
            _.$slideTrack.css(positionProps);
        } else {
            positionProps = {};
            if (_.cssTransitions === false) {
                positionProps[_.animType] = 'translate(' + x + ', ' + y + ')';
                _.$slideTrack.css(positionProps);
            } else {
                positionProps[_.animType] = 'translate3d(' + x + ', ' + y + ', 0px)';
                _.$slideTrack.css(positionProps);
            }
        }

    };

    Slick.prototype.setDimensions = function() {

        var _ = this;

        if (_.options.vertical === false) {
            if (_.options.centerMode === true) {
                _.$list.css({
                    padding: ('0px ' + _.options.centerPadding)
                });
            }
        } else {
            _.$list.height(_.$slides.first().outerHeight(true) * _.options.slidesToShow);
            if (_.options.centerMode === true) {
                _.$list.css({
                    padding: (_.options.centerPadding + ' 0px')
                });
            }
        }

        _.listWidth = _.$list.width();
        _.listHeight = _.$list.height();


        if (_.options.vertical === false && _.options.variableWidth === false) {
            _.slideWidth = Math.ceil(_.listWidth / _.options.slidesToShow);
            _.$slideTrack.width(Math.ceil((_.slideWidth * _.$slideTrack.children('.slick-slide').length)));

        } else if (_.options.variableWidth === true) {
            _.$slideTrack.width(5000 * _.slideCount);
        } else {
            _.slideWidth = Math.ceil(_.listWidth);
            _.$slideTrack.height(Math.ceil((_.$slides.first().outerHeight(true) * _.$slideTrack.children('.slick-slide').length)));
        }

        var offset = _.$slides.first().outerWidth(true) - _.$slides.first().width();
        if (_.options.variableWidth === false) _.$slideTrack.children('.slick-slide').width(_.slideWidth - offset);

    };

    Slick.prototype.setFade = function() {

        var _ = this,
            targetLeft;

        _.$slides.each(function(index, element) {
            targetLeft = (_.slideWidth * index) * -1;
            if (_.options.rtl === true) {
                $(element).css({
                    position: 'relative',
                    right: targetLeft,
                    top: 0,
                    zIndex: _.options.zIndex - 2,
                    opacity: 0
                });
            } else {
                $(element).css({
                    position: 'relative',
                    left: targetLeft,
                    top: 0,
                    zIndex: _.options.zIndex - 2,
                    opacity: 0
                });
            }
        });

        _.$slides.eq(_.currentSlide).css({
            zIndex: _.options.zIndex - 1,
            opacity: 1
        });

    };

    Slick.prototype.setHeight = function() {

        var _ = this;

        if (_.options.slidesToShow === 1 && _.options.adaptiveHeight === true && _.options.vertical === false) {
            var targetHeight = _.$slides.eq(_.currentSlide).outerHeight(true);
            _.$list.css('height', targetHeight);
        }

    };

    Slick.prototype.setOption =
    Slick.prototype.slickSetOption = function() {

        /**
         * accepts arguments in format of:
         *
         *  - for changing a single option's value:
         *     .slick("setOption", option, value, refresh )
         *
         *  - for changing a set of responsive options:
         *     .slick("setOption", 'responsive', [{}, ...], refresh )
         *
         *  - for updating multiple values at once (not responsive)
         *     .slick("setOption", { 'option': value, ... }, refresh )
         */

        var _ = this, l, item, option, value, refresh = false, type;

        if( $.type( arguments[0] ) === 'object' ) {

            option =  arguments[0];
            refresh = arguments[1];
            type = 'multiple';

        } else if ( $.type( arguments[0] ) === 'string' ) {

            option =  arguments[0];
            value = arguments[1];
            refresh = arguments[2];

            if ( arguments[0] === 'responsive' && $.type( arguments[1] ) === 'array' ) {

                type = 'responsive';

            } else if ( typeof arguments[1] !== 'undefined' ) {

                type = 'single';

            }

        }

        if ( type === 'single' ) {

            _.options[option] = value;


        } else if ( type === 'multiple' ) {

            $.each( option , function( opt, val ) {

                _.options[opt] = val;

            });


        } else if ( type === 'responsive' ) {

            for ( item in value ) {

                if( $.type( _.options.responsive ) !== 'array' ) {

                    _.options.responsive = [ value[item] ];

                } else {

                    l = _.options.responsive.length-1;

                    // loop through the responsive object and splice out duplicates.
                    while( l >= 0 ) {

                        if( _.options.responsive[l].breakpoint === value[item].breakpoint ) {

                            _.options.responsive.splice(l,1);

                        }

                        l--;

                    }

                    _.options.responsive.push( value[item] );

                }

            }

        }

        if ( refresh ) {

            _.unload();
            _.reinit();

        }

    };

    Slick.prototype.setPosition = function() {

        var _ = this;

        _.setDimensions();

        _.setHeight();

        if (_.options.fade === false) {
            _.setCSS(_.getLeft(_.currentSlide));
        } else {
            _.setFade();
        }

        _.$slider.trigger('setPosition', [_]);

    };

    Slick.prototype.setProps = function() {

        var _ = this,
            bodyStyle = document.body.style;

        _.positionProp = _.options.vertical === true ? 'top' : 'left';

        if (_.positionProp === 'top') {
            _.$slider.addClass('slick-vertical');
        } else {
            _.$slider.removeClass('slick-vertical');
        }

        if (bodyStyle.WebkitTransition !== undefined ||
            bodyStyle.MozTransition !== undefined ||
            bodyStyle.msTransition !== undefined) {
            if (_.options.useCSS === true) {
                _.cssTransitions = true;
            }
        }

        if ( _.options.fade ) {
            if ( typeof _.options.zIndex === 'number' ) {
                if( _.options.zIndex < 3 ) {
                    _.options.zIndex = 3;
                }
            } else {
                _.options.zIndex = _.defaults.zIndex;
            }
        }

        if (bodyStyle.OTransform !== undefined) {
            _.animType = 'OTransform';
            _.transformType = '-o-transform';
            _.transitionType = 'OTransition';
            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.webkitPerspective === undefined) _.animType = false;
        }
        if (bodyStyle.MozTransform !== undefined) {
            _.animType = 'MozTransform';
            _.transformType = '-moz-transform';
            _.transitionType = 'MozTransition';
            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.MozPerspective === undefined) _.animType = false;
        }
        if (bodyStyle.webkitTransform !== undefined) {
            _.animType = 'webkitTransform';
            _.transformType = '-webkit-transform';
            _.transitionType = 'webkitTransition';
            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.webkitPerspective === undefined) _.animType = false;
        }
        if (bodyStyle.msTransform !== undefined) {
            _.animType = 'msTransform';
            _.transformType = '-ms-transform';
            _.transitionType = 'msTransition';
            if (bodyStyle.msTransform === undefined) _.animType = false;
        }
        if (bodyStyle.transform !== undefined && _.animType !== false) {
            _.animType = 'transform';
            _.transformType = 'transform';
            _.transitionType = 'transition';
        }
        _.transformsEnabled = _.options.useTransform && (_.animType !== null && _.animType !== false);
    };


    Slick.prototype.setSlideClasses = function(index) {

        var _ = this,
            centerOffset, allSlides, indexOffset, remainder;

        allSlides = _.$slider
            .find('.slick-slide')
            .removeClass('slick-active slick-center slick-current')
            .attr('aria-hidden', 'true');

        _.$slides
            .eq(index)
            .addClass('slick-current');

        if (_.options.centerMode === true) {

            var evenCoef = _.options.slidesToShow % 2 === 0 ? 1 : 0;

            centerOffset = Math.floor(_.options.slidesToShow / 2);

            if (_.options.infinite === true) {

                if (index >= centerOffset && index <= (_.slideCount - 1) - centerOffset) {
                    _.$slides
                        .slice(index - centerOffset + evenCoef, index + centerOffset + 1)
                        .addClass('slick-active')
                        .attr('aria-hidden', 'false');

                } else {

                    indexOffset = _.options.slidesToShow + index;
                    allSlides
                        .slice(indexOffset - centerOffset + 1 + evenCoef, indexOffset + centerOffset + 2)
                        .addClass('slick-active')
                        .attr('aria-hidden', 'false');

                }

                if (index === 0) {

                    allSlides
                        .eq(allSlides.length - 1 - _.options.slidesToShow)
                        .addClass('slick-center');

                } else if (index === _.slideCount - 1) {

                    allSlides
                        .eq(_.options.slidesToShow)
                        .addClass('slick-center');

                }

            }

            _.$slides
                .eq(index)
                .addClass('slick-center');

        } else {

            if (index >= 0 && index <= (_.slideCount - _.options.slidesToShow)) {

                _.$slides
                    .slice(index, index + _.options.slidesToShow)
                    .addClass('slick-active')
                    .attr('aria-hidden', 'false');

            } else if (allSlides.length <= _.options.slidesToShow) {

                allSlides
                    .addClass('slick-active')
                    .attr('aria-hidden', 'false');

            } else {

                remainder = _.slideCount % _.options.slidesToShow;
                indexOffset = _.options.infinite === true ? _.options.slidesToShow + index : index;

                if (_.options.slidesToShow == _.options.slidesToScroll && (_.slideCount - index) < _.options.slidesToShow) {

                    allSlides
                        .slice(indexOffset - (_.options.slidesToShow - remainder), indexOffset + remainder)
                        .addClass('slick-active')
                        .attr('aria-hidden', 'false');

                } else {

                    allSlides
                        .slice(indexOffset, indexOffset + _.options.slidesToShow)
                        .addClass('slick-active')
                        .attr('aria-hidden', 'false');

                }

            }

        }

        if (_.options.lazyLoad === 'ondemand' || _.options.lazyLoad === 'anticipated') {
            _.lazyLoad();
        }
    };

    Slick.prototype.setupInfinite = function() {

        var _ = this,
            i, slideIndex, infiniteCount;

        if (_.options.fade === true) {
            _.options.centerMode = false;
        }

        if (_.options.infinite === true && _.options.fade === false) {

            slideIndex = null;

            if (_.slideCount > _.options.slidesToShow) {

                if (_.options.centerMode === true) {
                    infiniteCount = _.options.slidesToShow + 1;
                } else {
                    infiniteCount = _.options.slidesToShow;
                }

                for (i = _.slideCount; i > (_.slideCount -
                        infiniteCount); i -= 1) {
                    slideIndex = i - 1;
                    $(_.$slides[slideIndex]).clone(true).attr('id', '')
                        .attr('data-slick-index', slideIndex - _.slideCount)
                        .prependTo(_.$slideTrack).addClass('slick-cloned');
                }
                for (i = 0; i < infiniteCount  + _.slideCount; i += 1) {
                    slideIndex = i;
                    $(_.$slides[slideIndex]).clone(true).attr('id', '')
                        .attr('data-slick-index', slideIndex + _.slideCount)
                        .appendTo(_.$slideTrack).addClass('slick-cloned');
                }
                _.$slideTrack.find('.slick-cloned').find('[id]').each(function() {
                    $(this).attr('id', '');
                });

            }

        }

    };

    Slick.prototype.interrupt = function( toggle ) {

        var _ = this;

        if( !toggle ) {
            _.autoPlay();
        }
        _.interrupted = toggle;

    };

    Slick.prototype.selectHandler = function(event) {

        var _ = this;

        var targetElement =
            $(event.target).is('.slick-slide') ?
                $(event.target) :
                $(event.target).parents('.slick-slide');

        var index = parseInt(targetElement.attr('data-slick-index'));

        if (!index) index = 0;

        if (_.slideCount <= _.options.slidesToShow) {

            _.slideHandler(index, false, true);
            return;

        }

        _.slideHandler(index);

    };

    Slick.prototype.slideHandler = function(index, sync, dontAnimate) {

        var targetSlide, animSlide, oldSlide, slideLeft, targetLeft = null,
            _ = this, navTarget;

        sync = sync || false;

        if (_.animating === true && _.options.waitForAnimate === true) {
            return;
        }

        if (_.options.fade === true && _.currentSlide === index) {
            return;
        }

        if (sync === false) {
            _.asNavFor(index);
        }

        targetSlide = index;
        targetLeft = _.getLeft(targetSlide);
        slideLeft = _.getLeft(_.currentSlide);

        _.currentLeft = _.swipeLeft === null ? slideLeft : _.swipeLeft;

        if (_.options.infinite === false && _.options.centerMode === false && (index < 0 || index > _.getDotCount() * _.options.slidesToScroll)) {
            if (_.options.fade === false) {
                targetSlide = _.currentSlide;
                if (dontAnimate !== true) {
                    _.animateSlide(slideLeft, function() {
                        _.postSlide(targetSlide);
                    });
                } else {
                    _.postSlide(targetSlide);
                }
            }
            return;
        } else if (_.options.infinite === false && _.options.centerMode === true && (index < 0 || index > (_.slideCount - _.options.slidesToScroll))) {
            if (_.options.fade === false) {
                targetSlide = _.currentSlide;
                if (dontAnimate !== true) {
                    _.animateSlide(slideLeft, function() {
                        _.postSlide(targetSlide);
                    });
                } else {
                    _.postSlide(targetSlide);
                }
            }
            return;
        }

        if ( _.options.autoplay ) {
            clearInterval(_.autoPlayTimer);
        }

        if (targetSlide < 0) {
            if (_.slideCount % _.options.slidesToScroll !== 0) {
                animSlide = _.slideCount - (_.slideCount % _.options.slidesToScroll);
            } else {
                animSlide = _.slideCount + targetSlide;
            }
        } else if (targetSlide >= _.slideCount) {
            if (_.slideCount % _.options.slidesToScroll !== 0) {
                animSlide = 0;
            } else {
                animSlide = targetSlide - _.slideCount;
            }
        } else {
            animSlide = targetSlide;
        }

        _.animating = true;

        _.$slider.trigger('beforeChange', [_, _.currentSlide, animSlide]);

        oldSlide = _.currentSlide;
        _.currentSlide = animSlide;

        _.setSlideClasses(_.currentSlide);

        if ( _.options.asNavFor ) {

            navTarget = _.getNavTarget();
            navTarget = navTarget.slick('getSlick');

            if ( navTarget.slideCount <= navTarget.options.slidesToShow ) {
                navTarget.setSlideClasses(_.currentSlide);
            }

        }

        _.updateDots();
        _.updateArrows();

        if (_.options.fade === true) {
            if (dontAnimate !== true) {

                _.fadeSlideOut(oldSlide);

                _.fadeSlide(animSlide, function() {
                    _.postSlide(animSlide);
                });

            } else {
                _.postSlide(animSlide);
            }
            _.animateHeight();
            return;
        }

        if (dontAnimate !== true) {
            _.animateSlide(targetLeft, function() {
                _.postSlide(animSlide);
            });
        } else {
            _.postSlide(animSlide);
        }

    };

    Slick.prototype.startLoad = function() {

        var _ = this;

        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {

            _.$prevArrow.hide();
            _.$nextArrow.hide();

        }

        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {

            _.$dots.hide();

        }

        _.$slider.addClass('slick-loading');

    };

    Slick.prototype.swipeDirection = function() {

        var xDist, yDist, r, swipeAngle, _ = this;

        xDist = _.touchObject.startX - _.touchObject.curX;
        yDist = _.touchObject.startY - _.touchObject.curY;
        r = Math.atan2(yDist, xDist);

        swipeAngle = Math.round(r * 180 / Math.PI);
        if (swipeAngle < 0) {
            swipeAngle = 360 - Math.abs(swipeAngle);
        }

        if ((swipeAngle <= 45) && (swipeAngle >= 0)) {
            return (_.options.rtl === false ? 'left' : 'right');
        }
        if ((swipeAngle <= 360) && (swipeAngle >= 315)) {
            return (_.options.rtl === false ? 'left' : 'right');
        }
        if ((swipeAngle >= 135) && (swipeAngle <= 225)) {
            return (_.options.rtl === false ? 'right' : 'left');
        }
        if (_.options.verticalSwiping === true) {
            if ((swipeAngle >= 35) && (swipeAngle <= 135)) {
                return 'down';
            } else {
                return 'up';
            }
        }

        return 'vertical';

    };

    Slick.prototype.swipeEnd = function(event) {

        var _ = this,
            slideCount,
            direction;

        _.dragging = false;
        _.swiping = false;

        if (_.scrolling) {
            _.scrolling = false;
            return false;
        }

        _.interrupted = false;
        _.shouldClick = ( _.touchObject.swipeLength > 10 ) ? false : true;

        if ( _.touchObject.curX === undefined ) {
            return false;
        }

        if ( _.touchObject.edgeHit === true ) {
            _.$slider.trigger('edge', [_, _.swipeDirection() ]);
        }

        if ( _.touchObject.swipeLength >= _.touchObject.minSwipe ) {

            direction = _.swipeDirection();

            switch ( direction ) {

                case 'left':
                case 'down':

                    slideCount =
                        _.options.swipeToSlide ?
                            _.checkNavigable( _.currentSlide + _.getSlideCount() ) :
                            _.currentSlide + _.getSlideCount();

                    _.currentDirection = 0;

                    break;

                case 'right':
                case 'up':

                    slideCount =
                        _.options.swipeToSlide ?
                            _.checkNavigable( _.currentSlide - _.getSlideCount() ) :
                            _.currentSlide - _.getSlideCount();

                    _.currentDirection = 1;

                    break;

                default:


            }

            if( direction != 'vertical' ) {

                _.slideHandler( slideCount );
                _.touchObject = {};
                _.$slider.trigger('swipe', [_, direction ]);

            }

        } else {

            if ( _.touchObject.startX !== _.touchObject.curX ) {

                _.slideHandler( _.currentSlide );
                _.touchObject = {};

            }

        }

    };

    Slick.prototype.swipeHandler = function(event) {

        var _ = this;

        if ((_.options.swipe === false) || ('ontouchend' in document && _.options.swipe === false)) {
            return;
        } else if (_.options.draggable === false && event.type.indexOf('mouse') !== -1) {
            return;
        }

        _.touchObject.fingerCount = event.originalEvent && event.originalEvent.touches !== undefined ?
            event.originalEvent.touches.length : 1;

        _.touchObject.minSwipe = _.listWidth / _.options
            .touchThreshold;

        if (_.options.verticalSwiping === true) {
            _.touchObject.minSwipe = _.listHeight / _.options
                .touchThreshold;
        }

        switch (event.data.action) {

            case 'start':
                _.swipeStart(event);
                break;

            case 'move':
                _.swipeMove(event);
                break;

            case 'end':
                _.swipeEnd(event);
                break;

        }

    };

    Slick.prototype.swipeMove = function(event) {

        var _ = this,
            edgeWasHit = false,
            curLeft, swipeDirection, swipeLength, positionOffset, touches, verticalSwipeLength;

        touches = event.originalEvent !== undefined ? event.originalEvent.touches : null;

        if (!_.dragging || _.scrolling || touches && touches.length !== 1) {
            return false;
        }

        curLeft = _.getLeft(_.currentSlide);

        _.touchObject.curX = touches !== undefined ? touches[0].pageX : event.clientX;
        _.touchObject.curY = touches !== undefined ? touches[0].pageY : event.clientY;

        _.touchObject.swipeLength = Math.round(Math.sqrt(
            Math.pow(_.touchObject.curX - _.touchObject.startX, 2)));

        verticalSwipeLength = Math.round(Math.sqrt(
            Math.pow(_.touchObject.curY - _.touchObject.startY, 2)));

        if (!_.options.verticalSwiping && !_.swiping && verticalSwipeLength > 4) {
            _.scrolling = true;
            return false;
        }

        if (_.options.verticalSwiping === true) {
            _.touchObject.swipeLength = verticalSwipeLength;
        }

        swipeDirection = _.swipeDirection();

        if (event.originalEvent !== undefined && _.touchObject.swipeLength > 4) {
            _.swiping = true;
            event.preventDefault();
        }

        positionOffset = (_.options.rtl === false ? 1 : -1) * (_.touchObject.curX > _.touchObject.startX ? 1 : -1);
        if (_.options.verticalSwiping === true) {
            positionOffset = _.touchObject.curY > _.touchObject.startY ? 1 : -1;
        }


        swipeLength = _.touchObject.swipeLength;

        _.touchObject.edgeHit = false;

        if (_.options.infinite === false) {
            if ((_.currentSlide === 0 && swipeDirection === 'right') || (_.currentSlide >= _.getDotCount() && swipeDirection === 'left')) {
                swipeLength = _.touchObject.swipeLength * _.options.edgeFriction;
                _.touchObject.edgeHit = true;
            }
        }

        if (_.options.vertical === false) {
            _.swipeLeft = curLeft + swipeLength * positionOffset;
        } else {
            _.swipeLeft = curLeft + (swipeLength * (_.$list.height() / _.listWidth)) * positionOffset;
        }
        if (_.options.verticalSwiping === true) {
            _.swipeLeft = curLeft + swipeLength * positionOffset;
        }

        if (_.options.fade === true || _.options.touchMove === false) {
            return false;
        }

        if (_.animating === true) {
            _.swipeLeft = null;
            return false;
        }

        _.setCSS(_.swipeLeft);

    };

    Slick.prototype.swipeStart = function(event) {

        var _ = this,
            touches;

        _.interrupted = true;

        if (_.touchObject.fingerCount !== 1 || _.slideCount <= _.options.slidesToShow) {
            _.touchObject = {};
            return false;
        }

        if (event.originalEvent !== undefined && event.originalEvent.touches !== undefined) {
            touches = event.originalEvent.touches[0];
        }

        _.touchObject.startX = _.touchObject.curX = touches !== undefined ? touches.pageX : event.clientX;
        _.touchObject.startY = _.touchObject.curY = touches !== undefined ? touches.pageY : event.clientY;

        _.dragging = true;

    };

    Slick.prototype.unfilterSlides = Slick.prototype.slickUnfilter = function() {

        var _ = this;

        if (_.$slidesCache !== null) {

            _.unload();

            _.$slideTrack.children(this.options.slide).detach();

            _.$slidesCache.appendTo(_.$slideTrack);

            _.reinit();

        }

    };

    Slick.prototype.unload = function() {

        var _ = this;

        $('.slick-cloned', _.$slider).remove();

        if (_.$dots) {
            _.$dots.remove();
        }

        if (_.$prevArrow && _.htmlExpr.test(_.options.prevArrow)) {
            _.$prevArrow.remove();
        }

        if (_.$nextArrow && _.htmlExpr.test(_.options.nextArrow)) {
            _.$nextArrow.remove();
        }

        _.$slides
            .removeClass('slick-slide slick-active slick-visible slick-current')
            .attr('aria-hidden', 'true')
            .css('width', '');

    };

    Slick.prototype.unslick = function(fromBreakpoint) {

        var _ = this;
        _.$slider.trigger('unslick', [_, fromBreakpoint]);
        _.destroy();

    };

    Slick.prototype.updateArrows = function() {

        var _ = this,
            centerOffset;

        centerOffset = Math.floor(_.options.slidesToShow / 2);

        if ( _.options.arrows === true &&
            _.slideCount > _.options.slidesToShow &&
            !_.options.infinite ) {

            _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');
            _.$nextArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');

            if (_.currentSlide === 0) {

                _.$prevArrow.addClass('slick-disabled').attr('aria-disabled', 'true');
                _.$nextArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');

            } else if (_.currentSlide >= _.slideCount - _.options.slidesToShow && _.options.centerMode === false) {

                _.$nextArrow.addClass('slick-disabled').attr('aria-disabled', 'true');
                _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');

            } else if (_.currentSlide >= _.slideCount - 1 && _.options.centerMode === true) {

                _.$nextArrow.addClass('slick-disabled').attr('aria-disabled', 'true');
                _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');

            }

        }

    };

    Slick.prototype.updateDots = function() {

        var _ = this;

        if (_.$dots !== null) {

            _.$dots
                .find('li')
                    .removeClass('slick-active')
                    .end();

            _.$dots
                .find('li')
                .eq(Math.floor(_.currentSlide / _.options.slidesToScroll))
                .addClass('slick-active');

        }

    };

    Slick.prototype.visibility = function() {

        var _ = this;

        if ( _.options.autoplay ) {

            if ( document[_.hidden] ) {

                _.interrupted = true;

            } else {

                _.interrupted = false;

            }

        }

    };

    $.fn.slick = function() {
        var _ = this,
            opt = arguments[0],
            args = Array.prototype.slice.call(arguments, 1),
            l = _.length,
            i,
            ret;
        for (i = 0; i < l; i++) {
            if (typeof opt == 'object' || typeof opt == 'undefined')
                _[i].slick = new Slick(_[i], opt);
            else
                ret = _[i].slick[opt].apply(_[i].slick, args);
            if (typeof ret != 'undefined') return ret;
        }
        return _;
    };

}));

/*! iFrame Resizer (iframeSizer.min.js ) - v2.6.1 - 2014-09-03
 *  Desc: Force cross domain iframes to size to content.
 *  Requires: iframeResizer.contentWindow.min.js to be loaded into the target frame.
 *  Copyright: (c) 2014 David J. Bradshaw - dave@bradshaw.net
 *  License: MIT
 */

!function(){"use strict";function a(a,b,c){"addEventListener"in window?a.addEventListener(b,c,!1):"attachEvent"in window&&a.attachEvent("on"+b,c)}function b(){var a,b=["moz","webkit","o","ms"];for(a=0;a<b.length&&!w;a+=1)w=window[b[a]+"RequestAnimationFrame"];w||c(" RequestAnimationFrame not supported")}function c(a){y.log&&"object"==typeof console&&console.log(s+"[Host page"+u+"]"+a)}function d(a){function b(){function a(){h(z),f(),y.resizedCallback(z)}i(a,z,"resetPage")}function d(a){var b=a.id;c(" Removing iFrame: "+b),a.parentNode.removeChild(a),y.closedCallback(b),c(" --")}function e(){var a=x.substr(t).split(":");return{iframe:document.getElementById(a[0]),id:a[0],height:a[1],width:a[2],type:a[3]}}function j(a){var b=Number(y["max"+a]),d=Number(y["min"+a]),e=a.toLowerCase(),f=Number(z[e]);if(d>b)throw new Error("Value for min"+a+" can not be greater than max"+a);c(" Checking "+e+" is in range "+d+"-"+b),d>f&&(f=d,c(" Set "+e+" to min value")),f>b&&(f=b,c(" Set "+e+" to max value")),z[e]=""+f}function k(){var b=a.origin,d=z.iframe.src.split("/").slice(0,3).join("/");if(y.checkOrigin&&(c(" Checking connection is from: "+d),""+b!="null"&&b!==d))throw new Error("Unexpected message received from: "+b+" for "+z.iframe.id+". Message was: "+a.data+". This error can be disabled by adding the checkOrigin: false option.");return!0}function l(){return s===(""+x).substr(0,t)}function m(){var a=z.type in{"true":1,"false":1};return a&&c(" Ignoring init message from meta parent page"),a}function n(){var a=x.substr(x.indexOf(":")+r+6);c(" MessageCallback passed: {iframe: "+z.iframe.id+", message: "+a+"}"),y.messageCallback({iframe:z.iframe,message:a}),c(" --")}function o(){if(null===z.iframe)throw new Error("iFrame ("+z.id+") does not exist on "+u);return!0}function q(){c(" Reposition requested from iFrame"),v={x:z.width,y:z.height},f()}function w(){switch(z.type){case"close":d(z.iframe),y.resizedCallback(z);break;case"message":n();break;case"scrollTo":q();break;case"reset":g(z);break;case"init":b(),y.initCallback(z.iframe);break;default:b()}}var x=a.data,z={};l()&&(c(" Received: "+x),z=e(),j("Height"),j("Width"),!m()&&o()&&k()&&(w(),p=!1))}function e(){null===v&&(v={x:void 0!==window.pageXOffset?window.pageXOffset:document.documentElement.scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop},c(" Get position: "+v.x+","+v.y))}function f(){null!==v&&(window.scrollTo(v.x,v.y),c(" Set position: "+v.x+","+v.y),v=null)}function g(a){function b(){h(a),j("reset","reset",a.iframe)}c(" Size reset requested by "+("init"===a.type?"host page":"iFrame")),e(),i(b,a,"init")}function h(a){function b(b){a.iframe.style[b]=a[b]+"px",c(" IFrame ("+a.iframe.id+") "+b+" set to "+a[b]+"px")}y.sizeHeight&&b("height"),y.sizeWidth&&b("width")}function i(a,b,d){d!==b.type&&w?(c(" Requesting animation frame"),w(a)):a()}function j(a,b,d){c("["+a+"] Sending msg to iframe ("+b+")"),d.contentWindow.postMessage(s+b,"*")}function k(){function b(){function a(a){1/0!==y[a]&&0!==y[a]&&(k.style[a]=y[a]+"px",c(" Set "+a+" = "+y[a]+"px"))}a("maxHeight"),a("minHeight"),a("maxWidth"),a("minWidth")}function d(a){return""===a&&(k.id=a="iFrameResizer"+o++,c(" Added missing iframe ID: "+a+" ("+k.src+")")),a}function e(){c(" IFrame scrolling "+(y.scrolling?"enabled":"disabled")+" for "+l),k.style.overflow=!1===y.scrolling?"hidden":"auto",k.scrolling=!1===y.scrolling?"no":"yes"}function f(){("number"==typeof y.bodyMargin||"0"===y.bodyMargin)&&(y.bodyMarginV1=y.bodyMargin,y.bodyMargin=""+y.bodyMargin+"px")}function h(){return l+":"+y.bodyMarginV1+":"+y.sizeWidth+":"+y.log+":"+y.interval+":"+y.enablePublicMethods+":"+y.autoResize+":"+y.bodyMargin+":"+y.heightCalculationMethod+":"+y.bodyBackground+":"+y.bodyPadding+":"+y.tolerance}function i(b){a(k,"load",function(){var a=p;j("iFrame.onload",b,k),!a&&y.heightCalculationMethod in x&&g({iframe:k,height:0,width:0,type:"init"})}),j("init",b,k)}var k=this,l=d(k.id);e(),b(),f(),i(h())}function l(a){if("object"!=typeof a)throw new TypeError("Options is not an object.")}function m(){function a(a){if("IFRAME"!==a.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+a.tagName+">.");k.call(a)}function b(a){a=a||{},l(a);for(var b in z)z.hasOwnProperty(b)&&(y[b]=a.hasOwnProperty(b)?a[b]:z[b])}return function(c,d){b(c),Array.prototype.forEach.call(document.querySelectorAll(d||"iframe"),a)}}function n(a){a.fn.iFrameResize=function(b){return b=b||{},l(b),y=a.extend({},z,b),this.filter("iframe").each(k).end()}}var o=0,p=!0,q="message",r=q.length,s="[iFrameSizer]",t=s.length,u="",v=null,w=window.requestAnimationFrame,x={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},y={},z={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,enablePublicMethods:!1,heightCalculationMethod:"offset",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,scrolling:!1,sizeHeight:!0,sizeWidth:!1,tolerance:0,closedCallback:function(){},initCallback:function(){},messageCallback:function(){},resizedCallback:function(){}};b(),a(window,"message",d),"jQuery"in window&&n(jQuery),"function"==typeof define&&define.amd?define(function(){return m()}):window.iFrameResize=m()}();
//# sourceMappingURL=../src/iframeResizer.map
//@ts-nocheck
(function DiacriticsHelperJs() {
  //===========================================
  window.GlobalSite = window.GlobalSite || {};
  //===========================================
  var replacementList = [
    {
      base: " ",
      chars: "\u00A0"
    },
    {
      base: "0",
      chars: "\u07C0"
    },
    {
      base: "A",
      chars:
        "\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F"
    },
    {
      base: "AA",
      chars: "\uA732"
    },
    {
      base: "AE",
      chars: "\u00C6\u01FC\u01E2"
    },
    {
      base: "AO",
      chars: "\uA734"
    },
    {
      base: "AU",
      chars: "\uA736"
    },
    {
      base: "AV",
      chars: "\uA738\uA73A"
    },
    {
      base: "AY",
      chars: "\uA73C"
    },
    {
      base: "B",
      chars: "\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0181"
    },
    {
      base: "C",
      chars:
        "\u24b8\uff23\uA73E\u1E08\u0106\u0043\u0108\u010A\u010C\u00C7\u0187\u023B"
    },
    {
      base: "D",
      chars:
        "\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018A\u0189\u1D05\uA779"
    },
    {
      base: "Dh",
      chars: "\u00D0"
    },
    {
      base: "DZ",
      chars: "\u01F1\u01C4"
    },
    {
      base: "Dz",
      chars: "\u01F2\u01C5"
    },
    {
      base: "E",
      chars:
        "\u025B\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E\u1D07"
    },
    {
      base: "F",
      chars: "\uA77C\u24BB\uFF26\u1E1E\u0191\uA77B"
    },
    {
      base: "G",
      chars:
        "\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E\u0262"
    },
    {
      base: "H",
      chars:
        "\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D"
    },
    {
      base: "I",
      chars:
        "\u24BE\uFF29\xCC\xCD\xCE\u0128\u012A\u012C\u0130\xCF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197"
    },
    {
      base: "J",
      chars: "\u24BF\uFF2A\u0134\u0248\u0237"
    },
    {
      base: "K",
      chars:
        "\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2"
    },
    {
      base: "L",
      chars:
        "\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780"
    },
    {
      base: "LJ",
      chars: "\u01C7"
    },
    {
      base: "Lj",
      chars: "\u01C8"
    },
    {
      base: "M",
      chars: "\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C\u03FB"
    },
    {
      base: "N",
      chars:
        "\uA7A4\u0220\u24C3\uFF2E\u01F8\u0143\xD1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u019D\uA790\u1D0E"
    },
    {
      base: "NJ",
      chars: "\u01CA"
    },
    {
      base: "Nj",
      chars: "\u01CB"
    },
    {
      base: "O",
      chars:
        "\u24C4\uFF2F\xD2\xD3\xD4\u1ED2\u1ED0\u1ED6\u1ED4\xD5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\xD6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\xD8\u01FE\u0186\u019F\uA74A\uA74C"
    },
    {
      base: "OE",
      chars: "\u0152"
    },
    {
      base: "OI",
      chars: "\u01A2"
    },
    {
      base: "OO",
      chars: "\uA74E"
    },
    {
      base: "OU",
      chars: "\u0222"
    },
    {
      base: "P",
      chars: "\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754"
    },
    {
      base: "Q",
      chars: "\u24C6\uFF31\uA756\uA758\u024A"
    },
    {
      base: "R",
      chars:
        "\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782"
    },
    {
      base: "S",
      chars:
        "\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784"
    },
    {
      base: "T",
      chars:
        "\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786"
    },
    {
      base: "Th",
      chars: "\u00DE"
    },
    {
      base: "TZ",
      chars: "\uA728"
    },
    {
      base: "U",
      chars:
        "\u24CA\uFF35\xD9\xDA\xDB\u0168\u1E78\u016A\u1E7A\u016C\xDC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244"
    },
    {
      base: "V",
      chars: "\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245"
    },
    {
      base: "VY",
      chars: "\uA760"
    },
    {
      base: "W",
      chars: "\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72"
    },
    {
      base: "X",
      chars: "\u24CD\uFF38\u1E8A\u1E8C"
    },
    {
      base: "Y",
      chars:
        "\u24CE\uFF39\u1EF2\xDD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE"
    },
    {
      base: "Z",
      chars:
        "\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762"
    },
    {
      base: "a",
      chars:
        "\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250\u0251"
    },
    {
      base: "aa",
      chars: "\uA733"
    },
    {
      base: "ae",
      chars: "\u00E6\u01FD\u01E3"
    },
    {
      base: "ao",
      chars: "\uA735"
    },
    {
      base: "au",
      chars: "\uA737"
    },
    {
      base: "av",
      chars: "\uA739\uA73B"
    },
    {
      base: "ay",
      chars: "\uA73D"
    },
    {
      base: "b",
      chars: "\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253\u0182"
    },
    {
      base: "c",
      chars:
        "\uFF43\u24D2\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184"
    },
    {
      base: "d",
      chars:
        "\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\u018B\u13E7\u0501\uA7AA"
    },
    {
      base: "dh",
      chars: "\u00F0"
    },
    {
      base: "dz",
      chars: "\u01F3\u01C6"
    },
    {
      base: "e",
      chars:
        "\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u01DD"
    },
    {
      base: "f",
      chars: "\u24D5\uFF46\u1E1F\u0192"
    },
    {
      base: "ff",
      chars: "\uFB00"
    },
    {
      base: "fi",
      chars: "\uFB01"
    },
    {
      base: "fl",
      chars: "\uFB02"
    },
    {
      base: "ffi",
      chars: "\uFB03"
    },
    {
      base: "ffl",
      chars: "\uFB04"
    },
    {
      base: "g",
      chars:
        "\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\uA77F\u1D79"
    },
    {
      base: "h",
      chars:
        "\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265"
    },
    {
      base: "hv",
      chars: "\u0195"
    },
    {
      base: "i",
      chars:
        "\u24D8\uFF49\xEC\xED\xEE\u0129\u012B\u012D\xEF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131"
    },
    {
      base: "j",
      chars: "\u24D9\uFF4A\u0135\u01F0\u0249"
    },
    {
      base: "k",
      chars:
        "\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3"
    },
    {
      base: "l",
      chars:
        "\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747\u026D"
    },
    {
      base: "lj",
      chars: "\u01C9"
    },
    {
      base: "m",
      chars: "\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F"
    },
    {
      base: "n",
      chars:
        "\u24DD\uFF4E\u01F9\u0144\xF1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5\u043B\u0509"
    },
    {
      base: "nj",
      chars: "\u01CC"
    },
    {
      base: "o",
      chars:
        "\u24DE\uFF4F\xF2\xF3\xF4\u1ED3\u1ED1\u1ED7\u1ED5\xF5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\xF6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\xF8\u01FF\uA74B\uA74D\u0275\u0254\u1D11"
    },
    {
      base: "oe",
      chars: "\u0153"
    },
    {
      base: "oi",
      chars: "\u01A3"
    },
    {
      base: "oo",
      chars: "\uA74F"
    },
    {
      base: "ou",
      chars: "\u0223"
    },
    {
      base: "p",
      chars: "\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755\u03C1"
    },
    {
      base: "q",
      chars: "\u24E0\uFF51\u024B\uA757\uA759"
    },
    {
      base: "r",
      chars:
        "\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783"
    },
    {
      base: "s",
      chars:
        "\u24E2\uFF53\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B\u0282"
    },
    {
      base: "ss",
      chars: "\xDF"
    },
    {
      base: "t",
      chars:
        "\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787"
    },
    {
      base: "th",
      chars: "\u00FE"
    },
    {
      base: "tz",
      chars: "\uA729"
    },
    {
      base: "u",
      chars:
        "\u24E4\uFF55\xF9\xFA\xFB\u0169\u1E79\u016B\u1E7B\u016D\xFC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289"
    },
    {
      base: "v",
      chars: "\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C"
    },
    {
      base: "vy",
      chars: "\uA761"
    },
    {
      base: "w",
      chars: "\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73"
    },
    {
      base: "x",
      chars: "\u24E7\uFF58\u1E8B\u1E8D"
    },
    {
      base: "y",
      chars:
        "\u24E8\uFF59\u1EF3\xFD\u0177\u1EF9\u0233\u1E8F\xFF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF"
    },
    {
      base: "z",
      chars:
        "\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763"
    }
  ];

  var diacriticsMap = {};
  for (var i = 0; i < replacementList.length; i += 1) {
    var chars = replacementList[i].chars;
    for (var j = 0; j < chars.length; j += 1) {
      diacriticsMap[chars[j]] = replacementList[i].base;
    }
  }

  function removeDiacritics(str) {
    return str.replace(/[^\u0000-\u007e]/g, function(c) {
      return diacriticsMap[c] || c;
    });
  }
  //===========================================
  Object.assign(window.GlobalSite, {
    DiacriticsHelper: {
      remove: removeDiacritics
    }
  });
  //===========================================
})();

(function commonJs($) {
  //===========================================
  window.GlobalSite = window.GlobalSite || {};
  //============= constantes ==================
  var DEBUG_MODE = "debugMode";
  var USE_DEBUG_INFOCLIENT_STUB = "USE_DEBUG_INFOCLIENT_STUB";
  var NOAEM_REDIRECT_FF = "NOAEM_REDIRECT_FF";
  //------------------------------------------------
  var constantes = {
    SESSION_KEYS: {
      USE_DEBUG_INFOCLIENT_STUB: USE_DEBUG_INFOCLIENT_STUB,
      DEBUG_MODE: DEBUG_MODE,
      NOAEM_REDIRECT_FF: NOAEM_REDIRECT_FF //
    },
    LOCAL_KEYS: {
      USE_DEBUG_INFOCLIENT_STUB: USE_DEBUG_INFOCLIENT_STUB,
      DEBUG_MODE: DEBUG_MODE
    },
    INFOCLIENT_TTL: 3 * 60 * 1000,
    URLS: {
      INFOCLIENT_STUB_URL: "/rsc/contrib/stubs/infosClient.json",
      INFOCLIENT_URL: "/serviceinfosclient-wspl/rpc/InfosClient",
      BLANK_GIF_URL: "/rsc/contrib/image/icons/small/blank.gif"
    },
    COMPONENTS_SELECTOR: "._componentContainer",
    CLIENT_TYPES: {
      PART: "PART",
      BPF: "BPF",
      PRO: "PRO"
    }
  };
  //===========================================

  /**
   *
   * @param it
   * @returns {boolean}
   */
  function isObject(it) {
    return typeof it === "object" ? it !== null : typeof it === "function";
  }

  /**
   * simple assertion implementation
   * @param condition
   * @param message
   */
  function assert(condition, message) {
    if (!condition) {
      throw new Error(message || "Assertion failed");
    }

    return {
      assert: assert
    };
  }

  /**
   * nor null, nor undefined
   * @param obj
   */
  function isDefined(obj) {
    return obj !== null && obj !== undefined;
  }

  /**
   *
   * @param obj
   * @param path // a.b.c.d
   * @returns {boolean|string|null}
   */
  function safeAccess(obj, path) {
    var _path = path || "";
    assert(
      typeof path === "string",
      "safeAccess(): Bad Type arguments: path must be a String"
    );
    var paths = _path.split("."); // [ "a", "b", "c", "d"]

    var result = paths.reduce(function(acc, key) {
      var accKey = acc[key];
      return accKey === 0 || accKey === false ? accKey : accKey || {};
    }, obj);

    return result === 0 || result === false
      ? result
      : (isObject(result) &&
          (!$.isEmptyObject(result) || typeof result === "function") &&
          result) ||
          (!isObject(result) && result) ||
          null;
  }

  /**
   * legacy compatibility alias
   */
  var securePropsAccess = safeAccess;

  /**
   *
   * @param queryObjStr
   * @returns {boolean|string}
   */
  function checkDependency(queryObjStr) {
    var valueObj = safeAccess(window, queryObjStr);

    assert(isDefined(valueObj), "Missing " + queryObjStr);

    return valueObj;
  }

  /**
   *
   * @returns {(boolean|string)[]}
   */
  function checkDependencies() {
    var args = Array.from(arguments),
      listArgs = ((args && [].concat(args)) || []).flat();

    return listArgs.map(checkDependency);
  }

  /**
   * Export object properties into object window
   * @param objArgs
   */
  function exportToWindow(objArgs) {
    assert(isDefined(objArgs), "Missing argument");
    assert($.isPlainObject(objArgs), "Illegal argument: not a plain object!");

    Object.keys(objArgs).forEach(function(varName) {
      window[varName] = objArgs[varName];
    });
  }

  /**
   * Export an object into window.Globaliste
   * Export an object property into global window
   * @param objArgs
   */
  function exportGlobally(objArgs) {
    exportToWindow(objArgs);
    exportToGlobalSite(objArgs);
  }

  /**
   * Export object properties into GlobalSite
   * @param objToExport
   */
  function exportToGlobalSite(objToExport) {
    Object.assign(window.GlobalSite, objToExport);
  }

  /**
   *
   * @param label
   * @param funcMessageTemplate
   * @returns {(function(...[*]=))|noop}
   */
  function debugFuncFactory(label, funcMessageTemplate) {
    var isDebug = window.DEBUG;
    var noop = function() {};

    if (!isDebug) {
      return noop;
    }

    if (typeof funcMessageTemplate !== "function") {
      return noop;
    }

    return function(message, callBack) {
      funcMessageTemplate(label, message);

      if (typeof callback === "function") {
        callBack();
      }
    };
  }

  debugFuncFactory.help = function() {
    var helpFunc = console.table || console.info;
    helpFunc("exemple usage");
    helpFunc({
      "":
        'var debug = GlobalSite.debugFuncFactory("ma fonctionnalit", function(label, message){',
      " ":
        "   var obj = {};                                                                        ",
      "  ":
        "                                                                                        ",
      "    ":
        "   obj[label] = message;                                                                ",
      "     ":
        "})                                                                                      "
    });
  };

  function getCurrentScriptPath() {
    return new URL(window.currentExecutingScript().src).pathname;
  }

  function logTemplateMessage(label, message) {
    var obj = {};

    obj[label] = message;
    console.log(obj);
  }
  function errorTemplateMessage(label, message) {
    var obj = {};

    obj[label] = message;
    console.error(obj);
  }
  function logFactory(_label) {
    var label = "log:" + _label;
    var _log = function() {},
      _error = function() {};

    if (typeof window.GlobalSite.debugFuncFactory === "function") {
      _log = GlobalSite.debugFuncFactory(label, logTemplateMessage);
      _error = GlobalSite.debugFuncFactory(label, errorTemplateMessage);
    }

    return {
      log: function(message, callBack) {
        _log(message, callBack);

        return this;
      },
      delimiter: function(character) {
        return this.log((character || "=").repeat(100));
      },
      error: function(message, callBack) {
        _error(message, callBack);

        return this;
      }
    };
  }

  function activeDebug() {
    updateLocalStorage(constantes.LOCAL_KEYS.DEBUG_MODE, true);
  }

  function deactiveDebug() {
    removeFromLocal(constantes.LOCAL_KEYS.DEBUG_MODE);
  }

  var listStubsKeys = [constantes.LOCAL_KEYS.USE_DEBUG_INFOCLIENT_STUB];

  function activeStubs() {
    activeDebug();

    listStubsKeys.forEach(function(item) {
      updateLocalStorage(item, true);
    });
  }

  function cleanStubs() {
    listStubsKeys.forEach(function(item) {
      removeFromLocal(item);
    });
  }

  /**
   *
   * @param key
   * @param val
   */
  function updateSession(key, val) {
    sessionStorage[key] = JSON.stringify(val);
  }

  /**
   *
   * @param key
   * @param val
   */
  function updateLocalStorage(key, val) {
    localStorage[key] = JSON.stringify(val);
  }

  /**
   *
   * @param key
   * @returns {any}
   */
  function getFromLocalStorage(key) {
    var _localVal = localStorage[key];
    var localVal = _localVal === "undefined" ? null : _localVal;

    return JSON.parse(localVal || null);
  }

  /**
   *
   * @param key
   * @returns {any}
   */
  function getFromSessionStorage(key) {
    var _sessionVal = sessionStorage[key];
    var sessionVal = _sessionVal === "undefined" ? null : _sessionVal;

    return JSON.parse(sessionVal || null);
  }

  /**
   *
   * @param key
   */
  function removeFromLocal(key) {
    delete localStorage[key];
  }

  /**
   *
   * @param key
   */
  function removeFromSession(key) {
    delete sessionStorage[key];
  }

  /**
   *
   * @param key
   */
  function removeFromStorage(key) {
    removeFromLocal(key);
    removeFromSession(key);
  }

  /**
   *
   * @param fn
   * @param context
   * @returns {function(): *}
   */
  function once(fn, context) {
    var result;

    return function() {
      if (fn) {
        result = fn.apply(context || this, arguments);
        fn = null;
      }

      return result;
    };
  }

  /**
   *
   * @param selector
   * @returns {boolean}
   */
  function isEltExists(selector) {
    return $(selector).length > 0;
  }

  /**
   *
   * @param compName
   * @returns {string}
   */
  function getSelectorForComp(compName) {
    return constantes.COMPONENTS_SELECTOR + "._" + compName;
  }

  function isCompExists(compName, Log) {
    var compSelector = getSelectorForComp(compName),
      res = isEltExists(compSelector);

    if (isDefined(Log) && !res) {
      Log.log(compSelector + " doesn't exist!");
    }

    return res;
  }

  /**
   * utilitaire pour IntersectionObserver
   * @param obj
   * @returns {string}
   */
  function rootMargin(_top, _right, _bottom, _left) {
    var top = _top || 0,
      right = _right || 0,
      bottom = _bottom || 0,
      left = _left || 0,
      res = [top, right, bottom, left]
        .map(function(item) {
          return item + "px";
        })
        .join(" ");

    return res;
  }

  function generateId() {
    var count = generateId.count || 0;
    count++;
    generateId.count = count;

    return count;
  }
  generateId.count = Math.trunc(performance.now());

  /**
   *
   * @returns :{Promise}
   */
  function getAsyncDateServer() {
    return $.ajax({
      url: "/",
      cache: false
    }).then(function(data, textStatus, jqXHR) {
      return jqXHR.getResponseHeader("date");
    });
  }

  //================ configuration global IntersectionObserver =============
  if (IntersectionObserver) {
    ((window.IntersectionObserver || {}).prototype || {}).POLL_INTERVAL = 100;
  }
  //=============== Stubs =====================
  var Webtrends = {};
  Webtrends.multiTrack = $.noop;
  //===========================================
  exportToWindow({ Webtrends: Webtrends });
  exportToGlobalSite({
    isAem: true,
    getAsyncDateServer: getAsyncDateServer,
    isConnected: GlobalSite.isConnected || false, // default value
    CST: constantes,
    assert: assert,
    isDefined: isDefined,
    isEltExists: isEltExists,
    getSelectorForComp: getSelectorForComp,
    isCompExists: isCompExists,
    isObject: isObject,
    safeAccess: safeAccess,
    securePropsAccess: securePropsAccess, // legacy
    checkDependency: checkDependency,
    checkDependencies: checkDependencies,
    exportToWindow: exportToWindow,
    exportGlobally: exportGlobally,
    exportToGlobalSite: exportToGlobalSite,
    getCurrentScriptPath: getCurrentScriptPath,
    debugFuncFactory: debugFuncFactory,
    logFactory: logFactory,
    activeDebug: activeDebug,
    deactiveDebug: deactiveDebug,
    activeStubs: activeStubs,
    cleanStubs: cleanStubs,
    updateSession: updateSession,
    updateLocalStorage: updateLocalStorage,
    getFromSessionStorage: getFromSessionStorage,
    getFromLocalStorage: getFromLocalStorage,
    removeFromLocal: removeFromLocal,
    removeFromSession: removeFromSession,
    removeFromStorage: removeFromStorage,
    once: once,
    rootMargin: rootMargin,
    generateId: generateId
  });
  //===========================================
})($);

(function RedirectionsJs($) {
  if (window.top.location.pathname !== document.location.pathname) {
    return;
  }
  $(function() {
    try {
      //===========================================
      window.GlobalSite = window.GlobalSite || {};
      //--------------------------------------------------------------------------
      var TTL = 3 * 60 * 1000,
        MAPPING_URL = "/aem_redirection/mapping.json",
        DEBUG_MODE = "debugMode",
        NO_REDIRECT_PARAM_NAME = "noaemredirect",
        SESSION_STORAGE_NOAMEM_REDIRECT_KEY = "NO_AEM_REDIRECT",
        SESSION_STORAGE_KEY = "AUTONOMY_TO_AEM_MAPPING",
        SESSION_STORAGES_INFO_CLIENT_KEY = "info_client",
        AEM_SECURE_SEGMENT_PATH = "/secure/",
        AUTONOMY_PART_SECURE_SEGMENT_PATH = "/connexion/",
        AUTONOMY_BPF_SECURE_SEGMENT_PATH = "/espace-prive/",
        AUTONOMY_PRO_SECURE_SEGMENT_PATH = "/espace-pro/",
        AUTONOMY_HB_SECURE_SEGMENT_PATH = "/client/",
        isDebug = (function() {
          var _isDebug = !!(
            getFromSessionStorage(DEBUG_MODE) === true ||
            getFromLocalStorage(DEBUG_MODE) === true ||
            !!document.location.search.split("?").find(function(item) {
              return item.indexOf("debug") >= 0;
            })
          );

          if (_isDebug) {
            sessionStorage.trace = 1;
            document.cookie =
              'bnpp_sav={"tracing":true}; expires=' +
              new Date(
                new Date().getTime() + 365 * 24 * 60 * 60 * 1000
              ).toGMTString() +
              "; path=/";
          }

          return _isDebug;
        })(),
        isAem = $("._componentContainer").length > 0,
        isWebview =
          (window.location.search || "").toLowerCase().includes("rc=webview") ||
          (window.location.search || "")
            .toLowerCase()
            .includes("redir=webview"),
        isConnected =
          (isAem &&
            typeof GlobalSite.isConnected === "boolean" &&
            GlobalSite.isConnected) ||
          (isAem && window.location.pathname.includes("/secure/")) ||
          (!isAem &&
            ($(".bottom-header-logoff").length > 0 ||
              $("#logoutCas").length > 0 ||
              $("#logoutCAS").length > 0)),
        typeClientIds = {
          PART: "part",
          BPF: "bpf",
          PRO: "pro",
          HB: "hb",
          UNKWON: "unknown"
        },
        $body = $("body"),
        isPart = (function() {
          var hostname = window.location.hostname;
          var res =
            ($body.is(".part") ||
              hostname.includes("-part-") ||
              hostname.includes("-part.") ||
              (hostname.includes("mabanque.bnpparibas") &&
                !hostname.includes("pro.mabanque.bnpparibas") &&
                !hostname.includes("banqueprivee.mabanque.bnpparibas"))) &&
            !hostname.includes("hellobank");

          return res;
        })(),
        isBpf = (function() {
          var hostname = window.location.hostname;
          var res =
            ($body.is(".bpf") ||
              hostname.includes("-bpf-") ||
              hostname.includes("-bpf.") ||
              hostname.includes("mabanqueprivee.bnpparibas") ||
              hostname.includes("banqueprivee.mabanque.bnpparibas")) &&
            !hostname.includes("hellobank");

          return res;
        })(),
        isPro = (function() {
          var hostname = window.location.hostname;
          var res =
            ($body.is(".pro") ||
              hostname.includes("-pro-") ||
              hostname.includes("-pro.") ||
              hostname.includes("mabanquepro.bnpparibas") ||
              hostname.includes("pro.mabanque.bnpparibas")) &&
            !hostname.includes("hellobank");

          return res;
        })(),
        isHb = (function() {
          var hostname = window.location.hostname;
          var res = $body.is(".hb") || hostname.includes("hellobank");

          return res;
        })(),
        typeClientId =
          (isPart && typeClientIds.PART) ||
          (isBpf && typeClientIds.BPF) ||
          (isPro && typeClientIds.PRO) ||
          (isHb && typeClientIds.HB) ||
          typeClientIds.UNKWON,
        Log = {
          log: isDebug
            ? function(message) {
                var _message = {
                  "Redirection.js": message
                };
                console.log(JSON.stringify(_message, null, 2));
              }
            : function() {},
          error: isDebug
            ? function(errorMessage) {
                var _message = {
                  "Redirection.js": errorMessage
                };
                console.error(JSON.stringify(_message, null, 2));
              }
            : function() {}
        };
      //===========================================

      var hasNoRedirectParam = (function() {
        var paramFromSession = JSON.parse(
          getFromLocalStorage(SESSION_STORAGE_NOAMEM_REDIRECT_KEY) || false
        );

        if (paramFromSession) {
          return true;
        }

        var paramFromQuery = (window.location.search || "").includes(
          NO_REDIRECT_PARAM_NAME
        );

        if (paramFromQuery) {
          updateLocalStorage(SESSION_STORAGE_NOAMEM_REDIRECT_KEY, true);

          return true;
        }

        return false;
      })();

      Log.log("-->");

      if (!isConnected) {
        Log.log("not connected => no redirection");

        return;
      }

      if (isAem) {
        try {
          var ffKeyName = GlobalSite.CST.SESSION_KEYS.NOAEM_REDIRECT_FF;
          var isFriendAndFamilyNoRedirect =
            getFromSessionStorage(ffKeyName) === true;

          if (isFriendAndFamilyNoRedirect) {
            Log.log(
              "redirection 'Friends and Family' avec aiguillage => no redirection"
            );
            return;
          }
        } catch (error) {
          Log.error(error);
        }
      }

      if (hasNoRedirectParam) {
        Log.log("noredirect param => no redirection");

        return;
      }

      if (isWebview) {
        Log.log("webview => no redirection");

        return;
      }

      /**
       *
       * @param it
       * @returns {boolean}
       */
      function isObject(it) {
        return typeof it === "object" ? it !== null : typeof it === "function";
      }

      /**
       * simple assertion implementation
       * @param condition
       * @param message
       */
      function assert(condition, message) {
        if (!condition) {
          throw new Error(message || "Assertion failed");
        }

        return {
          assert: assert
        };
      }

      /**
       *
       * @param obj
       * @param path // a.b.c.d
       * @returns {boolean|string|null}
       */
      function safeAccess(obj, path) {
        var _path = path || "";
        assert(
          typeof path === "string",
          "safeAccess(): Bad Type arguments: path must be a String"
        );
        var paths = _path.split("."); // [ "a", "b", "c", "d"]

        var result = paths.reduce(function(acc, key) {
          var accKey = acc[key];
          return accKey === 0 || accKey === false ? accKey : accKey || {};
        }, obj);

        return result === 0 || result === false
          ? result
          : (isObject(result) &&
              (!$.isEmptyObject(result) || typeof result === "function") &&
              result) ||
              (!isObject(result) && result) ||
              null;
      }

      function normalizePathname(pathName) {
        return (
          "/" +
          pathName
            .split("/")
            .filter(function(item) {
              return item !== "";
            })
            .join("/")
        );
      }

      function isPathTypeInformationPage(pathName) {
        var _pathName = normalizePathname(pathName);

        return !(
          _pathName.includes(AEM_SECURE_SEGMENT_PATH) ||
          _pathName.includes(AUTONOMY_BPF_SECURE_SEGMENT_PATH) ||
          _pathName.includes(AUTONOMY_PART_SECURE_SEGMENT_PATH) ||
          _pathName.includes(AUTONOMY_PRO_SECURE_SEGMENT_PATH) ||
          _pathName.includes(AUTONOMY_HB_SECURE_SEGMENT_PATH)
        );
      }

      function swap(obj) {
        var newObj = {};

        for (var prop in obj) {
          if (obj.hasOwnProperty(prop)) {
            newObj[obj[prop]] = prop;
          }
        }

        return newObj;
      }

      function normalizeObjectValues(obj) {
        Object.keys(obj).forEach(function(item) {
          obj[item] = normalizePathname(obj[item]);
        });

        return obj;
      }

      function normalizeObjectMap(obj) {
        var _obj = normalizeObjectValues(obj);
        var __obj = normalizeObjectValues(swap(_obj));

        return swap(__obj);
      }

      function transfoString() {
        var res;

        if (isPart) {
          res = AUTONOMY_PART_SECURE_SEGMENT_PATH;
        }

        if (isBpf) {
          res = AUTONOMY_BPF_SECURE_SEGMENT_PATH;
        }

        if (isPro) {
          res = AUTONOMY_PRO_SECURE_SEGMENT_PATH;
        }

        if (isHb) {
          res = AUTONOMY_HB_SECURE_SEGMENT_PATH;
        }

        transfoString = function() {
          return res;
        };

        return res;
      }

      /**
       *
       * @returns {*}
       */
      function getAsyncBrowserDate() {
        var asynRes = $.when(new Date());

        getAsyncBrowserDate = function() {
          return asynRes;
        };

        return asynRes;
      }

      function getRedirectionConfAsync() {
        var res = getAsyncBrowserDate()
          .then(function(browserDate) {
            var browserTimestamp, rawSessionClientJSON, isExpired;

            browserTimestamp = browserDate.getTime();
            rawSessionClientJSON = getFromSessionStorage(SESSION_STORAGE_KEY);
            isExpired =
              !rawSessionClientJSON ||
              (!!rawSessionClientJSON &&
                browserTimestamp -
                  new Date(rawSessionClientJSON.dateServeur).getTime() >
                  TTL);

            if (isExpired) {
              Log.log({
                debug: {
                  date: new Date(),
                  "getRedirectionConfAsync()": {
                    isExpired: isExpired,
                    action: "ajax request launched"
                  }
                }
              });

              return $ajaxRequest()
                .then(function(json) {
                  rawSessionClientJSON = json || {};

                  rawSessionClientJSON.serveurTimestamp = rawSessionClientJSON.dateServeur = browserTimestamp;
                  updateSession(SESSION_STORAGE_KEY, rawSessionClientJSON);
                  return rawSessionClientJSON;
                })
                .then(function(rawSessionClientJSON) {
                  Log.log({
                    "getRedirectionConfAsync()": {
                      $ajaxRequest: {
                        res: rawSessionClientJSON
                      }
                    }
                  });
                  return rawSessionClientJSON;
                })
                .fail(Log.error);
            } else {
              Log.log({
                debug: {
                  date: new Date(),
                  "getRedirectionConfAsync()": {
                    isExpired: isExpired,
                    action: "ajax request not launched"
                  }
                }
              });
            }

            return $.when(rawSessionClientJSON);
          })
          .fail(function() {
            Log.error({
              "Failed to fetch url redirection mapping": Array.from(arguments)
            });
          });

        getRedirectionConfAsync = function() {
          return res;
        };

        return res;
      }

      function isRedirectionActivatedAsync() {
        var res = getRedirectionConfAsync()
          .then(function(rawSessionClientJSON) {
            return rawSessionClientJSON["is_redirection_activated"];
          })
          .fail(Log.error);

        isRedirectionActivatedAsync = function() {
          return res;
        };

        res.then(function(isActivated) {
          Log.log({
            isRedirectionActivatedAsync: {
              res: isActivated
            }
          });
        });

        return res;
      }

      function isCtxActivatedAsync() {
        var res = getRedirectionConfAsync().then(function(
          rawSessionClientJSON
        ) {
          return rawSessionClientJSON["is_context_activated"];
        });

        res.fail(Log.error);

        isCtxActivatedAsync = function() {
          return res;
        };

        res.then(function(isActivated) {
          Log.log({
            isCtxActivatedAsync: {
              res: isActivated
            }
          });
        });

        return res;
      }

      /**
       *
       * @param sessionStorageKey
       * @param dateServer
       * @returns {*}
       */
      function updateMappingClientDateServer(sessionStorageKey, dateServer) {
        var rawSessionJSON = getFromSessionStorage(sessionStorageKey);
        if (rawSessionJSON) {
          rawSessionJSON.serveurTimestamp = rawSessionJSON.dateServeur = dateServer;
          updateSession(sessionStorageKey, rawSessionJSON);
        }

        return rawSessionJSON;
      }

      /**
       *
       * @returns {jQuery|*}
       */
      function $ajaxRequest() {
        return $.ajax({
          url: MAPPING_URL,
          cache: true,
          dataType: "json"
        });
      }

      /**
       *
       * @returns {*}
       */
      function getMappingAsync() {
        var res = getRedirectionConfAsync()
          .then(function byClientType(rawSessionClientJSON) {
            return (rawSessionClientJSON || {})[typeClientId] || {};
          })
          .then(function logging(rawSessionClientJSON) {
            Log.log({
              getMappingAsync: {
                result: rawSessionClientJSON
              }
            });

            return rawSessionClientJSON;
          })
          .fail(function() {
            Log.error({
              "Failed to fetch url redirection mapping": Array.from(arguments)
            });
          });

        getMappingAsync = function() {
          return res;
        };

        return res;
      }

      /**
       *
       * @returns {*}
       */
      function getToRedirectObjectAsync() {
        var res = getMappingAsync().then(function(mapping) {
          return (mapping || {})["to_not_redirect"];
        });

        res
          .then(function(res) {
            Log.log({
              getToRedirectObjectAsync: { res: res }
            });
          })
          .fail(function(error) {
            Log.error(error);
          });

        getToRedirectObjectAsync = function() {
          res.then(function(res) {
            Log.log({
              getToRedirectObjectAsync: { res: res }
            });
          });

          return res;
        };

        return res;
      }

      function getTransformObjectAsync() {
        var res = getMappingAsync().then(function(mapping) {
          var transformationExceptions = (mapping || {})[
            "transformation_exceptions"
          ];

          return normalizeObjectMap(transformationExceptions);
        });

        res
          .then(function(res) {
            Log.log({
              getTransformObjectAsync: { res: res }
            });
          })
          .fail(function(error) {
            Log.error(error);
          });

        getTransformObjectAsync = function() {
          res.then(function(res) {
            Log.log({
              getTransformObjectAsync: { res: res }
            });
          });

          return res;
        };

        return res;
      }

      /**
       *
       * @returns {*}
       */
      function getListeUrlAsync() {
        var res = getToRedirectObjectAsync().then(function(mapping) {
          var _mapping;

          if (isAem) {
            _mapping = mapping;
          } else {
            _mapping = swap(mapping);
          }
          var keys = Object.keys(_mapping).map(normalizePathname);

          return keys;
        });

        res
          .then(function(res) {
            Log.log({
              getListeUrlAsync: { res: res }
            });
          })
          .fail(function(error) {
            Log.error(error);
          });

        getListeUrlAsync = function() {
          res.then(function(res) {
            Log.log({
              getListeUrlAsync: { res: res }
            });
          });

          return res;
        };

        return res;
      }

      /**
       *
       * @param key
       * @returns {any}
       */
      function getFromLocalStorage(key) {
        var _localVal = localStorage[key];
        var localVal = _localVal === "undefined" ? null : _localVal;

        return JSON.parse(localVal || null);
      }

      /**
       *
       * @param key
       * @param val
       */
      function updateSession(key, val) {
        sessionStorage[key] = JSON.stringify(val);
      }

      /**
       *
       * @param key
       * @param val
       */
      function updateLocalStorage(key, val) {
        localStorage[key] = JSON.stringify(val);
      }

      /**
       *
       * @param key
       * @returns {any}
       */
      function getFromSessionStorage(key) {
        var _sessionVal = sessionStorage[key];
        var sessionVal = _sessionVal === "undefined" ? null : _sessionVal;

        return JSON.parse(sessionVal || null);
      }

      /**
       *
       * @param key
       */
      function removeFromSession(key) {
        delete sessionStorage[key];
      }

      /**
       *
       * @param href
       * @returns {*|jQuery}
       */
      function createLocationObj(href) {
        return $("<a>")
          .attr("href", href)
          .get(0);
      }

      function urlPostFilter(url) {
        var _url = url;

        if (_url.includes("?")) {
          _url = _url.split("?").join("/?");
        }

        var res = isAem
          ? "/" +
            _url
              .split("/")
              .filter(function(item) {
                return item !== "";
              })
              .join("/")
          : _url;

        Log.log({
          urlPostFilter: {
            isAem: isAem,
            url: url,
            res: res
          }
        });

        return res;
      }

      function replaceLinkPathname(domLink, newPathname) {
        var href, protocol, hostname;
        if (domLink) {
          (domLink || {}).pathname = newPathname;
          protocol = domLink.protocol;
          hostname = domLink.hostname;
          href = domLink.href.replace(protocol + "//" + hostname, "");
          domLink.href = href;
        }
      }

      function transformPathToAutonomy(transformationExceptions, path) {
        var _path = normalizePathname(path);
        var res;
        var listurls = Object.keys(transformationExceptions).map(
          normalizePathname
        );

        if (listurls.includes(_path)) {
          res = transformationExceptions[_path];
          Log.log({
            transformPathToAutonomy: {
              exception: {
                _path: res
              }
            }
          });
        } else {
          res = path.replace(AEM_SECURE_SEGMENT_PATH, transfoString());
        }

        return res;
      }

      function transformPathToAem(path) {
        return path.replace(transfoString(), AEM_SECURE_SEGMENT_PATH);
      }

      function isSamePath(path1, path2) {
        var normalizedPath1 = normalizePathname(path1);
        var normalizedPath2 = normalizePathname(path2);

        return normalizedPath1 === normalizedPath2;
      }

      function replaceAllLinksAsync() {
        return $.when(
          getToRedirectObjectAsync(),
          getListeUrlAsync(),
          getTransformObjectAsync()
        ).then(function(mappingToRedirect, urls, exceptionUrlsObj) {
          $("a").each(function() {
            if ((this.host || "") !== window.location.host) {
              return;
            }
            var $this = $(this);
            var currentHref = this.pathname;

            if (
              currentHref == null ||
              currentHref == undefined ||
              currentHref == ""
            ) {
              return;
            }

            if (isAem && !currentHref.includes(AEM_SECURE_SEGMENT_PATH)) {
              replaceLinkPathname($this.get(0), currentHref);
              return;
            }

            var pathnameToTest = normalizePathname(currentHref);

            if (isAem) {
              if (urls.includes(pathnameToTest)) {
                Log.log(currentHref + " not to redirect ...");
                return;
              } else {
                (function() {
                  var redirectTo = transformPathToAutonomy(
                    exceptionUrlsObj,
                    pathnameToTest
                  );

                  replaceLinkPathname($this.get(0), redirectTo); // on remplace juste le pathname

                  Log.log({
                    message:
                      currentHref + " must be redirected to " + redirectTo,
                    redirectTo: redirectTo
                  });
                })();
              }
            } else {
              // on est sur autonomy
              (function() {
                if (urls.includes(pathnameToTest)) {
                  var redirectTo = swap(mappingToRedirect)[pathnameToTest];
                  replaceLinkPathname($this.get(0), redirectTo);

                  Log.log({
                    message:
                      currentHref + " must be redirected to " + redirectTo,
                    redirectTo: redirectTo
                  });
                }
              })();
            }
          });
        });
      }

      function prepareToRedirectAsync() {
        Log.log({
          "prepareToRedirectAsync()": "-->"
        });
        return $.when(
          getToRedirectObjectAsync(),
          getListeUrlAsync(),
          getTransformObjectAsync()
        )
          .then(function(mappingToRedirect, urls, exceptionUrlsObj) {
            var currentLocation = window.location,
              _mappingToRedirect = isAem
                ? mappingToRedirect
                : swap(mappingToRedirect),
              currentPath = currentLocation.pathname,
              newPath = null,
              urlToRedirect = urls.filter(function(url) {
                return isSamePath(currentPath, url);
              }),
              toReplace = null,
              hasToRedirect = isAem
                ? urlToRedirect.length === 0 &&
                  !isPathTypeInformationPage(currentPath)
                : urlToRedirect.length > 0;

            if (hasToRedirect) {
              toReplace = normalizePathname(currentPath);

              newPath = urlPostFilter(
                isAem
                  ? transformPathToAutonomy(exceptionUrlsObj, toReplace)
                  : currentPath.replace(
                      toReplace,
                      _mappingToRedirect[toReplace]
                    )
              );

              Log.log({
                "prepareToRedirectAsync()": {
                  currentPath: currentPath,
                  newPath: newPath
                }
              });
              currentLocation.replace(
                newPath + currentLocation.search + currentLocation.hash || ""
              );
            } else {
              Log.log({
                isPathTypeInformationPage: isPathTypeInformationPage(
                  currentPath
                ),
                "prepareToRedirectAsync()": "no redirection ..."
              });
            }
          })
          .fail(Log.error);
      }

      //===========================================
      $.when(isRedirectionActivatedAsync(), isCtxActivatedAsync())
        .then(function(isRedirectionActivated, isCtxActivated) {
          var isQualif1 = (function isQualif1() {
              var hostName = window.location.hostname;
              var listHostNameQualif1 = [
                "canalnet-part-qual-we1-ap1.bnpparibas.net",
                "canalnet-pro-qual-we1-ap1.bnpparibas.net",
                "canalnet-bpf-qual-we1-ap1.bnpparibas.net",
                "hellobank-part-qual-we1-ap1.hellobank.fr"
              ];

              return listHostNameQualif1.includes(hostName);
            })(),
            isQualif2 = (function isQualif1() {
              var hostName = window.location.hostname;
              var listHostNameQualif1 = [
                "canalnet-part-qual-we2-ap2.bnpparibas.net",
                "canalnet-pro-qual-we2-ap2.bnpparibas.net",
                "canalnet-bpf-qual-we2-ap2.bnpparibas.net",
                "hellobank-part-qual-we2-ap2.hellobank.fr"
              ];

              return listHostNameQualif1.includes(hostName);
            })(),
            isQualif4 = (function isQualif1() {
              var hostName = window.location.hostname;
              var listHostNameQualif4 = [
                "canalnet-part-qual-we4-ap4.bnpparibas.net",
                "canalnet-pro-qual-we4-ap4.bnpparibas.net",
                "canalnet-bpf-qual-we4-ap4.bnpparibas.net",
                "hellobank-part-qual-we4-ap4.hellobank.fr"
              ];

              return listHostNameQualif4.includes(hostName);
            })(),
            isGoodCtx = (function isGoodCtx() {
              return (
                isRedirectionActivated &&
                ((isCtxActivated && (isQualif1 || isQualif2 || isQualif4)) ||
                  !isCtxActivated)
              );
            })();

          Log.log({
            isRedirectionActivated: isRedirectionActivated,
            isCtxActivated: isCtxActivated,
            isAem: isAem,
            isConnected: isConnected,
            isQualif1: isQualif1,
            isQualif4: isQualif4,
            isPart: isPart,
            isBpf: isBpf,
            isPro: isPro,
            isHb: isHb,
            typeClientId: typeClientId,
            isWebview: isWebview,
            isGoodCtx: isGoodCtx
          });

          if (!isGoodCtx) {
            Log.log("bad context for redirection => redirection aborted!");

            return;
          }

          function processRedirections() {
            //false ajout pour by passer l'execution de la redirection
            false && prepareToRedirectAsync();
            replaceAllLinksAsync();
          }
          /**
           * Vrifie si l'url actuelle est F and F
           * @param {*} mapping
           */
          function isFriendAndFamilyUrl(mapping) {
            var currentPath = normalizePathname(window.location.pathname),
              keys = Object.keys(mapping["f_and_f"] || []).map(
                normalizePathname
              ),
              values = Object.values(mapping["f_and_f"] || []).map(
                normalizePathname
              );

            return (
              mapping["f_and_f"] &&
              (keys.includes(currentPath) || values.includes(currentPath))
            );
          }

          /**
           * Vrification si l'utilisateur est un collaborateur bnp ou pas.
           * @returns {string}
           */
          function isCollab(infoClient) {
            var res,
              fromInfo = Number(
                safeAccess(infoClient, "data.indicateurs.indicAgentBNP")
              );

            res = !Number.isNaN(fromInfo) ? fromInfo > 0 : false;

            return res;
          }

          /**
           * Synchronise la config mapping de la session storage avec les url F and F
           * @param {*} mapping
           */
          function syncSessionConfigWithFandF(mapping) {
            var fandfIntoRedirections = Object.assign(
              mapping["to_not_redirect"],
              mapping["f_and_f"]
            );
            var mappingConfig = getFromSessionStorage(SESSION_STORAGE_KEY);
            mappingConfig[typeClientId][
              "to_not_redirect"
            ] = fandfIntoRedirections;
            updateSession(SESSION_STORAGE_KEY, mappingConfig);
          }

          var SimpleWaitAsync =
            GlobalSite.WaitAsync.SimpleWaitAsync ||
            function SimpleWaitAsync(objArg) {
              var TestFactory = GlobalSite.WaitAsync.TestFactory,
                test = TestFactory.createFromObj(objArg);

              GlobalSite.WaitAsync.addTest(test);

              return test.getAsyncVal();
            };

          function getAsyncInfoClient() {
            var deferred = $.Deferred();
            var nativepromise = SimpleWaitAsync({
              predicat: function() {
                return (
                  getFromSessionStorage(SESSION_STORAGES_INFO_CLIENT_KEY) !=
                  null
                );
              },
              valuator: function() {
                return getFromSessionStorage(SESSION_STORAGES_INFO_CLIENT_KEY);
              }
            });

            nativepromise.then(function(value) {
              deferred.resolve(value);
            });

            return deferred;
          }
          //===========================================
          return getMappingAsync()
            .then(function(mapping) {
              if (isFriendAndFamilyUrl(mapping)) {
                return $.when(getAsyncInfoClient(), mapping);
              }
            })
            .then(function(infoClient, mapping) {
              if (!infoClient) {
                return;
              }

              //=============  maintenant on peut bricoler pour F and F ======

              if (isCollab(infoClient)) {
                syncSessionConfigWithFandF(mapping);
              }
              //==============================================================
            })
            .then(processRedirections);
          //===========================================
        })
        .fail(function(err) {
          console.error(err);
        });

      //===========================================
      Object.assign(window.GlobalSite, {
        AemRedirections: {
          isPathTypeInformationPage: isPathTypeInformationPage,
          getRedirectionConfAsync: getRedirectionConfAsync,
          isRedirectionActivatedAsync: isRedirectionActivatedAsync,
          isCtxActivatedAsync: isCtxActivatedAsync,
          getMappingAsync: getMappingAsync,
          getListeUrlAsync: getListeUrlAsync,
          getToRedirectObjectAsync: getToRedirectObjectAsync,
          getTransformObjectAsync: getTransformObjectAsync,
          createLocationObj: createLocationObj,
          prepareToRedirectAsync: prepareToRedirectAsync,
          replaceAllLinksAsync: replaceAllLinksAsync,
          getFromLocalStorage: getFromLocalStorage,
          getFromSessionStorage: getFromSessionStorage
        }
      });
      //===========================================
    } catch (e) {
      console.log({
        "Redirections.js": e
      });
    }
  });
})($);

(function requireDac() {
  try {
    //===========================================
    window.GlobalSite = window.GlobalSite || {};
    //===========================================
    var exportToGlobalSite = GlobalSite.checkDependency(
        "GlobalSite.exportToGlobalSite"
      ),
      logFactory = GlobalSite.checkDependency("GlobalSite.logFactory"),
      getFromLocalStorage = GlobalSite.checkDependency(
        "GlobalSite.getFromLocalStorage"
      ),
      updateLocalStorage = GlobalSite.checkDependency(
        "GlobalSite.updateLocalStorage"
      ),
      removeFromLocal = GlobalSite.checkDependency(
        "GlobalSite.removeFromLocal"
      ),
      isConnected = GlobalSite.checkDependency("GlobalSite.isConnected"),
      SEARCH_REQUIREDAC_STRING = "requiredDAC=3",
      SCRIPT_NAME = "requireDac",
      STORAGE_REQUIREDAC3_OBJ_KEY = "REQUIREDAC3_OBJ",
      STORAGE_TIME_CACHE = 2 * 60 * 1000, // 2 minutes
      FORCE_AUTHENT_URL = "/aiguillage-wspl/redirect/identification",
      Log = logFactory(SCRIPT_NAME);

    function isRequireDac3() {
      var search = document.location.search;
      return search
        .toLowerCase()
        .includes(SEARCH_REQUIREDAC_STRING.toLowerCase());
    }

    function getRegisteredSessionRequireObj() {
      var res = getFromLocalStorage(STORAGE_REQUIREDAC3_OBJ_KEY);

      getRegisteredSessionRequireObj = function() {
        return res;
      };

      return res;
    }

    function removeRegisteredSessionRequireObj() {
      removeFromLocal(STORAGE_REQUIREDAC3_OBJ_KEY);
      Log.log({
        ctx: "removeRegisteredSessionRequireObj()",
        msg: "STORAGE_REQUIREDAC3_OBJ_KEY " + " removed from storage"
      });
    }

    function hasRequireDac3InSession() {
      Log.log("hasRequireDac3InSession: ->");

      var registeredSessionObj = getRegisteredSessionRequireObj();
      var isRegistered = !!(registeredSessionObj || {}).isRegistered;
      var isCacheExpired =
        !isRegistered ||
        (isRegistered &&
          (function() {
            var now = new Date().getTime(),
              registeredTime = Number((registeredSessionObj || {}).time),
              delta = now - registeredTime,
              result =
                Number.isNaN(delta) ||
                (!Number.isNaN(delta) && delta >= STORAGE_TIME_CACHE);

            return result;
          })());
      var res = isRegistered && !isCacheExpired;

      Log.log({
        ctx: "hasRequireDac3InSession()",
        registeredSessionObj: registeredSessionObj,
        isRegistered: isRegistered,
        isCacheExpired: isCacheExpired,
        res: res
      });

      if (isCacheExpired) {
        removeRegisteredSessionRequireObj();
      }

      hasRequireDac3InSession = function() {
        return res;
      };

      return res;
    }

    function getRefererPath() {
      var registeredSessionObj = getRegisteredSessionRequireObj();
      var res = (registeredSessionObj || {}).refererPath;

      getRefererPath = function() {
        return res;
      };

      return res;
    }

    function detectingRequireDac() {
      Log.log("detectingRequireDac: ->");
      var refererPath, rg;

      rg = new RegExp(SEARCH_REQUIREDAC_STRING, "gi");

      if (isRequireDac3()) {
        if (isConnected) {
          return;
        }
        refererPath =
          window.location.pathname + window.location.search.replace(rg, "");

        updateLocalStorage(STORAGE_REQUIREDAC3_OBJ_KEY, {
          isRegistered: true,
          refererPath: refererPath,
          time: new Date().getTime()
        });

        Log.log(
          JSON.stringify({
            detectingRequireDac: {
              refererPath: refererPath
            }
          })
        );

        window.location.replace(FORCE_AUTHENT_URL);
      } else if (hasRequireDac3InSession()) {
        refererPath = getRefererPath();
        Log.log(
          JSON.stringify({
            detectingRequireDac: {
              hasRequireDac3InSession: hasRequireDac3InSession(),
              nextAction: "redirection to refererPath",
              "refererPath from session": refererPath
            }
          })
        );
        removeRegisteredSessionRequireObj();
        window.location.replace(refererPath);
      }
    }

    detectingRequireDac();

    exportToGlobalSite({
      detectingRequireDac: detectingRequireDac
    });
  } catch (e) {
    console.error(e);
  }
})();

(function detectingLoopingPage() {
  //===========================================
  window.GlobalSite = window.GlobalSite || {};
  //===========================================
  var exportToGlobalSite = GlobalSite.checkDependency(
      "GlobalSite.exportToGlobalSite"
    ),
    logFactory = GlobalSite.checkDependency("GlobalSite.logFactory"),
    getFromSessionStorage = GlobalSite.checkDependency(
      "GlobalSite.getFromSessionStorage"
    ),
    updateSession = GlobalSite.checkDependency("GlobalSite.updateSession"),
    SCRIPT_NAME = "detectingLoopingPage",
    Log = logFactory(SCRIPT_NAME),
    TTL = 3 * 60 * 1000,
    CONF_DETECTING_LOOP_SESSION_STORAGE_KEY = "CONF_DETECTING_LOOP",
    CONF_DETECTING_LOOP_URL = "/aem_redirection/detecting_loop_conf.json",
    LAST_PAGE_ACCESS_SESSION_STORAGE_KEY = "LAST_PAGE_ACCESS";

  /**
   *
   * @returns {jQuery|*}
   */
  function $ajaxRequest() {
    return $.ajax({
      url: CONF_DETECTING_LOOP_URL,
      cache: true,
      dataType: "json"
    });
  }

  function getAsyncBrowserDate() {
    var asynRes = $.when(new Date());

    getAsyncBrowserDate = function() {
      return asynRes;
    };

    return asynRes;
  }

  function getLoopingDetectionConfAsync() {
    var res = getAsyncBrowserDate()
      .then(function(browserDate) {
        var browserTimestamp, rawSessionClientJSON, isExpired;

        browserTimestamp = browserDate.getTime();
        rawSessionClientJSON = getFromSessionStorage(
          CONF_DETECTING_LOOP_SESSION_STORAGE_KEY
        );
        isExpired =
          !rawSessionClientJSON ||
          (!!rawSessionClientJSON &&
            browserTimestamp -
              new Date(rawSessionClientJSON.dateServeur).getTime() >
              TTL);

        if (isExpired) {
          Log.log({
            debug: {
              date: new Date(),
              "getLoopingDetectionConfAsync()": {
                isExpired: isExpired,
                action: "ajax request launched"
              }
            }
          });

          return $ajaxRequest()
            .then(function(json) {
              rawSessionClientJSON = json || {};

              rawSessionClientJSON.serveurTimestamp = rawSessionClientJSON.dateServeur = browserTimestamp;
              updateSession(
                CONF_DETECTING_LOOP_SESSION_STORAGE_KEY,
                rawSessionClientJSON
              );
              return rawSessionClientJSON;
            })
            .then(function(rawSessionClientJSON) {
              Log.log({
                "getLoopingDetectionConfAsync()": {
                  $ajaxRequest: {
                    res: rawSessionClientJSON
                  }
                }
              });
              return rawSessionClientJSON;
            })
            .fail(Log.error);
        } else {
          Log.log({
            debug: {
              date: new Date(),
              "getLoopingDetectionConfAsync()": {
                isExpired: isExpired,
                action: "ajax request not launched"
              }
            }
          });
        }

        return $.when(rawSessionClientJSON);
      })
      .fail(function() {
        Log.error({
          "Failed to fetch url redirection mapping": Array.from(arguments)
        });
      });

    getLoopingDetectionConfAsync = function() {
      return res;
    };

    return res;
  }

  /*
    Format :
    {
       [page_id]: [
          timestamp1,
          timestamp2,
          ....
          timestamp_n
       ]
    }

    le nombre de timestamp max est limit
     */

  function getPageId() {
    var res = window.location.toString();

    getPageId = function() {
      return res;
    };

    return res;
  }

  function getLatests(arr, maxNbreElt) {
    var __arr = (Array.isArray(arr) ? arr : []).map(Number).sort(),
      res = __arr.slice(__arr.length - Math.min(__arr.length, maxNbreElt)); // truncate  list

    return res;
  }

  function diffBetweenTimestamps(t1, t2) {
    return Math.abs(t2 - t1);
  }

  function buildPairs(arr) {
    var res = arr
      .reduce(function(accumulator, current, index) {
        return accumulator.concat([[arr[index - 1], current]]);
      }, [])
      .slice(1);

    return res;
  }

  //=================================

  getLoopingDetectionConfAsync()
    .then(function(conf) {
      return $.when(
        conf.loop_detection_isactive,
        conf.max_num_page_tight_threshold,
        conf.max_page_timestamp_record,
        conf.minimal_diff_timestamp,
        conf.redirect_url_when_looping
      );
    })
    .then(function(
      LOOP_DETECTION_ISACTIVE,
      MAX_NUM_PAGE_TIGHT_THRESHOLD,
      MAX_PAGE_TIMESTAMP_RECORD,
      MINIMAL_DIFF_TIMESTAMP,
      REDIRECT_URL_WHEN_LOOPING
    ) {
      if (!LOOP_DETECTION_ISACTIVE) {
        Log.log("looping page detection is not active ...");

        return;
      }

      /**
       *
       * @returns {
       *  [page_id]: [
       *    timestamp1,
       *   timestamp2,
       *    ....
       *   timestamp_n
       *   ]
       *  }
       */
      function getPageAccessTimestampObj() {
        return (
          getFromSessionStorage(LAST_PAGE_ACCESS_SESSION_STORAGE_KEY) || {}
        );
      }

      function setCurrentPageAccessTimestamp() {
        var currentPageId = getPageId(),
          currentPageAccesTimestamp = getCurrentPageAccesTimestamps(),
          currentTimestamp = Date.now(),
          nextTimeStamps = currentPageAccesTimestamp.concat(currentTimestamp),
          pageAccessTimestampObj = getPageAccessTimestampObj();

        pageAccessTimestampObj[currentPageId] = nextTimeStamps;

        updateSession(
          LAST_PAGE_ACCESS_SESSION_STORAGE_KEY,
          pageAccessTimestampObj
        );
      }

      /**
       *
       * @returns {unknown[]}
       */
      function getCurrentPageAccesTimestamps() {
        var currentPageId = getPageId(),
          timestampsObj = getPageAccessTimestampObj() || {},
          timestamps = timestampsObj[currentPageId],
          res = normalizePageAccessTimeStamps(timestamps),
          timestampsObjForOnePage = {};

        timestampsObjForOnePage[currentPageId] = timestamps;
        updateSession(
          LAST_PAGE_ACCESS_SESSION_STORAGE_KEY,
          timestampsObjForOnePage
        );

        return res;
      }

      function normalizePageAccessTimeStamps(arr) {
        return getLatests(arr, MAX_PAGE_TIMESTAMP_RECORD);
      }

      /**
       * is diff between two timestamps too tight ?
       * @param t1
       * @param t2
       * @returns {boolean}
       */
      function isDiffTooTight(t1, t2) {
        var diff = diffBetweenTimestamps(t1, t2),
          res = diff <= MINIMAL_DIFF_TIMESTAMP;

        Log.log({
          isDiffTooTight: {
            t1: t1,
            t2: t2,
            diff: diff,
            res: res
          }
        });

        return res;
      }

      function isTimestampsInLoop(arrOfTimestamps, max) {
        Log.log("->isTimestampsInLoop");

        var latests = getLatests(arrOfTimestamps, max) || [],
          pairs = buildPairs(latests),
          tooTightMap = pairs.map(function(pair) {
            return isDiffTooTight(pair[0], pair[1]);
          }),
          res =
            arrOfTimestamps.length >= max &&
            tooTightMap.every(function isTrue(item) {
              return item;
            });

        Log.log({
          isTimestampsInLoop: {
            arrOfTimestamps: arrOfTimestamps,
            max: max,
            pairs: pairs,
            tooTightMap: tooTightMap,
            res: res
          }
        });

        return res;
      }

      function isPageInloop() {
        var res = isTimestampsInLoop(
          getCurrentPageAccesTimestamps(),
          MAX_NUM_PAGE_TIGHT_THRESHOLD + 1
        );

        if (res) {
          delete sessionStorage[LAST_PAGE_ACCESS_SESSION_STORAGE_KEY];
        }

        return res;
      }

      //===============================
      setCurrentPageAccessTimestamp();

      if (isPageInloop()) {
        Log.log("Page in loop...");
        window.location.replace(REDIRECT_URL_WHEN_LOOPING);
      }
      //===============================
    })
    .fail(function(error) {
      Log.error(error);
    });

  //=============================================

  exportToGlobalSite({
    getPageId: getPageId
  });
})();

(function bySiteVars() {
  //===========================================
  window.GlobalSite = window.GlobalSite || {};
  var exportGlobally = GlobalSite.checkDependency("GlobalSite.exportGlobally");
  var clientTypes = GlobalSite.checkDependency("GlobalSite.CST.CLIENT_TYPES");

  //===========================================

  //===========================================
  exportGlobally({
    sfSiteId: clientTypes.PART.toLowerCase(),
    typeClientPourMultilingue: clientTypes.PART.toLowerCase(),
    BY_SITE_VARS: {
      typeClient: clientTypes.PART
    }
  });
  //===========================================
})();

(function throttleJs($, window, undefined) {
  //===========================================
  window.GlobalSite = window.GlobalSite || {};
  GlobalSite.checkDependencies("GlobalSite.exportGlobally");
  //===========================================
  ("$:nomunge"); // Used by YUI compressor.

  var jq_throttle;

  // Method: jQuery.throttle
  //
  // Throttle execution of a function. Especially useful for rate limiting
  // execution of handlers on events like resize and scroll. If you want to
  // rate-limit execution of a function to a single time, see the
  // <jQuery.debounce> method.
  //
  // In this visualization, | is a throttled-function call and X is the actual
  // callback execution:
  //
  // > Throttled with `no_trailing` specified as false or unspecified:
  // > ||||||||||||||||||||||||| (pause) |||||||||||||||||||||||||
  // > X    X    X    X    X    X        X    X    X    X    X    X
  // >
  // > Throttled with `no_trailing` specified as true:
  // > ||||||||||||||||||||||||| (pause) |||||||||||||||||||||||||
  // > X    X    X    X    X             X    X    X    X    X
  //
  // Usage:
  //
  // > var throttled = jQuery.throttle( delay, [ no_trailing, ] callback );
  // >
  // > jQuery('selector').bind( 'someevent', throttled );
  // > jQuery('selector').unbind( 'someevent', throttled );
  //
  // This also works in jQuery 1.4+:
  //
  // > jQuery('selector').bind( 'someevent', jQuery.throttle( delay, [ no_trailing, ] callback ) );
  // > jQuery('selector').unbind( 'someevent', callback );
  //
  // Arguments:
  //
  //  delay - (Number) A zero-or-greater delay in milliseconds. For event
  //    callbacks, values around 100 or 250 (or even higher) are most useful.
  //  no_trailing - (Boolean) Optional, defaults to false. If no_trailing is
  //    true, callback will only execute every `delay` milliseconds while the
  //    throttled-function is being called. If no_trailing is false or
  //    unspecified, callback will be executed one final time after the last
  //    throttled-function call. (After the throttled-function has not been
  //    called for `delay` milliseconds, the internal counter is reset)
  //  callback - (Function) A function to be executed after delay milliseconds.
  //    The `this` context and all arguments are passed through, as-is, to
  //    `callback` when the throttled-function is executed.
  //
  // Returns:
  //
  //  (Function) A new, throttled, function.

  $.throttle = jq_throttle = function(
    delay,
    no_trailing,
    callback,
    debounce_mode
  ) {
    // After wrapper has stopped being called, this timeout ensures that
    // `callback` is executed at the proper times in `throttle` and `end`
    // debounce modes.
    var timeout_id,
      // Keep track of the last time `callback` was executed.
      last_exec = 0;

    // `no_trailing` defaults to falsy.
    if (typeof no_trailing !== "boolean") {
      debounce_mode = callback;
      callback = no_trailing;
      no_trailing = undefined;
    }

    // The `wrapper` function encapsulates all of the throttling / debouncing
    // functionality and when executed will limit the rate at which `callback`
    // is executed.
    function wrapper() {
      var that = this,
        elapsed = +new Date() - last_exec,
        args = arguments;

      // Execute `callback` and update the `last_exec` timestamp.
      function exec() {
        last_exec = +new Date();
        callback.apply(that, args);
      }

      // If `debounce_mode` is true (at_begin) this is used to clear the flag
      // to allow future `callback` executions.
      function clear() {
        timeout_id = undefined;
      }

      if (debounce_mode && !timeout_id) {
        // Since `wrapper` is being called for the first time and
        // `debounce_mode` is true (at_begin), execute `callback`.
        exec();
      }

      // Clear any existing timeout.
      timeout_id && clearTimeout(timeout_id);

      if (debounce_mode === undefined && elapsed > delay) {
        // In throttle mode, if `delay` time has been exceeded, execute
        // `callback`.
        exec();
      } else if (no_trailing !== true) {
        // In trailing throttle mode, since `delay` time has not been
        // exceeded, schedule `callback` to execute `delay` ms after most
        // recent execution.
        //
        // If `debounce_mode` is true (at_begin), schedule `clear` to execute
        // after `delay` ms.
        //
        // If `debounce_mode` is false (at end), schedule `callback` to
        // execute after `delay` ms.
        timeout_id = setTimeout(
          debounce_mode ? clear : exec,
          debounce_mode === undefined ? delay - elapsed : delay
        );
      }
    }

    // Set the guid of `wrapper` function to the same of original callback, so
    // it can be removed in jQuery 1.4+ .unbind or .die by using the original
    // callback as a reference.
    if ($.guid) {
      wrapper.guid = callback.guid = callback.guid || $.guid++;
    }

    // Return the wrapper function.
    return wrapper;
  };

  //===========================================
  GlobalSite.exportGlobally({
    throttle: jq_throttle
  });
  //===========================================
})($, this);

(function DatePickerJs() {
  //===========================================
  window.GlobalSite = window.GlobalSite || {};
  //===========================================
  var exportGlobally = GlobalSite.checkDependency("GlobalSite.exportGlobally");

  GlobalSite.checkDependency("$");

  var Datepicker = {
    init: function() {
      if ($(".date-picker input").length == 0) {
        return;
      }

      $.datepicker.regional["fr"] = {
        closeText: "Fermer",
        prevText: "Pr&eacute;c",
        nextText: "Suiv",
        currentText: "Aujourd'hui",
        monthNames: [
          "janvier",
          "f&eacute;vrier",
          "mars",
          "avril",
          "mai",
          "juin",
          "juillet",
          "ao&ucirc;t",
          "septembre",
          "octobre",
          "novembre",
          "d&eacute;cembre"
        ],
        monthNamesShort: [
          "janv.",
          "f&eacute;vr.",
          "mars",
          "avril",
          "mai",
          "juin",
          "juil.",
          "ao&ucirc;t",
          "sept.",
          "oct.",
          "nov.",
          "d&eacute;c."
        ],
        dayNames: [
          "dimanche",
          "lundi",
          "mardi",
          "mercredi",
          "jeudi",
          "vendredi",
          "samedi"
        ],
        dayNamesShort: ["dim.", "lun.", "mar.", "mer.", "jeu.", "ven.", "sam."],
        dayNamesMin: ["D", "L", "M", "M", "J", "V", "S"],
        weekHeader: "Sem.",
        dateFormat: "dd/mm/yy",
        firstDay: 1,
        isRTL: false,
        showMonthAfterYear: false,
        gotoCurrent: true,
        yearSuffix: "",
        onClose: function(selected_date) {
          if (selected_date == "" && !$(this).prop("required")) {
            return;
          }
          if ($(this).valid()) {
            FormHelper.storeDatasInSession($(this));
          }
        }
      };

      // Set les options par dfaut
      $.datepicker.setDefaults($.datepicker.regional["fr"]);

      // On initialise le datepicker par dfaut
      $(".js-init-datepicker").datepicker();

      // Si class auto on set la date dans le champ  aujourd'hui
      $(".js-init-datepicker-auto").datepicker(
        "setDate",
        DateHelper.todayDate()
      );

      // preselection dans le calendrier de (today + [data-datepicker-auto])
      $("[data-datepicker-auto]:not([class~='js-init-datepicker-auto'])").each(
        function() {
          var $this = $(this);
          var n = $this.data("datepicker-auto");

          $this.datepicker(
            "setDate",
            DateHelper.addToDate(DateHelper.todayDate(), n)
          );
        }
      );

      //  Ajout le choix du mois et de l'anne
      $(".js-date-naissance").datepicker("option", {
        changeMonth: true,
        changeYear: true,
        yearRange: "-100:+0"
      });

      // Gre plusieurs champs dates qui dpendent les un des autres, example champ2 doit avoir une date ultrieure  champ1
      $("[data-date-min]").each(function() {
        var $current_element = $(this);
        $($(this).data("date-min")).datepicker("option", {
          onClose: function(selected_date) {
            var selected_date_object = DateHelper.formatDateToObject(
              selected_date
            );
            if (selected_date_object) {
              $current_element.datepicker("option", {
                minDate: selected_date
              });
            }
          }
        });
      });

      //Restriction de certains Datepicker
      try {
        $("input.date").attr("maxlength", 10);

        // Date minimum  aujourd'hui
        $(".js-mindate-today").datepicker(
          "option",
          "minDate",
          DateHelper.todayDate()
        );

        //Date minimum dans trois jours ouvrs
        $(".js-mindate-5-wD").datepicker(
          "option",
          "minDate",
          DateHelper.addWDToDate(DateHelper.todayDate(), 5)
        );
        $(".js-mindate-4-wD").datepicker(
          "option",
          "minDate",
          DateHelper.addWDToDate(DateHelper.todayDate(), 4)
        );
        $(".js-mindate-3-wD").datepicker(
          "option",
          "minDate",
          DateHelper.addWDToDate(DateHelper.todayDate(), 3)
        );
        $(".js-mindate-2-wD").datepicker(
          "option",
          "minDate",
          DateHelper.addWDToDate(DateHelper.todayDate(), 2)
        );
        $(".js-mindate-1-wD").datepicker(
          "option",
          "minDate",
          DateHelper.addWDToDate(DateHelper.todayDate(), 1)
        );

        // Date maximum  aujourd'hui, pas de date ultrieure
        $(".js-maxdate-today").datepicker(
          "option",
          "maxDate",
          DateHelper.todayDate()
        );

        // Date maximum  dans 60 jours
        $(".js-maxdate-60").datepicker(
          "option",
          "maxDate",
          DateHelper.addToDate(DateHelper.todayDate(), 60)
        );

        // Date maximum  dans 30 jours
        $(".js-maxdate-30").datepicker(
          "option",
          "maxDate",
          DateHelper.addToDate(DateHelper.todayDate(), 30)
        );

        // Date maximum  dans data-maxdate-[value] jours
        $("[data-maxdate]:not([class*='js-maxdate-'])").each(function() {
          var $this = $(this);

          var dataMaxDate = $this.data("maxdate");
          $this.datepicker(
            "option",
            "maxDate",
            DateHelper.addToDate(DateHelper.todayDate(), dataMaxDate)
          );
        });

        // Slection des jours ouvrs uniquement
        $(".js-no-weekend").datepicker("option", "beforeShowDay", function(
          date
        ) {
          var we = $.datepicker.noWeekends(date);
          if (!we[0]) return false;
          var holidays = Datepicker.holidays(date.getFullYear());
          var mm = date.getMonth() + 1;
          var dd = date.getDate();
          var string =
            (dd <= 9 ? "0" : "") + dd + "-" + (mm <= 9 ? "0" : "") + mm;
          return [$.inArray(string, holidays) == -1];
        });

        // Slection de tous les jours sauf le dimanche
        $(".js-no-sunday").datepicker("option", "beforeShowDay", function(
          date
        ) {
          if (date.getDay() == 0) return false;
          var holidays = Datepicker.holidays(date.getFullYear());
          var mm = date.getMonth() + 1;
          var dd = date.getDate();
          var string =
            (dd <= 9 ? "0" : "") + dd + "-" + (mm <= 9 ? "0" : "") + mm;
          return [$.inArray(string, holidays) == -1];
        });
        // Date maximum  dans 180 jours
        $(".js-maxdate-6m").datepicker(
          "option",
          "maxDate",
          DateHelper.addToDate(DateHelper.todayDate(), 180)
        );
      } catch (e) {}
    },

    easterday: function(year, day) {
      var G = year % 19;
      var C = Math.floor(year / 100);
      var H =
        (C - Math.floor(C / 4) - Math.floor((8 * C + 13) / 25) + 19 * G + 15) %
        30;
      var I =
        H -
        Math.floor(H / 28) *
          (1 -
            Math.floor(H / 28) *
              Math.floor(29 / (H + 1)) *
              Math.floor((21 - G) / 11));
      var J =
        (year * 1 + Math.floor(year / 4) + I + 2 - C + Math.floor(C / 4)) % 7;
      var L = I - J;
      var MoisPaques = 3 + Math.floor((L + 40) / 44);
      var JourPaques = L + 28 - 31 * Math.floor(MoisPaques / 4);
      return new Date(year, MoisPaques - 1, JourPaques + day);
    },
    holidays: function(year) {
      if (this._holidays && this._holidays[year]) return this._holidays[year];
      if (!this._holidays) this._holidays = [];
      var tabHolidays = [
        "01-01",
        "01-05",
        "08-05",
        "14-07",
        "15-08",
        "01-11",
        "11-11",
        "25-12"
      ];
      var mm;
      var dd;

      /*Lundi paques*/
      var date = this.easterday(year, 1);
      mm = date.getMonth() + 1;
      dd = date.getDate();
      tabHolidays.push(
        (dd <= 9 ? "0" : "") + dd + "-" + (mm <= 9 ? "0" : "") + mm
      );

      /*Ascension*/
      date = this.easterday(year, 39);
      mm = date.getMonth() + 1;
      dd = date.getDate();
      tabHolidays.push(
        (dd <= 9 ? "0" : "") + dd + "-" + (mm <= 9 ? "0" : "") + mm
      );
      /*Lundi Pentecote*/
      date = this.easterday(year, 50);
      mm = date.getMonth() + 1;
      dd = date.getDate();
      tabHolidays.push(
        (dd <= 9 ? "0" : "") + dd + "-" + (mm <= 9 ? "0" : "") + mm
      );
      this._holidays[year] = tabHolidays;
      return tabHolidays;
    }
  };
  exportGlobally({
    Datepicker: Datepicker
  });
})();

/**
 * # DateHelper
 * Petit objet nous permettant de :
 * - rcuprer la date du jour
 * - convertir une date en chaine de caractre en un objet date (format attendu : dd/mm/yyyy ou dd-mm-yyyy)
 * - ajouter un nombre de jours  une date existante
 * - renvoyer si la date est pendant un weekend
 * - ajouter des jours ouvrs  une date
 */
(function DateHelperJs() {
  //===========================================
  window.GlobalSite = window.GlobalSite || {};
  GlobalSite.checkDependencies("GlobalSite.exportGlobally");
  //===========================================
  var initDate = new Date();
  var DateHelper = {
    todayDate: function() {
      return initDate;
    },
    formatDateToObject: function(string) {
      if (string === undefined) {
        return false;
      }

      if (string.indexOf("/") > -1) {
        var date_split = string.split("/");
      } else if (string.indexOf("-") > -1) {
        var date_split = string.split("-");
      } else {
        return false;
      }

      if (
        date_split[0] !== undefined &&
        date_split[1] !== undefined &&
        date_split[2] !== undefined
      ) {
        var day = date_split[0],
          month = date_split[1] - 1,
          year = date_split[2];

        var date = new Date(year, month, day);

        return date;
      }
      return false;
    },
    addToDate: function(current_date, number_of_days) {
      var new_date = new Date(current_date);
      new_date.setDate(current_date.getDate() + number_of_days);
      return new_date;
    },
    isWeekend: function(current_date) {
      var _date = new Date(current_date);
      return _date.getDay() == 6 || _date.getDay() == 0;
    },
    addWDToDate: function(current_date, number_of_days) {
      var tempDate = current_date;
      var finalDate = current_date;
      var i = 1;
      while (i <= number_of_days) {
        var tempDate = DateHelper.addToDate(tempDate, 1);
        if (!DateHelper.isWeekend(tempDate)) {
          finalDate = tempDate;
          i++;
        }
      }
      return finalDate;
    }
  };

  //===========================================
  GlobalSite.exportGlobally({
    DateHelper: DateHelper
  });
  //===========================================
})();

(function HelperDeviceSizeJs() {
  //===========================================
  window.GlobalSite = window.GlobalSite || {};
  //===========================================

  GlobalSite.checkDependencies(
    "GlobalSite.exportGlobally",
    "GlobalSite.exportToGlobalSite"
  );
  var logFactory = GlobalSite.checkDependency("GlobalSite.logFactory"),
    Log = logFactory("HelperDeviceSize.js"),
    toExport = {
      size: window.innerWidth,
      device: function() {
        if (this.size >= 769) {
          return "desktop";
        } else if (this.size <= 768) {
          return "mobile";
        }
      },
      class_name: "state-indicator",
      last_device_state: "",
      init: function() {
        var $body = GlobalSite.checkDependency("GlobalSite.$body");
        var self = this;

        Log.log("--> init");

        if ($("." + self.class_name).length <= 0) {
          $body.append('<div class="' + self.class_name + '"></div>');
        }
        self.last_device_state = self.getDeviceState();
        $(window).on("resize", function() {
          self.resizeDevice();
        });
      },
      //Fonction qui renvoie le type de device interprt par la feuille css (media queries)
      getDeviceState: function() {
        if ($("." + this.class_name).length == 0) {
          return "desktop";
        }
        var state = this.getContentState();
        return state || "desktop";
      },
      getContentState: function() {
        var self = this;
        try {
          if (
            typeof window.getComputedStyle === "undefined" ||
            typeof window.getComputedStyle === "null"
          ) {
            return;
          }

          return window
            .getComputedStyle(
              document.querySelector("." + self.class_name),
              ":before"
            )
            .getPropertyValue("content")
            .replace(/(\"|\')/g, "");
        } catch (e) {}
      },
      resizeDevice: function() {
        var state = this.getContentState();

        if (state != this.last_device_state) {
          //On stocke le nouveau state
          this.last_device_state = state;
          // On dclenche un vnement "breakPointReached"
          $(document).trigger("breakPointReached", String(state));
        }
      }
    };

  //===========================================
  GlobalSite.exportGlobally({
    DeviceSize: toExport
  });
  //===========================================
})();

(function GetURLParameterJs() {
  //===========================================
  window.GlobalSite = window.GlobalSite || {};
  //===========================================

  GlobalSite.checkDependencies("GlobalSite.exportGlobally");

  //------------------------------------------------
  function GetURLParameter(sParam) {
    var sPageURL = window.location.search.substring(1);
    var sURLVariables = sPageURL.split("&");
    for (var i = 0; i < sURLVariables.length; i++) {
      var sParameterName = sURLVariables[i].split("=");
      if (sParameterName[0] == sParam) {
        return sParameterName[1];
      }
    }
  }
  //===========================================
  GlobalSite.exportGlobally({
    GetURLParameter: GetURLParameter
  });
  //===========================================
})();

(function jqVariablesJs($) {
  //===========================================
  window.GlobalSite = window.GlobalSite || {};
  //===========================================

  GlobalSite.checkDependencies("GlobalSite.exportGlobally");
  $(function() {
    //------------------------------------------------
    //------------------------------------------------
    var $body = $("body"),
      $document = $(document),
      $html = $("html"),
      toExport = {
        $body: $body,
        $document: $document,
        $html: $html
      };

    //===========================================
    GlobalSite.exportToGlobalSite(toExport);
    //===========================================
  });

  function $AsyncDomReady() {
    var deferred = $.Deferred();

    $(deferred.resolve);

    return deferred;
  }

  //===========================================
  GlobalSite.exportToGlobalSite({
    $AsyncDomReady: $AsyncDomReady
  });
  //===========================================
})($);

/**
 * Utilitaires globaux lis au fonctionnel
 */
(function HelptextJs() {
  //===========================================
  window.GlobalSite = window.GlobalSite || {};
  //===========================================
  GlobalSite.checkDependencies("GlobalSite.exportGlobally");

  var HelpText = {
    init: function($container) {
      //------------------------------------------------
      GlobalSite.checkDependencies("GlobalSite.$body");
      var $body = GlobalSite.$body;
      //------------------------------------------------

      var $all_popups = $(".help-text-popup");
      if ($all_popups.length == 0) {
        return false;
      }

      $container.on("click.help-text", ".help-text", function() {
        $current_popup = $(this).next(".help-text-popup");
        if ($current_popup.length == 0) {
          return false;
        }

        if ($current_popup.hasClass("hidden")) {
          $all_popups.addClass("hidden");
          $current_popup.removeClass("hidden");
        } else {
          $current_popup.addClass("hidden");
        }
        // Stop la propagation
        return false;
      });

      $body.on("click.close-popups", function() {
        $all_popups.addClass("hidden");
      });
    }
  };

  //------------------------------------------------
  GlobalSite.exportGlobally({
    HelpText: HelpText
  });
  //------------------------------------------------
})();

(function HelpersJs() {
  //===========================================
  window.GlobalSite = window.GlobalSite || {};
  //===========================================

  GlobalSite.checkDependencies("GlobalSite.exportGlobally");

  //------------------------------------------------
  /**
   * Fonction de formattage/conversion des chaines de caractres
   * Enleve tous les accents d'une chaine de caractres
   * Utilis sur la recherche, pour avoir les mmes rsultats en tapant avec ou sans accent
   * {string}
   */
  String.prototype.stripAccents = function() {
    var translate_re = /[]/g;
    var translate = "aaaaaceeeeiiiinooooouuuuyyAAAAACEEEEIIIINOOOOOUUUUY";
    return this.replace(translate_re, function(match) {
      return translate.substr(translate_re.source.indexOf(match) - 1, 1);
    });
  };

  /**
   * Trouve une chaine de caractre dans une caractre
   * {string} value   Chaine sur laquelle on se base
   * {string} keyword Chaine  rechercher
   * {bool}
   */
  function find(value, keyword) {
    if (searchFormat(value).indexOf(keyword) >= 0) {
      return true;
    }
    return false;
  }

  /**
   * Formate la chaine de caractre pour la recherche, en minuscule, suppression des accents, et trim
   * {string} str Chaine de caractre  formater
   * {string}     La nouvelle chaine de caractre
   */
  function searchFormat(str) {
    if (str == undefined) {
      return "";
    }
    var new_str = String(str)
      .toLowerCase()
      .stripAccents();
    return $.trim(new_str);
  }

  /**
   * Tri sur la date
   * {string} field Le nom du champ  trier
   * {string}  L'lment class
   */
  function sortByDate(field) {
    return function(a, b) {
      return DateHelper.formatDateToObject(b[field]) == false ||
        DateHelper.formatDateToObject(a[field]) == false
        ? 1
        : DateHelper.formatDateToObject(b[field]).getTime() -
            DateHelper.formatDateToObject(a[field]).getTime();
    };
  }

  /**
   * Tri sur les nombres (type montant)
   * {string} field Le nom du champ  trier
   * {string}  L'lment class
   */
  function sortByNumber(field) {
    return function(a, b) {
      return b[field] - a[field];
    };
  }

  /**
   * Tri sur une chaine de caractre
   * {string} field Le nom du champ  class
   * {int}  Un nombre pour class les lments
   */
  function sortByString(field) {
    return function(a, b) {
      if (a[field] < b[field]) {
        return -1;
      }
      if (a[field] > b[field]) {
        return 1;
      }
      return 0;
    };
  }

  /**
   * Obtient l'index maximum d'un tableau
   * {array} array
   * {int} index
   */
  function getIndexMaxOfArray(array) {
    return array.indexOf(Math.max.apply(null, array)); /**/
  }

  /**
   * Mise  jour du template handlebar avec les nouvelles donnes
   * par exemple tri, ou recherch
   * {object} $elem_placeholder jQuery object lment dans lesquels on rinsre les donnes
   * {function} template        Handlebar fonction permettant de compiler le template
   * {object} data              Les donnes  insrer dans le template
   * {void}
   */
  function updateTemplate($elem_placeholder, template, data) {
    $elem_placeholder.html(template(data));
  }

  /**
   * Boucle sur les valeurs de la ligne  faire correspondre avec les mots taps
   * {array} keywords         Array split sur les espaces
   * {array} values_to_match  Les valeurs de la ligne en cours contenu dans un tableau
   * {bool}
   */
  function checkValue(keywords, values_to_match) {
    var found = false,
      exit = false;

    $.each(keywords, function(idx, keyword) {
      // Si exit est set  false, on sort de la boucle car un des keyword n'a pas t trouv
      if (exit) {
        found = false;
        return false;
      }

      $.each(values_to_match, function(index, value) {
        // Si le keyword match, on set found  true et on sort de la boucle pour regarder le keyword suivant
        if (find(value, keyword)) {
          found = true;
          return false;
        }
        // Si c'est le dernier lment on set exit  true (pas besoin de chercher sur les autre keywords)
        if (values_to_match.length == index + 1) {
          exit = true;
          found = false;
        }
      });
    });
    return found;
  }

  /**
   * Cherche sur une plage de montant
   * {int}    value       La valeur du montant du virement  comparer
   * {string} amount_from La valeur du montant ( partir de) que l'utilisateur a tap
   * {string} amount_to   La valeur du montant (jusqu') que l'utilisateur a tap
   * {bool}               True si trouv, false sinon
   */
  function searchBetweenAmount(value, amount_from, amount_to) {
    if (+amount_from <= +value && +amount_to >= +value) {
      return true;
    }
    return false;
  }

  /**
   * Cherche sur une plage de date
   * {object} value     Objet date  comparer
   * {object} date_from Objet date qui a t renseign dans le champ ( partir de)
   * {object} date_to   Objet date qui a t renseign dans le champ (jusqu')
   * {bool}             True si trouv, false sinon
   */
  function searchBetweenDate(value, date_from, date_to) {
    if (date_from <= value && date_to >= value) {
      return true;
    }
    return false;
  }

  /**
   * delay
   * {function}
   */
  var delay = (function() {
    var timer = 0;
    return function(callback, ms) {
      clearTimeout(timer);
      timer = setTimeout(callback, ms);
    };
  })();

  /**
   * Array functions
   */
  var arrayFunctions = {
    sortMontant: function(a, b) {
      return Number(a) - Number(b);
    }
  };

  //Fonction stringReverse
  //inverse une chaine de caractres
  String.prototype.stringReverse = function() {
    return this.split("")
      .reverse()
      .join("");
  };

  //Fonction toTitle
  //met une majuscule  la premire lettre de chaque mot d'une chaine
  String.prototype.toTitle = function() {
    return this.replace(/\w\S*/g, function(txt) {
      return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();
    });
  };

  //Fonction uniform
  //uniformise une chaine de caractre dans le style unix (pas d'espace, pas de majuscule, pas de tiret, des underscore  la place)
  String.prototype.uniform = function() {
    return this.toLowerCase()
      .stripAccents()
      .replace(/(\s|-|')/gi, "_");
  };

  //Fonction stripAccents
  //supprime les accents d'une chaine de caractres
  String.prototype.stripAccents = function() {
    var accent = [
      /[\300-\306]/g,
      /[\340-\346]/g, // A, a
      /[\310-\313]/g,
      /[\350-\353]/g, // E, e
      /[\314-\317]/g,
      /[\354-\357]/g, // I, i
      /[\322-\330]/g,
      /[\362-\370]/g, // O, o
      /[\331-\334]/g,
      /[\371-\374]/g, // U, u
      /[\321]/g,
      /[\361]/g, // N, n
      /[\307]/g,
      /[\347]/g // C, c
    ];
    var noaccent = [
      "A",
      "a",
      "E",
      "e",
      "I",
      "i",
      "O",
      "o",
      "U",
      "u",
      "N",
      "n",
      "C",
      "c"
    ];
    var str = this;
    for (var i = 0; i < accent.length; i++) {
      str = str.replace(accent[i], noaccent[i]);
    }
    return str;
  };

  //Fonction size
  //Renvoie le nombre de properties d'un objet (on n'utilise pas le prototypage dans ce cas comme recommand)
  Object.size = function(obj) {
    var size = 0,
      key;
    for (key in obj) {
      if (obj.hasOwnProperty(key)) size++;
    }
    return size;
  };

  /**
   * Fonctions ajoutes  jQuery
   */
  $(function() {
    $.fn.extend({
      /**
       * slideOpen : fonction qui ouvre un lement progressivement vers le bas (comme slide Down)
       * void
       */
      slideOpen: function(delay, callback) {
        if (isNaN(delay) || typeof delay == "undefined") {
          delay = 300;
        }

        this.each(function() {
          if (!($(this).css("display") == "none")) {
            return;
          }
          $(this)
            .css({
              opacity: 0,
              display: "block"
            })
            .removeClass("hidden");
          var currentHeight = $(this).outerHeight();
          $(this)
            .css({
              height: 0,
              opacity: 1
            })
            .animate(
              {
                height: currentHeight + "px"
              },
              delay,
              function() {
                $(this).css("height", "auto");
                if (typeof callback === "function") {
                  callback.call(this);
                }
              }
            );
        });
        return this;
      }
    });
  });

  function array_key_exists(key, search) {
    // discuss at: http://phpjs.org/functions/array_key_exists/
    // original by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)
    // improved by: Felix Geisendoerfer (http://www.debuggable.com/felix)
    // example 1: array_key_exists('kevin', {'kevin': 'van Zonneveld'});
    // returns 1: true

    if (
      !search ||
      (search.constructor !== Array && search.constructor !== Object)
    ) {
      return false;
    }

    return key in search;
  }

  function getRGB(color) {
    // Function used to determine the RGB colour value that was passed as HEX
    var result;

    // Look for rgb(num,num,num)
    if (
      (result = /rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(
        color
      ))
    )
      return [parseInt(result[1]), parseInt(result[2]), parseInt(result[3])];

    // Look for rgb(num%,num%,num%)
    if (
      (result = /rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(
        color
      ))
    )
      return [
        parseFloat(result[1]) * 2.55,
        parseFloat(result[2]) * 2.55,
        parseFloat(result[3]) * 2.55
      ];

    // Look for #a0b1c2
    if (
      (result = /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(color))
    )
      return [
        parseInt(result[1], 16),
        parseInt(result[2], 16),
        parseInt(result[3], 16)
      ];

    // Look for #fff
    if ((result = /#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(color)))
      return [
        parseInt(result[1] + result[1], 16),
        parseInt(result[2] + result[2], 16),
        parseInt(result[3] + result[3], 16)
      ];
  }

  function parseRGBA(color) {
    var result;

    if (
      (result = /rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9,\.]{1,})\s*\)/.exec(
        color
      ))
    )
      return [
        parseInt(result[1]),
        parseInt(result[2]),
        parseInt(result[3]),
        parseFloat(result[4])
      ];
  }

  function makeRGBColor(arrayOfThreeValues) {
    return Array.isArray(arrayOfThreeValues) && arrayOfThreeValues.length == 3
      ? "rgb(" +
          arrayOfThreeValues[0] +
          ", " +
          arrayOfThreeValues[1] +
          ", " +
          arrayOfThreeValues[2] +
          ")"
      : "rgb(0, 0, 0)";
  }

  function makeRGBAColor(arrayOfThreeValues, opacity) {
    return Array.isArray(arrayOfThreeValues) && arrayOfThreeValues.length == 3
      ? "rgba(" +
          arrayOfThreeValues[0] +
          ", " +
          arrayOfThreeValues[1] +
          ", " +
          arrayOfThreeValues[2] +
          ", " +
          opacity +
          ")"
      : "rgb(0, 0, 0)";
  }

  /* *****************************  */
  /* TEST sur FONTS charges ou non */
  /* *****************************  */

  function waitForFontLoaded(fonts, callback) {
    if (!(fonts instanceof Array)) {
      fonts = [fonts];
    }

    var random = "giItT1WQy@!-/#", // random characters that usually differ in width depending on the font
      loader = [];

    for (var i = 0; i < fonts.length; i++) {
      var span = $("<span>")
        .text(random)
        .css({
          "font-family": "sans-serif",
          "font-variant": "normal",
          "font-style": "normal",
          "font-weight": "normal",
          "font-size": "50px",
          "letter-spacing": "0",
          position: "absolute",
          left: "-2000px",
          top: "-2000px"
        })
        .appendTo("body");
      loader.push([span, span.outerWidth()]);
      span.css("font-family", fonts[i]);
    }

    var interval = setInterval(function() {
      var count = 0;
      for (var i = 0; i < loader.length; i++) {
        if (loader[i][0].outerWidth() != loader[i][1]) {
          count++;
        }
      }
      if (count == loader.length) {
        clearInterval(interval);
        for (var i = 0; i < loader.length; i++) {
          loader[i][0].remove();
        }
        callback();
      }
    }, 50);
  }
  /* *****************************  */
  /* *****************************  */
  /* *****************************  */

  //Fonctions d'easing (rcupres de chart js)
  var easingEffects = {
    linear: function(t) {
      return t;
    },
    easeInQuad: function(t) {
      return t * t;
    },
    easeOutQuad: function(t) {
      return -1 * t * (t - 2);
    },
    easeInOutQuad: function(t) {
      if ((t /= 1 / 2) < 1) return (1 / 2) * t * t;
      return (-1 / 2) * (--t * (t - 2) - 1);
    },
    easeInCubic: function(t) {
      return t * t * t;
    },
    easeOutCubic: function(t) {
      return 1 * ((t = t / 1 - 1) * t * t + 1);
    },
    easeInOutCubic: function(t) {
      if ((t /= 1 / 2) < 1) return (1 / 2) * t * t * t;
      return (1 / 2) * ((t -= 2) * t * t + 2);
    },
    easeInQuart: function(t) {
      return t * t * t * t;
    },
    easeOutQuart: function(t) {
      return -1 * ((t = t / 1 - 1) * t * t * t - 1);
    },
    easeInOutQuart: function(t) {
      if ((t /= 1 / 2) < 1) return (1 / 2) * t * t * t * t;
      return (-1 / 2) * ((t -= 2) * t * t * t - 2);
    },
    easeInQuint: function(t) {
      return 1 * (t /= 1) * t * t * t * t;
    },
    easeOutQuint: function(t) {
      return 1 * ((t = t / 1 - 1) * t * t * t * t + 1);
    },
    easeInOutQuint: function(t) {
      if ((t /= 1 / 2) < 1) return (1 / 2) * t * t * t * t * t;
      return (1 / 2) * ((t -= 2) * t * t * t * t + 2);
    },
    easeInSine: function(t) {
      return -1 * Math.cos((t / 1) * (Math.PI / 2)) + 1;
    },
    easeOutSine: function(t) {
      return 1 * Math.sin((t / 1) * (Math.PI / 2));
    },
    easeInOutSine: function(t) {
      return (-1 / 2) * (Math.cos((Math.PI * t) / 1) - 1);
    },
    easeInExpo: function(t) {
      return t === 0 ? 1 : 1 * Math.pow(2, 10 * (t / 1 - 1));
    },
    easeOutExpo: function(t) {
      return t === 1 ? 1 : 1 * (-Math.pow(2, (-10 * t) / 1) + 1);
    },
    easeInOutExpo: function(t) {
      if (t === 0) return 0;
      if (t === 1) return 1;
      if ((t /= 1 / 2) < 1) return (1 / 2) * Math.pow(2, 10 * (t - 1));
      return (1 / 2) * (-Math.pow(2, -10 * --t) + 2);
    },
    easeInCirc: function(t) {
      if (t >= 1) return t;
      return -1 * (Math.sqrt(1 - (t /= 1) * t) - 1);
    },
    easeOutCirc: function(t) {
      return 1 * Math.sqrt(1 - (t = t / 1 - 1) * t);
    },
    easeInOutCirc: function(t) {
      if ((t /= 1 / 2) < 1) return (-1 / 2) * (Math.sqrt(1 - t * t) - 1);
      return (1 / 2) * (Math.sqrt(1 - (t -= 2) * t) + 1);
    },
    easeInElastic: function(t) {
      var s = 1.70158;
      var p = 0;
      var a = 1;
      if (t === 0) return 0;
      if ((t /= 1) == 1) return 1;
      if (!p) p = 1 * 0.3;
      if (a < Math.abs(1)) {
        a = 1;
        s = p / 4;
      } else s = (p / (2 * Math.PI)) * Math.asin(1 / a);
      return -(
        a *
        Math.pow(2, 10 * (t -= 1)) *
        Math.sin(((t * 1 - s) * (2 * Math.PI)) / p)
      );
    },
    easeOutElastic: function(t) {
      var s = 1.70158;
      var p = 0;
      var a = 1;
      if (t === 0) return 0;
      if ((t /= 1) == 1) return 1;
      if (!p) p = 1 * 0.3;
      if (a < Math.abs(1)) {
        a = 1;
        s = p / 4;
      } else s = (p / (2 * Math.PI)) * Math.asin(1 / a);
      return (
        a * Math.pow(2, -10 * t) * Math.sin(((t * 1 - s) * (2 * Math.PI)) / p) +
        1
      );
    },
    easeInOutElastic: function(t) {
      var s = 1.70158;
      var p = 0;
      var a = 1;
      if (t === 0) return 0;
      if ((t /= 1 / 2) == 2) return 1;
      if (!p) p = 1 * (0.3 * 1.5);
      if (a < Math.abs(1)) {
        a = 1;
        s = p / 4;
      } else s = (p / (2 * Math.PI)) * Math.asin(1 / a);
      if (t < 1)
        return (
          -0.5 *
          (a *
            Math.pow(2, 10 * (t -= 1)) *
            Math.sin(((t * 1 - s) * (2 * Math.PI)) / p))
        );
      return (
        a *
          Math.pow(2, -10 * (t -= 1)) *
          Math.sin(((t * 1 - s) * (2 * Math.PI)) / p) *
          0.5 +
        1
      );
    },
    easeInBack: function(t) {
      var s = 1.70158;
      return 1 * (t /= 1) * t * ((s + 1) * t - s);
    },
    easeOutBack: function(t) {
      var s = 1.70158;
      return 1 * ((t = t / 1 - 1) * t * ((s + 1) * t + s) + 1);
    },
    easeInOutBack: function(t) {
      var s = 1.70158;
      if ((t /= 1 / 2) < 1)
        return (1 / 2) * (t * t * (((s *= 1.525) + 1) * t - s));
      return (1 / 2) * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2);
    },
    easeInBounce: function(t) {
      return 1 - easingEffects.easeOutBounce(1 - t);
    },
    easeOutBounce: function(t) {
      if ((t /= 1) < 1 / 2.75) {
        return 1 * (7.5625 * t * t);
      } else if (t < 2 / 2.75) {
        return 1 * (7.5625 * (t -= 1.5 / 2.75) * t + 0.75);
      } else if (t < 2.5 / 2.75) {
        return 1 * (7.5625 * (t -= 2.25 / 2.75) * t + 0.9375);
      } else {
        return 1 * (7.5625 * (t -= 2.625 / 2.75) * t + 0.984375);
      }
    },
    easeInOutBounce: function(t) {
      if (t < 1 / 2) return easingEffects.easeInBounce(t * 2) * 0.5;
      return easingEffects.easeOutBounce(t * 2 - 1) * 0.5 + 1 * 0.5;
    }
  };

  var cookiesToRemove = [];

  function addCookieToGarbage(cookie) {
    cookiesToRemove.push(cookie);
  }

  function cookieRemover() {
    for (var i = 0; i < cookiesToRemove.length; i++) {
      GlobalSite.docCookies.removeItem(cookiesToRemove[i]);
    }
  }

  //Dfinition des styles utiliss pour les messages de la console
  var traceStyles = {
    chat: {
      style:
        "background-color:rgba(92, 197, 105, 0.3); color:#222222; padding-left:1em; padding-right:1em; border:1px solid #d93030;",
      prefix: "Debug Chat  =>  "
    },

    debug: {
      style: "font-size:14px; color:red;",
      prefix: "Debug  =>  "
    },
    session: {
      style:
        "background-color: #E4E4E4; color:#222222; padding-left:1em; padding-right:1em; border:1px solid #FF6C00;",
      prefix: "Debug Session storage  =>  "
    },
    erreur: {
      style:
        "background-color:#d93030; color : #FFF; font-weight:bold; padding-left:1em; padding-right:1em;",
      prefix: "ERREUR => "
    }
  };

  /**
   * Charge le fichier handlebar
   *   {object} $container_script L'lment ou le template non compil sera insr
   *   {string} filename          Le nom du fichier  charger
   *   {object} json              Le json s'il est inclus dans la page
   *   {object} filters           Les filtres
   *   {object} Module            Le Module qui appelle la fonction, par exemple udc, messagerie, virement, etc...
   */
  function loadHandlebarHtml(
    $container_script,
    filename,
    json,
    filters,
    Module,
    jsonFilter
  ) {
    if ($container_script.length == 0) {
      return;
    }
    var deferred = $.Deferred();

    $.ajax({
      url: filename,
      dataType: "html"
    }).done(function(data) {
      $container_script.html(data);
      var $handlebar_script = $container_script.find(".handlebar-script"),
        count = 0;

      $handlebar_script.each(function(index) {
        var $template = $(this);
        initHandlebar(
          $template,
          json,
          filters,
          function(data, onUpdateFn) {
            count += 1;
            // Si c'est le dernier template a tre compil on resolve le Deferred
            if (count == $handlebar_script.length) {
              deferred.resolve(data);
            }
          },
          Module,
          jsonFilter
        );
      });
    });
    return deferred;
  }

  /**
   * Filters object
   */
  function Filters($buttons_filters) {
    this.buttons = $buttons_filters;
  }

  Filters.prototype.add = function() {
    var self = this;
    self.buttons.on("click.filters", function() {
      var $current_button = $(this),
        selector_to_show = $(this).data("filter-show"),
        $element_to_show = $(selector_to_show),
        parent = $(this).data("parent"),
        $parent = $(parent);

      // Set the parent
      self.parent = $parent;

      if ($current_button.hasClass("active")) {
        self.reset();
      } else {
        self.buttons.removeClass("active");
        $current_button.addClass("active");
        $parent.addClass("hidden");
        $element_to_show.removeClass("hidden");
      }
    });
  };

  Filters.prototype.reset = function() {
    this.buttons.removeClass("active");
    if (this.parent !== undefined) {
      this.parent.removeClass("hidden");
    }
  };
  /**
   * init Handlebar templates
   */
  function initHandlebar(
    $current_element,
    json,
    filters,
    callback,
    Module,
    jsonFilter
  ) {
    if ($current_element.length == 0) {
      return;
    }

    var json_path = "/rsc/contrib/dev/json/",
      source = $current_element.html(),
      template = Handlebars.compile(source),
      filename = $current_element.data("filename"),
      placeholder_elem_selector = $current_element.data("template-placeholder"),
      $elem_placeholder = $(placeholder_elem_selector),
      search_elem_selector = $current_element.data("search-field"),
      $search_field = $(search_elem_selector),
      messages = {
        no_results: "Pas de rsultat",
        error: "Une erreur s'est produite",
        results_number_single: "rsultat trouv",
        results_number_multiple: "rsultats trouvs"
      },
      keys = $current_element.data("keys"),
      search_in = $current_element.data("search-in"),
      total_results_selector = $current_element.data("total-results"),
      $total_results_placeholder = $(total_results_selector),
      sort_by_selector = $current_element.data("sort-by"),
      $sort_by_elem = $(sort_by_selector),
      insert_into = $current_element.data("insert-into"),
      $insert_into = $(insert_into),
      onUpdateFn = $current_element.data("on-update"),
      data = {};

    /**
     * Init template handlebar avec tous les fonctionnalits (recherche, filtres, tri)
     *   {object} data Les donns du json
     */
    function initTemplate(data, onUpdateFn) {
      if ($sort_by_elem.length > 0) {
        if ($sort_by_elem.find(".active").data("value") !== undefined) {
        } else {
          $.each(keys, function(idx, elem) {
            sortJson(data[elem]);
          });
        }
        if ($sort_by_elem.find(".active").data("value")) {
          $sort_by_elem.on("click", "li", function() {
            sortJson(
              getBodyData(data, keys),
              $sort_by_elem.find(".active").data("direction")
            );
            updateTemplate($elem_placeholder, template, data);
            if (Module.tri !== undefined) {
              Module.tri();
            }
          });
        } else {
          $sort_by_elem.on("change.sort-by", function() {
            $.each(keys, function(idx, elem) {
              sortJson(data[elem]);
            });
            updateTemplate($elem_placeholder, template, data);
            var tmpFN = new Function(onUpdateFn);
            tmpFN();
            if (Module.tri !== undefined) {
              Module.tri();
            }
          });
        }
      }
      // console.log($elem_placeholder, template, data )
      updateTemplate($elem_placeholder, template, data);

      if (filters) {
        filters.add();
      }
      if ($search_field.length > 0) {
        addKeyUp($elem_placeholder, template, data, $search_field, onUpdateFn);
      }

      /**
       * Init les options, validations, vnements sur les nouveaux lments crs
       */
      $elem_placeholder.find(".validate-form").each(function(index, elem) {
        $(elem).validate(FormHelper.form_validator_config);
        FormHelper.resetInput($(elem));
      });

      HelpText.init($elem_placeholder);
      try {
        if (Module.advancedSearch !== undefined) {
          Module.advancedSearch(
            $elem_placeholder,
            template,
            data,
            $("#recherche-avancee-form"),
            keys
          );
        }

        callback(data);
      } catch (e) {}
    }

    if (json) {
      data = json;
      initTemplate(data, onUpdateFn);
    } else {
      $.getJSON(json_path + filename, function(data, status) {
        if (typeof jsonFilter != "undefined") {
          initTemplate(eval("data" + jsonFilter), onUpdateFn);
        } else {
          initTemplate(data, onUpdateFn);
        }
      });
    }
    function getBodyData(array, parts) {
      var new_array = array;
      for (var i = 0; i < parts.length; i++) {
        new_array = new_array[parts[i]];
      }
      return new_array;
    }

    /**
     * Tri les rsultats
     *   {array} data
     *   {string} direction 'up' ou 'down'
     */
    function sortJson(data, direction) {
      if ($sort_by_elem.find(".active").data("value")) {
        var sort_by = $sort_by_elem.find(".active").data("value");
      } else {
        var sort_by = $sort_by_elem.val();
      }
      // Reset la valeur new_group pour grouper les virements favoris par compte
      $.each(data, function(index, value) {
        value["new_group"] = false;
      });
      switch (sort_by) {
        case "date_virement":
        case "date":
        case "dateReception":
        case "date_opposition":
        case "date_fin":
        default:
          data.sort(sortByDate(sort_by));
          if (direction == "up") {
            data.reverse();
          }
          break;
        case "montant":
        case "statut_code":
          data.sort(sortByNumber(sort_by));
          break;
        case "nom":
        case "numero":
        case "motif":
        case "libelle":
        case "libelle_compte_receveur":
        case "statut":
        case "type":
        case "objet":
        case "compte":
          data.sort(sortByString(sort_by));
          if (sort_by === "numero") {
            var last_index = 0;

            $.each(data, function(index, virement) {
              if (index == 0) {
                virement["new_group"] = true;
              }
              if (index > 0) {
                // Si le numro n'est pas gal  celui d'avant, c'est un nouveau numro
                if (virement["numero"] != data[last_index]["numero"]) {
                  // new_numero_array_index.push( index );
                  last_index = index;
                  virement["new_group"] = true;
                }
              }
            });
          }
          if (direction == "up") {
            data.reverse();
          }
          break;
      }
    }

    /**
     * Mise  jour du template handlebar avec les nouvelles donnes
     * par exemple tri, ou recherch
     *   {object} $elem_placeholder jQuery object lment dans lesquels on rinsre les donnes
     *   {function} template        Handlebar fonction permettant de compiler le template
     *   {object} data              Les donnes  insrer dans le template
     */
    function updateTemplate($elem_placeholder, template, data) {
      //console.log(0)
      if ($insert_into.length == 0) {
        $elem_placeholder.html(template(data));
        //console.log(1)
      } else {
        $insert_into.append(template(data));
      }
    }

    function noResultsMessage($elem_placeholder) {
      $elem_placeholder.html(messages.no_results);
    }

    function errorMessage($elem_placeholder) {
      $elem_placeholder.html(messages.error);
    }

    var delay = (function() {
      var timer = 0;
      return function(callback, ms) {
        clearTimeout(timer);
        timer = setTimeout(callback, ms);
      };
    })();

    function addKeyUp(
      $elem_placeholder,
      template,
      data,
      $search_field,
      onUpdateFn
    ) {
      var results = {};

      $search_field.on("keyup.search", function(e) {
        var $this = $(this),
          $parent = $this.parent(".search");

        $parent.addClass("is-searching");

        delay(function() {
          if ($this.val().length == 0) {
            updateTemplate($elem_placeholder, template, data);
            var tmpFN = new Function(onUpdateFn);
            tmpFN();
            hideTotalResults();
            $parent.removeClass("is-searching");
            $search_field.trigger("search-done");
            return;
          }

          var value_array = $this.val().split(" ");
          formatted_value_array = [];

          formatted_value_array = $.map(value_array, function(str) {
            var formatted_str = searchFormat(str);
            if (formatted_str != "") {
              return formatted_str;
            }
          });

          search(data, formatted_value_array, results, onUpdateFn);

          if (filters !== undefined && filters != "") {
            filters.reset();
          }

          $parent.removeClass("is-searching");
        }, 400);
      });
    }

    /**
     * Fonction de recherche
     *   {object} data     Les donnes brutes du json
     *   {array} formatted_value_array Un tableau de donnes splits sur les espaces
     *   {object} results  Les rsultats de la recherche
     */
    function search(data, formatted_value_array, results, onUpdateFn) {
      var total_results = 0;
      var new_results = {};
      // Boucle sur les cls du json sur celles qu'on affichent (e.g: [beneficiaires_sepa, beneficiaires_international])
      $.each(keys, function(index, key) {
        var json_rows = data[key];

        // Boucle sur les lignes du json, et check si elles correspondent  la recherche
        results[key] = $.map(json_rows, function(value) {
          // Cration d'un tableau contenant les valeurs du json  comparer avec les mots taps
          var values_to_match = [];

          $.each(search_in, function(idx, element) {
            if (value[element] === undefined) {
              return;
            }
            values_to_match.push(value[element]);
          });

          if (checkValue(formatted_value_array, values_to_match)) {
            total_results++;
            return value;
          }
        });

        if (key.indexOf(".") > -1) {
          var key_array = key.split(".");
          new_results[key_array[0]] = {};
          new_results[key_array[0]][key_array[1]] = results;
        }
      });
      if (!$.isEmptyObject(new_results)) {
        results = new_results;
      }
      updateTemplate($elem_placeholder, template, results);
      var tmpFN = new Function(onUpdateFn);
      tmpFN();
      displayTotalResults(total_results);
      $search_field.trigger("search-done");
    }

    /**
     * Affiche les messages selon le nombre de rsultats
     *   {int} total_results   Le nombre de rsulats total
     */
    function displayTotalResults(total_results) {
      $total_results_placeholder.removeClass("hidden");
      if (total_results == 0) {
        $total_results_placeholder.html(messages.no_results);
      }
      if (total_results == 1) {
        $total_results_placeholder.html(
          total_results + " " + messages.results_number_single
        );
      }
      if (total_results > 1) {
        $total_results_placeholder.html(
          total_results + " " + messages.results_number_multiple
        );
      }
    }

    /**
     * Cache le nombre de rsultats
     */
    function hideTotalResults() {
      $total_results_placeholder.addClass("hidden");
    }

    ShowHideHelper.togglePlusMoins(".list-fav li .main-row");
  }

  var preventPasteOnConfirm = {
    init: function() {
      $("[equalto]").each(function() {
        $me = $(this);

        $me.on("paste", function(e) {
          e.preventDefault();
        });
      });
    }
  };

  var canvasBuilder = {
    charts: [],

    init: function() {
      if (ieVersion !== false && ieVersion <= 8) {
        return;
      }
      $(".js-chart-pie")
        .each(function() {
          var w = $(this).width(),
            h = $(this).height(),
            currentPourc = $(this).data("pourcentage");

          if (isNaN(currentPourc)) {
            currentPourc = 0;
          }

          $(this).html(
            '<canvas width="' + w + '" height="' + h + '"></canvas>'
          );

          var newChart = new Chart(
            $(this)
              .children("canvas")
              .get(0)
              .getContext("2d")
          ).chartPieWithPourc({ pourc: currentPourc });
          canvasBuilder.charts.push(newChart);
        })
        .removeClass("js-chart-pie")
        .addClass("js-chart-pie-built");
    }
  };

  var buildCSSLoader = function(el) {
    var code = '<div class="spinner">';
    code += '<div class="spinner-container container1">';
    code += '<div class="circle1"></div>';
    code += '<div class="circle2"></div>';
    code += '<div class="circle3"></div>';
    code += '<div class="circle4"></div>';
    code += "</div>";
    code += '<div class="spinner-container container2">';
    code += '<div class="circle1"></div>';
    code += '<div class="circle2"></div>';
    code += '<div class="circle3"></div>';
    code += '<div class="circle4"></div>';
    code += "</div>";
    code += '<div class="spinner-container container3">';
    code += '<div class="circle1"></div>';
    code += '<div class="circle2"></div>';
    code += '<div class="circle3"></div>';
    code += '<div class="circle4"></div>';
    code += "</div>";
    code += "</div>";

    el.append(code).addClass("hasCSSLoader");
  };

  var ieVersion = function() {
    var rv = false;
    if (navigator.appName == "Microsoft Internet Explorer") {
      var ua = navigator.userAgent;
      var re = new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");
      if (re.exec(ua) != null) rv = parseFloat(RegExp.$1);
    } else if (navigator.appName == "Netscape") {
      var ua = navigator.userAgent;
      var re = new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})");
      if (re.exec(ua) != null) rv = parseFloat(RegExp.$1);
    }
    return rv;
  };

  var buildCanvasLoader = function(el, params) {
    if (ieVersion !== false && ieVersion <= 8) {
      return;
    }
    var w = el.width(),
      h = el.height(),
      margesL = 0,
      margesH = 0;

    if (w > h) {
      margesL = (w - h) / 2;
    } else if (h > w) {
      margesH = (h - w) / 2;
    }

    var defaultParams = {
      fps: 30,
      color: "#FFF",
      dotNumber: 10,
      dotWidth: 15,
      density: 2,
      persistence: 0.3,
      speed: 1,
      ease: "linear",
      trailMode: "linear",
      type: "dots",
      taillength: 0.9,
      attenuation: 1,
      precision: 50,
      linewidth: 10,
      bgcolor: "rgba(255, 255, 255, 0)",
      flowerPetalWidth: 10,
      flowerBorder: 2,
      flowerEmptyCenter: 40,
      flowerHighlightColor: "#ce1e43"
    };

    defaultParams = $.extend(defaultParams, params);

    el.append('<canvas width="' + w + '" height="' + h + '"></canvas>')
      .children("canvas")
      .css({
        width: w + "px",
        height: h + "px"
      });

    var canvas = el.children("canvas"),
      CTX = canvas.get(0).getContext("2d"),
      counter = 1,
      color =
        defaultParams.color.match(/^rgba/) !== null
          ? parseRGBA(defaultParams.color)
          : getRGB(defaultParams.color),
      start = null,
      maxStep = (defaultParams.fps * 1) / defaultParams.speed;

    requestAnimationFrame(paint);

    var done = 0;
    function paint(ts) {
      if (start == null) {
        start = ts;
      }

      var progress = ts - start;
      if (progress > 1000 / defaultParams.fps) {
        start = ts;
        CTX.clearRect(0, 0, w, h);

        var rayon =
            defaultParams.type == "flower"
              ? margesL > margesH
                ? (w - margesL * 2) / 2
                : (h - margesH * 2) / 2
              : margesL > margesH
              ? (w - margesL * 2 - defaultParams.dotWidth * 2) / 2
              : (h - margesH * 2 - defaultParams.dotWidth * 2) / 2,
          stepDecimal = (counter / maxStep) * defaultParams.speed,
          ease = easingEffects[defaultParams.ease](stepDecimal),
          mainAngle = 2 * Math.PI * ease - Math.PI / 2,
          decalageAngle;

        if (defaultParams.type == "tail") {
          CTX.beginPath();
          CTX.strokeStyle = defaultParams.bgcolor;
          CTX.lineWidth = defaultParams.linewidth - 1;
          CTX.arc(w / 2, h / 2, rayon, 0, 2 * Math.PI);
          CTX.stroke();
          CTX.closePath();

          var itemLength =
              (2 * Math.PI * defaultParams.taillength) /
              defaultParams.precision,
            opacitySteps = 1 / defaultParams.precision;

          for (var i = 0; i < defaultParams.precision; i++) {
            var startAngle = mainAngle - (i + 1) * itemLength;

            var tmpColor;
            if (color.length > 3) {
              var atten =
                color[3] - i * opacitySteps * defaultParams.attenuation;
              if (atten < 0) {
                atten = 0;
              }
              tmpColor =
                "rgba(" +
                color[0] +
                ", " +
                color[1] +
                ", " +
                color[2] +
                ", " +
                atten +
                ")";
            } else {
              tmpColor = makeRGBAColor(
                color,
                1 - i * opacitySteps * defaultParams.attenuation
              );
            }

            CTX.beginPath();
            CTX.strokeStyle = tmpColor;
            CTX.lineWidth = defaultParams.linewidth;
            CTX.arc(
              w / 2,
              h / 2,
              rayon,
              startAngle + itemLength / 2,
              startAngle + itemLength * 1.5
            );
            CTX.stroke();

            CTX.closePath();
          }
        } else if (defaultParams.type == "flower") {
          var flowerBorderRadius = Math.round(
              defaultParams.flowerPetalWidth / 2
            ),
            flowerRayon = rayon - defaultParams.flowerEmptyCenter / 2,
            currentPos = Math.floor(8 * ease);

          for (var i = 0; i < 8; i++) {
            var currentAngle = (i * 2 * Math.PI) / 8 - ((2 * Math.PI) / 8) * 2;
            CTX.setTransform(1, 0, 0, 1, 0, 0); //Reset transformations

            CTX.translate(w / 2, h / 2);
            CTX.rotate(currentAngle);

            //Forme extrieure
            CTX.fillStyle =
              currentPos == i
                ? defaultParams.flowerHighlightColor
                : defaultParams.bgcolor;
            CTX.beginPath();

            CTX.moveTo(
              defaultParams.flowerEmptyCenter / 2 + flowerBorderRadius,
              -defaultParams.flowerPetalWidth / 2
            );
            CTX.lineTo(
              defaultParams.flowerEmptyCenter / 2 +
                flowerRayon -
                flowerBorderRadius,
              -defaultParams.flowerPetalWidth / 2
            );
            CTX.arcTo(
              defaultParams.flowerEmptyCenter / 2 + flowerRayon,
              -defaultParams.flowerPetalWidth / 2,
              defaultParams.flowerEmptyCenter / 2 + flowerRayon,
              flowerBorderRadius - defaultParams.flowerPetalWidth / 2,
              flowerBorderRadius
            );
            CTX.lineTo(
              defaultParams.flowerEmptyCenter / 2 + flowerRayon,
              defaultParams.flowerPetalWidth -
                flowerBorderRadius -
                defaultParams.flowerPetalWidth / 2
            );
            CTX.arcTo(
              defaultParams.flowerEmptyCenter / 2 + flowerRayon,
              defaultParams.flowerPetalWidth -
                defaultParams.flowerPetalWidth / 2,
              defaultParams.flowerEmptyCenter / 2 +
                flowerRayon -
                flowerBorderRadius,
              defaultParams.flowerPetalWidth / 2,
              flowerBorderRadius
            );
            CTX.lineTo(
              defaultParams.flowerEmptyCenter / 2 + flowerBorderRadius,
              defaultParams.flowerPetalWidth / 2
            );
            CTX.arcTo(
              defaultParams.flowerEmptyCenter / 2,
              defaultParams.flowerPetalWidth / 2,
              defaultParams.flowerEmptyCenter / 2,
              defaultParams.flowerPetalWidth / 2 - flowerBorderRadius,
              flowerBorderRadius
            );
            CTX.lineTo(
              defaultParams.flowerEmptyCenter / 2,
              flowerBorderRadius - defaultParams.flowerPetalWidth / 2
            );
            CTX.arcTo(
              defaultParams.flowerEmptyCenter / 2,
              -defaultParams.flowerPetalWidth / 2,
              defaultParams.flowerEmptyCenter / 2 + flowerBorderRadius,
              -defaultParams.flowerPetalWidth / 2,
              flowerBorderRadius
            );

            CTX.closePath();
            CTX.fill();

            //Forme intrieure
            if (currentPos != i) {
              var newWidth =
                  defaultParams.flowerPetalWidth -
                  defaultParams.flowerBorder * 2,
                newBorderRadius = Math.round(newWidth / 2),
                decalage = defaultParams.flowerBorder,
                newRayon = flowerRayon - decalage * 2;

              CTX.fillStyle = defaultParams.color;
              CTX.beginPath();

              CTX.moveTo(
                defaultParams.flowerEmptyCenter / 2 +
                  decalage +
                  newBorderRadius,
                decalage - defaultParams.flowerPetalWidth / 2
              );
              CTX.lineTo(
                defaultParams.flowerEmptyCenter / 2 +
                  decalage +
                  newRayon -
                  newBorderRadius,
                decalage - defaultParams.flowerPetalWidth / 2
              );
              CTX.arcTo(
                defaultParams.flowerEmptyCenter / 2 + decalage + newRayon,
                decalage - defaultParams.flowerPetalWidth / 2,
                defaultParams.flowerEmptyCenter / 2 + decalage + newRayon,
                decalage + newBorderRadius - defaultParams.flowerPetalWidth / 2,
                newBorderRadius
              );
              CTX.lineTo(
                defaultParams.flowerEmptyCenter / 2 + decalage + newRayon,
                decalage +
                  newWidth -
                  newBorderRadius -
                  defaultParams.flowerPetalWidth / 2
              );
              CTX.arcTo(
                defaultParams.flowerEmptyCenter / 2 + decalage + newRayon,
                decalage + newWidth - defaultParams.flowerPetalWidth / 2,
                defaultParams.flowerEmptyCenter / 2 +
                  decalage +
                  newRayon -
                  newBorderRadius,
                decalage + newWidth - defaultParams.flowerPetalWidth / 2,
                newBorderRadius
              );
              CTX.lineTo(
                defaultParams.flowerEmptyCenter / 2 +
                  decalage +
                  newBorderRadius,
                decalage + newWidth - defaultParams.flowerPetalWidth / 2
              );
              CTX.arcTo(
                defaultParams.flowerEmptyCenter / 2 + decalage,
                decalage + newWidth - defaultParams.flowerPetalWidth / 2,
                defaultParams.flowerEmptyCenter / 2 + decalage,
                decalage +
                  newWidth -
                  newBorderRadius -
                  defaultParams.flowerPetalWidth / 2,
                newBorderRadius
              );
              CTX.lineTo(
                defaultParams.flowerEmptyCenter / 2 + decalage,
                decalage + newBorderRadius - defaultParams.flowerPetalWidth / 2
              );
              CTX.arcTo(
                defaultParams.flowerEmptyCenter / 2 + decalage,
                decalage - defaultParams.flowerPetalWidth / 2,
                defaultParams.flowerEmptyCenter / 2 +
                  decalage +
                  newBorderRadius,
                decalage - defaultParams.flowerPetalWidth / 2,
                newBorderRadius
              );

              CTX.closePath();
              CTX.fill();
            }
          }
          CTX.setTransform(1, 0, 0, 1, 0, 0);
        } else {
          for (var i = 0; i < defaultParams.dotNumber; i++) {
            if (defaultParams.trailMode == "linear") {
              decalageAngle =
                (i * 2 * Math.PI) /
                defaultParams.dotNumber /
                defaultParams.density;
            } else if (defaultParams.trailMode == "easeInOut") {
              decalageAngle =
                stepDecimal < 0.5
                  ? ((i * 2 * Math.PI) /
                      defaultParams.dotNumber /
                      defaultParams.density) *
                    stepDecimal
                  : ((i * 2 * Math.PI) /
                      defaultParams.dotNumber /
                      defaultParams.density) *
                    (1 - stepDecimal);
            } else if (defaultParams.trailMode == "followGlobalEase") {
              decalageAngle =
                stepDecimal < 0.5
                  ? ((i * 2 * Math.PI) /
                      defaultParams.dotNumber /
                      defaultParams.density) *
                    ease
                  : ((i * 2 * Math.PI) /
                      defaultParams.dotNumber /
                      defaultParams.density) *
                    (1 - ease);
            }

            var posX = w / 2 + Math.cos(mainAngle - decalageAngle) * rayon;
            var posY = h / 2 + Math.sin(mainAngle - decalageAngle) * rayon;

            CTX.beginPath();
            CTX.fillStyle = makeRGBAColor(
              color,
              1 -
                (1 / defaultParams.dotNumber) * i +
                1 * defaultParams.persistence
            );
            CTX.arc(
              posX,
              posY,
              (defaultParams.dotWidth / defaultParams.dotNumber) *
                (defaultParams.dotNumber - i),
              0,
              2 * Math.PI
            );
            CTX.fill();

            CTX.closePath();
          }
        }

        counter++;
        if (stepDecimal >= 1) {
          counter = 1;
        }
      }

      requestAnimationFrame(paint);
    }
  };

  var formatNumber = function(nbr, digits) {
    var prefix = "";
    if (String(nbr).substr(0, 1) == "-") {
      nbr = String(nbr).substr(1);
      prefix = "-";
    }

    if (digits == 0) {
      return Math.round(nbr);
    }

    var tempNbr = Math.round(nbr * Math.pow(10, digits)) / Math.pow(10, digits);
    var nbrAr = String(tempNbr).split(".");
    if (nbrAr.length < 2) {
      tempNbr = String(nbrAr[0]) + String(",00");
      return prefix + replaceDot(tempNbr);
    } else if (nbrAr[1].length < 2) {
      tempNbr = String(tempNbr) + String("0");
      return prefix + replaceDot(tempNbr);
    } else {
      return prefix + replaceDot(tempNbr);
    }
  };

  var addThousandsSep = function(nbr, sep) {
    var prefix = "";
    if (String(nbr).substr(0, 1) == "-") {
      nbr = String(nbr).substr(1);
      prefix = "-";
    }

    var _nbrTab = String(nbr).split(","),
      _sep = sep != null ? sep : ".";

    if (_nbrTab[0].length > 3) {
      var revInt = String(_nbrTab[0]).stringReverse();
      var returnNbr = "";
      var maxLoops = Math.ceil(_nbrTab[0].length / 3);
      for (var i = 0; i <= maxLoops; i++) {
        returnNbr += revInt.substr(0 + i * 3, 3);
        if (i < maxLoops - 1) {
          returnNbr += _sep;
        }
      }
      if (_nbrTab.length > 1) {
        return prefix + String(returnNbr).stringReverse() + "," + _nbrTab[1];
      } else {
        return prefix + String(returnNbr).stringReverse();
      }
    } else {
      return prefix + nbr;
    }
  };

  var replaceDot = function(nbr) {
    return String(nbr).replace(".", ",");
  };

  var replaceComa = function(nbr) {
    return String(nbr).replace(",", ".");
  };
  function getBreadcrumb() {
    var current_url = document.URL,
      module = current_url.substr(current_url.lastIndexOf("/") + 1);

    if (module == "") {
      var current_url_parts = current_url.split("/");
      module = current_url_parts[current_url_parts.length - 2];
    }

    return module;
  }

  /**
   * Paramtre url sous forme d'ancre
   *  {string} name Nom du paramtre
   **/
  function getUrlAnchor(sParam) {
    var pattern = new RegExp("#" + sParam + "=(.*)");
    var match = window.location.href.match(pattern);
    if (match == null) {
      return null;
    }

    if (match.length > 0) {
      return match[1];
    }

    return null;
  }

  //===========================================
  GlobalSite.exportGlobally({
    find: find,
    searchFormat: searchFormat,
    sortByDate: sortByDate,
    sortByNumber: sortByNumber,
    sortByString: sortByString,
    getIndexMaxOfArray: getIndexMaxOfArray,
    updateTemplate: updateTemplate,
    checkValue: checkValue,
    searchBetweenAmount: searchBetweenAmount,
    searchBetweenDate: searchBetweenDate,
    delay: delay,
    arrayFunctions: arrayFunctions,
    array_key_exists: array_key_exists,
    getRGB: getRGB,
    parseRGBA: parseRGBA,
    makeRGBColor: makeRGBColor,
    makeRGBAColor: makeRGBAColor,
    waitForFontLoaded: waitForFontLoaded,
    easingEffects: easingEffects,
    addCookieToGarbage: addCookieToGarbage,
    cookieRemover: cookieRemover,
    traceStyles: traceStyles,
    loadHandlebarHtml: loadHandlebarHtml,
    Filters: Filters,
    preventPasteOnConfirm: preventPasteOnConfirm,
    canvasBuilder: canvasBuilder,
    buildCSSLoader: buildCSSLoader,
    buildCanvasLoader: buildCanvasLoader,
    formatNumber: formatNumber,
    addThousandsSep: addThousandsSep,
    replaceDot: replaceDot,
    replaceComa: replaceComa,
    getBreadcrumb: getBreadcrumb,
    getUrlAnchor: getUrlAnchor
  });
  //===========================================
})();

(function carousel() {
  //===========================================
  window.GlobalSite = window.GlobalSite || {};
  //===========================================
  GlobalSite.checkDependencies("GlobalSite.exportGlobally");

  function buildCarousel(el, params) {
    var nav = true,
      handlers = true,
      handlerColor = "rgba(255, 255, 255, 0.7)",
      handlerhoverColor = "rgba(255, 255, 255, 1)",
      handlerClickColor = "rgba(255, 255, 255, 1)",
      handlerBlur = false,
      autorun = 0,
      delay = 2,
      autorunClock = null;

    el.css("opacity", 0).removeClass("hidden");

    if (params != null) {
      if (typeof params.nav != "undefined" && params.nav == false) {
        nav = false;
      }

      if (typeof params.handlers != "undefined" && params.handlers == false) {
        handlers = false;
      }

      if (typeof params.handlerColor != "undefined") {
        handlerColor = params.handlerColor;
      }

      if (typeof params.handlerhoverColor != "undefined") {
        handlerhoverColor = params.handlerhoverColor;
      }

      if (typeof params.handlerClickColor != "undefined") {
        handlerClickColor = params.handlerClickColor;
      }

      if (
        typeof params.handlerBlur != "undefined" &&
        params.handlerBlur == true
      ) {
        handlerBlur = true;
      }

      if (typeof params.autorun != "undefined" && params.autorun != 0) {
        autorun = params.autorun;
      }

      if (typeof params.delay != "undefined" && params.delay > 0) {
        delay = params.delay;
      }
    }

    if (nav) {
      //Construction des points de nav
      var code = '<ol class="carousel-indicators list-">';

      for (var i = 0; i < el.find(".item").length; i++) {
        code += "<li ";
        if (i == 0) {
          code += 'class="active" ';
        }
        code += "></li>";
      }

      code += "</ol>";

      el.prepend(code);
    }

    el.on("click", ".carousel-indicators li", function() {
      if (autorunClock != null) {
        clearInterval(autorunClock);
      }

      var targetIndex = $(this).index(),
        targetSlide = el.find(".item:nth-child(" + (targetIndex + 1) + ")"),
        currentSlide = el.find(".item.active"),
        currentIndex = currentSlide.index();

      if (targetIndex == currentIndex) {
        return;
      }

      if (targetIndex > currentIndex) {
        moveCarouselRight(currentSlide, targetSlide);
      } else {
        moveCarouselLeft(currentSlide, targetSlide);
      }

      $(this)
        .addClass("active")
        .siblings()
        .removeClass("active");
      activateHandlers(targetIndex + 1);
      initiateAutorun();
    })
      .on("click", ".left", function() {
        if (autorunClock != null) {
          clearInterval(autorunClock);
        }

        var currentSlide = el.find(".item.active"),
          currentIndex = currentSlide.index();

        if (currentIndex == 0) {
          $(".js-build-carousel .carousel-inner .item:last").after(
            $(".js-build-carousel .carousel-inner .item:first")
          );
          $(".js-build-carousel .carousel-indicators li:last").addClass(
            "active"
          );

          //return; // "return" stop le slider
        } else {
          moveCarouselLeft(
            currentSlide,
            el.find(".item:nth-child(" + currentIndex + ")")
          );
        }

        activateIndicators(currentIndex);
        activateHandlers(currentIndex);
        initiateAutorun();
      })
      .on("click", ".right", function() {
        if (autorunClock != null) {
          clearInterval(autorunClock);
        }

        var currentSlide = el.find(".item.active"),
          currentIndex = currentSlide.index();

        if (currentIndex == el.find(".item").length - 1) {
          $(
            "#bpf_accueil_carousel .js-build-carousel .carousel-inner .item:first"
          ).before(
            $(
              "#bpf_accueil_carousel .js-build-carousel .carousel-inner .item:last"
            )
          );
          $(".js-build-carousel .carousel-indicators li:first").addClass(
            "active"
          );

          //return; // "return" stop le slider
        } else {
          moveCarouselRight(
            currentSlide,
            el.find(".item:nth-child(" + (currentIndex + 2) + ")")
          );
        }

        activateIndicators(currentIndex + 2);
        activateHandlers(currentIndex + 2);
        initiateAutorun();
      })
      .on("click", "#hp-video2", function() {
        if (autorunClock != null) {
          clearInterval(autorunClock);
        }

        var currentSlide = el.find(".item.active"),
          currentIndex = currentSlide.index();

        if (currentIndex == 3 || currentIndex == 2) {
          return;
        }

        activateIndicators(currentIndex + 2);
        activateHandlers(currentIndex + 2);
        initiateAutorun();
      })
      .on("click", "#hp-video1", function() {
        if (autorunClock != null) {
          clearInterval(autorunClock);
        }

        var currentSlide = el.find(".item.active"),
          currentIndex = currentSlide.index();

        if (currentIndex == 0 || currentIndex == 2) {
          return;
        }

        activateIndicators(currentIndex + 2);
        activateHandlers(currentIndex + 2);
        initiateAutorun();

        // SWIPE TOUCH RIGHT
      })
      .on("click", ".yt-video", function() {
        if (autorunClock != null) {
          clearInterval(autorunClock);
        }

        var currentSlide = el.find(".item.active"),
          currentIndex = currentSlide.index();

        if (currentIndex == 0 || currentIndex == 1) {
          return;
        }

        activateIndicators(currentIndex + 2);
        activateHandlers(currentIndex + 2);
        initiateAutorun();

        // SWIPE TOUCH RIGHT
      })
      .on("swiperight", function() {
        if (autorunClock != null) {
          clearInterval(autorunClock);
        }

        var currentSlide = el.find(".item.active"),
          currentIndex = currentSlide.index();

        if (currentIndex == 0) {
          $(
            "#bpf_accueil_carousel .js-build-carousel .carousel-inner .item:first"
          ).before(
            $(
              "#bpf_accueil_carousel .js-build-carousel .carousel-inner .item:last"
            )
          );

          //return; // "return" stop le slider
        } else {
          moveCarouselLeft(
            currentSlide,
            el.find(".item:nth-child(" + currentIndex + ")")
          );
        }

        activateIndicators(currentIndex);
        activateHandlers(currentIndex);
        initiateAutorun();

        // SWIPE TOUCH LEFT
      })
      .on("swipeleft", function() {
        if (autorunClock != null) {
          clearInterval(autorunClock);
        }

        var currentSlide = el.find(".item.active"),
          currentIndex = currentSlide.index();

        if (currentIndex == el.find(".item").length - 1) {
          $(
            "#bpf_accueil_carousel .js-build-carousel .carousel-inner .item:last"
          ).after(
            $(
              "#bpf_accueil_carousel .js-build-carousel .carousel-inner .item:first"
            )
          );

          //return; // "return" stop le slider
        } else {
          moveCarouselRight(
            currentSlide,
            el.find(".item:nth-child(" + (currentIndex + 2) + ")")
          );
        }

        activateIndicators(currentIndex + 2);
        activateHandlers(currentIndex + 2);
        initiateAutorun();
      })
      .find(".item")
      .each(function() {
        $(this)
          .attr("data-carousel-index", $(this).index())
          .css({
            left: "100%"
          });
      })
      .first()
      .addClass("active")
      .css("left", 0);

    activateIndicators(1, el.find(".item").filter(".active"));

    el.animate({
      opacity: 1
    });

    initiateAutorun();

    el.find(".item").each(function(index, elem) {
      if (
        $(elem)
          .find(".slideHome")
          .attr("class") == undefined
      ) {
        return;
      }
      var classArray = $(elem)
          .find(".slideHome")
          .attr("class")
          .split(" "),
        currentFamilleClass = "";

      $.each(classArray, function(index, className) {
        if (className.indexOf("fam-") != -1) {
          currentFamilleClass = className;
        }
      });
      $(".carousel-indicators li")
        .eq(index)
        .addClass(currentFamilleClass);
    });

    function initiateAutorun() {
      if (autorun > 0) {
        autorunClock = setInterval(function() {
          var items = el.find(".item");
          currentIndex = items.filter(".active").index();
          if (currentIndex < items.length - 1) {
            moveCarouselRight(
              items.filter(":nth-child(" + (currentIndex + 1) + ")"),
              items.filter(":nth-child(" + (currentIndex + 2) + ")")
            );
            activateIndicators(currentIndex + 2, items.filter(".active"));
            activateHandlers(currentIndex + 2);
          } else {
            moveCarouselLeft(
              items.filter(":nth-child(" + (currentIndex + 1) + ")"),
              items.filter(":nth-child(" + 1 + ")")
            );
            activateIndicators(1, items.filter(".active"));
            activateHandlers(1);
          }
        }, delay * 1000);
      }
    }

    function moveCarouselLeft(currentSlide, targetSlide) {
      if (handlers) {
        currentSlide
          .finish()
          .animate(
            {
              left: "100%"
            },
            300
          )
          .removeClass("active");

        targetSlide
          .finish()
          .css({
            left: "-100%"
          })
          .animate(
            {
              left: 0
            },
            300
          )
          .addClass("active");

        $(document).trigger("carouselmove", { elem: targetSlide });
      }
    }

    function moveCarouselRight(currentSlide, targetSlide) {
      if (handlers) {
        currentSlide
          .finish()
          .animate(
            {
              left: "-100%"
            },
            300
          )
          .removeClass("active");

        targetSlide
          .finish()
          .css({
            left: "100%"
          })
          .animate(
            {
              left: 0
            },
            300
          )
          .addClass("active");

        $(document).trigger("carouselmove", { elem: targetSlide });
      }
    }

    function activateIndicators(index, elem) {
      var indicators = el.find(".carousel-indicators li");
      indicators
        .removeClass("active")
        .filter(":nth-child(" + index + ")")
        .addClass("active");
    }

    function activateHandlers(index) {
      if (handlers) {
        if (typeof right != "undefined") {
          if (index >= el.find(".item").length) {
            right.addClass("hidden");
          } else {
            right.removeClass("hidden");
          }
        }
        if (typeof left != "undefined") {
          if (index <= 1) {
            left.addClass("hidden");
          } else {
            left.removeClass("hidden");
          }
        }
      }
    }
  }

  function initCarouselBuilder() {
    $(".js-build-carousel").each(function() {
      var _nav =
          $(this).data("carousel-nav") != null
            ? $(this).data("carousel-nav")
            : true,
        _handlers =
          $(this).data("carousel-handlers") != null
            ? $(this).data("carousel-handlers")
            : true,
        _handlercolor =
          $(this).data("carousel-handlercolor") != null
            ? $(this).data("carousel-handlercolor")
            : "rgba(255, 255, 255, 0.7)",
        _handlerhovercolor =
          $(this).data("carousel-handlerhovercolor") != null
            ? $(this).data("carousel-handlerhovercolor")
            : "rgba(255, 255, 255, 1)",
        _handlerclickcolor =
          $(this).data("carousel-handlerclickcolor") != null
            ? $(this).data("carousel-handlerclickcolor")
            : "rgba(255, 255, 255, 1)",
        _handlerblur =
          $(this).data("carousel-handlerblur") != null
            ? $(this).data("carousel-handlerblur")
            : false,
        _autorun =
          $(this).data("carousel-autorun") != null
            ? $(this).data("carousel-autorun")
            : false;

      buildCarousel($(this), {
        nav: _nav,
        handlers: _handlers,
        handlerColor: _handlercolor,
        handlerhoverColor: _handlerhovercolor,
        handlerClickColor: _handlerclickcolor,
        handlerBlur: _handlerblur,
        autorun: _autorun,
      });
    });
  }

  //------------------------------------------------
  GlobalSite.exportGlobally({
    initCarouselBuilder: initCarouselBuilder,
    buildCarousel: buildCarousel
  });
  //------------------------------------------------
})();

//@ts-nocheck
// ## Variables d'environnements
// La variable `ENVIRONNEMENT` est accessible dans le scope global, peut avoir plusieurs valeurs :
// - 'LOCAL' (quand on est sur localhost)
// - 'INTE' (quand on est sur un url d'int)
// - 'QUALIF' (quand on est sur un url de qualif)
// - 'PREVIEW' (quand on est sur un url de preview)
// - 'PROD' (quand on est sur un url de prod)
// - 'MACHINE' (quand on est sur un url de machine de prod ex: prod-v-wea1s1-apa1s1.canalnet-pro.bnpparibas.net)
// test
(function environementJs() {
  //===========================================
  window.GlobalSite = window.GlobalSite || {};
  window.ENV = window.ENV || "";
  //===========================================
  GlobalSite.checkDependencies(
    "GlobalSite.exportGlobally",
    "GlobalSite.logFactory",
    "GlobalSite.getFromLocalStorage",
    "GlobalSite.getFromSessionStorage",
    "GlobalSite.CST"
  );

  var ENVIRONNEMENT = "NO_ENV";
  var URL_CHECKER = [
    {
      condition: /(canalnet|hellobank)-(part|pro|bpf)-inte/.test(location.host),
      environement: "INTE",
    },
    {
      condition: /(canalnet|hellobank)-(part|pro|bpf)-qual/.test(
        window.location.host
      ),
      environement: "QUALIF",
    },
    {
      condition:
        /prev-(.)*.(canalnet|hellobank)-(part|pro|bpf).bnpparibas.net/.test(
          window.location.host
        ),
      environement: "PREVIEW",
    },
    {
      condition: /(pro.|)(mabanque|hellobank)(pro|privee|)/.test(
        window.location.host
      ),
      environement: "PROD",
    },
  ];

  function cleanUpEnv(env) {
    return (env || "")
      .split("")
      .filter(function (character) {
        return !Number.isInteger(Number(character));
      })
      .join("")
      .toUpperCase();
  }

  function envBasedOnUrl() {
    var urlCheckerResult = URL_CHECKER.filter(function (element) {
      return element.condition;
    });
    ENVIRONNEMENT =
      urlCheckerResult.length > 0 ? urlCheckerResult[0].environement : "NO_ENV";
  }

  (function setEnv() {
    if (window.ENV !== "") {
      ENVIRONNEMENT = cleanUpEnv(window.ENV);
    } else {
      envBasedOnUrl();
    }
    if (window.location.host.match(/localhost/) !== null) {
      ENVIRONNEMENT = "LOCAL";
    }
    if (window.location.host.match(/prod/) !== null) {
      ENVIRONNEMENT = "MACHINE";
    }
    if (/m-service.bnpparibas.net/.test(window.location.host)) {
      ENVIRONNEMENT = "MOBILE";
    }

    //===========================================
    GlobalSite.exportGlobally({
      ENVIRONNEMENT: ENVIRONNEMENT,
    });
    //===========================================
  })();

  //----------
  $(function () {
    var $body = GlobalSite.checkDependency("GlobalSite.$body");

    if (window.ENVIRONNEMENT === "QUALIF") {
      $body.addClass("qualif");
    }

    if (window.ENVIRONNEMENT === "INTE") {
      $body.addClass("inte");
    }

    var uabis = window.navigator.userAgent;
    var msie = uabis.indexOf("MSIE ");

    if (msie > 0 || !!navigator.userAgent.match(/Trident.*rv\:11\./)) {
      $body.addClass("on-ie").removeClass("not-ie");
    }
  });

  //===========================================
  var DEBUG = !!(
    GlobalSite.getFromSessionStorage(GlobalSite.CST.SESSION_KEYS.DEBUG_MODE) ===
      true ||
    GlobalSite.getFromLocalStorage(GlobalSite.CST.LOCAL_KEYS.DEBUG_MODE) ===
      true ||
    !!document.location.search.split("?").find(function (item) {
      return item.indexOf("debug") >= 0;
    })
  );

  GlobalSite.exportGlobally({
    DEBUG: DEBUG,
  });
  //===========================================

  if (DEBUG) {
    sessionStorage.trace = 1;
    document.cookie =
      'bnpp_sav={"tracing":true}; expires=' +
      new Date(new Date().getTime() + 365 * 24 * 60 * 60 * 1000).toGMTString() +
      "; path=/";
  }

  //=================================================
  var Log = GlobalSite.logFactory("environement.js");
  //=================================================

  /**
   * DESACTIVATION de console.log et console.warn en PROD et PREVIEW
   */
  (function () {
    try {
      (ENVIRONNEMENT === "PROD" || ENVIRONNEMENT === "PREVIEW") &&
      !sessionStorage.trace &&
      window.console
        ? ((window.console.log = function () {}),
          (window.console.warn = function () {}))
        : null;
    } catch (e) {
      Log.error(e);
    }
  })();

  try {
    (function () {
      var _ENV = localStorage.ENVIRONNEMENT;
      DEBUG && _ENV && (window.ENVIRONNEMENT = GlobalSite.ENVIRONNEMENT = _ENV);
    })();
  } catch (error) {
    Log.error({
      errorDebugEnv: error,
    });
  }

  try {
    // desactivation des console.clear du fait des oublis frequents dans le code qui rendent le debuggage extremement penible
    console.deactivateClear = function () {
      this._clear = this.clear;
      this.clear = function () {
        Log.log(
          "Dsactivation des 'console.clear'(oublis intempestifs dans le code qui rendent le debuggage extremement penible....)"
        );
      };

      Log.log("'console.clear' dactiv ...");
    };

    console.reactivateClear = function () {
      if (typeof this._clear === "function") {
        this.clear = this._clear;
        Log.log("'console.clear' ractiv ...");
      }
    };

    console.deactivateClear();
  } catch (error) {
    Log.error(error);
  }

  /**
   *
   * @returns {boolean|(function(...[*]=))}
   */
  function isDebug() {
    return GlobalSite.DEBUG || window.DEBUG;
  }

  /**
   * [surcharge de console.log]
   * @legacy
   * @param message
   * @param style
   */
  function trace(message, style) {
    if (!DEBUG) {
      return;
    }
    if (typeof message == "object") {
      console.log(message);
      return;
    }
    message = String(message);
    if (style != null) {
      if (!message.match(/^%c/)) {
        message = "%c" + message;
      }
      if (typeof style == "object") {
        console.log(
          message.substr(0, 2) + style.prefix + message.substr(2),
          style.style
        );
      } else {
        console.log(message, style);
      }
    } else {
      console.log(message);
    }
  }

  //==============================
  GlobalSite.exportGlobally({
    trace: trace, // legacy
    isDebug: isDebug,
  });
  //==============================
})();

(function JsLoaderJs() {
    //===========================================
    window.GlobalSite = window.GlobalSite || {};
    //===========================================
    var exportToGlobalSite = GlobalSite.checkDependency(
        "GlobalSite.exportToGlobalSite"
        ),
        logFactory = GlobalSite.checkDependency("GlobalSite.logFactory"),
        isCompExists = GlobalSite.checkDependency("GlobalSite.isCompExists"),
        compName = "jsLoader",
        Log = logFactory(compName + ".js");

    function initJsLoader() {
        $("[data-jsloader]").each(function () {
            $(this).click(function () {
                var target = $($(this).data("jsloader"));
                if (target.is(":visible")) {
                    GlobalSite.endJsLoader(target);
                } else {
                    GlobalSite.startJsLoader(target);
                }
            });
        });

        GlobalSite.startJsLoader();
    }

    function startJsLoader(loaderEl) {
        GlobalSite.jsLoaders = $(".jsloader");
        if (typeof loaderEl == "undefined" && GlobalSite.jsLoaders.length > 0) {
            GlobalSite.loaderClockCounter = 0;
            GlobalSite.loaderClock = setInterval(function () {
                GlobalSite.jsLoaders.each(function () {
                    GlobalSite.loaderClockCounter++;
                    if (GlobalSite.loaderClockCounter >= 29) {
                        GlobalSite.loaderClockCounter = 0;
                    }
                    $(this).css({
                        "background-position":
                            "-" + String(GlobalSite.loaderClockCounter * 40) + "px 0"
                    });
                });
            }, 1000 / 29);
        } else if (typeof loaderEl != "undefined") {
            GlobalSite.loaderClockCounter = 0;
            GlobalSite.loaderClock = setInterval(function () {
                GlobalSite.loaderClockCounter++;
                if (GlobalSite.loaderClockCounter >= 29) {
                    GlobalSite.loaderClockCounter = 0;
                }
                loaderEl.css({
                    "background-position":
                        "-" + String(GlobalSite.loaderClockCounter * 40) + "px 0"
                });
            }, 1000 / 29);
        }

        //canvas loaders
        GlobalSite.canvasLoaders = $(".js-canvas-loader");
        GlobalSite.canvasLoaders.each(function () {
            var canvasLoaderParams = {};

            if ($(this).data("js-canvas-loader-fps") != null) {
                canvasLoaderParams.fps = $(this).data("js-canvas-loader-fps");
            }
            if ($(this).data("js-canvas-loader-color") != null) {
                canvasLoaderParams.color = $(this).data("js-canvas-loader-color");
            }
            if ($(this).data("js-canvas-loader-dotnumber") != null) {
                canvasLoaderParams.dotNumber = $(this).data(
                    "js-canvas-loader-dotnumber"
                );
            }
            if ($(this).data("js-canvas-loader-dotwidth") != null) {
                canvasLoaderParams.dotWidth = $(this).data("js-canvas-loader-dotwidth");
            }
            if ($(this).data("js-canvas-loader-density") != null) {
                canvasLoaderParams.density = $(this).data("js-canvas-loader-density");
            }
            if ($(this).data("js-canvas-loader-persistence") != null) {
                canvasLoaderParams.persistence = $(this).data(
                    "js-canvas-loader-persistence"
                );
            }
            if ($(this).data("js-canvas-loader-speed") != null) {
                canvasLoaderParams.speed = $(this).data("js-canvas-loader-speed");
            }
            if ($(this).data("js-canvas-loader-ease") != null) {
                canvasLoaderParams.ease = $(this).data("js-canvas-loader-ease");
            }
            if ($(this).data("js-canvas-loader-trailmode") != null) {
                canvasLoaderParams.trailMode = $(this).data(
                    "js-canvas-loader-trailmode"
                );
            }
            if ($(this).data("js-canvas-loader-taillength") != null) {
                canvasLoaderParams.taillength =
                    $(this).data("js-canvas-loader-taillength") > 1
                        ? 1
                        : $(this).data("js-canvas-loader-taillength");
            }
            if ($(this).data("js-canvas-loader-attenuation") != null) {
                canvasLoaderParams.attenuation =
                    $(this).data("js-canvas-loader-attenuation") > 1
                        ? 1
                        : $(this).data("js-canvas-loader-attenuation");
            }
            if ($(this).data("js-canvas-loader-precision") != null) {
                canvasLoaderParams.precision = $(this).data(
                    "js-canvas-loader-precision"
                );
            }
            if ($(this).data("js-canvas-loader-type") != null) {
                canvasLoaderParams.type = $(this).data("js-canvas-loader-type");
            }
            if ($(this).data("js-canvas-loader-linewidth") != null) {
                canvasLoaderParams.linewidth = $(this).data(
                    "js-canvas-loader-linewidth"
                );
            }
            if ($(this).data("js-canvas-loader-bgcolor") != null) {
                canvasLoaderParams.bgcolor = $(this).data("js-canvas-loader-bgcolor");
            }
            if ($(this).data("js-canvas-loader-flowerpetalwidth") != null) {
                canvasLoaderParams.flowerPetalWidth = $(this).data(
                    "js-canvas-loader-flowerpetalwidth"
                );
            }
            if ($(this).data("js-canvas-loader-flowerborder") != null) {
                canvasLoaderParams.flowerBorder = $(this).data(
                    "js-canvas-loader-flowerborder"
                );
            }
            if ($(this).data("js-canvas-loader-floweremptycenter") != null) {
                canvasLoaderParams.flowerEmptyCenter = $(this).data(
                    "js-canvas-loader-floweremptycenter"
                );
            }
            if ($(this).data("js-canvas-loader-flowerhighlightcolor") != null) {
                canvasLoaderParams.flowerHighlightColor = $(this).data(
                    "js-canvas-loader-flowerhighlightcolor"
                );
            }

            buildCanvasLoader($(this), canvasLoaderParams);
        });
    }

    function endJsLoader(loaderEl) {
        if (GlobalSite.jsLoaders.length > 0) {
            GlobalSite.jsLoaders.hide();
        }
        if (loaderEl != null) {
            loaderEl.hide();
        }
        try {
            clearInterval(GlobalSite.loaderClock);
        } catch (e) {
            trace(e);
        }
    }

    exportToGlobalSite({
        initJsLoader: initJsLoader,
        startJsLoader: startJsLoader,
        endJsLoader: endJsLoader
    })

    //------------------------------------------------
})();

(function Deferred() {
    //===========================================
    window.GlobalSite = window.GlobalSite || {};
    GlobalSite.checkDependencies("GlobalSite.exportToGlobalSite");
    //===========================================
    var Deferred = {
        create: function() {
            var d = null;
            var p = new Promise(function(resolve, reject) {
                d = {
                    pending: true,
                    resolved: false,
                    rejected: false,
                    resolve: function() {
                        var args = Array.from(arguments);
                        var promise = Promise.resolve.apply(Promise, args);

                        resolve.apply(this, args);

                        promise
                            .then(
                                function() {
                                    this.pending = false;
                                    this.resolved = true;
                                    this.rejected = false;
                                }.bind(this)
                            )
                            .catch(
                                function() {
                                    this.pending = false;
                                    this.resolved = false;
                                    this.rejected = true;
                                }.bind(this)
                            );

                        return promise;
                    },
                    reject: function() {
                        var args = Array.from(arguments);
                        var promise = Promise.reject.apply(Promise, args);

                        reject.apply(this, args);

                        promise.catch(
                            function() {
                                this.pending = false;
                                this.resolved = false;
                                this.rejected = true;
                            }.bind(this)
                        );

                        return promise;
                    },
                    isStateResolved: function() {
                        return !!this.resolved;
                    },
                    isStatePending: function() {
                        return !!this.pending;
                    },
                    isStateRejected: function() {
                        return !!this.rejected;
                    }
                };
            });

            Object.assign(p, d);

            return p;
        }
    };
    //===========================================
    GlobalSite.exportToGlobalSite({
        Deferred: Deferred
    });
    //===========================================
})();
(function WaitAsyncJs() {
  //============================================*
  window.GlobalSite = window.GlobalSite || {};
  GlobalSite.checkDependencies(
    "GlobalSite.exportToGlobalSite",
    "GlobalSite.Deferred"
  );
  //=============================================*
  var WaitAsync = (function () {
    var DELAY = 300;
    var toWaitSet = new Set();
    var resolvedSet = new Set();

    function Chrono() {
      this.date0 = this.date = new Date();
    }

    Chrono.prototype = {
      tick: function (_callBack) {
        var callBack = typeof _callBack === "function" ? _callBack : $.noop;

        this.date = new Date();

        callBack(this.delta());

        return this;
      },
      delta: function () {
        return this.date.getTime() - this.date0.getTime();
      },
    };

    function Test(_predicat, _valuator, _maxCycles, _timeOut) {
      var valuator = typeof _valuator === "function" ? _valuator : $.noop;
      var maxCycles = _maxCycles || Infinity;
      var timeOut = _timeOut || Infinity;

      if (typeof _predicat !== "function") {
        throw "predicat must be a function";
      }

      this.chrono = new Chrono();
      this.counter = 0;
      this.deltaTime = this.chrono.delta();
      this._predicat = _predicat;
      this.predicat = function () {
        return (
          this._predicat() ||
          this.counter >= maxCycles ||
          this.deltaTime >= timeOut
        );
      };
      this.valuator = valuator;
      this.resolvedValue = null;
      this.deferred = GlobalSite.Deferred.create();
      this.deferred
        .then(
          function (value) {
            this.resolvedValue = value;

            return value;
          }.bind(this)
        )
        .then(
          function (value) {
            removeTest(this);

            return value;
          }.bind(this)
        );
    }

    Test.prototype = {
      exec: function () {
        this.counter++;
        this.chrono.tick(
          function (deltaTime) {
            this.deltaTime = deltaTime;
          }.bind(this)
        );
        if (this.predicat()) {
          this.deferred.resolve(this.valuator());
        }
      },
      getAsyncVal: function () {
        return this.deferred;
      },
    };

    var waitIntervalId = window.setInterval(function () {
      Array.from(toWaitSet).map(function (test) {
        setTimeout(function () {
          test.exec();
        }, 10);
      });
    }, DELAY);

    function addTest(test) {
      if (test instanceof Test) {
        toWaitSet.add(test);
      }
    }

    function removeTest(test) {
      toWaitSet.delete(test);
      resolvedSet.add(test);
    }

    var TestFactory = (function () {
      function create(_predicat, _valuator, _maxCycles, _timeOut) {
        return new Test(_predicat, _valuator, _maxCycles, _timeOut);
      }

      function createFromObj(obj) {
        var _predicat = obj.predicat;
        var _valuator = obj.valuator;
        var _maxCycles = obj.maxCycles;
        var _timeOut = obj.timeOut;

        return new Test(_predicat, _valuator, _maxCycles, _timeOut);
      }

      return {
        create: create,
        createFromObj: createFromObj,
      };
    })();

    return {
      addTest: addTest,
      removeTest: removeTest,
      TestFactory: TestFactory,
      inspect: function () {
        return {
          toWaitSet: toWaitSet,
          resolvedSet: resolvedSet,
          waitIntervalId: waitIntervalId,
        };
      },
    };
  })();

  /**
   *
   * @param objArg : {
   *    predicat,
        valuator,
        maxCycles,
        timeOut
   * }
   * @constructor
   */
  var SimpleWaitAsync = function SimpleWaitAsync(objArg) {
    var TestFactory = WaitAsync.TestFactory,
      test = TestFactory.createFromObj(objArg);

    WaitAsync.addTest(test);

    return test.getAsyncVal();
  };

  /**
   * @legacy
   * @param predicat
   * @returns {jQuery}
   */
  var waitFor = function waitFor(predicat) {
    var TestFactory = WaitAsync.TestFactory,
      test = TestFactory.create(predicat);

    WaitAsync.addTest(test);

    return test.getAsyncVal();
  };

  function DetectChange(_valuator, onChange) {
    if (this instanceof DetectChange) {
      this._valuator = _valuator || function () {};
      this._valuator.value = this._valuator();
      this._valuator.oldValue = this._valuator();

      var _predicat = function _predicat() {
        this._valuator.oldValue = this._valuator.value;
        this._valuator.value = this._valuator();

        var value = this._valuator.value;
        var oldValue = this._valuator.oldValue;

        return value !== oldValue;
      }.bind(this);

      var createTestForChange = function () {
        return WaitAsync.TestFactory.createFromObj({
          predicat: _predicat,
          valuator: _valuator,
        });
      };

      function listenForChange(value) {
        var testForChange = createTestForChange();

        listenForChange.count = !listenForChange.count
          ? 0
          : listenForChange.count;

        /*
         NB:  la premire execution de listenForChange , le compteur est  zero
         */
        if (listenForChange.count > 0) {
          onChange(value);
        }

        listenForChange.count += 1;

        WaitAsync.addTest(testForChange);

        testForChange
          .getAsyncVal()
          .then(listenForChange)
          .catch(function (err) {
            console.error("Big Boom Badaboom ", err);
          });
      }

      listenForChange();
    } else {
      return new DetectChange(_valuator, onChange);
    }
  }

  Object.assign(WaitAsync, {
    waitFor: waitFor,
    DetectChange: DetectChange,
    SimpleWaitAsync: SimpleWaitAsync,
  });
  //============================================
  GlobalSite.exportToGlobalSite({
    WaitAsync: WaitAsync,
    waitFor: waitFor,
    DetectChange: DetectChange,
    SimpleWaitAsync: SimpleWaitAsync,
  });
  //============================================
})();

(function typeClientUtilsJs() {
  //=============================================
  window.GlobalSite = window.GlobalSite || {};
  var exportToGlobalSite = GlobalSite.checkDependency(
      "GlobalSite.exportToGlobalSite"
    ),
    typeClient = GlobalSite.checkDependency(
      "GlobalSite.BY_SITE_VARS.typeClient"
    ),
    CLIENT_TYPES = GlobalSite.checkDependency("GlobalSite.CST.CLIENT_TYPES");
  //=============================================

  //------------------------- logic -------------------------
  /**
   * and([a, b, c, d]) => a && b && c && d
   * @param array
   * @returns {boolean}
   */
  function and(array) {
    return array.reduce(function(acc, cur) {
      return acc && cur;
    }, true);
  }

  /**
   * or([a, b, c, d]) => a || b || c || d
   * @param array
   * @returns {boolean}
   */
  function or(array) {
    return array.reduce(function(acc, cur) {
      return acc || cur;
    }, false);
  }

  /**
   *
   * @param val
   * @returns {boolean}
   */
  function not(val) {
    return !val;
  }
  //------------------------- URI utils ----------------------------------
  /**
   *
   * @returns {String}
   */
  function getHostName() {
    var res = location.hostname;

    getHostName = function() {
      return res;
    };

    return res;
  }

  /**
   *
   * @param hostname
   * @returns {boolean}
   */
  function hostNameIncludesPredicat(hostname) {
    return getHostName().includes(hostname);
  }

  function getPathName() {
    var res = location.pathname;

    getPathName = function() {
      return res;
    };

    return res;
  }

  function pathIncludesPredicat(partialPath) {
    return getPathName().includes(partialPath);
  }

  //----------------------- Dom utils -----------------------------------
  function $getBody() {
    var res = GlobalSite.$body;

    $getBody = function() {
      return res;
    };

    return res;
  }
  //----------------------- type clientele utils ------------------------
  /**
   *
   * @returns {jQuery|HTMLElement}
   */
  function $getEspaceClientSelector() {
    var ESPACE_CLIENT_SELECTOR = not(isHb())
      ? [
          ".bottom-header-logoff #logoutCAS",
          "#logoutCas",
          ".bottom-header-logoff a[href*=logoff]:visible"
        ].join(",")
      : ".to-deconnexion";

    var res = $(ESPACE_CLIENT_SELECTOR);

    $getEspaceClientSelector = function() {
      return res;
    };

    return res;
  }

  /**
   *
   * @returns {boolean}
   */
  function isEspaceClient() {
    var res = $getEspaceClientSelector().length >= 1;

    isEspaceClient = function() {
      return res;
    };

    return res;
  }

  /**
   *
   * @returns {boolean}
   */
  function isPreview() {
    var res = window.ENVIRONNEMENT === "PREVIEW";

    isPreview = function() {
      return res;
    };

    return res;
  }

  /**
   *
   * @returns {boolean}
   */
  function isProd() {
    var res = window.ENVIRONNEMENT === "PROD";

    isProd = function() {
      return res;
    };

    return res;
  }

  /**
   *
   * @returns {boolean}
   */
  function isQualif() {
    var res = window.ENVIRONNEMENT === "QUALIF";

    isQualif = function() {
      return res;
    };

    return res;
  }

  /**
   *
   * @returns {boolean}
   */
  function isInte() {
    var res = window.ENVIRONNEMENT === "INTE";

    isInte = function() {
      return res;
    };

    return res;
  }

  /**
   *
   * @returns {boolean}
   */
  function isNoEnv() {
    var res = window.ENVIRONNEMENT === "NO_ENV";

    isNoEnv = function() {
      return res;
    };

    return res;
  }

  /**
   *
   * @returns {*|boolean|boolean}
   */
  function isPart() {
    var res =
      typeClient === CLIENT_TYPES.PART ||
      $getBody().is(".part") ||
      /* bench */ (isNoEnv() && hostNameIncludesPredicat("-part-"));

    isPart = function() {
      return res;
    };

    return res;
  }

  function isSecure() {
    var res = pathIncludesPredicat("/secure/");

    isSecure = function() {
      return res;
    };

    return res;
  }

  /**
   *
   * @returns {*|boolean|boolean}
   */
  function isBpf() {
    var res =
      typeClient === CLIENT_TYPES.BPF ||
      $getBody().is(".bpf") ||
      /* bench */ (isNoEnv() && hostNameIncludesPredicat("-bpf-"));

    isBpf = function() {
      return res;
    };

    return res;
  }

  /**
   *
   * @returns {*|boolean}
   */
  function isPro() {
    var res =
      typeClient === CLIENT_TYPES.PRO ||
      $getBody().is(".pro") ||
      or(
        ["mabanquepro", "pro.mabanque", "canalnet-pro", "-pro-"].map(
          hostNameIncludesPredicat
        )
      );

    isPro = function() {
      return res;
    };

    return res;
  }

  /**
   *
   * @returns {*|boolean}
   */
  function isHb() {
    var res =
      $getBody().is(".hb, .hellobank") || hostNameIncludesPredicat("hellobank");

    isHb = function() {
      return res;
    };

    return res;
  }

  function isHomePage() {
    var res = document.location.pathname === "/";

    isHomePage = function() {
      return res;
    };

    return res;
  }

  /**
   *
   * @returns {boolean | *}
   */
  function isConnectionPage() {
    var res =
      getPathName().endsWith("connexion") ||
      getPathName().endsWith("espace-prive") ||
      (isHb() && $("#ident-header").length > 0);

    isConnectionPage = function() {
      return res;
    };

    return res;
  }

  /**
   *
   * @returns {any | boolean}
   */
  function isModeWebView() {
    var res =
      (sessionStorage.modeWebview && sessionStorage.modeWebview === "true") ||
      location.search.includes("rc=webview") ||
      location.pathname.includes("webview");

    isModeWebView = function() {
      return res;
    };

    return res;
  }

  function getEnv() {
    return GlobalSite.ENVIRONNEMENT || window.ENVIRONNEMENT;
  }

  function getQualifNumber() {
    var _isQualif = isQualif();
    var res = 0;
    if (_isQualif) {
      switch (true) {
        case hostNameIncludesPredicat("-we1-ap1"):
          res = 1;
          break;
        case hostNameIncludesPredicat("-we2-ap2"):
          res = 2;
          break;
        case hostNameIncludesPredicat("-we3-ap3"):
          res = 3;
          break;
        case hostNameIncludesPredicat("-we4-ap4"):
          res = 4;
          break;
      }
    }
    getQualifNumber = function() {
      return res;
    };

    return res;
  }

  /**
   *
   * @returns {boolean}
   */
  function isQualif1() {
    var res = getQualifNumber() === 1;

    isQualif1 = function() {
      return res;
    };

    return res;
  }

  function isQualif2() {
    var res = getQualifNumber() === 2;

    isQualif2 = function() {
      return res;
    };

    return res;
  }

  function isQualif3() {
    var res = getQualifNumber() === 3;

    isQualif3 = function() {
      return res;
    };

    return res;
  }

  function isQualif4() {
    var res = getQualifNumber() === 4;

    isQualif4 = function() {
      return res;
    };

    return res;
  }

  function isMobile() {
    var res = isModeWebView() || window.CANAL === "mobile";

    isMobile = function() {
      return res;
    }

    return res;
  }

  function isDesktop() {
    var res = !isModeWebView() || window.CANAL === "desktop";

    isDesktop = function() {
      return res;
    }

    return res;
  }

  function isAsyncC2() {
    var res = $.Deferred();

    $.ajax({url: "/content/dam/c2.json"})
      .always(function(response) {
        res.resolve(response.active);
      });
      
    isAsyncC2 = function() {
      return res;
    }

    return res;
  }

  function getAsyncC2BaseUrl() {
    var res = $.Deferred();

    $.ajax({url: "/content/dam/c2.json"})
      .always(function(response) {
        res.resolve(response.baseUrl[typeClient.toLowerCase()]);
      });
      
    getAsyncC2BaseUrl = function() {
      return res;
    }

    return res;
  }

  //=============================================
  exportToGlobalSite({
    clientUtils: {
      and: and,
      or: or,
      not: not,
      getHostName: getHostName,
      hostNameIncludesPredicat: hostNameIncludesPredicat,
      pathIncludesPredicat: pathIncludesPredicat,
      getPathName: getPathName,
      $getBody: $getBody,
      $getEspaceClientSelector: $getEspaceClientSelector,
      isEspaceClient: isEspaceClient,
      isPreview: isPreview,
      isProd: isProd,
      isQualif: isQualif,
      isQualif1: isQualif1,
      isQualif2: isQualif2,
      isQualif3: isQualif3,
      isQualif4: isQualif4,
      getQualifNumber: getQualifNumber,
      isInte: isInte,
      isNoEnv: isNoEnv,
      isPart: isPart,
      isBpf: isBpf,
      isPro: isPro,
      isHb: isHb,
      isSecure: isSecure,
      isHomePage: isHomePage,
      isConnectionPage: isConnectionPage,
      isModeWebView: isModeWebView,
      getEnv: getEnv,
      isMobile: isMobile,
      isDesktop: isDesktop,
      isAsyncC2: isAsyncC2,
      getAsyncC2BaseUrl: getAsyncC2BaseUrl
    }
  });
  //=============================================
})();

$(function languageManagementJs() {
  //===========================================
  window.GlobalSite = window.GlobalSite || {};
  //===========================================

  var exportGlobally = GlobalSite.checkDependency("GlobalSite.exportGlobally"),
    $body = GlobalSite.checkDependency("GlobalSite.$body"),
    clientUtils = GlobalSite.checkDependency("GlobalSite.clientUtils"),
    isDebug = GlobalSite.checkDependency("GlobalSite.isDebug"),
    Log = GlobalSite.logFactory("languageManagement.js");
  //------------------------------------------------

  var LANGUAGE = "fr", // langue du site : 'fr' ou 'en'
    LABELS = {},
    IS_TRANSLATION_ACTIVATED = window.location.protocol !== "file:",
    languageManagement = (function languageManagement() {
      // Alias
      // obtenir la traduction  partir d'une clef
      var LABELS_PATH = "/rsc/contrib/script/client/labels.json",
        LOCAL_STORAGE_ITEM_NAME = "labels_cache",
        initLanguage,
        getLanguage,
        init,
        get,
        isEnglish,
        isLabelEnglish;

      //--
      isEnglish = function _isEnglish() {
        initLanguage();
        return window.LANGUAGE === "en";
      };
      isLabelEnglish = function() {
        return LABELS["label.language"] === "en";
      };
      initLanguage = function _getLanguage() {
        GlobalSite.checkDependency("moment");
        var _location, isFrench, isEnglish, result;

        _location = document.location;
        isFrench =
          _location.pathname.indexOf("/fr/") === 0 || $body.hasClass("fr");
        isEnglish =
          _location.pathname.indexOf("/en/") === 0 || $body.hasClass("en");

        result =
          (isDebug() &&
            ["fr", "en"].includes(localStorage["AEM_LANGUE"]) &&
            localStorage["AEM_LANGUE"]) ||
          (isFrench && "fr") ||
          (isEnglish && "en") ||
          "fr";

        exportGlobally({
          LANGUAGE: result
        });

        moment.locale(result);

        return result;
      };
      initLanguage();
      //----
      getLanguage = initLanguage;
      //--
      init = function _init(callBack) {
        // rcuperation des labels de langue

        $(function() {
          var langue,
            isHomePage,
            isConnectionPage,
            isPageForDownloading,
            _callBack,
            initLabelsFromServer;

          _callBack = (function() {
            var result = $.noop;

            if (typeof callBack === "function") {
              result = callBack;
            }

            return result;
          })();

          isHomePage = clientUtils.isHomePage();
          isConnectionPage = clientUtils.isConnectionPage();
          isPageForDownloading = isHomePage || isConnectionPage;
          langue = getLanguage();
          initLabelsFromServer = function() {
            $.ajax({
              cache: false,
              url: LABELS_PATH,
              dataType: "json"
            })
              .done(function(data) {
                //--
                if (data && data[langue]) {
                  LABELS = data[langue];
                  localStorage.setItem(
                    LOCAL_STORAGE_ITEM_NAME,
                    JSON.stringify(LABELS)
                  );
                  //--
                  _callBack();
                } else {
                  LABELS = JSON.parse(
                    localStorage.getItem(LOCAL_STORAGE_ITEM_NAME)
                  );
                }
              })
              .fail(function() {
                Log.error("Echec de chargement des traductions!");
              });
          };
          //---
          if (isPageForDownloading) {
            initLabelsFromServer();
          } else {
            LABELS = JSON.parse(localStorage.getItem(LOCAL_STORAGE_ITEM_NAME));
            if (LABELS) {
              (function() {
                var isPageEnglish = isEnglish();
                var _isLabelEnglish = isLabelEnglish();

                if (isPageEnglish === _isLabelEnglish) {
                  _callBack();
                } else {
                  initLabelsFromServer();
                }
              })();
            } else {
              initLabelsFromServer();
            }
          }
        });
      };
      //---
      get = function _get(key, _default) {
        var result = LABELS[key] || _default || key;

        return result;
      };

      //===============================
      if (IS_TRANSLATION_ACTIVATED) {
        init(function() {
          exportGlobally({
            LABELS: LABELS
          });
        });
      }
      //===============================

      //----
      return {
        init: init,
        initLanguage: initLanguage,
        getLanguage: getLanguage,
        get: get,
        isEnglish: isEnglish,
        isLabelEnglish: isLabelEnglish
      };
    })();

  //===========================================
  exportGlobally({
    LANGUAGE: LANGUAGE,
    LABELS: LABELS,
    IS_TRANSLATION_ACTIVATED: IS_TRANSLATION_ACTIVATED,
    languageManagement: languageManagement,
    lgMgt: languageManagement, // alias
    _get: languageManagement.get // alias
  });
  //===========================================
});

(function infosClientHelperJs() {
  //===========================================
  window.GlobalSite = window.GlobalSite || {};
  //----------------------------------------------
  var WaitAsync = GlobalSite.checkDependency("GlobalSite.WaitAsync"),
    isDebug = GlobalSite.checkDependency("GlobalSite.isDebug"),
    updateSession = GlobalSite.checkDependency("GlobalSite.updateSession"),
    getFromSessionStorage = GlobalSite.checkDependency(
      "GlobalSite.getFromSessionStorage"
    ),
    getFromLocalStorage = GlobalSite.checkDependency(
      "GlobalSite.getFromLocalStorage"
    ),
    safeAccess = GlobalSite.checkDependency("GlobalSite.safeAccess"),
    logFactory = GlobalSite.checkDependency("GlobalSite.logFactory"),
    isConnected = GlobalSite.checkDependency("GlobalSite.isConnected"),
    CST = GlobalSite.checkDependency("GlobalSite.CST");
  //===========================================
  var Log = logFactory("infoClientHelper.js");

  // 3 minutes
  // in minutes
  var INFOCLIENT_TTL = CST.INFOCLIENT_TTL,
    DEBUG = isDebug,
    usingInfoClientStub =
      DEBUG &&
      getFromLocalStorage(CST.LOCAL_KEYS.USE_DEBUG_INFOCLIENT_STUB) === true,
    INFOCLIENT_STUB_URL = CST.URLS.INFOCLIENT_STUB_URL,
    INFOCLIENT_URL =
      (usingInfoClientStub && INFOCLIENT_STUB_URL) || CST.URLS.INFOCLIENT_URL,
    THROTTLE_DELAY = 1,
    infosClientRequestUtil,
    infosClientMode1Util,
    infosClientMode0Util,
    $ajaxRequest;

  function getAsyncBrowserDate() {
    var asynRes = $.when(new Date());

    getAsyncBrowserDate = function () {
      return asynRes;
    };

    return asynRes;
  }

  function updateInfosClientDateServer(sessionStorageKey, dateServer) {
    var rawSessionInfoClientJSON = getFromSessionStorage(SESSION_STORAGE_KEY);
    if (rawSessionInfoClientJSON) {
      rawSessionInfoClientJSON.serveurTimestamp =
        rawSessionInfoClientJSON.dateServeur = dateServer;
      updateSession(sessionStorageKey, rawSessionInfoClientJSON);
    }

    return rawSessionInfoClientJSON;
  }

  $ajaxRequest = (function () {
    /**
     * ajout d'un id unique "generatorId"  un objet
     * @param {*} obj
     */
    function idAttribution(obj) {
      var id = Math.trunc(1000 * performance.now());
      obj.generatorId = id;

      return obj;
    }

    /**
     * creation d'une fonction de generation de valeur/objet
     * valeur qui change dans un interval minimum de temps
     * @param {function} valueGenerator
     * @param {number} throttleDelay
     */
    function throttledValueGeneratorFactory(
      valueGenerator,
      throttleDelay /* minutes */,
      debug
    ) {
      var promise;
      var throttledFunc;
      var getThrottledAjaxPromise;

      throttledFunc = GlobalSite.throttle(
        throttleDelay * 60 * 1000,
        function () {
          promise = idAttribution(valueGenerator());

          Log.log({
            debug: {
              date: new Date(),
              infosClient: {
                throttledValueGeneratorFactory: {
                  "value generated": promise.generatorId,
                },
              },
            },
          });
        }
      );

      getThrottledAjaxPromise = function () {
        throttledFunc();

        Log.log({
          debug: {
            date: new Date(),
            infosClient: {
              getThrottledAjaxPromise: {
                "used promise id ": promise.generatorId,
              },
            },
          },
        });

        return promise;
      };

      return getThrottledAjaxPromise;
    }

    function $ajaxRequestGenerator(mode) {
      function build$ajaxRequest(mode) {
        return $.ajax({
          url: INFOCLIENT_URL,
          cache: true,
          dataType: "json",
          data: {
            modeAppel: mode,
          },
        });
      }

      function build$ajaxRequest0() {
        return build$ajaxRequest(0);
      }

      function build$ajaxRequest1() {
        return build$ajaxRequest(1);
      }

      var choosed$Request = {
        0: build$ajaxRequest0,
        1: build$ajaxRequest1,
      }[mode];

      var $requestGenerator = throttledValueGeneratorFactory(
        choosed$Request,
        THROTTLE_DELAY,
        DEBUG
      );

      return $requestGenerator;
    }

    //========================================================
    // execut une seule fois au chargement de page
    //========================================================

    var generator0 = $ajaxRequestGenerator(0);
    var generator1 = $ajaxRequestGenerator(1);

    //========================================================

    function generate$Request(mode) {
      return {
        0: generator0,
        1: generator1,
      }[mode]();
    }

    return generate$Request;
  })();

  infosClientRequestUtil = (function () {
    "use strict";

    /**
     * demande au JSON brut de l'infoClient, enrichi de la date du serveur
     * avec mise  jour complet du session storage
     * ou avec mise  jour seulement de la date serveur
     * @param mode
     * @param toUpdateOnlyDateServeur
     * @returns {*}
     */
    function getRawInfoClientPromise(mode, toUpdateOnlyDateServeur) {
      // mode = 0 || 1 || 2 etc...
      var SESSION_STORAGE_KEY =
        mode === 0 ? "info_client" : "info_client_" + mode;

      return GlobalSite.isConnected
        ? getAsyncBrowserDate()
            .then(function (browserDate) {
              var browserTimestamp, rawSessionInfoClientJSON, isExpired;

              browserTimestamp = browserDate.getTime();
              rawSessionInfoClientJSON = JSON.parse(
                sessionStorage[SESSION_STORAGE_KEY] || null
              );
              isExpired =
                !rawSessionInfoClientJSON ||
                (!!rawSessionInfoClientJSON &&
                  browserTimestamp -
                    new Date(rawSessionInfoClientJSON.dateServeur).getTime() >
                    INFOCLIENT_TTL);

              if (isExpired) {
                // Si info_client pas en cache on appelle le service pour rcuprer les donnes

                Log.log({
                  debug: {
                    date: new Date(),
                    infosClientDebug: {
                      isExpired: isExpired,
                      action: "ajax request launched",
                    },
                  },
                });

                return $ajaxRequest(mode)
                  .then(function (json) {
                    if (toUpdateOnlyDateServeur) {
                      rawSessionInfoClientJSON = updateInfosClientDateServer(
                        SESSION_STORAGE_KEY,
                        browserTimestamp
                      );
                    } else {
                      rawSessionInfoClientJSON = json || {};

                      if (rawSessionInfoClientJSON.message === "OK") {
                        rawSessionInfoClientJSON.serveurTimestamp =
                          rawSessionInfoClientJSON.dateServeur =
                            browserTimestamp;
                        sessionStorage.setItem(
                          SESSION_STORAGE_KEY,
                          JSON.stringify(rawSessionInfoClientJSON)
                        );
                      } else {
                        sessionStorage.removeItem(SESSION_STORAGE_KEY);
                      }
                    }

                    return rawSessionInfoClientJSON;
                  })
                  .fail(Log.error);
              }

              Log.log({
                debug: {
                  date: new Date(),
                  infoClientsDebug: {
                    isConnected: isConnected,
                    isNotConnected: !isConnected,
                  },
                },
              });

              return $.when(rawSessionInfoClientJSON);
            })
            .fail(Log.error)
        : $.Deferred().reject({ message: "Forbiden Call: User not connected" });
    }

    /**
     * infosClient mode 0
     * @returns {JQuery.PromiseBase<JSON>}
     */
    function getRawInfoClient1Promise() {
      return getRawInfoClientPromise(1);
    }

    /**
     * infosClient mode 1
     * @returns {JQuery.PromiseBase<JSON>}
     */
    function getRawInfoClient0Promise() {
      return getRawInfoClientPromise(0);
    }

    /**
     *
     * @param sessionStorageKey
     * @returns {JQuery.PromiseBase}
     */
    function waitForSessionInfo(sessionStorageKey) {
      var TestFactory = WaitAsync.TestFactory,
        test = TestFactory.createFromObj({
          predicat: function () {
            return !!sessionStorage[sessionStorageKey];
          },
          maxCycles: 4,
          timeOut: 3000,
        });

      WaitAsync.addTest(test);

      return $.when(test.getAsyncVal());
    }

    /**
     * demande de l'infosClient sous forme de promesse ou callback
     * en tenant compte du cache sessionStorage
     * @param mode
     * @param callBack
     * @param toUpdateOnlyDateServeur
     * @returns {JQuery.PromiseBase<JSON>}
     */
    function getInfos(mode, callBack, toUpdateOnlyDateServeur) {
      var SESSION_STORAGE_KEY =
        mode === 0 ? "info_client" : "info_client_" + mode;

      return waitForSessionInfo(SESSION_STORAGE_KEY)
        .then(function () {
          return getRawInfoClientPromise(mode, toUpdateOnlyDateServeur);
        })
        .then(function () {
          var infoJson = JSON.parse(
            sessionStorage[SESSION_STORAGE_KEY] || null
          );

          if (typeof callBack === "function") {
            callBack(infoJson);
          }

          return infoJson;
        })
        .fail(function () {
          var errObj = Array.from(arguments);

          Log.log(errObj);
        });
    }

    return {
      getRawInfoClientPromise: getRawInfoClientPromise,
      getRawInfoClient1Promise: getRawInfoClient1Promise,
      getRawInfoClient0Promise: getRawInfoClient0Promise,
      getInfos: getInfos,
      $ajaxRequest: $ajaxRequest,
    };
  })();

  infosClientMode1Util = (function infosClientMode1Util() {
    "use strict";

    /**
     * @description recuperation de l'infoClient en mode = 1
     * @param {function=} callBack
     * @return {JQuery.PromiseBase<JSON>}
     */
    function getInfos(_callBack) {
      return infosClientRequestUtil.getInfos(1, _callBack);
    }

    function refreshInfosSession() {
      Log.log({
        debug: {
          date: new Date(),
          refreshInfosSession: {
            message: "refresh infosClient 1...",
          },
        },
      });
      return getInfos(null, true);
    }

    function getCodeSiegeGerant(_callBack) {
      var callBack = typeof _callBack === "function" ? _callBack : $.noop;

      return getInfos()
        .then(function (infos) {
          var codeSiegeGerant = null;
          // Code de test en dur
          Log.log({
            infos: infos,
          });
          /*
                    {
                        "codeSiegeGerant":"00799",
                        "idCompteIndividuel":"0",
                        "iban":"***********************5860",
                        "libelleSiegeGerant":"PARIS OPERA GARNIER"
                    }
                    */
          var codeSiegeGerantArr = access(
            infos,
            "data.agenceNet.listeCompteDetenu"
          ); // "data.agenceNet.listeCompteDetenu.codeSiegeGerant"
          codeSiegeGerant = (
            !$.isEmptyObject(codeSiegeGerantArr) ? codeSiegeGerantArr : []
          ).map(function (item) {
            return item.codeSiegeGerant;
          });
          return codeSiegeGerant;
        })
        .then(function (codeSiegeGerant) {
          callBack(codeSiegeGerant);

          return codeSiegeGerant;
        })
        .fail(function (error) {
          Log.error(error);
        });
    }

    return {
      refreshAsyncInfosSession: refreshInfosSession,
      getAsyncInfos: getInfos,
      getAsyncCodeSiegeGerant: getCodeSiegeGerant,
    };
  })();

  infosClientMode0Util = (function infosClientMode0Util() {
    "use strict";

    var access = safeAccess;

    /**
     * @description recuperation de l'infoClient en mode = 0
     * @param {function=} callBack
     * @return {JQuery.PromiseBase<JSON>}
     */
    function getInfos(_callBack) {
      return infosClientRequestUtil
        .getInfos(0, _callBack)
        .then(function isMessageOK(info) {
          var isMessageOK = info.message === "OK";

          return isMessageOK ? info : $.Deferred().reject(info);
        });
    }

    /**
     * @description rafraichissement de la session infoClient (sans modifier le contenu de l'infoClient en sessionStorage)
     * @return {JQuery.PromiseBase<JSON>}
     */
    function refreshInfosSession() {
      Log.log({
        debug: {
          date: new Date(),
          refreshInfosSession: {
            message: "refresh infosClient 0...",
          },
        },
      });
      return getInfos(null, true);
    }

    /**
     * @description recuperation des 5 premiers chiffres des identifiantSGIRattache
     * @param {function=} _callBack  - optional
     * @returns {{JQuery.PromiseBase<string[]>}}
     */
    function getCodeSiegeGerant(_callBack) {
      var callBack = typeof _callBack === "function" ? _callBack : $.noop;

      return getInfos()
        .then(function (infos) {
          /**
           * @description infos.data.contrat.comptes
           * @type {object[]}
           */
          var comptes = [];
          /**
           * @description data.contrat.comptes[i].identifiantSGIRattache
           * @type {string[]}
           */
          var codeSiegeGerant;

          /**
           * @template T
           * @param {Array<T>} arr
           * @return {Array<T>} - les lments du tableau deviennent uniques
           */
          function makeUniq(arr) {
            return Array.from(new Set(arr));
          }

          comptes = access(infos, "data.contrat.comptes");
          codeSiegeGerant = (!$.isEmptyObject(comptes) ? comptes : [])
            .map(function (compte) {
              return compte.identifiantSGIRattache;
            })
            .filter(function (identifiant) {
              return !!identifiant;
            })
            .map(function (identifiant) {
              return identifiant.substring(0, 5);
            });

          return makeUniq(codeSiegeGerant);
        })
        .then(function (codeSiegeGerant) {
          callBack(codeSiegeGerant);

          return codeSiegeGerant;
        })
        .fail(function (error) {
          Log.error(error);
        });
    }

    /**
     *
     * @param _callBack
     * @returns {*}
     */
    function getNombreMessage(_callBack) {
      var callBack = typeof _callBack === "function" ? _callBack : $.noop;

      return getInfos()
        .then(function (infos) {
          var nbreMsg = access(infos, "data.abonnement.nombreMessageBMMNonLus");
          callBack(nbreMsg);

          return nbreMsg;
        })
        .fail(function (error) {
          Log.error(error);
        });
    }

    /**
     * key = "data.indicateurs.indicPriority"
     * @param _callBack
     * @returns {*}
     */
    function isAsyncClientPriority(_callBack) {
      var callBack = typeof _callBack === "function" ? _callBack : $.noop;

      return getInfos()
        .then(function (infos) {
          var isPriority = access(infos, "data.indicateurs.indicPriority");
          callBack(isPriority);

          return isPriority;
        })
        .fail(function (error) {
          Log.error(error);
        });
    }

    /**
     * key = "data.client.civilite"
     * @param _callBack
     * @returns {*}
     */
    function getAsyncClientCiviliteCode(_callBack) {
      var callBack = typeof _callBack === "function" ? _callBack : $.noop;

      return getInfos()
        .then(function (infos) {
          var civilite = access(infos, "data.client.civilite");
          callBack(civilite);

          return civilite;
        })
        .fail(function (error) {
          Log.error(error);
        });
    }

    /**
     * key = "data.client.dateNaissance"
     * @param _callBack
     * @returns {*}
     */
    function getAsyncDateNaissance(_callBack) {
      var callBack = typeof _callBack === "function" ? _callBack : $.noop;

      return getInfos()
        .then(function (infos) {
          var dateNaissance = access(infos, "data.client.dateNaissance");
          callBack(dateNaissance);

          return dateNaissance;
        })
        .fail(function (error) {
          Log.error(error);
        });
    }

    /**
     * key = "data.client.nomComplet"
     * @param _callBack
     * @returns {*}
     */
    function getAsyncNomComplet(_callBack) {
      var callBack = typeof _callBack === "function" ? _callBack : $.noop;

      return getInfos()
        .then(function (infos) {
          var nomComplet = access(infos, "data.client.nomComplet");
          callBack(nomComplet);
          Log.log({
            nomComplet: nomComplet,
          });

          return nomComplet;
        })
        .fail(function (error) {
          Log.error(error);
        });
    }

    /**
     * key = "data.client.prenom"
     * @param _callBack
     * @returns {*}
     */
    function getAsyncPrenom(_callBack) {
      var callBack = typeof _callBack === "function" ? _callBack : $.noop;

      return getInfos()
        .then(function (infos) {
          var prenom = access(infos, "data.client.prenom");
          callBack(prenom);

          return prenom;
        })
        .fail(function (error) {
          Log.error(error);
        });
    }

    /**
     * key = "data.client.ikpiPersonnePhysique"
     * @param _callBack
     * @returns {*}
     */
    function getAsyncIkpiPersonnePhysique(_callBack) {
      var callBack = typeof _callBack === "function" ? _callBack : $.noop;

      return getInfos()
        .then(function (infos) {
          var ikpiPersonnePhysique = access(
            infos,
            "data.client.ikpiPersonnePhysique"
          );
          callBack(ikpiPersonnePhysique);

          return ikpiPersonnePhysique;
        })
        .fail(function (error) {
          Log.error(error);
        });
    }

    /**
     * key = "data.client.ikpiPersonne"
     * @param _callBack
     * @returns {*}
     */
    function getAsyncIkpiPersonne(_callBack) {
      var callBack = typeof _callBack === "function" ? _callBack : $.noop;

      return getInfos()
        .then(function (infos) {
          var ikpiPersonne = access(infos, "data.client.ikpiPersonne");
          callBack(ikpiPersonne);

          return ikpiPersonne;
        })
        .fail(function (error) {
          Log.error(error);
        });
    }

    /**
     *
     * @param _callBack
     * @returns {*}
     */
    function getAsyncInformationsIdentification(_callBack) {
      var callBack = typeof _callBack === "function" ? _callBack : $.noop;

      return getInfos()
        .then(function (infos) {
          var infos = access(infos, "data.informationsIdentification");
          callBack(infos);

          return infos;
        })
        .fail(function (error) {
          Log.error(error);
        });
    }

    /**
     *
     * @param _callBack
     * @returns {*}
     */
    function getAsyncCollab(_callBack) {
      var callBack = typeof _callBack === "function" ? _callBack : $.noop;

      return getInfos()
        .then(function (infos) {
          var infos = access(infos, "data.indicateurs.indicAgentBNP");
          callBack(infos);

          return infos;
        })
        .fail(function (error) {
          Log.error(error);
        });
    }

    /**
     *
     * @returns {*}
     */
    function getAsyncDateDerniereIdentification() {
      var callBack = typeof _callBack === "function" ? _callBack : $.noop;

      return getAsyncInformationsIdentification(callBack)
        .then(function (infos) {
          return (infos || {}).dateDerniereIdentification;
        })
        .fail(function (error) {
          Log.error(error);
        });
    }

    function getAsyncIdentLastDateObj() {
      var callBack = typeof _callBack === "function" ? _callBack : $.noop;

      return getAsyncDateDerniereIdentification(callBack)
        .then(function (infos) {
          GlobalSite.checkDependency("moment");

          var mDate = moment(infos, "DDMMYYYY"),
            days = mDate.format("DD"),
            months = mDate.format("MM"),
            year = mDate.format("YYYY");

          return {
            days: days,
            months: months,
            year: year,
          };
        })
        .fail(function (error) {
          Log.error(error);
        });
    }

    /**
     *
     * @returns {*}
     */
    function getAsyncHeureDerniereIdentification() {
      var callBack = typeof _callBack === "function" ? _callBack : $.noop;

      return getAsyncInformationsIdentification(callBack)
        .then(function (infos) {
          return (infos || {}).heureDerniereIdentification;
        })
        .fail(function (error) {
          Log.error(error);
        });
    }

    function getAsyncIdentLastHourObj() {
      var callBack = typeof _callBack === "function" ? _callBack : $.noop;

      return getAsyncHeureDerniereIdentification(callBack)
        .then(function (infos) {
          GlobalSite.checkDependency("moment");

          var mDate = moment(infos, "HHmmss"),
            hours = mDate.format("HH"),
            minutes = mDate.format("mm"),
            secondes = mDate.format("ss");

          return {
            hours: hours,
            minutes: minutes,
            secondes: secondes,
          };
        })
        .fail(function (error) {
          Log.error(error);
        });
    }

    /**
     *
     * @returns {*}
     */
    function getAsyncTypeGrille() {
      var callBack = typeof _callBack === "function" ? _callBack : $.noop;

      return getAsyncInformationsIdentification(callBack)
        .then(function (infos) {
          return (infos || {}).typeGrille;
        })
        .fail(function (error) {
          Log.error(error);
        });
    }

    // agregation
    function getAsyncIndicAgregation(_callBack) {
      var callBack = typeof _callBack === "function" ? _callBack : $.noop;

      return getInfos()
        .then(function (infos) {
          var infoAgr = access(infos, "data.indicateurs.indicAgregation");
          callBack(infoAgr);

          Log.log({
            infoAgr: infoAgr,
          });

          return infoAgr;
        })
        .fail(function (error) {
          Log.error(error);
        });
    }

    /**
     * @description Vrifie si le client est enregistr sur le site un compte titre
     * @param _callBack
     * @returns {*}
     */
    function hasAsyncStockAccount(_callBack) {
      var callBack = typeof _callBack === "function" ? _callBack : $.noop;

      return getInfos()
        .then(function (infos) {
          var accounts = access(infos, "data.contrat.comptes");

          try {
            var hasStockAccount = false;
            accounts.forEach((account) => {
              if (
                account.identifiantProduitCompte == "181" ||
                account.identifiantProduitCompte == "189"
              ) {
                throw "Break";
              }
            });
          } catch (e) {
            if (e === "Break") {
              hasStockAccount = true;
            }
          }
          callBack(hasStockAccount);

          return hasStockAccount;
        })
        .fail(function (error) {
          Log.error(error);
        });
    }

    return {
      getAsyncIndicAgregation: getAsyncIndicAgregation,
      refreshAsyncInfosSession: refreshInfosSession,
      getAsyncInfos: getInfos,
      getAsyncCodeSiegeGerant: getCodeSiegeGerant,
      getAsyncNombreMessage: getNombreMessage,
      isAsyncClientPriority: isAsyncClientPriority,
      getAsyncClientCiviliteCode: getAsyncClientCiviliteCode,
      getAsyncDateNaissance: getAsyncDateNaissance,
      getAsyncNomComplet: getAsyncNomComplet,
      getAsyncPrenom: getAsyncPrenom,
      //---------------------------------
      getAsyncInformationsIdentification: getAsyncInformationsIdentification,
      getAsyncDateDerniereIdentification: getAsyncDateDerniereIdentification,
      getAsyncIdentLastDateObj: getAsyncIdentLastDateObj,
      getAsyncHeureDerniereIdentification: getAsyncHeureDerniereIdentification,
      getAsyncIdentLastHourObj: getAsyncIdentLastHourObj,
      getAsyncTypeGrille: getAsyncTypeGrille,
      //---------------------------------
      getAsyncIkpiPersonnePhysique: getAsyncIkpiPersonnePhysique,
      getAsyncIkpiPersonne: getAsyncIkpiPersonne,
      getAsyncCollab: getAsyncCollab,
      hasAsyncStockAccount: hasAsyncStockAccount
    };
  })();

  //===========================================
  GlobalSite.exportToGlobalSite({
    infosClientRequestUtil: infosClientRequestUtil,
    infosClientMode1Util: infosClientMode1Util,
    infosClientMode0Util: infosClientMode0Util,
  });
  //===========================================
})();

(function PopinJs() {
  //===========================================
  window.GlobalSite = window.GlobalSite || {};
  //===========================================

  GlobalSite.checkDependencies("GlobalSite.exportGlobally");
  GetURLParameter = GlobalSite.checkDependency("GlobalSite.GetURLParameter");

  //------------------------------------------------

  /**
   * Popin (type enrolement)
   */
  var Popin = {
    popin_class: "popin",
    popin_cache_class: "popin-cache",
    popin_auto: "popin-auto",
    popin_open_active: "popin-open-active",
    popin_action: "popin-action",
    KEYBOARD_KEYS : {ENTER: {name: "Enter", code: 13}, ESCAPE: {name: "Escape", code: 27}, TAB: {name: "Tab", code: 9}, SPACE: {name: " ", code: 32}},

    init: function () {
      if ($("." + Popin.popin_class).length == 0) {
        return false;
      }
      //Ajout event close popin on escape
      $("body").on("keydown.popin-close", function (e) {
        var isEscapePressed = e.key === Popin.KEYBOARD_KEYS.ESCAPE.name || e.keyCode === Popin.KEYBOARD_KEYS.ESCAPE.code;

        if (isEscapePressed) {
          Popin.hidePopin();
          $("[data-show-popin]").focus();
          $(".action_popin_wcb").focus();
        }
      });

      /**
       * Ajout des event keydown pour l'accessibilit
       */
       $("[data-show-popin]").on("keydown.popin-open", function (e) {
          //accessibility ACCUX
          if(e.key === Popin.KEYBOARD_KEYS.ENTER.name) {
            e.preventDefault();
            var show_elem_selector = $(this).data("show-popin"),
            $elem_to_show = $(show_elem_selector);
          Popin.showPopin($elem_to_show);  
          Popin.attachAccessibilityBehavior(e, $elem_to_show);
          $(this).blur();
          e.key !== Popin.KEYBOARD_KEYS.ENTER.name && $elem_to_show.focus();
          }
          
       });

       $("." + Popin.popin_class)
        .find(".popin-close")
        .on("keydown.popin-close", function (e) {
          if(e.key === Popin.KEYBOARD_KEYS.ENTER.name || e.key === Popin.KEYBOARD_KEYS.SPACE.name) {
            e.preventDefault();
            Popin.hidePopin($(this));
            $("[data-show-popin]").focus();
          }
        });


      // Ajout evenement click sur le boutton pour fermer la popin
      $("." + Popin.popin_class)
        .find(".popin-close")
        .on("click.popin-close", function (e) {
          Popin.hidePopin($(this));
        });

      if (!$(".popin-cache").hasClass("noC")) {
        $("body").on(
          "click.popin-close",
          "." + Popin.popin_cache_class,
          function (e) {
            Popin.hidePopin();
          }
        );
        $("body").on(
          "keydown.popin-close",
          "." + Popin.popin_cache_class,
          function (e) {
            if(e.key === Popin.KEYBOARD_KEYS.ENTER.name) {
              e.preventDefault();
              Popin.hidePopin($(this));
              $("[data-show-popin]").focus();
            }
          }
        );
      }

      $("[data-show-popin]").on("click.popin-open", function (e) {
        var show_elem_selector = $(this).data("show-popin"),
          $elem_to_show = $(show_elem_selector);
        if (
          $("body").hasClass("webview") &&
          $(this).data("show-popin") == "#liste-support"
        ) {
          $(window).scrollTop(0);
        }
        Popin.showPopin($elem_to_show);

        e.key !== Popin.KEYBOARD_KEYS.ENTER.name && $elem_to_show.focus();

        setTimeout(function () {
          GlobalSite.initJsLoader();
        }, 500);
      });

      // Popin se dclenche automatiquement au chargement
      if ($("." + Popin.popin_class + "." + Popin.popin_auto).length > 0) {
        Popin.showPopin($("." + Popin.popin_class + "." + Popin.popin_auto));
      }
    },

    showPopin: function ($popin, cacheParent, forceCacheReCreation) {
      if (forceCacheReCreation) {
        $("." + Popin.popin_cache_class).remove();
      }
      $popin
        .removeClass("hidden")
        .addClass(Popin.popin_open_active)
        .attr("aria-hidden", "false");
      if ($("." + Popin.popin_cache_class).length == 0) {
        if (typeof cacheParent != "undefined") {
          $(cacheParent).append(
            $('<div class="' + Popin.popin_cache_class + '" />')
          );
        } else {
          $("body").append(
            $('<div class="' + Popin.popin_cache_class + '" />')
          );
        }
      } else {
        $("." + Popin.popin_cache_class).removeClass("hidden");
      }
    },

    hidePopin: function ($clicked_elem) {
      // Si la popin a la class popin-action, on ne peut la fermer qu'en cliquant sur un lment bouton
      if (
        $("." + Popin.popin_open_active).hasClass(Popin.popin_action) &&
        $clicked_elem &&
        !$clicked_elem.is("button")
      ) {
        return false;
      }
      $("." + Popin.popin_open_active)
        .addClass("hidden")
        .removeClass(Popin.popin_open_active)
        .attr("aria-hidden", "true");
      $("." + Popin.popin_cache_class)
        .removeClass()
        .addClass("hidden")
        .addClass(Popin.popin_cache_class)
        .attr("aria-hidden", "true");
    },
    attachAccessibilityBehavior: function (event, $popin) {
      var focusableElements =
          'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])',
        focusableContent = $popin.find(focusableElements),
        $firstFocusableElement = $(focusableContent[0]),
        $lastFocusableElement = $(
          focusableContent[focusableContent.length - 1]
        );

      event.keyCode === Popin.KEYBOARD_KEYS.ENTER.code && $firstFocusableElement.focus();

      $popin.on("keydown.accux keypress.accux", function (e) {
        var isTabPressed = e.key === Popin.KEYBOARD_KEYS.TAB.name || e.keyCode === Popin.KEYBOARD_KEYS.TAB.code;

        if (!isTabPressed) {
          return;
        }

        if (e.shiftKey) {
          if ($firstFocusableElement.is(":focus")) {
            $lastFocusableElement.focus();
            e.preventDefault();
          }
        } else {
          if ($lastFocusableElement.is(":focus")) {
            $firstFocusableElement.focus();
            e.preventDefault();
          }
        }
      });
    },

  };
  if (GetURLParameter("rc") === "nopopin") {
    sessionStorage.setItem("nopopin", true);
  }
  //===========================================
  GlobalSite.exportGlobally({
    Popin: Popin,
  });
  //===========================================
})();
(function ShowHideHelperJs() {
  //===========================================
  window.GlobalSite = window.GlobalSite || {};
  //===========================================

  GlobalSite.checkDependencies("GlobalSite.exportGlobally");

  //------------------------------------------------
  /**
   * Les fonctions show/hide
   */
  var ShowHideHelper = {
    /**
     * KEY_CODES constante pour les codes des boutons clavier
     */
    KEY_CODES: { ENTER: 13, SPACE: 32, SHIFT: 9, UNDEFINED: "undefined" },
    /**
     * Init toutes les fonction
     */
    init: function() {
      this.dataToggleSection();
      this.dataCheckboxShowSection();
      this.dataRadioButtonSection();
      this.dataShowHideSection();
      this.dataShowHideOverSection();
      this.dataShowHideSectionSlider();
      this.dataSlideOpenSection();
      this.dataMakeActiveInactiveSection();
      this.dataToggleActive();
      this.dataMakeEnabled();
      this.dataGroupMakeEnabled();
      this.dataSendValueToInput();
      this.dataResetForm();
      this.identToggle();
      this.callbackMessage();
      this.fixBarreRecherche(); // position sticky
      this.fixOngletTop(); // position sticky
      this.disableNanoClick();
      this.initShowHideRules();
      this.dataShowHideViewer();
      this.autoNanoScroller();
    },
    /**
     * Permet de afficher/cacher un ou des lments au clic
     */
    dataToggleSection: function() {
      $("[data-toggle-section]").on("click.toggle-section", function() {
        var $this = $(this);

        var iconCarretFiltre = function($elt) {
          var iconCarretFilter = (
            $this.data("icon-carret-filter") || ""
          ).trim();

          return iconCarretFilter ? $elt.filter(iconCarretFilter) : $elt;
        };

        var $iconCarretDown = iconCarretFiltre($this.find(".icon-carret-down"));
        var $iconCarretUp = iconCarretFiltre($this.find(".icon-carret-up"));

        toggle($(this));
        if ($iconCarretDown.length > 0) {
          $iconCarretDown
            .removeClass("icon-carret-down")
            .addClass("icon-carret-up");
        } else if ($iconCarretUp.length > 0) {
          $iconCarretUp
            .removeClass("icon-carret-up")
            .addClass("icon-carret-down");
        }

        if ($(this).hasClass("toggled")) {
          $(this).removeClass("toggled");
        } else {
          $(this).addClass("toggled");
        }
      });

      var toggle = function($elem) {
        var elem_id = $elem.data("toggle-section"),
          $elem_to_toggle = $(elem_id);

        if ($elem_to_toggle.hasClass("hidden")) {
          $elem_to_toggle.removeClass("hidden");
        } else {
          $elem_to_toggle.addClass("hidden");
        }
      };
    },
    dataToggleSectionCtx: function($ctx) {
      // contextualisation
      $("[data-toggle-section]", $ctx).on("click.toggle-section", function() {
        toggle($(this));
        if ($(this).find(".icon-carret-down").length > 0) {
          $(this)
            .find(".icon-carret-down")
            .removeClass("icon-carret-down")
            .addClass("icon-carret-up");
        } else if ($(this).find(".icon-carret-up").length > 0) {
          $(this)
            .find(".icon-carret-up")
            .removeClass("icon-carret-up")
            .addClass("icon-carret-down");
        }

        if ($(this).hasClass("toggled")) {
          $(this).removeClass("toggled");
        } else {
          $(this).addClass("toggled");
        }
      });

      var toggle = function($elem) {
        var elem_id = $elem.data("toggle-section"),
          $elem_to_toggle = $(elem_id, $ctx);

        if ($elem_to_toggle.hasClass("hidden")) {
          $elem_to_toggle.removeClass("hidden");
        } else {
          $elem_to_toggle.addClass("hidden");
        }
      };
    },
    /**
     * Permet d'ajouter/enlever la class .active sur un ou des lments au clic
     */
    dataToggleActive: function() {
      $("[data-toggle-active]").on("click.toggle-active", function() {
        toggle($(this));
      });

      var toggle = function($elem) {
        var elem_id = $elem.data("toggle-active"),
          $elem_to_toggle = $(elem_id);

        if ($elem_to_toggle.hasClass("active")) {
          $elem_to_toggle.removeClass("active");
        } else {
          $elem_to_toggle.addClass("active");
        }
      };
    },
    /**
     * Permet d'afficher/cacher un ou des lments en fonction de l'tat d'un radio button
     */
    dataRadioButtonSection: function() {
      $("[data-toggle-radio-section]").on(
        "click.toggle-radio-section",
        function() {
          toggle($(this), $(this).attr("name"));
        }
      );

      var toggle = function($elem) {
        var elem_id = $elem.data("toggle-radio-section"),
          $elem_to_toggle = $(elem_id);

        if ($elem.prop("checked")) {
          $elem_to_toggle.removeClass("hidden");
        } else {
          $elem_to_toggle.addClass("hidden");
        }
      };

      $("[data-toggle-radio-section]").each(function() {
        var $all_radios = $("input[name=" + $(this).attr("name") + "]"),
          elem_id = $(this).data("toggle-radio-section"),
          $elem_to_toggle = $(elem_id);

        $all_radios.not($(this)).on("click", function() {
          $elem_to_toggle.addClass("hidden");
        });
      });
      // On load
      toggle($("[data-toggle-radio-section]"));
    },
    /**
     * Permet d'afficher/cacher un ou des lments en fonction de l'tat d'une checkbox
     */
    dataCheckboxShowSection: function() {
      $("[data-toggle-checkbox-section]").on(
        "click.toggle-checkbox-section",
        function() {
          toggle($(this));
        }
      );
      var toggle = function($elem) {
        var elem_id = $elem.data("toggle-checkbox-section"),
          $elem_to_toggle = $(elem_id);

        if ($elem.prop("checked")) {
          $elem_to_toggle.removeClass("hidden");
        } else {
          $elem_to_toggle.addClass("hidden");
        }
      };
      // On load
      toggle($("[data-toggle-checkbox-section]"));
    },
    /**
     * Permet d'afficher un ou des lments cibles, et cacher d'autre(s) lment(s) cibles
     */
    dataShowHideSection: function() {
      $("[data-show-section],[data-hide-section]").on(
        "click.show-hide-section",
        function() {
          var show_elem_selector = $(this).data("show-section"),
            $elem_to_show = $(show_elem_selector),
            hide_elem_selector = $(this).data("hide-section"),
            $elem_to_hide = $(hide_elem_selector);

          $elem_to_hide.addClass("hidden");
          $elem_to_show.removeClass("hidden");
        }
      );
    },
    dataShowHideSectionSlider: function() {
      var targetEvent = "mouseenter.show-hide-section";
      if (
        DeviceSize.getDeviceState() == "mobile" ||
        $(window).width() <= 1024
      ) {
        targetEvent = "click.show-hide-section";
      }
      $("[data-show-section-slider],[data-hide-section-slider]").on(
        targetEvent,
        function(event) {
          event.preventDefault();
          event.stopPropagation();
          var show_elem_selector = $(this).data("show-section-slider"),
            $elem_to_show = $(show_elem_selector),
            hide_elem_selector = $(this).data("hide-section-slider"),
            $elem_to_hide = $(hide_elem_selector);

          $elem_to_hide.addClass("hidden");
          $elem_to_show.removeClass("hidden").trigger("isVisible");
        }
      );
    },
    dataShowHideOverSection: function() {
      $("[data-show-section-over],[data-hide-section-over]").on(
        "mouseenter.show-hide-section",
        function() {
          var show_elem_selector = $(this).data("show-section-over"),
            $elem_to_show = $(show_elem_selector),
            hide_elem_selector = $(this).data("hide-section-over"),
            $elem_to_hide = $(hide_elem_selector);

          $elem_to_hide.addClass("hidden");
          $elem_to_show.removeClass("hidden");
        }
      );
    },
    /**
     * Permet d'afficher un ou des lments cibles via slideOpen (ouverture progressive vers le bas)
     */
    dataSlideOpenSection: function() {
      $("[data-slide-section]").on("click.slide-section", function() {
        var show_elem_selector = $(this).data("slide-section"),
          $elem_to_show = $(show_elem_selector);

        $elem_to_show.slideOpen();
      });
    },
    /**
     * initShowHideRules : Met en place des couteurs sur les champs dont l'tat influe sur l'apparition / disparition d'autres champs
     * Cette fonction ne fonctionne que si un json _showHideRules dtaillant les rgles de gestion est dfini
     */
    initShowHideRules: function() {
      //le json _showHideRules a t-il t dfini ?
      if (typeof _showHideRules == "undefined") {
        return;
      }

      //Mise en place d'couteurs sur les lments le ncessitant pour les formulaires de la pages actuelle
      $("form").each(function() {
        var _currentName = $(this).attr("name");

        if (typeof _showHideRules[_currentName] != "undefined") {
          for (prop in _showHideRules[_currentName]) {
            var currentEl = $('[name="' + prop + '"]');
            if (currentEl.length == 0) {
              continue;
            }
            if (currentEl[0].tagName.toLowerCase() == "select") {
              currentEl.change(function() {
                ShowHideHelper.checkShowHideRules($(this));
              });
              //On lance le checkShowHideRules seul car les donnes peuvent tre pr-remplies
              ShowHideHelper.checkShowHideRules(currentEl);
            } else if (currentEl[0].tagName.toLowerCase() == "input") {
              if (currentEl.first().attr("type") == "radio") {
                currentEl.click(function() {
                  var elName = $(this).attr("name");
                  ShowHideHelper.checkShowHideRules(
                    $(this)
                      .parents("form")
                      .find('[name="' + elName + '"]:checked')
                  );
                });
                //On lance le checkShowHideRules seul car les donnes peuvent tre pr-remplies
                ShowHideHelper.checkShowHideRules(currentEl.filter(":checked"));
              }
            }
          }
        }
      });
    },
    /**
     * checkSwhoHideRules effectue l'apparition ou la disparition inhrente  l'lment pass suivant le json _showHideRules
     *   {jquery object} el [l'lment dont l'tat a t mis  jour]
     */
    checkShowHideRules: function(el) {
      if (el.length == 0 || el.val() == null) {
        return;
      }
      var currentType = el.val().toLowerCase();
      var currentFormName = el.parents("form").attr("name");
      var currentElName = el.attr("name");
      for (prop in _showHideRules[currentFormName][currentElName]) {
        if (prop == currentType) {
          var form = el.parents("form").first();
          //Quels lments sont  montrer ?
          if (
            typeof _showHideRules[currentFormName][currentElName][prop][
              "show"
            ] != "undefined"
          ) {
            var _ar =
              _showHideRules[currentFormName][currentElName][prop]["show"];
            for (var i = 0; i < _ar.length; i++) {
              // console.log();
              $('body [name="' + _ar[i] + '"]').removeClass("hidden");
            }
          }

          //Quels lments sont  cacher ?
          if (
            typeof _showHideRules[currentFormName][currentElName][prop][
              "hide"
            ] != "undefined"
          ) {
            var _ar2 =
              _showHideRules[currentFormName][currentElName][prop]["hide"];
            for (var j = 0; j < _ar2.length; j++) {
              $('body [name="' + _ar2[j] + '"]').addClass("hidden");
            }
          }
        }
      }
    },

    /**
     * Permet d'attribuer la classe "active" ou "inactive"  un lment au click
     */
    dataMakeActiveInactiveSection: function() {
      $("[data-make-active],[data-make-inactive]").on(
        "click.make-active-inactive-section",
        function() {
          var active_elem_selector = $(this).data("make-active"),
            $elem_to_make_active = $(active_elem_selector),
            inactive_elem_selector = $(this).data("make-inactive"),
            $elem_to_make_inactive = $(inactive_elem_selector);

          if (active_elem_selector != inactive_elem_selector) {
            $elem_to_make_inactive.removeClass("active");
            $elem_to_make_active.addClass("active");
          } else {
            if ($elem_to_make_active.hasClass("active")) {
              $elem_to_make_active.removeClass("active");
            } else {
              $elem_to_make_active.addClass("active");
            }
          }
        }
      );
    },
    /**
     * Permet de supprimer l'attribut disabled d'un lment au clic
     */
    dataMakeEnabled: function() {
      $("[data-make-enabled]").on("click.make-enabled-section", function() {
        var $me = $(this),
          enabled_elem_selector = $(this).data("make-enabled"),
          $elem_to_enable = $(enabled_elem_selector);

        if (
          $me.attr("type") == "checkbox" ||
          $("#" + $me.attr("for")).attr("type") == "checkbox"
        ) {
          var delay = setTimeout(function() {
            // console.log( "$(this).is(':checked') = "+$me.is(':checked') );
            // console.log( "$( '#'+$(this).attr('for') ).is(':checked') = "+$( '#'+$me.attr('for') ).is(':checked') );
            if ($me.is(":checked") || $("#" + $me.attr("for")).is(":checked")) {
              $elem_to_enable.prop("disabled", false);
            } else {
              $elem_to_enable.prop("disabled", "disabled");
            }
          }, 10);
        } else {
          $elem_to_enable.prop("disabled", false);
        }
      });
    },
    /**
     * Permet de supprimer l'attribut disabled d'un lment au clic si et seulement si un groupe de checkboxes sont toutes coches
     */
    dataGroupMakeEnabled: function() {
      $("[data-group-make-enabled]").on(
        "click.group-make-enabled-section",
        function() {
          var $me = $(this),
            $elsToWatch = $("[data-group-make-enabled]"),
            enabled_elem_selector = $(this).data("group-make-enabled"),
            $elem_to_enable = $(enabled_elem_selector);

          var delay = setTimeout(function() {
            var ok = 1;

            $elsToWatch.each(function() {
              if (
                $(this).attr("type") == "checkbox" ||
                $("#" + $(this).attr("for")).attr("type") == "checkbox"
              ) {
                if (
                  $(this).is(":checked") ||
                  $("#" + $(this).attr("for")).is(":checked")
                ) {
                } else {
                  ok = 0;
                  return;
                }
              }
            });

            if (ok == 1) {
              $elem_to_enable.prop("disabled", false);
            } else {
              $elem_to_enable.prop("disabled", "disabled");
            }
          }, 10);
        }
      );
    },
    /**
     * Permet d'envoyer une valeur correspondant au name de l'lment vers un input
     */
    dataSendValueToInput: function() {
      $("select[data-send-value]").on("change.send-value", function() {
        var $elementToSendTo = $($(this).data("send-value"));
        if ($elementToSendTo.get(0).tagName.toLowerCase() == "input") {
          $elementToSendTo.val($(this).val());
        } else {
          $elementToSendTo.html($(this).val());
        }

        FormHelper.storeDatasInSession($elementToSendTo);
      });
      $("[data-send-value]:not(select)").on("click.send-value", function() {
        var $elementToSendTo = $($(this).data("send-value"));
        if ($elementToSendTo.get(0).tagName.toLowerCase() == "input") {
          $elementToSendTo.val($(this).attr("name"));
        } else {
          $elementToSendTo.html($(this).attr("name"));
        }

        FormHelper.storeDatasInSession($elementToSendTo);
      });
    },
    /**
     * Permet de vider un formulaire
     */
    dataResetForm: function() {
      $("[data-reset-form]").on("click.reset-form", function() {
        var form_elem_selector = $(this).data("reset-form"),
          $form_to_reset = $(form_elem_selector);

        $form_to_reset[0].reset();
      });
    },
    identToggle: function() {
      var $ident_layer = $("#identLayer");
      $ident_layer.on("focus", "#client-nbr", function() {
        $ident_layer.find(".main-content").addClass("no-left-radius");
        $ident_layer.find(".col-aside").show();
      });
    },
    // Ajout au favori
    callbackMessage: function() {
      var $row = $("[data-show-message]");

      $row.find(".link").on("click.show-popup", function() {
        var selector = $row.data("show-message"),
          $popup = $(selector);
        $popup.removeClass("hidden");
      });
      $(".message-retour-popup")
        .find(".js-close-popup")
        .on("click", function() {
          $(this)
            .parents(".message-retour-popup")
            .addClass("hidden");
          return false;
        });
    },
    // Plus/moins
    togglePlusMoins: function(clickable_elements, one_only) {
      var KEY_CODES = this.KEY_CODES;
      $("body").on(
        "click.toggle-folder-btn keydown.toggle-folder-btn",
        clickable_elements,
        function(e) {
          if (
            typeof e.keyCode !== KEY_CODES.UNDEFINED &&
            e.keyCode !== KEY_CODES.ENTER &&
            e.keyCode !== KEY_CODES.SPACE
          ) {
            return;
          }
          var $li_parent = $(this).parents("li"),
            $detail_vir = $li_parent.find(".js-detail-toggle"),
            $indicateur = $li_parent.find(".folder-btn");

          if ($detail_vir.hasClass("hidden")) {
            $(this).attr("aria-expanded", "true");
            if (one_only) {
              $(".js-detail-toggle").addClass("hidden");
              $(".folder-btn").html('<i class="icon-carret-down"></i>');
            }
            $(clickable_elements)
              .parents("li")
              .removeClass("hidden");
            $detail_vir.removeClass("hidden");
            $indicateur.html('<i class="icon-carret-up"></i>');
            $li_parent.addClass("open");
          } else {
            $(this).attr("aria-expanded", "false");
            $detail_vir.addClass("hidden");
            $indicateur.html('<i class="icon-carret-down"></i>');
            $li_parent.removeClass("open");
          }
          $(".nano").nanoScroller();
        }
      );
    },
    // Fixe barre de recherche
    fixBarreRecherche: function() {},
    // Fixe onglet
    fixOngletTop: function() {
      // Ajout de la class .lien-gellule
      if (
        DeviceSize.getDeviceState() == "mobile" &&
        !$(".onglet")
          .eq(0)
          .hasClass("ancres")
      ) {
        $(".onglet")
          .eq(0)
          .addClass("lien-gellule");
      }
    },
    disableNanoClick: function() {
      $("body").on("click", ".nano-pane", function() {
        return false;
      });
    },
    dataShowHideViewer: function() {
      if ($("[data-show-viewer]").length == 0) {
        return;
      }
      $("[data-show-viewer]").on("click.show-hide-section", function() {
        var show_elem_selector = $(this).data("show-viewer"),
          $elem_to_show = $(show_elem_selector);

        $elem_to_show.removeClass("hidden");
        $(".full-cache").removeClass("hidden");
        $(window).scrollTop(0);
      });
    },
    autoNanoScroller: function() {
      try {
        $(".nano-auto").nanoScroller();
      } catch (e) {}
    },
  };
  //===========================================
  GlobalSite.exportGlobally({
    ShowHideHelper: ShowHideHelper,
  });
  //===========================================
})();

(function checkStatusJs() {
  //===========================================
  window.GlobalSite = window.GlobalSite || {};
  //===========================================

  GlobalSite.checkDependencies("GlobalSite.exportGlobally");
  //------------------------------------------------
  var checkStatusSubscribers = [];

  /**
   *
   * @param fn
   */
  function subscribeToCheckStatus(fn) {
    checkStatusSubscribers.push(fn);
  }

  /**
   *
   * @param param
   */
  function checkStatus(param) {
    checkStatusSubscribers.forEach(function(fn) {
      fn(param);
    });
  }
  //===========================================
  GlobalSite.exportGlobally({
    subscribeToCheckStatus: subscribeToCheckStatus,
    checkStatus: checkStatus,
    checkStatusSubscribers: checkStatusSubscribers
  });
  //===========================================
})();

(function FormHelperJs() {
  //===========================================
  window.GlobalSite = window.GlobalSite || {};
  //===========================================

  GlobalSite.checkDependencies("GlobalSite.exportGlobally");
  //------------------------------------------------
  var FormHelper = {
    currentSessionStorage: new Object(),

    showResetButton: function($current_element) {
      if ($current_element.siblings(".reset-input").length == 0) {
        $('<span class="reset-input" />').insertAfter($current_element);
      } else {
        $current_element.siblings(".reset-input").removeClass("hidden");
      }
    },
    hideResetButton: function($current_element) {
      $current_element.siblings(".reset-input").addClass("hidden");
    },
    resetInput: function($elem) {
      $elem.on("click.form-reset-field", ".reset-input", function() {
        $(this)
          .addClass("hidden")
          .siblings(".form-control")
          .val("")
          .focus();
      });
    },
    textareaCompteur: function() {
      // Pour IE, on enlve ce qui dpasse car maxlength n'est pas support sur les textareas dans IE
      $("textarea[maxlength]").on("keyup blur", function() {
        // Store the maxlength and value of the field.
        var maxlength = $(this).attr("maxlength");
        var val = $(this).val();

        // Trim the field if it has content over the maxlength.
        if (val.length > maxlength) {
          $(this).val(val.slice(0, maxlength));
        }
      });

      function autoGrow(oField) {
        if (oField.tagName == "TEXTAREA") {
          if (oField.scrollHeight > oField.clientHeight) {
            oField.style.height = oField.scrollHeight + "px";
          }
        }
      }

      var $field = $(".js-caractere-restant")
        .parents("form")
        .find("textarea,.js-input-compteur");
      $field.each(function(index, elem) {
        autoGrow($(this)[0]);
        var max_char = $(this).attr("maxlength"),
          $current_field = $(this);

        // Si on n'a pas de compteur on reste
        if (
          $current_field.parents("form").find(".js-caractere-restant").length ==
          0
        ) {
          return;
        }
        $current_field.on("keyup", function() {
          autoGrow($(this)[0]);
          setTimeout(function() {
            var str = _get("next.formhelper.charact1", "caractres restants"),
              current_text = $current_field.val(),
              remaining = max_char - current_text.length;

            if (remaining <= 1) {
              str = _get("next.formhelper.charact2", "caractre restant");
            }
            $current_field
              .parents("form")
              .find(".js-caractere-restant")
              .html("<span>" + remaining + "</span> " + str);
          }, 10);
        });
      });
    },
    resetButton: function() {
      if ($("form").length == 0) {
        return;
      }
      $('button[type="reset"]').click(function() {
        $(this)
          .parents("form")
          .find(".valid")
          .each(function() {
            $(this)
              .removeClass("valid")
              .parent()
              .removeClass("fixFFSelect");
          });
      });
    },
    autofill: function() {
      //L'autofill n'a lieu que si le name du form existe dans le fichier de config rsc\contrib\script\client\simulation-credit.js
      $("form").each(function() {
        currentForm = $(this);
        formName = $(this).attr("name");

        ElToBeClicked = new Array();

        if (typeof _fieldsToStoreInSession == "undefined") {
          return;
        }

        if (typeof _fieldsToStoreInSession[formName] != "undefined") {
          //On essaie de remplir les lments du formulaire  partir des donnes en sessionStorage
          if (sessionStorage.getItem(formName) != null) {
            formDatas = JSON.parse(
              sessionStorage.getItem(currentForm.attr("name"))
            );

            currentForm.find("input").each(function() {
              if ($(this).attr("type") == "text" && $(this).val() != "") {
                return;
              } //Au cas o un champs serait pr-rempli en dur

              if ($(this).attr("type") == "checkbox") {
                if (formDatas[$(this).attr("name")]) {
                  $(this).prop("checked", "checked");
                } else {
                  $(this).removeAttr("checked");
                }
              } else if (
                $(this).attr("type") == "hidden" ||
                $(this).hasClass("typeHidden")
              ) {
                //Ce cas est utilis notamment dans le cadre des "data-send-value"
                if (formDatas[$(this).attr("name")]) {
                  $(this).val(formDatas[$(this).attr("name")]);

                  var currentValue = formDatas[$(this).attr("name")];
                  //Cas des data-send-value :
                  //Pour que l'lment qui envoie la valeur  l'input (data-send-value) ait sa classe "active" ou autre selon les pages
                  //Il faut qu'il soit click.
                  //Or si on clique maintenant, on enregistrera une donne en sessionStorage alors qu'on n'a pas fini l'autofill
                  //et donc on perdra des donnes.
                  //
                  //=> On va plutt stocker l'lment dans l'array (ElToBeClicked) qui liste les lments qui doivent recevoir un clic en fin d'autofill
                  //
                  ElToBeClicked.push(
                    $(
                      '[name="' +
                        currentForm.attr("name") +
                        '"] [name="' +
                        formDatas[$(this).attr("name")] +
                        '"]'
                    )
                  );

                  //Cas des custom dropDown :
                  //On simule un clic sur le li adquat dans le dropdown
                  var _liToBeClicked;
                  $(this)
                    .parents(".dropdown-container")
                    .find(".hidden-value")
                    .each(function() {
                      if ($.trim($(this).html()) == currentValue) {
                        ElToBeClicked.push(
                          $(this)
                            .parents("li")
                            .first()
                        );
                      }
                    });
                }
              } else if ($(this).attr("type") == "radio") {
                if (formDatas[$(this).attr("name")]) {
                  $(this).prop("checked", false);
                  if ($(this).val() == formDatas[$(this).attr("name")]) {
                    $(this).prop("checked", true);
                    var label = $('label[for="' + $(this).attr("id") + '"]');
                    if (
                      label.is("[data-toggle-section]") ||
                      label.is("[data-toggle-radio-section]") ||
                      label.is("[data-show-section]") ||
                      label.is("[data-hide-section]") ||
                      label.is("[data-make-active]") ||
                      label.is("[data-make-inactive]") ||
                      label.is("[data-send-value]")
                    ) {
                      if (label.length > 0) {
                        label.click();
                      }
                    }
                  }
                }
              } else {
                $(this).val(formDatas[$(this).attr("name")]);
                FormHelper.removeGroupValidation($(this), true);
              }

              if (formDatas[$(this).attr("name")]) {
                FormHelper.currentSessionStorage[$(this).attr("name")] =
                  formDatas[$(this).attr("name")];
              }
            });

            currentForm.find("textarea").each(function() {
              if (formDatas[$(this).attr("name")]) {
                $(this).text(formDatas[$(this).attr("name")]);
              }
            });

            currentForm.find("select").each(function() {
              if (formDatas[$(this).attr("name")]) {
                $(this)
                  .find("option")
                  .each(function() {
                    $(this).removeAttr("selected");
                  });

                $(this)
                  .find('[value="' + formDatas[$(this).attr("name")] + '"]')
                  .prop("selected", true);
                FormHelper.currentSessionStorage[$(this).attr("name")] =
                  formDatas[$(this).attr("name")];
              }
            });

            //L'autofill est termin, on peut clicker sur les lments qui doivent l'tre
            for (var i = 0; i < ElToBeClicked.length; i++) {
              ElToBeClicked[i].click();
            }
          }
        }
      });
    },
    /*
     * Fonction qui effectue des calculs entre plusieurs champs du formulaire
     * Les champs impliqus sont dfinis dans rsc\contrib\script\client\simulation-credit.js
     *  nbrOfDigits   Le nombre de chiffres aprs la virgule
     */
    makeCalculations: function(nbrOfDigits) {
      if (typeof nbrOfDigits == "undefined") {
        nbrOfDigits = 0;
      }
      if (typeof _calculationGroups != "undefined") {
        for (p in _calculationGroups) {
          if (_calculationGroups.hasOwnProperty(p)) {
            _calculationGroups[p].valToDisplay = 0;
            currentName = _calculationGroups[p].name;
            currentGroup = $('[name="' + currentName + '"]');
            var elToInclude = _calculationGroups[p].addItems.concat(
              _calculationGroups[p].subItems
            );
            if (currentGroup.length > 0) {
              for (var i = 0; i < elToInclude.length; i++) {
                currentGroup
                  .find('[name="' + elToInclude[i] + '"]')
                  .attr("group-num", p)
                  .change(function() {
                    groupNum = $(this).attr("group-num");

                    currentGroup = $(
                      '[name="' + _calculationGroups[groupNum].name + '"]'
                    );

                    _calculationGroups[groupNum].valToDisplay = 0;
                    for (
                      var l = 0;
                      l < _calculationGroups[groupNum].addItems.length;
                      l++
                    ) {
                      _calculationGroups[groupNum].valToDisplay =
                        Number(_calculationGroups[groupNum].valToDisplay) +
                        Number(
                          $.trim(
                            Number(
                              replaceComa(
                                currentGroup
                                  .find(
                                    'input[name="' +
                                      _calculationGroups[groupNum].addItems[l] +
                                      '"]'
                                  )
                                  .val()
                              )
                            )
                          )
                        );
                    }

                    for (
                      var m = 0;
                      m < _calculationGroups[groupNum].subItems.length;
                      m++
                    ) {
                      _calculationGroups[groupNum].valToDisplay =
                        Number(_calculationGroups[groupNum].valToDisplay) -
                        Number(
                          $.trim(
                            Number(
                              replaceComa(
                                currentGroup
                                  .find(
                                    'input[name="' +
                                      _calculationGroups[groupNum].subItems[m] +
                                      '"]'
                                  )
                                  .val()
                              )
                            )
                          )
                        );
                    }

                    if (_calculationGroups[groupNum].valToDisplay < 0) {
                      _calculationGroups[groupNum].valToDisplay = 0;
                    }

                    if (!isNaN(_calculationGroups[groupNum].valToDisplay)) {
                      for (
                        var j = 0;
                        j < _calculationGroups[groupNum].result.length;
                        j++
                      ) {
                        currentGroup
                          .find(
                            '[name="' +
                              _calculationGroups[groupNum].result[j] +
                              '"]'
                          )
                          .html(
                            addThousandsSep(
                              formatNumber(
                                _calculationGroups[groupNum].valToDisplay,
                                nbrOfDigits
                              )
                            )
                          );
                      }
                    }
                  });
              }

              //Pour que le rsultat de l'addition soit dj visible aprs pr-remplissage ventuel
              //On effectue le calcul une premire fois sans change
              for (var n = 0; n < _calculationGroups[p].addItems.length; n++) {
                _calculationGroups[p].valToDisplay =
                  Number(_calculationGroups[p].valToDisplay) +
                  Number(
                    $.trim(
                      Number(
                        replaceComa(
                          currentGroup
                            .find(
                              'input[name="' +
                                _calculationGroups[p].addItems[n] +
                                '"]'
                            )
                            .val()
                        )
                      )
                    )
                  );
              }

              for (var o = 0; o < _calculationGroups[p].subItems.length; o++) {
                _calculationGroups[p].valToDisplay =
                  Number(_calculationGroups[p].valToDisplay) -
                  Number(
                    $.trim(
                      Number(
                        replaceComa(
                          currentGroup
                            .find(
                              'input[name="' +
                                _calculationGroups[p].subItems[o] +
                                '"]'
                            )
                            .val()
                        )
                      )
                    )
                  );
              }

              if (_calculationGroups[p].valToDisplay < 0) {
                _calculationGroups[p].valToDisplay = 0;
              }

              if (!isNaN(_calculationGroups[p].valToDisplay)) {
                for (var k = 0; k < _calculationGroups[p].result.length; k++) {
                  currentGroup
                    .find('[name="' + _calculationGroups[p].result[k] + '"]')
                    .html(
                      addThousandsSep(
                        formatNumber(
                          _calculationGroups[p].valToDisplay,
                          nbrOfDigits
                        )
                      )
                    );
                }
              }
            }
          }
        }
      }
    },
    cancelCalculations: function() {
      if (typeof _calculationGroups != "undefined") {
        for (p in _calculationGroups) {
          if (_calculationGroups.hasOwnProperty(p)) {
            _calculationGroups[p].valToDisplay = 0;
            currentName = _calculationGroups[p].name;

            currentGroup = $('[name="' + currentName + '"]');
            if (currentGroup.length > 0) {
              for (var i = 0; i < _calculationGroups[p].addItems.length; i++) {
                currentGroup
                  .find('[name="' + _calculationGroups[p].addItems[i] + '"]')
                  .attr("group-num", p)
                  .unbind();
              }
            }
          }
        }
      }
    },
    formValidation: function() {
      if (typeof $.validator == "undefined") {
        trace("validator undefined");
        return;
      }
      jQuery.extend(jQuery.validator.messages, {
        required: "Veuillez renseigner ce champ.",
        remote: "Veuillez remplir ce champ pour continuer.",
        email: "Veuillez entrer une adresse email valide.",
        url: "Veuillez entrer une URL valide.",
        date: "Veuillez entrer une date valide.",
        dateISO: "Veuillez entrer une date valide (ISO).",
        number: "Veuillez entrer un nombre valide.",
        digits: "Veuillez entrer une valeur num&eacute;rique.",
        creditcard: "Veuillez entrer un numro de carte de crdit valide.",
        equalTo: "Veuillez entrer une nouvelle fois la mme valeur.",
        accept: "Veuillez entrer une valeur avec une extension valide.",
        maxlength: jQuery.validator.format(
          "Veuillez ne pas entrer plus de {0} caractres."
        ),
        minlength: jQuery.validator.format(
          "Veuillez entrer au moins {0} caractres."
        ),
        rangelength: jQuery.validator.format(
          "Veuillez entrer entre {0} et {1} caractres."
        ),
        range: jQuery.validator.format(
          "Veuillez entrer une valeur entre {0} et {1}."
        ),
        max: jQuery.validator.format(
          "Veuillez entrer une valeur infrieure ou gale  {0}."
        ),
        min: jQuery.validator.format(
          "Veuillez entrer une valeur suprieure ou gale  {0}."
        ),
        portable: "Veuillez renseigner un numro de tlphone mobile",
        "portable-msg":
          "Veuillez renseigner votre numro de tlphone  10 chiffres commenant par 06 ou 07",
        telephone: "Veuillez renseigner un numro de tlphone valide",
        "tel-fixe": "Veuillez renseigner un numro de tlphone valide",
        "tel-fixe-msg":
          "Veuillez entrer un numro fixe valide  10 chiffres qui ne commence pas par 06 ou 07",
        postal: "Veuillez entrer un code postal valide",
        "complexe-password":
          "Le format du mot de passe doit tre de 6  25 caractres et ne peut pas avoir plus de 3 caractres identiques conscutifs",
        notequal: "Cette date a dj t slectionne. Merci de la modifier.",
        alphanum:
          "Seuls les caractres alphanumriques sont autoriss (lettres, chiffres, aucun accent ni caractre de ponctuation)",
        pourcentage: "La valeur entre ne peut dpasser 100%",
        entier: "Veuillez entrer un nombre sans virgule et suprieur  0",
        positive: "Veuillez entrer une valeur suprieure  zro",
        "js-percent-des-input":
          "Le total de rpartition de votre investissement ne peut pas dpasser 100 %",
        "multiple-500": "Veuillez entrer un multiple de 500",
        "js-date-obseque": "Veuillez renseigner une date de naissance valide",
        "annees-assur":
          "Vous ne pouvez pas souscrire dans le cadre de la loi Consommation si cela ne concerne pas un logement actuel dj assur depuis au moins 1 an et dont lchance principale a dj t renouvele 1 fois",
        bnpphamon:
          "Si vous tes dj client BNP Paribas / Hello bank!, vous ne pouvez pas souscrire dans le cadre de la loi Consommation qui ncessite un changement dassureur",
        nonehamon:
          "Dans le cadre de la loi Consommation (Loi Hamon), le nom exact de votre compagnie est ncessaire",
        oneCheckbox: "Veuillez choisir au moins une option"
      });

      if ($(".validate-form").length == 0) {
        return;
      }

      var form = $(".validate-form"),
        $field_montant = $(".js-montant-field");

      $field_montant.on("keypress", function(e) {
        var charCode = e.which ? e.which : e.keyCode;
        if (
          charCode > 31 &&
          charCode != 44 &&
          charCode != 46 &&
          (charCode < 48 || charCode > 57)
        ) {
          return false;
        }
        return true;
      });
      $field_montant.on("paste", function() {
        var $elem = $(this);
        // Settimeout pour rcuprer la valeur du champ aprs avoir coll le texte
        setTimeout(function() {
          var regex = /^(\d|\.|\,)+?$/;
          if (!regex.test($elem.val())) {
            $elem.val("");
          }
        }, 10);
      });
      $.validator.addMethod("multiple-500", function(value, element) {
        if (value % 500 == 0) {
          return true;
        } else {
          return false;
        }
      });

      $.validator.addMethod("annees-assur", function(value, element) {
        if (value == "0") {
          return false;
        } else {
          return true;
        }
      });

      $.validator.addMethod("bnpphamon", function(value, element) {
        if (
          $("[name=motif-resiliation]").val() == "4" &&
          $("[name=assureur-actuel]").val() == "7"
        ) {
          return false;
        } else {
          return true;
        }
      });
      $.validator.addMethod("nonehamon", function(value, element) {
        if (
          $("[name=motif-resiliation]").val() == "4" &&
          $("[name=assureur-actuel]").val() == ""
        ) {
          return false;
        } else {
          return true;
        }
      });

      $("[name=assureur-actuel]").on("change", function() {
        $("[name=motif-resiliation]").change();
      });

      $.validator.addMethod("js-percent-des-input", function(value, element) {
        if (value == 0) {
          return true;
        }

        // Validation des champs pourcentage
        var totalPourc = 0,
          pourcInputs = $(element)
            .parents(".percent-group-validation")
            .find(".js-percent-des-input");

        pourcInputs.each(function() {
          totalPourc = Number(totalPourc) + Number($(this).val());
        });

        if (totalPourc > 100) {
          return false;
        } else {
          return true;
        }
      });

      $.validator.addMethod("positive", function(value, element) {
        if (isNaN(value)) {
          return true;
        }
        return this.optional(element) || value > 0;
      });

      $.validator.addMethod("number", function(value, element) {
        var value = replaceDot(value);
        $(element).val(value);
        return this.optional(element) || /^\d+,?\d*$/.test(value);
      });

      // Add custom validation
      $.validator.addMethod("portable", function(value, element) {
        var pattern = /^0(6|7)[0-9]{8}$/gi;
        return this.optional(element) || pattern.test(value);
      });
      $.validator.addMethod("portable-msg", function(value, element) {
        var pattern = /^0(6|7)[0-9]{8}$/gi;
        return this.optional(element) || pattern.test(value);
      });

      // Add custom validation
      $.validator.addMethod("oneCheckbox", function(value, element) {
        var siblings = $(
          "input[data-name=" + $(element).attr("data-name") + "]"
        );
        var length = 0;
        siblings.each(function() {
          if ($(this)[0].checked) length++;
        });

        console.log(length);

        if (length > 0) return true;
        else return false;
      });

      // Add custom validation
      $.validator.addMethod("telephone", function(value, element) {
        var pattern = /^0[1-9][0-9]{8}$/gi;
        return this.optional(element) || pattern.test(value);
      });

      $.validator.addMethod("entier", function(value, element) {
        return this.optional(element) || value.indexOf(",") == -1;
      });

      $.validator.addMethod("pourcentage", function(value, element) {
        value = value.replace(",", ".");

        var pattern = /^\d+$/;
        if (!pattern.test(value)) {
          return true;
        }

        return this.optional(element) || value <= 100;
      });

      // Add custom validation
      $.validator.addMethod("tel-fixe", function(value, element) {
        var pattern = /^0(1|2|3|4|5|9)[0-9]{8}$/gi;
        return this.optional(element) || pattern.test(value);
      });

      // Add custom validation
      $.validator.addMethod("tel-fixe-msg", function(value, element) {
        var pattern = /^0(1|2|3|4|5|9)[0-9]{8}$/gi;
        return this.optional(element) || pattern.test(value);
      });

      // Add custom validation
      $.validator.addMethod("postal", function(value, element) {
        var pattern = /^[0-9]{5}$/gi;
        return this.optional(element) || pattern.test(value);
      });

      $.validator.addMethod("date", function(value, element) {
        var re = /^\d{1,2}\/\d{1,2}\/\d{4}$/;
        var check = false;

        if (value == "") {
          return true;
        }
        // console.log(re.test(value));
        if (re.test(value)) {
          var split = value.split("/"),
            dd = parseInt(split[0], 10),
            mm = parseInt(split[1], 10),
            yyyy = parseInt(split[2], 10),
            date = new Date(yyyy, mm - 1, dd);

          if (
            date.getFullYear() == yyyy &&
            date.getMonth() == mm - 1 &&
            date.getDate() == dd
          ) {
            check = true;
          } else {
            return false;
          }
        }

        //la date affiche est elle conforme (elle a peut-tre t entre par l'utilisateur)
        if ($(element).hasClass("js-mindate-today")) {
          //La date ne peut pas tre dans le pass
          var today = new Date();
          var startOfToday = new Date(
            today.getFullYear(),
            today.getMonth(),
            today.getDate()
          );
          return date.getTime() > startOfToday.getTime() - 1;
        } else if ($(element).hasClass("js-maxdate-today")) {
          //La date ne peut pas tre dans le futur
          var today = new Date();
          var demain = new Date(
            today.getFullYear(),
            today.getMonth(),
            today.getDate() + 1
          );

          return demain.getTime() > date.getTime();
        } else if ($(element).hasClass("js-maxdate-60")) {
          var today = new Date();
          var dans60jours = new Date(today.getTime() + 60 * 24 * 3600 * 1000);

          return date.getTime() < dans60jours.getTime();
        }

        return check;
      });
      $.validator.addMethod("complexe-password", function(value, element) {
        var pattern = /^(?!(.)\1\1\1).{6,26}$/;
        return this.optional(element) || pattern.test(value);
      });

      $.validator.addMethod("notequal", function(value, element) {
        if (
          typeof $(element).attr("data-notequal") == "undefined" ||
          $(element).attr("data-notequal") == false
        ) {
          return this.optional(element) || true;
        }

        var cpt = 0;
        $('[data-notequal="' + $(element).attr("data-notequal") + '"]').each(
          function() {
            if ($(this).val() == value) {
              cpt++;
            }
          }
        );

        return this.optional(element) || cpt <= 1;
      });

      $.validator.addMethod("alphanum", function(value, element) {
        var pattern = /^[a-z0-9]+$/i;

        return this.optional(element) || pattern.test(value);
      });

      $(".validate-form").each(function() {
        $(this).validate(FormHelper.form_validator_config);
        FormHelper.resetInput($(this));
      });
      $(".validate-form select").on("change", function() {
        $(this).valid();

        //Correction bug paisseur trait vert sur listes droulantes sous Firefox
        if (navigator.userAgent.indexOf("Firefox") != -1) {
          $("form select")
            .parent()
            .removeClass("fixFFSelect");
          $("form select.valid, form select.error")
            .parent()
            .addClass("fixFFSelect");
        }
      });

      $("[data-validation-error-msg]").each(function(index) {
        var error_msg = $(this).data("validation-error-msg");
        $(this).rules("add", {
          messages: {
            required: error_msg,
            digits: error_msg
          }
        });
      });

      (function() {
        var $form_custom_dropdown = $("[id^=select-compte-debiter]");
        if ($form_custom_dropdown.length == 0) {
          return;
        }

        $form_custom_dropdown.on("select-custom-dropdown", function() {
          $(this)
            .removeClass("error")
            .addClass("valid")
            .next(".error")
            .remove();
        });

        $(".validate-form").on("submit", function(e) {
          var error = false;
          $form_custom_dropdown.each(function() {
            if (!$(this).hasClass("valid") && $(this).is(":visible")) {
              $(this).addClass("error");
              $(this)
                .after('<em class="error">Veuillez slectioner un compte.</em>')
                .show();

              error = true;

              return false;
            }
          });
          if (error) {
            return false;
          }
        });
      })();
    },

    form_validator_config: {
      errorElement: "em",
      errorPlacement: function(error, element) {
        if ($(element).hasClass("iban")) {
          return;
        } // Pas de message d'erreur pour iban

        //L'ide ici est de dclancher un vnement sur l'lment
        // qui est valid pour indiquer qu'il n'est pas valide,
        // et en mme temps passer en paramtre le nom de l'erreur
        // (Exemple d'utilisation dans dynacaap titre1)
        if ($(element).hasClass("custom-msg")) {
          var errorName = "";
          for (prop in jQuery.validator.messages) {
            if (jQuery.validator.messages[prop] == error[0].textContent) {
              errorName = prop;
            }
          }

          element.trigger("not-valid", [errorName, error]);
          return;
        }

        if (
          element.get(0).tagName.toLowerCase() == "input" &&
          $(element)
            .attr("type")
            .toLowerCase() == "checkbox"
        ) {
          if ($(element).parents(".js-carrousel-cards-built").length > 0) {
            //Input faisant partie du carrousel
            var _carrousel = $(element).parents(".js-carrousel-cards-built");
            if (_carrousel.find('input[type="checkbox"]:checked').length == 0) {
              _carrousel.after(
                '<em class="error">Veuillez slectionner au moins une carte</em>'
              );
              return;
            }
            return;
          }

          var checkboxInputs = $(
            'input[type="checkbox"][name="' + $(element).attr("name") + '"]'
          );

          if (checkboxInputs.length > 1) {
            if (checkboxInputs.first().data("validation-error-msg")) {
              var code =
                '<em class="error">' +
                checkboxInputs.first().data("validation-error-msg") +
                "</em>";
            } else {
              var code =
                '<em class="error">Veuillez slectionner au moins une proposition</em>';
            }
            var checkboxParents = checkboxInputs.first().parents();
            for (var i = 0; i < checkboxInputs.length; i++) {
              checkboxParents = checkboxParents.has(checkboxInputs[i]);
            }
            checkboxParents.first().after(code);
            return;
          }
        }

        if (
          element.get(0).tagName.toLowerCase() == "input" &&
          $(element)
            .attr("type")
            .toLowerCase() == "radio"
        ) {
          if ($(element).parents(".js-carrousel-cards-built").length > 0) {
            //Radio faisant partie d'un carrousel => toile favoris  ne pas valider
            return;
          }

          var radioInputs = $(
            'input[type="radio"][name="' + $(element).attr("name") + '"]'
          );
          var radioParents = radioInputs.first().parents();
          for (var i = 0; i < radioInputs.length; i++) {
            radioParents = radioParents.has(radioInputs[i]);
          }

          var code =
            '<em class="error">Veuillez slectionner une proposition</em>';
          if (radioInputs.filter("[data-validation-error-msg]").length > 0) {
            code =
              '<em class="error">' +
              radioInputs
                .filter("[data-validation-error-msg]")
                .first()
                .data("validation-error-msg") +
              "</em>";
          }
          if (radioParents.get(0).tagName.toLowerCase() == "tbody") {
            radioParents.parents("table").after(code);
            return;
          }
          radioParents.first().after(code);
          return;
        }
        if ($(element).next("button").length > 0) {
          $(element)
            .parent()
            .after(error);
          return;
        }
        if ($(element).parent(".inline-label").length > 0) {
          error.insertAfter($(element).parent(".inline-label"));
          return;
        }

        if ($(element).parent(".checkbox2").length > 0) {
          error.insertAfter($(element).parent(".checkbox2"));
          return;
        }

        // Error placement resizeBarre
        if ($(element).hasClass("range-barre")) {
          error.insertAfter($(element).closest(".curseur-2"));
          return;
        }
        // Error placement oneCheckbox
        if ($(element).hasClass("oneCheckbox")) {
          var container = $(element).closest(".oneCheckbox-wrapper");
          var customError = $(element).attr("data-validation-error-msg")
            ? $(element).attr("data-validation-error-msg")
            : false;
          if (customError) error.text(customError);
          if (container.find("em.error").length < 1) container.append(error);
          return;
        }

        if ($(element).hasClass("flag-autocomplete")) {
          $(element)
            .parent(".eac-flags")
            .append(error);
          return;
        }

        error.insertAfter(element);

        //Correction bug paisseur trait vert sur listes droulantes sous Firefox
        if (navigator.userAgent.indexOf("Firefox") != -1) {
          $("form select")
            .parent()
            .removeClass("fixFFSelect");
          $("form select.valid, form select.error")
            .parent()
            .addClass("fixFFSelect");
        }
      },

      ignore:
        ":hidden:not(.validate-item), .js-init-datepicker:not([required])",

      onfocusout: function(element, event) {
        var $current_element = $(element);
        if ($current_element.hasClass("js-disable-auto-validation")) {
          return;
        }
        if (
          $current_element.val().trim() == "" &&
          !$current_element.prop("required")
        ) {
          return;
        }
        // On ne valide pas les champs datepicker car au blur le champ va tre en erreur,
        // on le valide au onclose du datepicker
        if ($current_element.hasClass("hasDatepicker")) {
          return;
        }

        // Valid current field on focus
        if ($current_element.valid()) {
          $current_element.trigger("is-valid");
          FormHelper.storeDatasInSession($current_element);
          FormHelper.hideResetButton($current_element);
          if (
            typeof $current_element.attr("data-group-validation") !=
              "undefined" &&
            $current_element.val() != ""
          ) {
            FormHelper.checkGroupValidation($current_element, false);
          }
        } else {
          // $current_element.trigger('not-valid');
          if (
            typeof $current_element.attr("data-group-validation") != "undefined"
          ) {
            FormHelper.checkGroupValidation($current_element, true);
          }

          // Affiche le bouton reset seulement si le champ est rempli
          if ($current_element.val() != "") {
            FormHelper.showResetButton($current_element);
          } else {
            FormHelper.hideResetButton($current_element);
          }
        }
      },
      onclick: function(element, event) {
        //Only used for checkboxes and radio
        var $current_element = $(element);
        if ($current_element.hasClass("js-disable-auto-validation")) {
          return;
        }
        FormHelper.storeDatasInSession($current_element);
      },
      onkeyup: function(element, event) {
        var $current_element = $(element);

        if ($current_element.hasClass("js-disable-auto-validation")) {
          return;
        }
        if ($current_element.hasClass("error")) {
          // Valide le champ seulement si il est en erreur
          if ($current_element.valid()) {
            $current_element.trigger("is-valid");
            FormHelper.hideResetButton($current_element);
          }
        }
      },
      invalidHandler: function(event, validator) {
        var errors = validator.numberOfInvalids();
        if (errors) {
          $(".form-error-messages").removeClass("hidden");
        } else {
          $(".form-error-messages").addClass("hidden");
        }
      },
      submitHandler: function(form) {
        if (
          $(form)
            .find(".percent-group-validation")
            .hasClass("error")
        ) {
          $(form)
            .find(".percent-group-validation")
            .find(".valid")
            .removeClass("valid");
          return false;
        }

        if (
          $("#total-montant-erreur").length > 0 &&
          !$("#total-montant-erreur").hasClass("hidden")
        ) {
          return false;
        }
        if ($(form).hasClass("custom-submit")) {
          $(form).trigger("submitting");
          return false;
        }
        form.submit();
      },
      rules: {
        duree_financement: {
          min: 2,
          max: 30
        }
      },
      messages: {
        duree_financement: {
          min:
            "La valeur de la dure de financement doit tre comprise entre 2 et 30"
        },
        codeSMS: {
          required: "Veuillez saisir le code reu par SMS"
        }
      }
    },
    checkGroupValidation: function(el, removeEl) {
      var _group = el.attr("data-group-validation");
      $('[data-group-validation="' + _group + '"]').each(function() {
        if (removeEl == false) {
          $(this).attr("required", false);
        } else {
          $(this).attr("required", true);
        }
      });
      if (removeEl == false) {
        el.attr("required", true);
      }
    },
    removeGroupValidation: function(el) {
      var _group = el.attr("data-group-validation");
      $('[data-group-validation="' + _group + '"]').each(function() {
        $(this).attr("required", false);
      });
    },
    storeDatasInSession: function(el) {
      //On enregistre les donnes de l'lment seulement s'il apparat dans le fichier de config rsc\contrib\script\client
      if (typeof _fieldsToStoreInSession == "undefined") {
        return;
      }
      formName = el
        .parents("form")
        .first()
        .attr("name");
      elName = el.attr("name");
      var v = $.inArray(elName, _fieldsToStoreInSession[formName]);
      if (v != -1) {
        FormHelper.currentSessionStorage[elName] = el.val();
        sessionStorage.setItem(
          formName,
          JSON.stringify(FormHelper.currentSessionStorage)
        );
      }
    },
    emptyDatasInSession: function() {
      sessionStorage.clear();
    },
    placeholderPolyfill: function() {
      $("[placeholder]")
        .focus(function() {
          var input = $(this);
          if (input.val() == input.attr("placeholder")) {
            input.val("");
            input.removeClass("placeholder");
          }
        })
        .blur(function() {
          _blur($(this));
        });
      function _blur(input) {
        if (input.val() == "" || input.val() == input.attr("placeholder")) {
          input.addClass("placeholder");
          input.val(input.attr("placeholder"));
        }
      }

      $("[placeholder]").each(function() {
        _blur($(this));
      });
    }
  };

  //===========================================
  GlobalSite.exportGlobally({
    FormHelper: FormHelper
  });
  //===========================================
})();

(function CustomDropdownJs() {
  //===========================================
  window.GlobalSite = window.GlobalSite || {};
  //===========================================
  var exportGlobally = GlobalSite.checkDependency("GlobalSite.exportGlobally");

  GlobalSite.checkDependency("$");

  var CustomDropdown = {
    init: function(valueSelectorFunc, contextSelector) {
      var _contextSelector = contextSelector ? contextSelector : "body";

      if ($(".dropdown-list-select", _contextSelector).length == 0) {
        return;
      }
      // Dfinition des classes
      var hidden_value_class = ".hidden-value",
        dropdown_container_class = ".dropdown-container",
        dropdown_selected_class = ".dropdown-selected",
        input_value_class = ".input-value",
        $dropdown = $(".dropdown", _contextSelector);

      // Selection d'un item de la liste
      function clickHandlerItemList(event) {
        if ($(this).is(".titleDisabled")) {
          return event.stopPropagation();
        }

        if (
          $(this).closest(".dropdown-enabled").length > 0 ||
          $(this).parents(".recherche-qualifie-container").length > 0 ||
          $("html").hasClass("maquette") ||
          $(this).parents(".auto-diagnostic-main-container").length > 0 ||
          $("body").find(".save-invest.conseil-enveloppe").length > 0
        ) {
          var $container = $(this).parents(dropdown_container_class),
            $elem = $container.find(dropdown_selected_class);

          $(this)
            .siblings()
            .removeClass("selected");
          $(this).addClass("selected");
          $(this).trigger("select-custom-dropdown");

          // Mise  jour de l'affichage
          $elem.html(
            typeof valueSelectorFunc === "function"
              ? valueSelectorFunc.bind(this)()
              : $(this).html()
          );
          //pour diffrencier de l'etat intital
          $container.addClass("actif");

          // Mise  jour de la valeur de l'input
          updateInput($elem.find(hidden_value_class));

          $dropdown.trigger("on-dropdown-close");

          //Si le dropdown a la classe submit-dropdown et qu'on est en mode mobile on soumet le formulaire
          if (
            DeviceSize.getDeviceState() == "mobile" &&
            $container.hasClass("submit-dropdown")
          ) {
            $container
              .parents("form")
              .first()
              .submit();
          }
        }
      }
      $(".dropdown-list-select", _contextSelector)
        .on("click.dropdown-list-select", "li", clickHandlerItemList)
        .on("touchstart.dropdown-list-select", "li", clickHandlerItemList);

      // Ne ferme pas le dropdown si on utilise la scrollbar
      $(dropdown_container_class, _contextSelector).on(
        "click",
        ".nano-pane",
        function() {
          if (
            $(this).parents(".recherche-qualifie-container").length > 0 ||
            $("html").hasClass("maquette") ||
            $(this).parents(".auto-diagnostic-main-container").length > 0 ||
            $("body").find(".save-invest.conseil-enveloppe").length > 0
          ) {
            return false;
          }
        }
      );

      // Toggle sur le dropdown
      $dropdown.on("click.dropdown-toggle", function() {
        if ($(this).hasClass("disable")) {
          return;
        }
        if (
          $(this).closest(".dropdown-enabled").length > 0 ||
          $(this).parents(".recherche-qualifie-container").length > 0 ||
          $("html").hasClass("maquette") ||
          $(this).parents(".auto-diagnostic-main-container").length > 0 ||
          $("body").find(".save-invest.conseil-enveloppe").length > 0
        ) {
          var $dropdown_list = $(this).next(".dropdown-list");
          if ($dropdown_list.hasClass("hidden")) {
            $dropdown_list.removeClass("hidden");
            if ($dropdown_list.hasClass("nano")) {
              $dropdown_list.nanoScroller({
                alwaysVisible: true
              });
            }
            $dropdown.trigger("on-dropdown-open");
          } else {
            $dropdown_list.addClass("hidden");
            $dropdown.trigger("on-dropdown-close");
          }

          // Stop propagation
          return false;
        }
      });

      // Ferme les dropdowns ouverts lorsque l'on clique n'importe ou dans la page
      function closeDropDownHandler(e) {
        if (
          $(this).closest(".dropdown-enabled").length > 0 ||
          $(e.target).parents(".recherche-qualifie-container").length > 0 ||
          $("html").hasClass("maquette") ||
          $(this).parents(".auto-diagnostic-main-container").length > 0 ||
          $("body").find(".save-invest.conseil-enveloppe").length > 0
        ) {
          if (
            $(e.target).parents(".dropdown-container").length == 0 &&
            !$(".dropdown-list").hasClass("hidden")
          ) {
            $dropdown.trigger("on-dropdown-close");
          }
          $(".dropdown-list").addClass("hidden");
        }
      }
      $(_contextSelector).on("click.close-dropdown", closeDropDownHandler);

      // Mis a jour du champ input
      var updateInput = function($el) {
        var _input = $el
          .parents(dropdown_container_class)
          .find(input_value_class);
        _input.val(
          typeof valueSelectorFunc === "function"
            ? valueSelectorFunc.bind($el.closest("li"))()
            : $el.text()
        );
        FormHelper.storeDatasInSession(_input);
      };
    }
  };

  exportGlobally({
    CustomDropdown: CustomDropdown
  });
})();

(function countDownJs() {
  //===========================================
  window.GlobalSite = window.GlobalSite || {};
  //===========================================
  var exportToGlobalSite = GlobalSite.checkDependency(
      "GlobalSite.exportToGlobalSite"
    ),
    assert = GlobalSite.checkDependency("GlobalSite.assert"),
    isDefined = GlobalSite.checkDependency("GlobalSite.isDefined"),
    logFactory = GlobalSite.checkDependency("GlobalSite.logFactory"),
    getAsyncDateServer = GlobalSite.checkDependency(
      "GlobalSite.getAsyncDateServer"
    ),
    WaitAsync = GlobalSite.checkDependency("GlobalSite.WaitAsync"),
    compName = "CountDown",
    Log = logFactory(compName + ".js"),
    COUNTDOWN_FORMAT_HUMAN = "COUNTDOWN_FORMAT_HUMAN",
    COUNTDOWN_FORMAT_HMS = "COUNTDOWN_FORMAT_HMS",
    COUNTDOWN_FORMAT_CHOICES = {
      COUNTDOWN_FORMAT_HUMAN: COUNTDOWN_FORMAT_HUMAN,
      COUNTDOWN_FORMAT_HMS: COUNTDOWN_FORMAT_HMS
    };

  //=============================================================================
  Log.log("-->");
  //=============================================================================

  /**
   *
   * @param choice
   * @returns {boolean}
   */
  function isFormatChoiceHuman(choice) {
    return choice === COUNTDOWN_FORMAT_CHOICES.COUNTDOWN_FORMAT_HUMAN;
  }

  function isFormatChoiceHms(choice) {
    return choice === COUNTDOWN_FORMAT_CHOICES.COUNTDOWN_FORMAT_HMS;
  }

  /**
   *
   * @param mServeurDate0: {moment}
   * @param mBrowserDate0: {moment}
   * @param mFinalDate: {moment}
   * @param logger
   * @constructor
   */
  function CountDownFromMoment(
    mServeurDate0,
    mBrowserDate0,
    mFinalDate,
    logger
  ) {
    GlobalSite.checkDependency("moment");
    assert(isDefined(mServeurDate0), "Missing argument mServeurDate0")
      .assert(isDefined(mBrowserDate0), "Missing argument mBrowserDate0")
      .assert(isDefined(mFinalDate), "Missing argument mFinalDate")
      .assert(isDefined(logger), "Missing argument logger");

    this.mServeurDate0 = mServeurDate0;
    this.mBrowserDate0 = moment.utc(mBrowserDate0);
    this.mFinalDate = moment.utc(mFinalDate);
    this.delta0 = this.mServeurDate0.diff(this.mBrowserDate0, "s");

    if (!this.mBrowserDate0.isValid()) {
      logger.error({
        ctx: "CountDownFromMoment",
        error: "invalid Date for mBrowserDate0"
      });
    }

    if (!this.mFinalDate.isValid()) {
      logger.error({
        ctx: "CountDownFromMoment",
        error: "invalid Date for mFinalDate"
      });
    }
  }

  Object.assign(CountDownFromMoment.prototype, {
    CST: { FINISHED: "-Expire-" },
    getMCurrentDate: function() {
      return moment.utc().add(this.delta0, "s");
    },
    getFromStr: function(countDownFormat) {
      // TODO: en cours..., vers la fin...
      var isBefore = this.getMCurrentDate().isBefore(this.mFinalDate),
        _isFormatChoiceHuman = isFormatChoiceHuman(countDownFormat),
        mDiff = this.mFinalDate.diff(this.getMCurrentDate(), true),
        mDuration = moment.duration(mDiff),
        formattedDuration = _isFormatChoiceHuman
          ? mDuration.locale("fr").humanize()
          : [
              mDuration
                .get("days")
                .toString()
                .padStart(2, "0") + "j",
              mDuration
                .get("hours")
                .toString()
                .padStart(2, "0") + "h",
              mDuration
                .get("minutes")
                .toString()
                .padStart(2, "0") + "m"
            ].join(" : ");

      return isBefore ? formattedDuration : this.CST.FINISHED;
    }
  });
  //----------------------------------------------------------------------------

  Object.assign(CountDownFromDom.prototype, {
    getAsyncDateServer: function getOnceAsyncDateServer() {
      var asyncRes = getAsyncDateServer();

      CountDownFromDom.prototype.getAsyncDateServer = function() {
        return asyncRes;
      };

      return asyncRes;
    },
    _getAsyncDateServer: function($elt) {
      var serverDateUtcDataStr = $elt.data("server-date-utc");

      return (
        (serverDateUtcDataStr && $.when(serverDateUtcDataStr)) ||
        this.getAsyncDateServer()
      );
    },
    isFormatChoiceHuman: function() {
      return isFormatChoiceHuman(this.countDownFormat);
    },
    isFormatChoiceHms: function() {
      return isFormatChoiceHms(this.countDownFormat);
    },
    initFormatChoiceForHuman: function() {
      this.countDownFormat = COUNTDOWN_FORMAT_CHOICES.COUNTDOWN_FORMAT_HUMAN;
    },
    initFormatChoiceForHms: function() {
      this.countDownFormat = COUNTDOWN_FORMAT_CHOICES.COUNTDOWN_FORMAT_HMS;
    }
  });

  /**
   * <span data-server-date-utc="2020-03-09T16:15:45.260Z" data-final-date-utc="2020-04-09T16:15:45.260Z"></span>
   *           or
   * <span data-final-date-utc="2020-04-09T16:15:45.260Z"></span>
   * @param $elt: {jQuery}
   * @param logger
   * @constructor
   */
  function CountDownFromDom($elt, countDownFormat, logger) {
    var self = this;
    assert(isDefined($elt), "Missing argument $elt")
      .assert(isDefined(logger), "Missing argument logger")
      .assert(isDefined(countDownFormat), "Missing argument countDownFormat")
      .assert(isDefined(logger), "Missing argument logger");

    var finalDataUtcStr = $elt.data("final-date-utc"),
      mFinalDate = moment.utc(finalDataUtcStr);

    if (!mFinalDate.isValid()) {
      logger.error({
        ctx: "CountDownFromDom",
        error: "invalid 'final-date-utc' date format"
      });
    }

    this.countDownFormat = countDownFormat;

    this.countDownPromise = this._getAsyncDateServer($elt)
      .then(function(dateServerUtcStr) {
        var mDateServerUtc = moment.utc(dateServerUtcStr),
          mDateBrowserUtc = moment.utc(new Date().toISOString());

        return $.when(mDateServerUtc, mDateBrowserUtc);
      })
      .then(function(mDateServerUtc, mDateBrowserUtc) {
        return new CountDownFromMoment(
          mDateServerUtc,
          mDateBrowserUtc,
          mFinalDate,
          logger
        );
      })
      .then(function(countDown) {
        var TestFactory = WaitAsync.TestFactory,
          test = TestFactory.createFromObj({
            predicat: function() {
              var value = countDown.getFromStr(this.countDownFormat);

              $elt.html(value);

              return value === countDown.CST.FINISHED;
            }.bind(self),
            valuator: function() {
              return countDown.getFromStr(this.countDownFormat);
            }.bind(self)
          });

        WaitAsync.addTest(test);

        return countDown;
      })
      .fail(function(err) {
        logger.error(err);
      });

    try {
      assert(mFinalDate.isValid(), "data-final-date-utc invalide date format");
    } catch (e) {
      logger.error(e);
    }

    CountDownFromDom.instances = CountDownFromDom.instances || [];
    CountDownFromDom.instances.push(this);
  }
  CountDownFromDom.instances = CountDownFromDom.instances || [];
  CountDownFromDom.COUNTDOWN_FORMAT_CHOICES = COUNTDOWN_FORMAT_CHOICES;
  //------------------------------------------------
  exportToGlobalSite({
    CountDown: CountDownFromDom
  });
  //------------------------------------------------
})();

(function KycSollicitation() {
  if(!window.appwaiting)
    window.appwaiting = [];
  window.appwaiting.push({id:"nextoutils_kycsollicitation"});
  if (window.OApp)
    OApp.runWaiting();
})();

/**
 * tid : telematic id
 */

(function creEvent() {
  try {
    //===========================================
    window.GlobalSite = window.GlobalSite || {};
    //===========================================

    var exportGlobally = GlobalSite.checkDependency(
      "GlobalSite.exportGlobally"
    );
    var logFactory = GlobalSite.checkDependency("GlobalSite.logFactory");
    var $ = GlobalSite.checkDependency("$");

    var compName = "creEvent";
    var Log = logFactory(compName + ".js");

    var URL = {
      PATHNAME_LIST:
        "/content/dam/mabanque/rsc/contrib/conf/products_codes.json",
      CRE_TELEMATIC:
        "/cre-autonomy-wspl/rpc/trame/consultation/produitTelematique"
    };
    /**
     * @namespace creEvent
     * @method getPathnameId returns current location.pathname + location.hash tid
     * @method sendProductCode send product information (tid)
     * @method autoTracking set creEvent to automatically dispatch the current path designated tid
     */
    var creEvent = (function() {
      /**
       * Get the current path's tid.
       */
      function getPathnameId(pathnameList) {
        var currentPathname = location.pathname;
        var currentHash = location.hash;
        var currentKey = currentPathname + currentHash;

        return new Promise(function(resolve, reject) {
          $.ajax({
            url: pathnameList
          })
            .then(function(data) {
              var currentCode = data[currentKey];

              if (typeof currentCode !== "undefined") {
                var productData = { produit: currentCode };

                Log.log(
                  "getPathnameId --> " + "value: " + JSON.stringify(productData)
                );
                resolve(productData);
              } else {
                reject("getPathnameId --> " + "no match for this pathname");
              }
            })
            .fail(function(jqXHR, textStatus, errorThrown) {
              Log.error("error in getPathnameId -->" + errorThrown);
            });
        });
      }

      /**
       * Send product information (tid).
       * @param {object} productData
       * @property {string} productData.produit
       */
      function sendProductCode(productData) {
        return $.ajax({
          url: URL.CRE_TELEMATIC,
          data: productData
        })
          .then(function() {
            Log.log(
              "sendProductCode --> " +
                "sended value: " +
                JSON.stringify(productData)
            );
          })
          .fail(function(jqXHR, textStatus, errorThrown) {
            Log.error("error in sendProductCode -->" + errorThrown);
          });
      }

      /**
       * set cre event to automatic mode based on the products_code.json (URL.PATHNAME_LIST)
       */
      function autoTracking() {
        getPathnameId(URL.PATHNAME_LIST)
          .then(function(productData) {
            sendProductCode(productData);
          })
          .catch(function(reason) {
            Log.log("autoTracking -->" + reason);
          });
      }

      return {
        autoTracking: autoTracking,
        getPathnameId: getPathnameId,
        sendProductCode: sendProductCode
      };
    })();

    $(function() {
      creEvent.autoTracking();
    });

    exportGlobally({
      creEvent: creEvent
    });
  } catch (e) {}
})();

(function detectDevice() {
  try {
    //===========================================
    window.GlobalSite = window.GlobalSite || {};
    //===========================================

    var exportGlobally = GlobalSite.checkDependency(
      "GlobalSite.exportGlobally"
    );
    var logFactory = GlobalSite.checkDependency("GlobalSite.logFactory");

    var compName = "detectDevice";
    var Log = logFactory(compName + ".js");

    var detectDevice = (function() {
      function isMobileTablet() {
        Log.log(compName + " --> isMobileTablet");
        var check = false;
        (function(a) {
          if (
            /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(
              a
            ) ||
            /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(
              a.substr(0, 4)
            )
          )
            check = true;
        })(navigator.userAgent || navigator.vendor || window.opera);
        return check;
      }

      return {
        isMobileTablet: isMobileTablet
      };
    })();

    exportGlobally(detectDevice);
  } catch (e) {}
})();

(function insertIA() {
  try {
    //===========================================
    window.GlobalSite = window.GlobalSite || {};
    //===========================================

    var exportGlobally = GlobalSite.checkDependency(
      "GlobalSite.exportGlobally"
    );
    var logFactory = GlobalSite.checkDependency("GlobalSite.logFactory");
    var WaitAsync = GlobalSite.checkDependency("GlobalSite.WaitAsync");
    var startJsLoader = GlobalSite.checkDependency("GlobalSite.startJsLoader");
    var endJsLoader = GlobalSite.checkDependency("GlobalSite.endJsLoader");
    var initJsLoader = GlobalSite.checkDependency("GlobalSite.initJsLoader");
    var clientUtils = GlobalSite.checkDependency("GlobalSite.clientUtils");

    var compName = "insertion_ia";
    var Log = logFactory(compName + ".js");

    var DEFAULT_LOADER_COLOR = "#1da35f";
    var BPF_LOADER_COLOR = "#b2965d";
    var HB_LOADER_COLOR = "#05a5c0";

    /**
     * insertionIA definition
     * @namespace { Object } insertionIA
     * @property { Method } init
     * @property { Method } initDelayed
     * @property { Method } show
     * @property { Method } hide
     */
    var insertionIA = (function() {
      var element;
      /**
       * set loader HTMLElement
       * @param {String} color client type brand color value
       */
      function setElement(color) {
        var containerCss = {
          position: "fixed",
          top: 0,
          left: 0,
          width: "100%",
          height: "100%",
          "z-index": 1000,
          background: "rgba(255, 255, 255, 0.8)",
          display: "flex",
          "align-items": "center",
          "justify-content": "center"
        };

        var canvasCss = {
          width: "400px",
          height: "400px"
        };

        var loaderParent = $("<div/>")
          .css(containerCss)
          .addClass("loader-container hidden");

        var loaderCanvas = $("<div/>")
          .css(canvasCss)
          .addClass("js-canvas-loader")
          .attr("data-js-canvas-loader-color", color)
          .attr("data-js-canvas-loader-dotnumber", 10)
          .attr("data-js-canvas-loader-dotwidth", 8)
          .attr("data-js-canvas-loader-speed", 1)
          .attr("data-js-canvas-loader-ease", "easeInOutQuint")
          .attr("data-js-canvas-loader-trailmode", "followGlobalEase");

        loaderParent.append(loaderCanvas);

        return loaderParent;
      }
      /**
       * set client type brand color
       */
      function setColor() {
        var isPart = clientUtils.isPart;
        var isBpf = clientUtils.isBpf;
        var isPro = clientUtils.isPro;
        var isHb = clientUtils.isHb;

        if (isPart() || isPro()) {
          return DEFAULT_LOADER_COLOR;
        } else if (isBpf()) {
          return BPF_LOADER_COLOR;
        } else if (isHb()) {
          return HB_LOADER_COLOR;
        }
      }
      /**
       * Initialize IA insertion and loader render
       * @typedef { function }
       */
      function init() {
        Log.log("Init --> " + compName);

        try {
          if (window.bnpp && typeof window.bnpp._initRequirejs === "function") {
            window.bnpp._initRequirejs.call(window); // rend le chargement de l'IA plus robuste
          }
        } catch (e) {
          Log.error(e);
        }

        var color = setColor();
        element = setElement(color);

        $("body").append(element);

        initJsLoader();

        if (
          typeof element !== "undefined" &&
          typeof window.GlobalSite.dataIa.callbackInsertIA === "function"
        ) {
          show();
          startJsLoader();

          window.GlobalSite.dataIa
            .callbackInsertIA()
            .then(function() {
              return Promise.all(
                [
                  typeof window.GlobalSite.dataIa.iaCustomPromiseBuilder ===
                  "function"
                    ? window.GlobalSite.dataIa.iaCustomPromiseBuilder() // Possibilit d'ajouter un tableau de promesses ex. : Promise.all([promise1, promise2])
                    : WaitAsync.SimpleWaitAsync({
                        predicat: function() {
                          var _predicat =
                            (window.GlobalSite.dataIa.hasOwnProperty(
                              "iaPredicat"
                            ) &&
                              window.GlobalSite.dataIa.iaPredicat()) ||
                            $("#" + window.GlobalSite.dataIa.iaId).children()
                              .length;
                          return _predicat;
                        }
                      }).catch(function(err) {
                        Log.error(
                          compName +
                            " error in Default SimpleWaitAsync -->" +
                            err
                        );
                      })
                ].flat()
              );
            })
            .then(function() {
              endJsLoader();
              hide();
            })
            .catch(function(err) {
              Log.error(
                compName +
                  " error in callbackInsertIA -->" +
                  JSON.stringify(err, null, 2)
              );
              endJsLoader();
              hide();
            });
        }
      }
      function initDelayed() {
        var safeAccess = GlobalSite.checkDependency("GlobalSite.safeAccess");
        var autoInsertIa = safeAccess(GlobalSite, "dataIa.autoInsertIa");

        if (autoInsertIa === 0) {
          init();
        }
      }
      /**
       * Show loader HTMLElement
       */
      function show() {
        if (typeof element !== "undefined") {
          element.removeClass("hidden");
        }
      }
      /**
       * hide loader HTMLElement
       */
      function hide() {
        if (typeof element !== "undefined") {
          element.addClass("hidden");
        }
      }

      return {
        init: init,
        initDelayed: initDelayed,
        show: show,
        hide: hide
      };
    })();

    $(function() {
      var safeAccess = GlobalSite.checkDependency("GlobalSite.safeAccess");
      var autoInsertIa = safeAccess(GlobalSite, "dataIa.autoInsertIa");

      if (autoInsertIa) {
        insertionIA.init();
      }

      $(window)
        .on("ialoader-show", insertionIA.show.bind(insertionIA))
        .on("ialoader-hide", insertionIA.hide.bind(insertionIA));
    });

    exportGlobally({
      insertionIA: insertionIA
    });
  } catch (e) {}
})();

(function aiguillageFront() {
  try {
    //===========================================
    window.GlobalSite = window.GlobalSite || {};
    //===========================================
    var exportGlobally = GlobalSite.checkDependency(
        "GlobalSite.exportGlobally"
      ),
      clientUtils = GlobalSite.checkDependency("GlobalSite.clientUtils"),
      typeClient = GlobalSite.checkDependency(
        "GlobalSite.BY_SITE_VARS.typeClient"
      ),
      safeAccess = GlobalSite.checkDependency("GlobalSite.safeAccess"),
      logFactory = GlobalSite.checkDependency("GlobalSite.logFactory"),
      Log = logFactory("aiguillageFront.js");
    //config d'aiguillage front
    var CONF = $.getJSON("/content/dam/aiguillagefront.json");

    /**
     * Fonction de validation d'objet JSON
     * @param {Object} json
     * @return {boolean}
     */
    function validateMyJson(json) {
      try {
        JSON.parse(JSON.stringify(json));
      } catch (e) {
        return false;
      }
      return true;
    }
    /**
     * Fonction qui renvoie le type de canal actuel
     * @return {string}
     */
    function whichCanal() {
      return clientUtils.isModeWebView() ? "mobile" : "web";
    }
    /**
     * Fonction de redirection front recoit un elment jquery et une cl de redirection
     * @param {JQuery element} domElement
     * @param {string} key
     * @return {promesse}
     */
    function forceRedirect($domElement, key) {
      var client = typeClient.toLowerCase(),
        canal = whichCanal();

      return CONF.then(function(data) {
        var _data = safeAccess(data, [canal, client].join(".")) || {};
        var url = (_data[key] || "").trim();

        Log.log({ data: data, url: url });

        if (url != "") {
          $domElement.off("click tap");
          $domElement.on("click.aiguillage tap.aiguillage", function(event) {
            event.preventDefault();
            event.stopPropagation();
            event.stopImmediatePropagation();
            if ($(this).find("a").length > 0) {
              $(this)
                .find("a")
                .attr("href", url);
            }
            window.location.replace(url);
            return;
          });
        } else {
          Log.log("URL non dfinie");
        }
      }).fail(Log.error);
    }

    exportGlobally({
      forceRedirect: forceRedirect,
    });
  } catch (e) {
    Log.log(e);
  }
})();

(function factsetEnv() {
  try {
    //===========================================
    window.GlobalSite = window.GlobalSite || {};
    //===========================================

    var exportGlobally = GlobalSite.checkDependency(
      "GlobalSite.exportGlobally"
    ),
      sfSiteId = GlobalSite.checkDependency("GlobalSite.sfSiteId"),
      env = GlobalSite.checkDependency("GlobalSite.ENVIRONNEMENT"),
      isConnected = GlobalSite.checkDependency("GlobalSite.isConnected"),
      //============ factset URLs ================
      FACTSET_CONNECTED_INTE_URL =
        "https://bourse-client-dev.mabanque.bnpparibas",
      FACTSET_NOT_CONNECTED_INTE_URL = "https://bourse-dev.mabanque.bnpparibas",
      FACTSET_CONNECTED_QUAL_URL = {
        others: "https://bourse-staging.mabanque.bnpparibas",
        hellobank: "https://bourse-staging.hellobank.fr",
      },
      FACTSET_NOT_CONNECTED_QUAL_URL = {
        others: "https://bourse-staging.mabanque.bnpparibas",
        hellobank: "https://bourse-staging.hellobank.fr"
      },
      FACTSET_CONNECTED_PREV_PROD_URL = {
        others: "https://bourse.mabanque.bnpparibas",
        hellobank: "https://bourse.hellobank.fr"
      },
      FACTSET_NOT_CONNECTED_PREV_PROD_URL = {
        others: "https://bourse.mabanque.bnpparibas",
        hellobank: "https://bourse.hellobank.fr"
      },
      paramsFactset = "",
      envFactset = "",
      factsetFinalUrl = "";
    //------------------------------------------------

    //================= mini utilitiares ======================

    /**
     * Vrification des sousdomaines en prod pour bpf et pro
     * @returns {boolean}
     */
    function isSubDomain() {
      var res =
        {
          bpf: location.hostname.includes("banqueprivee.mabanque."),
          pro: location.hostname.includes("pro.mabanque."),
        }[sfSiteId] || false;

      isSubDomain = function () {
        return res;
      };

      return res;
    }

    /**
     * Mise en place du paramtre url "client" envoy  factset
     * @returns {string}
     */
    function findClientele() {
      var res =
        {
          bpf: isSubDomain() ? "?client=bnppbpf2" : "?client=bnppbpf",
          pro: isSubDomain() ? "?client=bnpppro2" : "?client=bnpppro",
          part: "?client=bnpp",
          hellobank: "?client=bnpphb",
        }[sfSiteId] || "?client=error";

      findClientele = function () {
        return res;
      };

      return res;
    }

    /**
     * pour tre sur de la disponibilit du env mme en abscence de GlobalSite.ENVIRONNEMENT
     * @returns {string}
     */
    function findEnvOldWay() {
      var res,
        host = document.location.host;

      if (host.includes("-inte")) {
        res = "inte";
      } else if (host.includes("-qual")) {
        res = "qual";
      } else if (host.includes("prev-")) {
        res = "prev";
      } else {
        res = "";
      }

      findEnvOldWay = function () {
        return res;
      };

      return res;
    }

    /**
     * Renvoie l'environnement actuelle du site
     * @returns {string}
     */
    function findEnv() {
      var res;

      res = findEnvOldWay();

      findEnv = function () {
        return res;
      };

      return res;
    }

    /**
     * Renvoi le nombre de l'environnement surtout poue l'inte et kalif
     * @returns {string}
     */
    function findEnvNb() {
      var res,
        host = document.location.host;
      if (
        host.includes("-inte1") ||
        host.includes("-we1") ||
        host.includes("-wev1s1")
      ) {
        res = "1";
      } else if (host.includes("-inte2") || host.includes("-we2")) {
        res = "2";
      } else if (host.includes("-inte3") || host.includes("-we3")) {
        res = "3";
      } else if (host.includes("-inte4") || host.includes("-we4")) {
        res = "4";
      } else {
        res = "";
      }

      findEnvNb = function () {
        return res;
      };

      return res;
    }

    /**
     * Renvoie le numro du serveur kalif ou inte
     * @returns
     */
    function findSrv() {
      var res,
        host = document.location.host;
      if (
        host.includes("-s1") ||
        host.includes("-ap1") ||
        host.includes("-apv1s1")
      ) {
        res = "1";
      } else if (
        host.includes("-s2") ||
        host.includes("-ap2") ||
        host.includes("-apv1s2")
      ) {
        res = "2";
      } else if (host.includes("-s3") || host.includes("-ap3")) {
        res = "3";
      } else if (host.includes("-s4") || host.includes("-ap4")) {
        res = "4";
      } else {
        res = "";
      }

      findSrv = function () {
        return res;
      };

      return res;
    }

    //=============== fin mini utilitaires =====================

    function setParamsFactset() {
      var environnement = findEnv(),
        res;

      if (environnement === "") {
        res = findClientele();
      } else {
        res = [
          findClientele(),
          "&env=",
          environnement,
          "-",
          findEnvNb(),
          "-",
          findSrv(),
        ].join("");
      }

      setParamsFactset = function () {
        return res;
      };

      return res;
    }

    function setEnvFactset() {
      var res,
        pathname = document.location.pathname,
        env = findEnv();
      if (env === "inte") {
        res =
          pathname.includes("/secure") || isConnected
            ? FACTSET_CONNECTED_INTE_URL
            : FACTSET_NOT_CONNECTED_INTE_URL;
      } else if (env === "qual") {
        res =
          (pathname.includes("/secure") || isConnected)
            ? FACTSET_CONNECTED_QUAL_URL[sfSiteId] || FACTSET_CONNECTED_QUAL_URL["others"]
            : FACTSET_NOT_CONNECTED_QUAL_URL[sfSiteId] || FACTSET_NOT_CONNECTED_QUAL_URL["others"];
      } else {
        res =
          pathname.includes("/secure") || isConnected
            ? FACTSET_CONNECTED_PREV_PROD_URL[sfSiteId] || FACTSET_CONNECTED_PREV_PROD_URL["others"]
            : FACTSET_NOT_CONNECTED_PREV_PROD_URL[sfSiteId] || FACTSET_NOT_CONNECTED_PREV_PROD_URL["others"];
      }

      setEnvFactset = function () {
        return res;
      };

      return res;
    }

    paramsFactset = setParamsFactset();
    envFactset = setEnvFactset();
    factsetFinalUrl = [envFactset, paramsFactset].join("");

    exportGlobally({
      paramsFactset: paramsFactset,
      envFactset: envFactset,
      factsetFinalUrl: factsetFinalUrl,
    });
  } catch (e) {
    console.error(e);
  }
})();


/**
 * Utilitaires globaux lis au fonctionnel
 */
(function mainJs() {
  //===========================================
  window.GlobalSite = window.GlobalSite || {};
  //===========================================
  var logFactory = GlobalSite.checkDependency("GlobalSite.logFactory"),
    Log = logFactory("main.js"),
    infosClientMode0Util = GlobalSite.checkDependency(
      "GlobalSite.infosClientMode0Util"
    ),
    isConnected = GlobalSite.checkDependency("GlobalSite.isConnected"),
    DeviceSize = GlobalSite.checkDependency("GlobalSite.DeviceSize"),
    removeFromSession = GlobalSite.checkDependency(
      "GlobalSite.removeFromSession"
    );
  //------------------------------------------------
  $(function() {
    Log.log("-->");

    if (isConnected) {
      infosClientMode0Util.getAsyncInfos();
    } else {
      removeFromSession("info_client");
      removeFromSession("info_client_1");
    }
    DeviceSize.init();

    if (GlobalSite.isAem && GlobalSite.isConnected) {
      GlobalSite.WaitAsync &&
        GlobalSite.WaitAsync.SimpleWaitAsync &&
        typeof GlobalSite.WaitAsync.SimpleWaitAsync === "function" &&
        GlobalSite.WaitAsync.SimpleWaitAsync({
          predicat: function() {
            return (
              window.OApp &&
              window.OApp.init &&
              typeof window.OApp.init === "function"
            );
          }
        }).then(function() {
          window.setTimeout(function() {
            Log.log("Relance de oApp");
            window.OApp.init();
          }, 3000);
        });
    }

    Log.log("<--");
  });
  //------------------------------------------------
})();

(function BlocksNavigationJs($) {
  //===========================================
  window.GlobalSite = window.GlobalSite || {};
  window.GlobalSite.blocksNavigationInstances =
    window.GlobalSite.blocksNavigationInstances || [];
  //===========================================

  GlobalSite.checkDependencies("GlobalSite.exportGlobally");
  //------------------------------------------------
  /**
   * Singleton
   * obj = {
   *     id,
   *     marginTopVisibility, // header height for instance
   *     blockSelector, // block item css selector for navigation menu generation
   *     blockTitleSelector // block title css selector for menu labels generation
   * }
   * @param objArgs
   * @constructor
   */
  function BlocksNavigation(objArgs) {
    GlobalSite.checkDependencies(["IntersectionObserver"]);

    var isDefined = GlobalSite.checkDependency("GlobalSite.isDefined"),
      assert = GlobalSite.checkDependency("GlobalSite.assert"),
      rootMargin = GlobalSite.checkDependency("GlobalSite.rootMargin");

    assert(
      isDefined(objArgs),
      "BlocksNavigation: Missing constructor arguments"
    )
      .assert(
        isDefined(objArgs.Log),
        "BlocksNavigation: Missing constructor arguments.Log"
      )
      .assert(
        isDefined(objArgs.blockSelector),
        "BlocksNavigation: Missing constructor arguments.$blocSelector"
      )
      .assert(
        isDefined(objArgs.blockTitleSelector),
        "BlocksNavigation: Missing constructor arguments.blockTitleSelector"
      )
      .assert(
        isDefined(objArgs.id),
        "BlocksNavigation: Missing constructor arguments.id"
      );
    //----------------------------------------

    var self = this,
      $body = GlobalSite.checkDependency("GlobalSite.$body"),
      $html = GlobalSite.checkDependency("GlobalSite.$html"),
      Log = objArgs.Log,
      blockSelector = objArgs.blockSelector,
      blockTitleSelector = objArgs.blockTitleSelector,
      id = objArgs.id,
      marginTopVisibility = objArgs.marginTopVisibility || 0;

    //-------------------------------------
    /**
     *
     * @param target : {Element}
     * @returns {boolean}
     */
    function isValidIntersectionTarget(target) {
      return target instanceof Element;
    }

    function getViewPortWidth() {
      return $(window).width();
    }

    function getId() {
      return id;
    }

    /**
     *
     * @returns {*|jQuery|HTMLElement}
     */
    function $getArticles() {
      Log.delimiter("//**");
      Log.log("--> $getArticles()");
      var generateId = GlobalSite.checkDependency("GlobalSite.generateId");
      var $res = $(blockSelector);

      $res.each(function initTocIds() {
        Log.log("--> initTocIds()");
        var $this = $(this);
        $this.prepend("<div>").attr("data-toc-rel", "toc_" + generateId());
      });

      $getArticles = function() {
        return $res;
      };
      Log.delimiter("//**");

      return $res;
    }

    function getTocSelector() {
      var res =
        "." +
        $getToc()
          .attr("class")
          .split(" ")
          .join(".");

      getTocSelector = function() {
        return res;
      };

      return res;
    }

    function getInitialTopTocContainer() {
      var tocSelector = getTocSelector(),
        _top = parseInt($(tocSelector).css("top"), 10),
        top = Number.isNaN(_top) ? 0 : _top;

      getInitialTopTocContainer = function() {
        return top;
      };

      return top;
    }

    function getFixedTopForTocContainer() {
      var res = getInitialTopTocContainer() + getMarginTopVisibility();

      getFixedTopForTocContainer = function() {
        return res;
      };

      return res;
    }

    /**
     *
     * @param callBack
     * toc structure:
     * <aside class="articles-summary">
     *   <ul class="articles-summary_list">
     *    <li data-toc="toc_[generatedId]" class="active">Garanties indispensables</li>
     *    <li data-toc="toc_[generatedId]">ligibilit</li>
     *    <li data-toc=toc_[generatedId]">Mthode de calcul des intrts et dates de valeur</li></ul>
     *  </ul>
     * </aside>
     */
    function $getToc(callBack) {
      Log.delimiter().log("--> tocGeneration");

      var $articles = $getArticles(),
        $tocContainer = $("<aside>")
          .addClass("articles-summary")
          .append($("<ul>").addClass("articles-summary_list"));

      $articles.each(function tocItemBuilding() {
        var $this = $(this),
          dataToc = $this.data("toc-rel"),
          label = $this
            .find(blockTitleSelector)
            .html()
            .trim();

        $("<li>")
          .attr("data-toc", dataToc)
          .append(label)
          .appendTo($tocContainer.find("ul"));
      });

      Log.log({
        ctx: "$getToc",
        $tocContainer: $tocContainer
      }).delimiter();

      if (typeof callBack === "function") {
        callBack();
      }

      $getToc = function(callBack) {
        if (typeof callBack === "function") {
          callBack();
        }

        return $tocContainer;
      };

      return $tocContainer;
    }

    /**
     *
     * @returns {jQuery|null}
     */
    function $getBlocksContainer() {
      var MAX_COUNTER = 5;

      function isGoodParent($elt) {
        return $elt.find(blockSelector).length === $(blockSelector).length;
      }

      function $getParent($elt) {
        Log.log("-> $getParent : counter = " + $getParent.counter);
        var counter = $getParent.counter || 0,
          $parent = $elt.eq(0).parent("div");

        if (isGoodParent($parent)) {
          $getParent.counter = 0;

          return $parent;
        }

        if (counter <= MAX_COUNTER) {
          $getParent.counter++;

          return $getParent($parent);
        }

        $getParent.counter = 0;

        return $();
      }
      $getParent.counter = 0;

      var $result = $getParent($(blockSelector).eq(0)).addClass(
        "position-relative"
      );

      $result.prepend($getToc());

      $getBlocksContainer = function() {
        return $result;
      };

      return $result;
    }

    //------------ Dimensions ------------------------

    function getMarginTopVisibility() {
      return marginTopVisibility;
    }

    function getTocHeight() {
      return $getToc().outerHeight() || 0;
    }
    //------------------------------------

    var observers = [];

    function disconnectAllObservers() {
      observers.forEach(function(observer) {
        observer.disconnect();
      });
    }

    GlobalSite.exportToGlobalSite({
      BlocksNavigation: {
        disconnectAllObservers: disconnectAllObservers
      }
    });

    function addObserver(observer) {
      observers.push(observer);
    }

    function initIntersectionObservations() {
      Log.delimiter().log("-> initIntersectionObservations()");

      getFixedTopForTocContainer();
      disconnectAllObservers();

      function tocTopPositionSpy() {
        Log.delimiter().log("-> tocTopPositionSpy()");

        var target = $getArticles()
          .eq(0)
          .find(">div")
          .get(0);

        if (!isValidIntersectionTarget(target)) {
          return;
        }

        function getFixedRightForContainer() {
          var viewportWidth = getViewPortWidth(),
            containerLeft = $getBlocksContainer().offset().left,
            containerWidth = $getBlocksContainer().outerWidth();

          return viewportWidth - (containerLeft + containerWidth);
        }

        function callBack(entries, observer) {
          entries.forEach(function(entry) {
            Log.log({
              "tocTopPositionSpy()": {
                "entry.target": entry.target,
                "entry.isIntersecting": entry.isIntersecting,
                "entry.intersectionRatio": entry.intersectionRatio
              }
            });

            if (!entry.isIntersecting) {
              $getToc()
                .addClass("stuck")
                .removeClass("bottom")
                .css({
                  right: getFixedRightForContainer(),
                  top: getFixedTopForTocContainer()
                });
              Log.log("tocTopPositionSpy(): addClass('stuck')");
            } else {
              $getToc()
                .removeClass("stuck")
                .removeClass("bottom")
                .css({
                  right: 0,
                  top: getInitialTopTocContainer()
                });
              Log.log("tocTopPositionSpy(): removeClass('stuck')");
            }
          });
        }

        var options = {
          root: null,
          rootMargin: rootMargin(-1 * getMarginTopVisibility(), 0, 0, 0),
          threshold: 1
        };

        Log.log({
          "tocTopPositionSpy()": {
            options: options
          }
        });

        var io = new IntersectionObserver(callBack, options);
        io.observe(target);

        addObserver(io);
      }

      function tocBottomPositionSpy() {
        Log.delimiter().log("-> tocBottomPositionSpy()");

        var target = $getBlocksContainer().get(0);

        if (!isValidIntersectionTarget(target)) {
          return;
        }

        var $toc = $getToc();

        function callBack(entries, observer) {
          entries.forEach(function(entry) {
            if (!entry.isIntersecting) {
              Log.log("tocBottomPositionSpy():!entry.isIntersecting").log({
                entry: entry
              });

              if ($toc.is(".stuck")) {
                $toc.removeClass("stuck").addClass("bottom");
              }
            } else {
              Log.log("tocBottomPositionSpy():entry.isIntersecting").log({
                entry: entry
              });

              if ($toc.is(".bottom")) {
                $toc.addClass("stuck").removeClass("bottom");
              }
            }
          });
        }

        function getLastArticleBottomSpace() {
          var $lastArticle = $getArticles().last(),
            marginBottom =
              !Number.isNaN(
                parseFloat($lastArticle.css("margin-bottom", 10))
              ) || 0,
            paddingBottom =
              !Number.isNaN(
                parseFloat($lastArticle.css("padding-bottom", 10))
              ) || 0,
            bottomSpace = marginBottom + marginBottom;

          return bottomSpace;
        }

        var _rootMargin =
          -1.2 *
          (getTocHeight() +
            getMarginTopVisibility() +
            getLastArticleBottomSpace());

        var options = {
          root: null,
          rootMargin: rootMargin(_rootMargin, 0, 0, 0),
          threshold: 0
        };

        var io = new IntersectionObserver(callBack, options);
        io.observe(target);

        addObserver(io);
      }

      function scrollSpy() {
        Log.delimiter().log("-> scrollSpy()");

        var $tocItems = $getToc().find("[data-toc]");

        $getArticles().each(function() {
          var $this = $(this),
            target = $this.get(0);

          if (!isValidIntersectionTarget(target)) {
            return;
          }

          function callBack(entries, observer) {
            entries.forEach(function(entry) {
              var tocRel = $this.data("toc-rel");
              var $tocItem = $tocItems.filter(function() {
                return $(this).data("toc") === tocRel;
              });

              Log.log({
                "scrollSpy()": {
                  "entry.target": entry.target,
                  "entry.isIntersecting": entry.isIntersecting,
                  "entry.intersectionRatio": entry.intersectionRatio
                }
              });

              if (entry.isIntersecting) {
                Log.log({
                  "scrollSpy()": {
                    state: "visible",
                    item: tocRel,
                    "entry.isIntersecting": entry.isIntersecting,
                    "entry.intersectionRatio": entry.intersectionRatio,
                    headerHeight: getMarginTopVisibility()
                  }
                });

                $tocItem.data("toc-rel-visible", true);
              } else {
                Log.log({
                  "scrollSpy()": {
                    state: "non-visible",
                    item: tocRel,
                    "entry.isIntersecting": entry.isIntersecting,
                    "entry.intersectionRatio": entry.intersectionRatio,
                    headerHeight: getMarginTopVisibility()
                  }
                });
                $tocItem.data("toc-rel-visible", false);
              }
            });

            $tocItems.removeClass("active");
            $tocItems
              .filter(function() {
                return $(this).data("toc-rel-visible");
              })
              .eq(0)
              .addClass("active");
          }

          var options = {
            root: null,
            rootMargin: rootMargin(
              -1 * (getMarginTopVisibility() + getInitialTopTocContainer()),
              0,
              0,
              0
            ),
            threshold: [0, 1]
          };

          var io = new IntersectionObserver(callBack, options);
          io.observe(target);

          addObserver(io);
        });
      }
      //--------------------
      tocTopPositionSpy();
      tocBottomPositionSpy();
      scrollSpy();
    }

    function displayTargetsSpy($targets, onShow, onHide) {
      var _onSHow = typeof onShow === "function" ? onShow : $.noop,
        _onHide = typeof onHide === "function" ? onHide : $.noop;

      var target = $targets.get(0);
      if (!isValidIntersectionTarget(target)) {
        return;
      }

      function callBack(entries, observer) {
        entries.forEach(function(entry) {
          Log.log({
            "displayTargetsSpy()": {
              "entry.target": entry.target,
              "entry.isIntersecting": entry.isIntersecting,
              "entry.intersectionRatio": entry.intersectionRatio
            }
          });

          if (!entry.isIntersecting) {
            _onHide();
          } else {
            _onSHow();
          }
        });
      }

      var options = {
        root: null,
        rootMargin: "0px",
        threshold: [0, 1]
      };

      Log.log({
        "displayTargetsSpy()": {
          options: options
        }
      });

      var io = new IntersectionObserver(callBack, options);
      io.observe(target);
    }

    function init() {
      var throttle = GlobalSite.checkDependency("$.throttle");

      displayTargetsSpy($getBlocksContainer(), initIntersectionObservations);
      $(window).on(
        "resize",
        throttle(100, function() {
          initIntersectionObservations();
        })
      );

      $body.on("click", "[data-toc]", function navigationWithTocHandler() {
        // navigation with TOC
        var $this = $(this),
          dataToc = $this.data("toc");

        Log.log({
          "click Toc Item": {
            dataToc: dataToc,
            $this: $this
          }
        });

        $body
          .add($html)
          .stop(true, true)
          .animate(
            {
              scrollTop:
                $(
                  "[data-toc-rel=$placeholder]".replace("$placeholder", dataToc)
                ).offset().top - getMarginTopVisibility()
            },
            "slow"
          );
      });

      //--------------------------------------------------
      window.GlobalSite.blocksNavigationInstances.push({
        id: id,
        instance: self
      });
      //--------------------------------------------------

      return self;
    }

    Object.assign(self, {
      init: init,
      getId: getId,
      $getBlocksContainer: $getBlocksContainer,
      $getArticles: $getArticles,
      getMarginTopVisibility: getMarginTopVisibility,
      $getToc: $getToc
    });
  }

  BlocksNavigation.create = function(objArgs) {
    return new BlocksNavigation(objArgs).init();
  };
  //===========================================
  GlobalSite.exportToGlobalSite({
    BlocksNavigation: BlocksNavigation
  });
  //===========================================
})($);

